//>>built
require({cache:{"wcDocker/main":function(){define("dojo/_base/kernel wcDocker/docker wcDocker/splitter wcDocker/frame wcDocker/collapser wcDocker/layoutsimple wcDocker/layouttable wcDocker/tabframe wcDocker/panel wcDocker/docker wcDocker/ghost wcDocker/base wcDocker/drawer wcDocker/iframe wcDocker/types".split(" "),function(q){return q.wcDocker})},"wcDocker/docker":function(){define("dcl/dcl wcDocker/types wcDocker/panel wcDocker/ghost wcDocker/splitter wcDocker/frame wcDocker/collapser wcDocker/layoutsimple wcDocker/layouttable wcDocker/tabframe wcDocker/drawer wcDocker/base".split(" "),
function(q,e,g,a,b,c,f,u,h,k,l,m){var t={wcPanel:g,wcGhost:a,wcSplitter:b,wcFrame:c,wcCollapser:f,wcLayoutSimple:u,wcLayoutTable:h,wcDrawer:l,wcTabFrame:k};q=q(m,{declaredClass:"wcDocker",constructor:function(a,d){this.$outer=$(a);this.$container=$('\x3cdiv class\x3d"wcDocker"\x3e');this.$transition=$('\x3cdiv class\x3d"wcDockerTransition"\x3e');this.$loading=null;this.$outer.append(this.$container);this.$container.append(this.$transition);this._canOrientTabs=!0;this._events={};this._root=null;this._frameList=
[];this._floatingList=[];this._modalList=[];this._persistentList=[];this._placeholderPanel=this._focusFrame=null;this._contextTimer=0;this._dirtyDontMove=this._dirty=!1;this._splitterList=[];this._tabList=[];this._collapser={};this._dockPanelTypeList=[];this._creatingPanel=!1;this._draggingFrameTab=this._draggingFrameSizer=this._draggingFrame=this._draggingSplitter=null;this._draggingFrameTopper=!1;this._ghost=this._draggingCustomTabFrame=null;this._menuTimer=0;this._mouseOrigin={x:0,y:0};this._resizeData=
{time:-1,timeout:!1,delta:150};var b={themePath:"Themes",theme:"default",loadingClass:"fa fa-spinner fa-pulse",allowContextMenu:!0,hideOnResize:!1,allowCollapse:!0,responseRate:10,moveStartDelay:300,edgeAnchorSize:50,panelAnchorSize:"15%",detachToWidth:"50%",detachToHeight:"50%"};this._options={};for(var c in t)b[c+"Class"]=t[c];for(c in b)this._options[c]=b[c];for(c in d)this._options[c]=d[c];this.__init()},isCollapseEnabled:function(){return this._canOrientTabs&&this._options.allowCollapse},registerPanelType:function(a,
d,b){var c=d;"function"===typeof c&&(c={onCreate:d});"undefined"!=typeof b&&(c.isPrivate=b);_.isEmpty(c)&&(c=null);for(d=0;d<this._dockPanelTypeList.length;++d)if(this._dockPanelTypeList[d].name===a)return!1;this._dockPanelTypeList.push({name:a,options:c});return!0},panelTypes:function(a){for(var d=[],b=0;b<this._dockPanelTypeList.length;++b)!a&&this._dockPanelTypeList[b].options.isPrivate||d.push(this._dockPanelTypeList[b].name);return d},panelTypeInfo:function(a){for(var d=0;d<this._dockPanelTypeList.length;++d)if(this._dockPanelTypeList[d].name==
a)return this._dockPanelTypeList[d].options;return!1},addPanel:function(a,d,b,c){function f(a){d===e.DOCK.STACKED?this.__addPanelGrouped(a,b,c):this.__addPanelAlone(a,d,b,c);this._placeholderPanel&&a.moveable()&&d!==e.DOCK.FLOAT&&d!==e.DOCK.MODAL&&this.removePanel(this._placeholderPanel)&&(this._placeholderPanel=null);this.__forceUpdate()}for(var g=0;g<this._persistentList.length;++g)if(this._persistentList[g]._type===a)return a=this._persistentList.splice(g,1)[0],f.call(this,a),a.__trigger(e.EVENT.PERSISTENT_OPENED),
a;for(g=0;g<this._dockPanelTypeList.length;++g)if(this._dockPanelTypeList[g].name===a)return g=this._dockPanelTypeList[g],a=new (this.__getClass("wcPanel"))(this,a,g.options),a.__container(this.$transition),a._panelObject=new g.options.onCreate(a,g.options&&g.options.options||c||{}),f.call(this,a),a;return!1},removePanel:function(a,d){if(!a)return!1;var b=this.__isLastPanel(a),c=a._parent;if(c&&c.instanceOf("wcFrame")){for(var f=a.__trigger(e.EVENT.CLOSING),g=0;g<f.length;++g)if(!f[g])return!1;d?
(a.__container(this.$transition),a._parent=null):a.__trigger(e.EVENT.CLOSED);if(!c.removePanel(a)&&!c.isCollapser()){if(b)return this.__addPlaceholder(c),d?a.__trigger(e.EVENT.PERSISTENT_CLOSED):a.__destroy(),!0;g=this._floatingList.indexOf(c);-1!==g&&this._floatingList.splice(g,1);g=this._frameList.indexOf(c);-1!==g&&this._frameList.splice(g,1);g=this._modalList.indexOf(c);-1!==g&&this._modalList.splice(g,1);this._modalList.length?this.__focus(this._modalList[this._modalList.length-1]):this._floatingList.length&&
this.__focus(this._floatingList[this._floatingList.length-1]);if((b=c._parent)&&b.instanceOf("wcSplitter")){b.__removeChild(c);b.pane(0)?(f=b.pane(0),b._pane[0]=null):(f=b.pane(1),b._pane[1]=null);f.__container(this.$transition);f._parent=null;g=this._splitterList.indexOf(b);-1!==g&&this._splitterList.splice(g,1);var g=b._parent,h=b.__container();b.__destroy();g&&g.instanceOf("wcSplitter")?(g.__removeChild(b),g.pane(0)?g.pane(1,f):g.pane(0,f)):g===this&&(this._root=f,f._parent=this,f.__container(h));
this.__update()}else c===this._root&&(this._root=null);this._focusFrame===c&&(this._focusFrame=null);c.__destroy()}d?a.__trigger(e.EVENT.PERSISTENT_CLOSED):a.__destroy();return!0}return!1},movePanel:function(a,d,b,c){var f=this.__isLastPanel(a),g=a.$container;a._parent&&a._parent.instanceOf("wcFrame")&&(g=a._parent.$frame);var h=g.offset(),w=g.width(),g=g.height(),n=a._parent,u=!1;if(n&&n.instanceOf("wcFrame")){for(var u=n._isFloating,k=0;k<n._panelList.length;++k)if(n._panelList[k]===a){n.isCollapser()?
n._curTab=-1:n._curTab>=k&&n._curTab--;a.__container(this.$transition);a._parent=null;n._panelList.splice(k,1);break}!n.isCollapser()&&-1===n._curTab&&n._panelList.length&&(n._curTab=0);n.__updateTabs();n.collapse();if(!n.isCollapser()&&0===n._panelList.length)if(f)this.__addPlaceholder(n);else{var l=this._floatingList.indexOf(n);-1!==l&&this._floatingList.splice(l,1);l=this._frameList.indexOf(n);-1!==l&&this._frameList.splice(l,1);if((f=n._parent)&&f.instanceOf("wcSplitter")){f.__removeChild(n);
f.pane(0)?(k=f.pane(0),f._pane[0]=null):(k=f.pane(1),f._pane[1]=null);b===f&&(b._shift=k);k.__container(this.$transition);k._parent=null;l=this._splitterList.indexOf(f);-1!==l&&this._splitterList.splice(l,1);var l=f._parent,m=f.__container();f.__destroy();l&&l.instanceOf("wcSplitter")?(l.__removeChild(f),l.pane(0)?l.pane(1,k):l.pane(0,k)):l===this&&(this._root=k,k._parent=this,k.__container(m));this.__update()}this._focusFrame===n&&(this._focusFrame=null);n.__destroy()}}a.initSize(w,g);d===e.DOCK.STACKED?
this.__addPanelGrouped(a,b,c):this.__addPanelAlone(a,d,b,c);b==this._placeholderPanel&&(this.removePanel(this._placeholderPanel),this._placeholderPanel=null);(d=a._parent)&&d.instanceOf("wcFrame")&&1===d._panelList.length&&d.pos(h.left+w/2+20,h.top+g/2+20,!0);this.__update(!0);d&&d.instanceOf("wcFrame")&&u!==d._isFloating&&(d._isFloating?a.__trigger(e.EVENT.DETACHED):a.__trigger(e.EVENT.ATTACHED));a.__trigger(e.EVENT.MOVED);return a},findPanels:function(a){for(var d=[],b=0;b<this._frameList.length;++b)for(var c=
this._frameList[b],e=0;e<c._panelList.length;++e){var f=c._panelList[e];a&&f._type!==a||d.push(f)}return d},startLoading:function(a,d,b){if(!this.$loading){this.$loading=$('\x3cdiv class\x3d"wcLoadingContainer"\x3e\x3c/div\x3e');this.$outer.append(this.$loading);var c=$('\x3cdiv class\x3d"wcLoadingBackground"\x3e\x3c/div\x3e');"number"!==typeof d&&(d=.4);c.css("opacity",d);this.$loading.append(c);d=$('\x3cdiv class\x3d"wcLoadingIconContainer"\x3e\x3ci class\x3d"wcLoadingIcon '+this._options.loadingClass+
'"\x3e\x3c/i\x3e\x3c/div\x3e');this.$loading.append(d);if(a){var e=$('\x3cspan class\x3d"wcLoadingLabel"\x3e'+a+"\x3c/span\x3e");this.$loading.append(e)}"number"!==typeof b&&(b=1);d.css("opacity",b);e&&e.css("opacity",b)}},finishLoading:function(a){if(this.$loading)if(0<a){var d=this;this.$loading.fadeOut(a,function(){d.$loading.remove();d.$loading=null})}else this.$loading.remove(),this.$loading=null},on:function(a,d){if(!a)return!1;this._events[a]||(this._events[a]=[]);if(-1!==this._events[a].indexOf(d))return!1;
this._events[a].push(d);return!0},off:function(a,d){if("undefined"===typeof a)this._events={};else if(this._events[a])if("undefined"===typeof d)this._events[a]=[];else for(var b=0;b<this._events[a].length;++b)if(this._events[a][b]===d){this._events[a].splice(b,1);break}},trigger:function(a,d){if(!a)return!1;for(var b=[],c=0;c<this._frameList.length;++c)for(var e=this._frameList[c],f=0;f<e._panelList.length;++f)b=b.concat(e._panelList[f].__trigger(a,d));return b.concat(this.__trigger(a,d))},save:function(){for(var a=
{floating:[]},d=0;d<this._floatingList.length;++d)a.floating.push(this._floatingList[d].__save());a.root=this._root.__save();_.isEmpty(this._collapser)||(a.collapsers={left:this._collapser[e.DOCK.LEFT].__save(),right:this._collapser[e.DOCK.RIGHT].__save(),bottom:this._collapser[e.DOCK.BOTTOM].__save()});return JSON.stringify(a,function(a,d){return Infinity==d?"Infinity":d})},restore:function(a){a=JSON.parse(a,function(a,d){return"Infinity"===d?Infinity:d});this.clear();this._emit("beginRestore");
this._root=this.__create(a.root,this,this.$container);this._root.__restore(a.root,this);for(var d=0;d<a.floating.length;++d)this.__create(a.floating[d],this,this.$container).__restore(a.floating[d],this);this.__forceUpdate(!1);if(!_.isEmpty(a.collapsers)&&this.isCollapseEnabled()){this.__initCollapsers();this._collapser[e.DOCK.LEFT].__restore(a.collapsers.left,this);this._collapser[e.DOCK.RIGHT].__restore(a.collapsers.right,this);this._collapser[e.DOCK.BOTTOM].__restore(a.collapsers.bottom,this);
var b=this;setTimeout(function(){b.__forceUpdate()})}this._emit("endRestore")},clear:function(){this._root=null;this.trigger(e.EVENT.CLOSED);for(var a=0;a<this._splitterList.length;++a)this._splitterList[a].__destroy();for(a=0;a<this._frameList.length;++a)this._frameList[a].__destroy();_.isEmpty(this._collapser)||(this._collapser[e.DOCK.LEFT].__destroy(),this._collapser[e.DOCK.RIGHT].__destroy(),this._collapser[e.DOCK.BOTTOM].__destroy(),this._collapser={});for(;this._frameList.length;)this._frameList.pop();
for(;this._floatingList.length;)this._floatingList.pop();for(;this._splitterList.length;)this._splitterList.pop();this.off()},__init:function(){function a(b){f=b;var n=d.__mouse(b);if(3===n.which||!(d._draggingSplitter||d._draggingFrameSizer||d._draggingCustomTabFrame||d._ghost||d._draggingFrame||d._draggingFrameTab))return!0;if((new Date).getTime()-c<d._options.responseRate)return g||(g=setTimeout(function(){g=c=0;a(f)},d._options.responseRate)),!0;c=(new Date).getTime();if(d._draggingSplitter)d._draggingSplitter.__moveBar(n);
else if(d._draggingFrameSizer)b=d.$container.offset(),n.x+=b.left,n.y+=b.top,d._draggingFrame.__resize(d._draggingFrameSizer,n),d._draggingFrame.__update();else if(d._draggingCustomTabFrame)d._draggingCustomTabFrame.moveable()&&(n=$(b.target).hasClass("wcPanelTab")?$(b.target):$(b.target).parents(".wcPanelTab"),d._draggingFrameTab&&n&&n.length&&d._draggingFrameTab!==b.target&&(d._draggingFrameTab=d._draggingCustomTabFrame.moveTab(parseInt($(d._draggingFrameTab).attr("id")),parseInt(n.attr("id")))));
else if(d._ghost)if(d._draggingFrame)if(d._ghost.__move(n),b=!(d._draggingFrame._isFloating||1===n.which),d._draggingFrame.__checkAnchorDrop(n,!0,d._ghost,1<d._draggingFrame._panelList.length&&d._draggingFrameTab,d._draggingFrameTopper,!d.__isLastFrame(d._draggingFrame)))d._draggingFrame.__shadow(!1),n=$(document.elementFromPoint(n.x,n.y)),n=n.hasClass("wcPanelTab")?n:n.parents(".wcPanelTab"),d._draggingFrameTab&&n.length&&d._draggingFrameTab!==n[0]&&(d._draggingFrameTab=d._draggingFrame.__tabMove(parseInt($(d._draggingFrameTab).attr("id")),
parseInt(n.attr("id"))));else{if((new Date).getTime()-h<d._options.moveStartDelay)return;d._draggingFrame.__shadow(!0);d.__focus();if(!b)for(b=0;b<d._frameList.length;++b)if(d._frameList[b]!==d._draggingFrame&&d._frameList[b].__checkAnchorDrop(n,!1,d._ghost,!0,d._draggingFrameTopper,!d.__isLastFrame(d._draggingFrame))){d._draggingFrame.__shadow(!0);return}d._draggingFrame.panel().detachable()&&d._ghost.anchor(n,null)}else d._creatingPanel&&d._ghost.update(n,!d._creatingPanelNoFloating);else d._draggingFrame&&
!d._draggingFrameTab&&(d._draggingFrame.__move(n),d._draggingFrame.__update(),d.trigger(e.EVENT.MOVE_STARTED));return!0}var d=this,b=$("body");this._root=null;this.__eventHandles=[];this.__addPlaceholder();d.__on(b,"mouseenter",".wcMenuCreatePanel",function(){d._ghost&&d._ghost.$ghost.stop().fadeIn(200)});d.__on(b,"mouseleave",".wcMenuCreatePanel",function(){d._ghost&&d._ghost.$ghost.stop().fadeOut(200)});d.__on(b,"mousemove",a);d.__on(b,"mousedown",function(a){a=d.__mouse(a);d._mouseOrigin.x=a.x;
d._mouseOrigin.y=a.y});d.__on(b,"mousedown",".wcModalBlocker",function(a){d._modalList.length&&d._modalList[d._modalList.length-1].__focus(!0)});d.__on(b,"mousedown",".wcPanelTab",function(a){a.preventDefault();a.returnValue=!1});d.__on(b,"mousedown",".wcFrameButtonBar \x3e .wcFrameButton",function(){$("body").addClass("wcDisableSelection")});d.__on(b,"mousedown",".wcFrameTitleBar",function(a){var b=d.__mouse(a);if(3===b.which||$(a.target).hasClass("wcFrameButton")||$(a.target).parents(".wcFrameButton").length)return!0;
if($(a.target).hasClass("wcPanelCloseIcon"))return d.__closePanel(a.target.__panel);h=(new Date).getTime();$("body").addClass("wcDisableSelection");for(var c=0;c<d._frameList.length;++c)if(d._frameList[c].$titleBar[0]==this||d._frameList[c].$tabBar[0]==this){d._draggingFrame=d._frameList[c];d._draggingFrame.__anchorMove(b);if((c=$(a.target).hasClass("wcPanelTab")?$(a.target):$(a.target).parents(".wcPanelTab"))&&c.length){var f=parseInt(c.attr("id"));d._draggingFrame.panel(f,!0);d._draggingFrameTab=
c[0];$(window).focus()}f=!0;d._draggingFrameTab?c.hasClass("wcNotMoveable")&&(f=!1):d._draggingFrame._isFloating&&1===b.which&&(f=!1);f&&(!d._draggingFrameTab&&d._draggingFrame.isCollapser()&&(d._draggingFrameTab=d._draggingFrame.panel()),d._draggingFrameTopper=0<$(a.target).parents(".wcFrameTopper").length,c=d._draggingFrame.__rect(),d._ghost=new (d.__getClass("wcGhost"))(c,b,d),d._draggingFrame.__checkAnchorDrop(b,!0,d._ghost,!0,d._draggingFrameTopper,!d.__isLastFrame(d._draggingFrame)),d.trigger(e.EVENT.BEGIN_DOCK));
break}for(c=0;c<d._tabList.length;++c)if(d._tabList[c].$tabBar[0]==this){d._draggingCustomTabFrame=d._tabList[c];(c=$(a.target).hasClass("wcPanelTab")?$(a.target):$(a.target).parents(".wcPanelTab"))&&c.length&&(f=parseInt(c.attr("id")),d._draggingCustomTabFrame.tab(f,!0),d._draggingFrameTab=c[0]);break}d._draggingFrame&&(d.__focus(d._draggingFrame),a=d._focusFrame,(a=a.currentPanel?a.currentPanel():null)&&a._emit("ON_VIEW_SELECT"));return!0});d.__on(b,"mousedown",".wcSplitterBar",function(a){if(1!==
d.__mouse(a).which)return!0;$("body").addClass("wcDisableSelection");for(var b=0;b<d._splitterList.length;++b)if(d._splitterList[b].$bar[0]===this){d._draggingSplitter=d._splitterList[b];d._draggingSplitter.$pane[0].addClass("wcResizing");d._draggingSplitter.$pane[1].addClass("wcResizing");a.preventDefault();break}return!0});d.__on(b,"mousedown",".wcPanelTab",function(a){if(2!==d.__mouse(a).which)return!0;a=parseInt($(this).attr("id"));for(var b=0;b<d._frameList.length;++b){var c=d._frameList[b];
if(c.$tabBar[0]===$(this).parents(".wcFrameTitleBar")[0]){(b=c._panelList[a])&&b.closeable()&&(d._removingPanel=c._panelList[a]);break}}return!0});d.__on(b,"mouseup",".wcPanelTab",function(a){if(2===d.__mouse(a).which){a=parseInt($(this).attr("id"));for(var b=0;b<d._frameList.length;++b){var c=d._frameList[b];if(c.$tabBar[0]===$(this).parents(".wcFrameTitleBar")[0]){a=c._panelList[a];d._removingPanel===a&&(d.removePanel(a),d.__update());break}}}});d.__on(b,"mousedown",".wcLayout",function(a){if(3===
d.__mouse(a).which)return!0;for(var b=0;b<d._frameList.length;++b)if(d._frameList[b].panel()&&d._frameList[b].panel().layout().scene()[0]==this){setTimeout(function(){d.__focus(d._frameList[b])},10);break}return!0});d.__on(b,"mousedown",".wcFrameEdge",function(a){if(3===d.__mouse(a).which)return!0;$("body").addClass("wcDisableSelection");for(a=0;a<d._frameList.length;++a)if(d._frameList[a]._isFloating)if(d._frameList[a].$top[0]==this){d._draggingFrame=d._frameList[a];d._draggingFrameSizer=["top"];
break}else if(d._frameList[a].$bottom[0]==this){d._draggingFrame=d._frameList[a];d._draggingFrameSizer=["bottom"];break}else if(d._frameList[a].$left[0]==this){d._draggingFrame=d._frameList[a];d._draggingFrameSizer=["left"];break}else if(d._frameList[a].$right[0]==this){d._draggingFrame=d._frameList[a];d._draggingFrameSizer=["right"];break}else if(d._frameList[a].$corner1[0]==this){d._draggingFrame=d._frameList[a];d._draggingFrameSizer=["top","left"];break}else if(d._frameList[a].$corner2[0]==this){d._draggingFrame=
d._frameList[a];d._draggingFrameSizer=["top","right"];break}else if(d._frameList[a].$corner3[0]==this){d._draggingFrame=d._frameList[a];d._draggingFrameSizer=["bottom","right"];break}else if(d._frameList[a].$corner4[0]==this){d._draggingFrame=d._frameList[a];d._draggingFrameSizer=["bottom","left"];break}d._draggingFrame&&d.__focus(d._draggingFrame);d._draggingFrameSizer&&d.trigger(e.EVENT.BEGIN_FLOAT_RESIZE);return!0});d.__on(b,"mousedown",".wcCreatePanel",function(a){a=d.__mouse(a);if(1!==a.which)return!0;
var b=$(this).data("panel");if(d.panelTypeInfo(b)){var c={x:a.x-250,y:a.y,w:500,h:500};$("body").addClass("wcDisableSelection");d._ghost=new (d.__getClass("wcGhost"))(c,a,d);d._ghost.update(a);d._ghost.anchor(a,d._ghost.anchor());d._creatingPanel=b;d.__focus();d.trigger(e.EVENT.BEGIN_DOCK)}});d.__on(b,"mouseup",function(a){var b=d.__mouse(a);if(3===b.which)return!0;$("body").removeClass("wcDisableSelection");if(d._draggingFrame)for(var c=0;c<d._frameList.length;++c)d._frameList[c].__shadow(!1);d._draggingFrameSizer&&
d.trigger(e.EVENT.END_FLOAT_RESIZE);if(d._ghost&&(d._draggingFrame||d._creatingPanel)){a=d._ghost.anchor();if(d._draggingFrame)if(!a){d._draggingFrameTab||d._draggingFrame.panel(0);var f=d._draggingFrame.panel(parseInt($(d._draggingFrameTab).attr("id")));d.movePanel(f,e.DOCK.FLOAT,null,d._ghost.__rect());if(!d._draggingFrameTab&&(a=d._draggingFrame._panelList.length,1<a||d._draggingFrame.panel()!==d._placeholderPanel))for(c=0;c<a;++c)d.movePanel(d._draggingFrame.panel(),e.DOCK.STACKED,f,{tabOrientation:d._draggingFrame._tabOrientation});
(a=f._parent)&&a.instanceOf("wcFrame")&&(a.pos(b.x,b.y+d._ghost.__rect().h/2-10,!0),a._size.x=d._ghost.__rect().w,a._size.y=d._ghost.__rect().h);a.__update();d.__focus(a)}else{if(!a.self&&void 0!==a.loc)if(a.tab&&a.item._parent._parent==d._draggingFrame)d._draggingFrame.tabOrientation(a.tab);else{b=0;d._draggingFrameTab?b=parseInt($(d._draggingFrameTab).attr("id")):d._draggingFrame.panel(0);a.item&&(f=a.item._parent);if(-1<d._draggingFrame._panelList.indexOf(f)){if(1===d._draggingFrame._panelList.length)return;
for(c=0;c<d._draggingFrame._panelList.length;++c)if(f!==d._draggingFrame._panelList[c]){f=d._draggingFrame._panelList[c];b--;break}}c=null;c=d._draggingFrameTab?d._draggingFrame.panel(parseInt($(d._draggingFrameTab).attr("id"))):d._draggingFrame.panel();f=d.movePanel(c,a.loc,f,d._ghost.rect());f._parent.panel(f._parent._panelList.length-1,!0);if(d._draggingFrameTab)(a=f._parent)&&a.instanceOf("wcFrame")&&(b+=a._panelList.length);else{var g=d._ghost.rect();g.tabOrientation||(g.tabOrientation=d._draggingFrame.tabOrientation());
a=d._draggingFrame._panelList.length;if(1<a||d._draggingFrame.panel()!==d._placeholderPanel)for(c=0;c<a;++c)d.movePanel(d._draggingFrame.panel(),e.DOCK.STACKED,f,g)}(a=f._parent)&&a.instanceOf("wcFrame")&&a.panel(b);d.__focus(a)}}else d._creatingPanel&&(f=e.DOCK.FLOAT,b=null,a&&(f=a.loc,b=a.item?a.item._parent:a.panel),d.addPanel(d._creatingPanel,f,b,d._ghost.rect()));d._ghost.destroy();d._ghost=null;d.trigger(e.EVENT.END_DOCK);d.__update()}d._draggingSplitter&&(d._draggingSplitter.$pane[0].removeClass("wcResizing"),
d._draggingSplitter.$pane[1].removeClass("wcResizing"));d._draggingSplitter=null;d._draggingFrame=null;d._draggingFrameSizer=null;d._draggingFrameTab=null;d._draggingFrameTopper=!1;d._draggingCustomTabFrame=null;d._removingPanel=null;return!0});d.__on(b,"click",".wcCustomTab .wcFrameButton",function(a){$("body").removeClass("wcDisableSelection");for(var b=0;b<d._tabList.length;++b){var c=d._tabList[b];if(c.$close[0]===this){b=c.tab();c.removeTab(b);a.stopPropagation();break}if(c.$tabLeft[0]===this){c._tabScrollPos-=
c.$tabBar.width()/2;0>c._tabScrollPos&&(c._tabScrollPos=0);c.__updateTabs();a.stopPropagation();break}if(c.$tabRight[0]===this){c._tabScrollPos+=c.$tabBar.width()/2;c.__updateTabs();a.stopPropagation();break}}});d.__on(b,"click",".wcFrameButtonBar \x3e .wcFrameButton",function(){$("body").removeClass("wcDisableSelection");for(var a=0;a<d._frameList.length;++a){var b=d._frameList[a];if(b.$close[0]===this){d.__closePanel(b.panel());break}if(b.$collapse[0]===this){var c=b.$collapse.children("div"),a=
e.DOCK.BOTTOM;c.hasClass("wcCollapseLeft")?a=e.DOCK.LEFT:c.hasClass("wcCollapseRight")&&(a=e.DOCK.RIGHT);if(b.isCollapser()){c={};switch(a){case e.DOCK.LEFT:c.w=b.$frame.width();break;case e.DOCK.RIGHT:c.w=b.$frame.width();break;case e.DOCK.BOTTOM:c.h=b.$frame.height()}var f=d._collapser[e.DOCK.LEFT]._parent.right();b.collapse(!0);d.movePanel(b.panel(),a,f,c)}else d.movePanel(b.panel(),a,e.COLLAPSED);d.__update();break}if(b.$tabLeft[0]===this){b._tabScrollPos-=b.$tabBar.width()/2;0>b._tabScrollPos&&
(b._tabScrollPos=0);b.__updateTabs();break}if(b.$tabRight[0]===this){b._tabScrollPos+=b.$tabBar.width()/2;b.__updateTabs();break}for(c=0;c<b._buttonList.length;++c)if(b._buttonList[c][0]===this){c=b._buttonList[c];a={name:c.data("name"),isToggled:!1};c.hasClass("wcFrameButtonToggler")&&(c.toggleClass("wcFrameButtonToggled"),c.hasClass("wcFrameButtonToggled")&&(a.isToggled=!0));b=b.panel();b.buttonState(a.name,a.isToggled);b.__trigger(e.EVENT.BUTTON,a);return}}});d.__on(b,"keyup",function(a){27==a.keyCode&&
d._ghost&&(d._ghost.destroy(),d._ghost=!1,d.trigger(e.EVENT.END_DOCK),d._draggingFrame&&d._draggingFrame.__shadow(!1),d._creatingPanel=!1,d._draggingSplitter=null,d._draggingFrame=null,d._draggingFrameSizer=null,d._draggingFrameTab=null,d._draggingFrameTopper=!1,d._draggingCustomTabFrame=null,d._removingPanel=null)});var c=(new Date).getTime(),f=null,g=0,h=0;this._started=!0;this.setupActions()},__testLoadFinished:function(){for(var a=0;a<this._frameList.length;++a)for(var b=this._frameList[a],c=
0;c<b._panelList.length;++c){var f=b._panelList[c];if(f._isVisible&&!f._initialized||f.$loading)return}var g=this;setTimeout(function(){g.trigger(e.EVENT.LOADED);g.off(e.EVENT.LOADED);for(var a=0;a<g._frameList.length;++a)for(var b=g._frameList[a],d=0;d<b._panelList.length;++d)b._panelList[d].off(e.EVENT.LOADED)},0)},__findInner:function(){function a(b){return!!(b&&b.instanceOf("wcFrame")&&b.panel()&&!b.panel().moveable()||b.instanceOf("wcCollapser"))}for(var b=this._root;b;)if(b.instanceOf("wcSplitter")){var c=
a(b._pane[0]),f=a(b._pane[1]);if(c&&!f)b=b._pane[1];else if(f&&!c)b=b._pane[0];else if(!c&&!f)break}else break;return b},__initCollapsers:function(){function a(c){this._collapser[c]=this.__addCollapser(c,b);b=this._collapser[c]._parent;this._frameList.push(this._collapser[c]._drawer._frame)}if(this.isCollapseEnabled()&&_.isEmpty(this._collapser)){var b=this.__findInner();a.call(this,e.DOCK.LEFT);a.call(this,e.DOCK.RIGHT);a.call(this,e.DOCK.BOTTOM);var c=this;setTimeout(function(){c.__update()})}},
__update:function(a){this._dirty=!0;this._dirtyDontMove=a},__forceUpdate:function(a){this._dirty=!1;this._root&&this._root.__update(a);for(a=0;a<this._floatingList.length;++a)this._floatingList[a].__update()},__orderPanels:function(){if(0!==this._floatingList.length){var a=this._floatingList.indexOf(this._focusFrame);this._floatingList.splice(this._floatingList.length-1,0,this._floatingList.splice(a,1)[0]);for(var b=0;b<this._floatingList.length;++b)if(a=this._floatingList[b]){var c=10+5*b;a.$frame.css("z-index",
c);a.__trigger(e.EVENT.ORDER_CHANGED,c)}}},__mouse:function(a){return a.originalEvent&&(a.originalEvent.touches||a.originalEvent.changedTouches)?(a=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0],{x:a.clientX,y:a.clientY,which:1}):{x:a.clientX||a.pageX,y:a.clientY||a.pageY,which:a.which||1}},__resize:function(a){this._resizeData.time=new Date;this._resizeData.timeout||(this._resizeData.timeout=!0,setTimeout(this.__resizeEnd.bind(this),this._resizeData.delta),this.__trigger(e.EVENT.RESIZE_STARTED));
this.__trigger(e.EVENT.RESIZED);this.__update(!1)},__resizeEnd:function(){new Date-this._resizeData.time<this._resizeData.delta?setTimeout(this.__resizeEnd.bind(this),this._resizeData.delta):(this._resizeData.timeout=!1,this.__trigger(e.EVENT.RESIZE_ENDED))},__focus:function(a,b){var c=this._focusFrame!=a;if(this._focusFrame){this._focusFrame._isFloating&&this._focusFrame.$frame.removeClass("wcFloatingFocus");var f=this._focusFrame;this._focusFrame=null;f.__trigger(e.EVENT.LOST_FOCUS);f.isCollapser()&&
c&&(f.collapse(),f.panel(-1))}if(this._focusFrame=a)this._focusFrame._isFloating&&(this._focusFrame.$frame.addClass("wcFloatingFocus"),c&&$("body").append(this._focusFrame.$frame)),this._focusFrame.__focus(b),this._focusFrame.__trigger(e.EVENT.GAIN_FOCUS);this.__orderPanels()},__trigger:function(a,b){if(a){var c=[];if(this._events[a])for(var f=this._events[a].slice(0),e=0;e<f.length;++e)c.push(f[e].call(this,b));return c}},__isLastPanel:function(a){for(var b=0;b<this._frameList.length;++b){var c=
this._frameList[b];if(!c._isFloating&&!c.isCollapser())for(var f=0;f<c._panelList.length;++f){var e=c._panelList[f];if(e!==a&&e.moveable())return!1}}return!0},__isLastFrame:function(a){for(var b=0;b<this._frameList.length;++b){var c=this._frameList[b];if(!c._isFloating&&c!==a&&!c.isCollapser())for(var f=0;f<c._panelList.length;++f)if(c._panelList[f].moveable())return!1}return!0},__create:function(a,b,c){switch(a.type){case "wcSplitter":return a=new (this.__getClass("wcSplitter"))(c,b,a.horizontal),
a.scrollable(0,!1,!1),a.scrollable(1,!1,!1),a;case "wcFrame":return b=new (this.__getClass("wcFrame"))(c,b,a.floating),this._frameList.push(b),a.floating&&this._floatingList.push(b),b;case "wcPanel":if(a.panelType===e.PANEL_PLACEHOLDER)return this._placeholderPanel||(this._placeholderPanel=new (this.__getClass("wcPanel"))(b,e.PANEL_PLACEHOLDER,{}),this._placeholderPanel._isPlaceholder=!0,this._placeholderPanel.__container(this.$transition),this._placeholderPanel._panelObject=new function(a){a.title(!1);
a.closeable(!1)}(this._placeholderPanel),this._placeholderPanel.__container(c)),this._placeholderPanel;for(var f=0;f<this._dockPanelTypeList.length;++f)if(this._dockPanelTypeList[f].name===a.panelType){var g=new (this.__getClass("wcPanel"))(b,a.panelType,this._dockPanelTypeList[f].options);g.__container(this.$transition);g._panelObject=new this._dockPanelTypeList[f].options.onCreate(g,this._dockPanelTypeList[f].options&&this._dockPanelTypeList[f].options.options||{});g.__container(c);break}return g}return null},
__addPanelGrouped:function(a,b,c){var f=b;f&&f.instanceOf("wcPanel")&&(f=b._parent);f&&f.instanceOf("wcFrame")?(c&&c.tabOrientation&&f.tabOrientation(c.tabOrientation),f.addPanel(a)):this.__addPanelAlone(a,e.DOCK.LEFT,b,c)},__addPanelAlone:function(a,b,c,f){var g;c&&c._shift&&(g=c,c=c._shift,g._shift=void 0);if(f){g=this.$container.width();var h=this.$container.height();f.hasOwnProperty("x")&&(f.x=this.__stringToPixel(f.x,g));f.hasOwnProperty("y")&&(f.y=this.__stringToPixel(f.y,h));f.hasOwnProperty("w")||
(f.w=a.initSize().x);f.hasOwnProperty("h")||(f.h=a.initSize().y);f.w=this.__stringToPixel(f.w,g);f.h=this.__stringToPixel(f.h,h);a._size.x=f.w;a._size.y=f.h}if(c===e.COLLAPSED){this.__initCollapsers();if(this._collapser[b]){c=this._collapser[b]._drawer._frame.addPanel(a);var u=this;setTimeout(function(){u.__update()});return a}return!1}if(b===e.DOCK.FLOAT||b===e.DOCK.MODAL)h=new (this.__getClass("wcFrame"))(this.$container,this,!0),f&&f.tabOrientation&&h.tabOrientation(f.tabOrientation),this._frameList.push(h),
this._floatingList.push(h),this.__focus(h),h.addPanel(a),h.pos(a._pos.x,a._pos.y,!1),b===e.DOCK.MODAL&&(h.$modalBlocker=$('\x3cdiv class\x3d"wcModalBlocker"\x3e\x3c/div\x3e'),h.$frame.prepend(h.$modalBlocker),a.moveable(!1),h.$frame.addClass("wcModal"),this._modalList.push(h)),f&&(a=h.pos(void 0,void 0,!0),f.hasOwnProperty("x")&&(a.x=f.x+f.w/2),f.hasOwnProperty("y")&&(a.y=f.y+f.h/2),h.pos(a.x,a.y,!0),h._size={x:f.w,y:f.h}),this.__orderPanels();else{if(c){for(var h=c._parent,k=c;h&&!h.instanceOf("wcSplitter")&&
!h.instanceOf("wcDocker");)k=h,h=h._parent;if(h&&h.instanceOf("wcSplitter")){var l;l=h.pane(0);h.pane(1);g=c=-1;l===k?(l=new (this.__getClass("wcSplitter"))(this.$transition,h,b!==e.DOCK.BOTTOM&&b!==e.DOCK.TOP),c=h.$pane[0].width(),g=h.$pane[0].height(),h.pane(0,l)):(l=new (this.__getClass("wcSplitter"))(this.$transition,h,b!==e.DOCK.BOTTOM&&b!==e.DOCK.TOP),c=h.$pane[1].width(),g=h.$pane[1].height(),h.pane(1,l));if(l){l.scrollable(0,!1,!1);l.scrollable(1,!1,!1);f||(f={w:a._size.x,h:a._size.y});if(f)switch(0>
f.w&&(f.w=c/2),0>f.h&&(f.h=g/2),b){case e.DOCK.LEFT:l.pos(f.w/c);break;case e.DOCK.RIGHT:l.pos(1-f.w/c);break;case e.DOCK.TOP:l.pos(f.h/g);break;case e.DOCK.BOTTOM:l.pos(1-f.h/g)}else l.pos(.5);h=new (this.__getClass("wcFrame"))(this.$transition,l,!1);this._frameList.push(h);b===e.DOCK.LEFT||b===e.DOCK.TOP?(l.pane(0,h),l.pane(1,k)):(l.pane(0,k),l.pane(1,h));h.addPanel(a)}return}}g=this.$container;h=new (this.__getClass("wcFrame"))(this.$transition,this,!1);this._frameList.push(h);if(this._root){if(l=
new (this.__getClass("wcSplitter"))(g,this,b!==e.DOCK.BOTTOM&&b!==e.DOCK.TOP)){h._parent=l;l.scrollable(0,!1,!1);l.scrollable(1,!1,!1);c=g.width();g=g.height();if(f)switch(0>f.w&&(f.w=c/2),0>f.h&&(f.h=g/2),b){case e.DOCK.LEFT:l.pos(f.w/c);break;case e.DOCK.RIGHT:l.pos(1-f.w/c);break;case e.DOCK.TOP:l.pos(f.h/g);break;case e.DOCK.BOTTOM:l.pos(1-f.h/g)}else l.__findBestPos();b===e.DOCK.LEFT||b===e.DOCK.TOP?(l.pane(0,h),l.pane(1,this._root)):(l.pane(0,this._root),l.pane(1,h));this._root=l}}else this._root=
h,h.__container(g);h.addPanel(a)}},__addCollapser:function(a,b){var c=null;if(b){for(var f=b._parent,g=b;f&&!f.instanceOf("wcSplitter")&&!f.instanceOf("wcDocker");)g=f,f=f._parent;var h=new (this.__getClass("wcSplitter"))(this.$transition,f,a!==e.DOCK.BOTTOM&&a!==e.DOCK.TOP);f&&f.instanceOf("wcDocker")&&(this._root=h,h.__container(this.$container));if(f&&f.instanceOf("wcSplitter")){var u=f.left();f.right();u===g?(f.$pane[0].width(),f.$pane[0].height(),f.pane(0,h)):(h=new (this.__getClass("wcSplitter"))(this.$transition,
f,a!==e.DOCK.BOTTOM&&a!==e.DOCK.TOP),f.$pane[1].width(),f.$pane[1].height(),f.pane(1,h))}if(h){h.scrollable(0,!1,!1);h.scrollable(1,!1,!1);c=new (this.__getClass("wcCollapser"))(this.$transition,h,a);switch(a){case e.DOCK.TOP:case e.DOCK.LEFT:h.pos(0);break;case e.DOCK.BOTTOM:case e.DOCK.RIGHT:h.pos(1)}a===e.DOCK.LEFT||a===e.DOCK.TOP?(h.pane(0,c),h.pane(1,g)):(h.pane(0,g),h.pane(1,c))}}return c},__addPlaceholder:function(a){this._placeholderPanel=new (this.__getClass("wcPanel"))(this,e.PANEL_PLACEHOLDER,
{});this._placeholderPanel._isPlaceholder=!0;this._placeholderPanel.__container(this.$transition);this._placeholderPanel._panelObject=new function(a){a.title(!1);a.closeable(!1)}(this._placeholderPanel);a?this.__addPanelGrouped(this._placeholderPanel,a):this.__addPanelAlone(this._placeholderPanel,e.DOCK.TOP);this.__update()},__closePanel:function(a){var b=!1,c=this.panelTypeInfo(a._type);c&&c.isPersistent&&(b=!0,this._persistentList.push(a));this.removePanel(a,b);this.__update()},__stringToPercent:function(a,
b){if("string"===typeof a){if(-1!==a.indexOf("%",a.length-1))return parseFloat(a)/100;if(-1!==a.indexOf("px",a.length-2))return parseFloat(a)/b}return parseFloat(a)},__stringToPixel:function(a,b){if("string"===typeof a){if(-1!==a.indexOf("%",a.length-1))return parseFloat(a)/100*b;a.indexOf("px",a.length-2)}return parseFloat(a)}});for(var p in e)q[p]=e[p];q.defaultClasses=t;return q})},"wcDocker/types":function(){define(["xide/types","xide/utils"],function(q,e){var g={DOCK:{MODAL:"modal",FLOAT:"float",
TOP:"top",LEFT:"left",RIGHT:"right",BOTTOM:"bottom",STACKED:"stacked"},LAYOUT:{SIMPLE:"wcLayoutSimple",TABLE:"wcLayoutTable"},EVENT:{INIT:"panelInit",LOADED:"dockerLoaded",UPDATED:"panelUpdated",VISIBILITY_CHANGED:"panelVisibilityChanged",BEGIN_DOCK:"panelBeginDock",END_DOCK:"panelEndDock",GAIN_FOCUS:"panelGainFocus",LOST_FOCUS:"panelLostFocus",CLOSING:"panelClosing",CLOSED:"panelClosed",PERSISTENT_CLOSED:"panelPersistentClosed",PERSISTENT_OPENED:"panelPersistentOpened",BUTTON:"panelButton",ATTACHED:"panelAttached",
DETACHED:"panelDetached",MOVE_STARTED:"panelMoveStarted",MOVE_ENDED:"panelMoveEnded",MOVED:"panelMoved",RESIZE_STARTED:"panelResizeStarted",RESIZE_ENDED:"panelResizeEnded",RESIZED:"panelResized",ORDER_CHANGED:"panelOrderChanged",SCROLLED:"panelScrolled",SAVE_LAYOUT:"layoutSave",RESTORE_LAYOUT:"layoutRestore",CUSTOM_TAB_CHANGED:"customTabChanged",CUSTOM_TAB_CLOSED:"customTabClosed",BEGIN_FLOAT_RESIZE:"beginFloatResize",END_FLOAT_RESIZE:"endFloatResize",BEGIN_RESIZE:"beginResize",END_RESIZE:"endResize"},
PANEL_PLACEHOLDER:"__wcDockerPlaceholderPanel",COLLAPSED:"__wcDockerCollapsedPanel",ORIENTATION:{VERTICAL:!1,HORIZONTAL:!0},TAB:{TOP:"top",LEFT:"left",RIGHT:"right",BOTTOM:"bottom"}};q.DOCKER||(q.DOCKER=g);return g})},"wcDocker/panel":function(){define(["dcl/dcl","wcDocker/types","wcDocker/base"],function(q,e,g){g=q(g,{declaredClass:"wcPanel",select:function(){var a=this.getFrame();a&&(a.panel(a.panelIndex(this)),this._startWidgets(),this.onShow())},getSplitter:function(){return this._parentByClass("Splitter")},
getFrame:function(){return this._parentByClass("Frame")},resize:function(){this.__update();this.__trigger(e.EVENT.RESIZED)},constructor:function(a,b,c){this.$container=null;this._parent=a;this._panelObject=this.$loading=this.$titleText=this.$title=this.$closeIcon=this.$icon=null;this._initialized=!1;this._collapseDirection=void 0;this._title=this._type=b;this._titleVisible=!0;this._options=c;this._layout=null;this._buttonList=[];this._actualPos={x:.5,y:.5};this._actualSize={x:0,y:0};this._resizeData=
{time:-1,timeout:!1,delta:150};this._pos={x:.5,y:.5};this._moveData={time:-1,timeout:!1,delta:150};this._size={x:-1,y:-1};this._minSize={x:100,y:50};this._maxSize={x:Infinity,y:Infinity};this._scroll={x:0,y:0};this._scrollable={x:!0,y:!0};this._collapsible=!0;this._overflowVisible=!1;this._resizeVisible=this._closeable=this._detachable=this._moveable=!0;this._isVisible=!1;this._events={};this.__init()},title:function(a){"undefined"!==typeof a&&(!1===a?(this._titleVisible=!1,this.$titleText.html(this._type)):
(this._title=a,this.$titleText.html(a)),this.$icon&&this.$titleText.prepend(this.$icon),this.$closeIcon&&(this.$titleText.append(this.$closeIcon),this.$closeIcon[0].__panel=this),this._parent&&this._parent.instanceOf("wcFrame")&&this._parent.__updateTabs());return this._title},info:function(){return this.docker().panelTypeInfo(this._type)},layout:function(){return this._layout},focus:function(a){var b=this.docker();if(b)for(b.__focus(this._parent,a),a=0;a<this._parent._panelList.length;++a)if(this._parent._panelList[a]===
this&&this._parent._curTab!==a){this._parent.panel(a);break}},collapseDirection:function(a){this._collapseDirection=a},isVisible:function(){return this._isVisible},isFloating:function(){return this._parent&&this._parent.instanceOf("wcFrame")?this._parent._isFloating:!1},isInFocus:function(){var a=this.docker();return a&&this._parent&&this._parent.instanceOf("wcFrame")?this._parent===a._focusFrame:!1},addButton:function(a,b,c,f,e,g){this._buttonList.push({name:a,className:b,toggleClassName:g,text:c,
tip:f,isTogglable:e,isToggled:!1});this._parent&&this._parent.instanceOf("wcFrame")&&this._parent.__update()},removeButton:function(a){for(var b=0;b<this._buttonList.length;++b)if(this._buttonList[b].name===a)return this._buttonList.splice(b,1),this._parent&&this._parent.instanceOf("wcFrame")&&this._parent.__onTabChange(),this._parent&&this._parent.instanceOf("wcFrame")&&this._parent.__update(),!0;return!1},buttonState:function(a,b){for(var c=0;c<this._buttonList.length;++c)if(this._buttonList[c].name===
a)return"undefined"!==typeof b&&(this._buttonList[c].isToggled=b,this._parent&&this._parent.instanceOf("wcFrame")&&this._parent.__onTabChange()),this._parent&&this._parent.instanceOf("wcFrame")&&this._parent.__update(),this._buttonList[c].isToggled;return!1},initPos:function(a,b){if("undefined"!==typeof a){var c=this.docker();this._pos.x=c?c.__stringToPercent(a,c.$container.width()):a}"undefined"!==typeof b&&(c=this.docker(),this._pos.y=c?c.__stringToPercent(b,c.$container.height()):b);return{x:this._pos.x,
y:this._pos.y}},initSize:function(a,b){if("undefined"!==typeof a){var c=this.docker();this._size.x=c?c.__stringToPixel(a,c.$container.width()):a}"undefined"!==typeof b&&(c=this.docker(),this._size.y=c?c.__stringToPixel(b,c.$container.height()):b);return{x:this._size.x,y:this._size.y}},minSize:function(a,b){if("undefined"!==typeof a){var c=this.docker();this._minSize.x=c?c.__stringToPixel(a,c.$container.width()):a}"undefined"!==typeof b&&(c=this.docker(),this._minSize.y=c?c.__stringToPixel(b,c.$container.height()):
b);return{x:this._minSize.x,y:this._minSize.y}},maxSize:function(a,b){if("undefined"!==typeof a){var c=this.docker();this._maxSize.x=c?c.__stringToPixel(a,c.$container.width()):a}"undefined"!==typeof b&&(c=this.docker(),this._maxSize.y=c?c.__stringToPixel(b,c.$container.height()):b);return{x:this._maxSize.x,y:this._maxSize.y}},width:function(){return this.$container?this.$container.width():0},height:function(){return this.$container?this.$container.height():0},icon:function(a){this.$icon||(this.$icon=
$("\x3cdiv\x3e"),this.$titleText.prepend(this.$icon));this.$icon.removeClass();this.$icon.addClass("wcTabIcon "+a);this._parent&&this._parent.instanceOf("wcFrame")&&this._parent.__updateTabs();this._icon=a},faicon:function(a){this.$icon||(this.$icon=$("\x3cdiv\x3e"),this.$titleText.prepend(this.$icon));this.$icon.removeClass();this.$icon.addClass("wcTabIcon fa fa-fw fa-"+a);this._parent&&this._parent.instanceOf("wcFrame")&&this._parent.__updateTabs()},scrollable:function(a,b){"undefined"!==typeof a&&
(this._scrollable.x=!!a,this._scrollable.y=!!b);return{x:this._scrollable.x,y:this._scrollable.y}},scroll:function(a,b,c){if(!this.$container)return{x:0,y:0};"undefined"!==typeof a&&(c?this.$container.parent().stop().animate({scrollLeft:a,scrollTop:b},c):(this.$container.parent().scrollLeft(a),this.$container.parent().scrollTop(b)));return{x:this.$container.parent().scrollLeft(),y:this.$container.parent().scrollTop()}},collapsible:function(a){"undefined"!==typeof a&&(this._collapsible=!!a);return this._collapsible},
overflowVisible:function(a){"undefined"!==typeof a&&(this._overflowVisible=!!a);return this._overflowVisible},resizeVisible:function(a){"undefined"!==typeof a&&(this._resizeVisible=!!a);return this._resizeVisible},moveable:function(a){"undefined"!==typeof a&&(this._moveable=!!a,this.$title.toggleClass("wcNotMoveable",!this._moveable));return this._moveable},detachable:function(a){"undefined"!==typeof a&&(this._detachable=!!a);return this._detachable},closeable:function(a){"undefined"!==typeof a&&
((this._closeable=!!a)?this.$closeIcon||(this.$closeIcon=$('\x3cdiv class\x3d"wcPanelCloseIcon fa fa-close"/\x3e'),this.$titleText.append(this.$closeIcon)):(this.$closeIcon&&this.$closeIcon.remove(),this.$closeIcon=null),this._parent&&this._parent.__update());return this._closeable},close:function(){var a=this.docker();a&&a.__closePanel(this)},startLoading:function(a,b,c){this.$loading||(this.$loading=$('\x3cdiv class\x3d"container-fluid center-block" style\x3d"opacity: 1;position: absolute;top:50%;"\x3e\x3cdiv class\x3d""\x3e\x3cdiv class\x3d"offset3 span6 centering center-block"\x3e\x3cdiv class\x3d"fa fa-3x fa-spinner fa-spin "/\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e'),
this.$container.append(this.$loading))},finishLoading:function(a){if(this.$loading)if(0<a){var b=this;this.$loading.fadeOut(a,function(){b.$loading.remove();b.$loading=null;b.docker().__testLoadFinished()})}else this.$loading.remove(),this.$loading=null,this.docker().__testLoadFinished()},on:function(a,b){if(!a)return!1;this._events[a]||(this._events[a]=[]);if(-1!==this._events[a].indexOf(b))return!1;this._events[a].push(b);return!0},off:function(a,b){if("undefined"===typeof a)this._events={};else if(this._events[a])if("undefined"===
typeof b)this._events[a]=[];else for(var c=0;c<this._events[a].length;++c)if(this._events[a][c]===b){this._events[a].splice(c,1);break}},trigger:function(a,b){var c=this.docker();return c?c.trigger(a,b):[]},__init:function(){var a=this._options&&this._options.layout||"wcLayoutTable";this._layout=new (this.docker().__getClass(a))(this.$container,this);this.$title=$('\x3cdiv class\x3d"wcPanelTab"\x3e');this.$titleText=$("\x3cdiv\x3e"+this._title+"\x3c/div\x3e");this.$title.append(this.$titleText);this._options.hasOwnProperty("title")&&
this.title(this._options.title);this._options.icon&&this.icon(this._options.icon);this._options.faicon&&this.faicon(this._options.faicon)},__update:function(){var a=this.docker();if(a&&(this._layout.__update(),this.$container)){this._resizeVisible?this._parent.$frame.removeClass("wcHideOnResize"):this._parent.$frame.addClass("wcHideOnResize");if(this._initialized)this.__trigger(e.EVENT.UPDATED);else{this._initialized=!0;var b=this;setTimeout(function(){b.__trigger(e.EVENT.INIT);a.__testLoadFinished()},
0)}var c=this.$container.width(),f=this.$container.height();if(this._actualSize.x!==c||this._actualSize.y!==f)this._resizeData.time=new Date,this._resizeData.timeout||(this._resizeData.timeout=!0,setTimeout(this.__resizeEnd.bind(this),this._resizeData.delta),this.__trigger(e.EVENT.RESIZE_STARTED,{width:this._actualSize.x,height:this._actualSize.y})),this._actualSize.x=c,this._actualSize.y=f,this.__trigger(e.EVENT.RESIZED,{width:this._actualSize.x,height:this._actualSize.y});c=this.$container.offset();
if(this._actualPos.x!==c.left||this._actualPos.y!==c.top)this._moveData.time=new Date,this._moveData.timeout||(this._moveData.timeout=!0,setTimeout(this.__moveEnd.bind(this),this._moveData.delta),this.__trigger(e.EVENT.MOVE_STARTED,{x:this._actualPos.x,y:this._actualPos.y})),this._actualPos.x=c.left,this._actualPos.y=c.top,this.__trigger(e.EVENT.MOVED,{x:this._actualPos.x,y:this._actualPos.y})}},__resizeEnd:function(){new Date-this._resizeData.time<this._resizeData.delta?setTimeout(this.__resizeEnd.bind(this),
this._resizeData.delta):(this._resizeData.timeout=!1,this.__trigger(e.EVENT.RESIZE_ENDED,{width:this._actualSize.x,height:this._actualSize.y}))},__moveEnd:function(){new Date-this._moveData.time<this._moveData.delta?setTimeout(this.__moveEnd.bind(this),this._moveData.delta):(this._moveData.timeout=!1,this.__trigger(e.EVENT.MOVE_ENDED,{x:this._actualPos.x,y:this._actualPos.y}))},__isVisible:function(a){this._isVisible!==a&&(this._isVisible=a,this.__trigger(e.EVENT.VISIBILITY_CHANGED,this._isVisible))},
__save:function(){var a={type:"wcPanel"};this._icon&&(a.icon=this._icon);a.panelType=this._type;a.size={x:this._size.x,y:this._size.y};a.customData={};this.__trigger(e.EVENT.SAVE_LAYOUT,a.customData);return a},__restore:function(a){a.size&&(this._size.x=a.size.x,this._size.y=a.size.y);this.__trigger(e.EVENT.RESTORE_LAYOUT,a.customData);a.icon&&this.icon(a.icon);var b=this.docker();b?b._emit("restorePanel",a.customData):console.error("restorePanel : failed, have no docker")},__trigger:function(a,b){if(!a)return!1;
var c=[];if(this._events[a])for(var f=this._events[a].slice(0),e=0;e<f.length;++e)c.push(f[e].call(this,b));return c},__rect:function(){var a=this.$container.offset(),b=this.$container.width(),c=this.$container.height();return{x:a.left,y:a.top,w:b,h:c}},__container:function(a){if("undefined"===typeof a)return this.$container;(this.$container=a)?(this._layout.__container(this.$container),this.$loading&&this.$container.append(this.$loading)):(this._layout.__container(null),this.finishLoading());this.$container&&
(this.$container[0].id=this.id);return this.$container},__destroy:function(){this._panelObject=null;this.$closeIcon&&(this.$closeIcon.__panel=null);this.off();this.__container(null);this._parent=null}});q.chainAfter(g,"resize");return g})},"wcDocker/base":function(){define(["dcl/dcl","xide/utils"],function(q,e){return q(null,{_saveProp:function(e,a){this["__"+e]=_.isFunction(this[e])?this[e]():this[e];a&&null!=this[e]&&this[e].apply&&this[e].apply(this,a)},_restoreProp:function(e,a){this["_"+e]&&
(this["_"+e]=this["__"+e]);var b=this["__"+e];return!1!==a?_.isFunction(this[e])?this[e].apply(this,[b]):this[e]:b},debounce:function(g,a,b,c,f){return e.debounce(this,g,a,b,c,f)},getOptions:function(){return this._options||this.docker()._options||{}},option:function(e,a){return this.getOptions()[e]||a},__getClass:function(e){return this.getOptions()[e+"Class"]},instanceOf:function(e,a){a=a||this;return!(!a||-1==a.declaredClass.indexOf(e))},docker:function(e){for(e=e||this._parent;e&&!e.instanceOf("wcDocker");)e=
e._parent;return e},_parentByClass:function(e){var a=this._parent;if(_.isString(e))for(;a&&-1===a.declaredClass.indexOf(e);)a=a._parent;return a}})})},"wcDocker/ghost":function(){define(["dcl/dcl","wcDocker/types"],function(q,e){return q(null,{declaredClass:"wcGhost",constructor:function(e,a,b){this.$ghost=null;this._rect;this._anchorMouse=!1;this._anchor=null;this._docker=b;(this._outer=b.__findInner())&&this._outer.instanceOf("wcSplitter")&&(this._inner=this._outer.right());this.__init(e,a)},update:function(e,
a){this.__move(e);for(var b=0;b<this._docker._floatingList.length;++b){var c=this._docker._floatingList[b].__rect();if(e.x>c.x&&e.y>c.y&&e.x<c.x+c.w&&e.y<c.y+c.h){this._docker._floatingList[b].__checkAnchorDrop(e,!1,this,!0,void 0,!0)?this._anchor.panel=this._docker._floatingList[b].panel():a||this.anchor(e,null);return}}for(b=0;b<this._docker._frameList.length;++b)if(c=this._docker._frameList[b].__rect(),e.x>c.x&&e.y>c.y&&e.x<c.x+c.w&&e.y<c.y+c.h){this._docker._frameList[b].__checkAnchorDrop(e,!1,
this,!0,void 0,!0)?this._anchor.panel=this._docker._frameList[b].panel():a||this.anchor(e,null);break}},anchor:function(g,a){if("undefined"===typeof g)return this._anchor;if(!a||!this._anchor||a.loc!==this._anchor.loc||a.item!==this._anchor.item){var b=parseInt(this.$ghost.css("left")),c=parseInt(this.$ghost.css("top"));parseInt(this.$ghost.css("width"));parseInt(this.$ghost.css("height"));this._anchorMouse={x:b-g.x,y:c-g.y};this._rect.x=-this._anchorMouse.x;this._rect.y=-this._anchorMouse.y;a?(this._anchor=
a,b=.8,a.self&&a.loc===e.DOCK.STACKED?(b=0,this.$ghost.hide()):this.$ghost.show(),this.$ghost.stop().animate({opacity:b,"margin-left":"2px","margin-top":"2px",border:"0px",left:a.x+"px",top:a.y+"px",width:a.w+"px",height:a.h+"px"},150)):this._anchor&&(this._docker._draggingFrame&&this._docker._draggingFrame.$container&&(b=this._docker._draggingFrame._panelList[0]._options.detachToHeight||this._docker._options.detachToHeight||this._rect.h,this._rect.w=this._docker.__stringToPixel(this._docker._draggingFrame._panelList[0]._options.detachToWidth||
this._docker._options.detachToWidth||this._rect.w,this._docker.$container.width()),this._rect.h=this._docker.__stringToPixel(b,this._docker.$container.height())),this._anchor=null,this.$ghost.show(),this.$ghost.stop().animate({opacity:.3,"margin-left":this._rect.x-this._rect.w/2+"px","margin-top":this._rect.y-10+"px",width:this._rect.w+"px",height:this._rect.h+"px"},150))}},rect:function(){return{x:this.$ghost.offset().left,y:this.$ghost.offset().top,w:parseInt(this.$ghost.css("width")),h:parseInt(this.$ghost.css("height")),
tabOrientation:this._anchor&&this._anchor.tab}},destroy:function(){this.__destroy()},__init:function(e,a){this.$ghost=$('\x3cdiv class\x3d"wcGhost"\x3e').css("opacity",0).css("top",e.y+"px").css("left",e.x+"px").css("width",e.w+"px").css("height",e.h+"px");this._anchorMouse={x:e.x-a.x,y:e.y-a.y};this._rect={x:-this._anchorMouse.x,y:-this._anchorMouse.y,w:e.w,h:e.h};$("body").append(this.$ghost);this.anchor(a,e)},__move:function(e){if(!this._anchor){var a=parseInt(this.$ghost.css("left")),b=parseInt(this.$ghost.css("top")),
a=e.x+this._anchorMouse.x,b=e.y+this._anchorMouse.y;this.$ghost.css("left",a+"px");this.$ghost.css("top",b+"px")}},__rect:function(){return this._rect},__destroy:function(){this.$ghost.stop().animate({opacity:0},{duration:175,complete:function(){$(this).remove()}})}})})},"wcDocker/splitter":function(){define(["dcl/dcl","wcDocker/types","wcDocker/base"],function(q,e,g){return q(g,{declaredClass:"wcSplitter",constructor:function(a,b,c){this.$container=$(a);this._parent=b;this._orientation=c;this._pane=
[!1,!1];this.$pane=[];this.$bar=null;this._posTarget=this._pos=.5;this._pixelPos=-1;this._findBestPos=!1;this._anim=0;this._boundEvents=[];this.__init();this.docker()._splitterList.push(this)},initLayouts:function(a,b){var c=a||"wcLayoutTable",f=new (this.docker().__getClass(c))(this.$pane[0],this),c=b||"wcLayoutTable",c=new (this.docker().__getClass(c))(this.$pane[1],this);this.pane(0,f);this.pane(1,c)},orientation:function(a){if("undefined"===typeof a)return this._orientation;this._orientation!=
a&&((this._orientation=a)?this.$bar.removeClass("wcWide").removeClass("wcSplitterBarH").addClass("wcTall").addClass("wcSplitterBarV"):this.$bar.removeClass("wcTall").removeClass("wcSplitterBarV").addClass("wcWide").addClass("wcSplitterBarH"),this.$pane[0].css("top","").css("left","").css("width","").css("height",""),this.$pane[1].css("top","").css("left","").css("width","").css("height",""),this.$bar.css("top","").css("left","").css("width","").css("height",""),this.__update(),this._parent&&this._parent.instanceOf("wcPanel")&&
this._parent.__trigger(e.EVENT.UPDATED))},minSize:function(){var a,b;this._pane[0]&&"function"===typeof this._pane[0].minSize&&(a=this._pane[0].minSize());this._pane[1]&&"function"===typeof this._pane[1].minSize&&(b=this._pane[1].minSize());return a&&b?(this._orientation?(a.x+=b.x,a.y=Math.max(a.y,b.y)):(a.y+=b.y,a.x=Math.max(a.x,b.x)),a):a?a:b?b:!1},maxSize:function(){var a,b;this._pane[0]&&"function"===typeof this._pane[0].maxSize&&(a=this._pane[0].maxSize());this._pane[1]&&"function"===typeof this._pane[1].maxSize&&
(b=this._pane[1].maxSize());return a&&b?(this._orientation?(a.x+=b.x,a.y=Math.min(a.y,b.y)):(a.y+=b.y,a.x=Math.min(a.x,b.x)),a):a?a:b?b:!1},pos:function(a){if("undefined"!==typeof a){if(.1>Math.abs(a)&&0!==a)return;this._pos=this._posTarget=a;this.__update();this._parent&&this._parent.instanceOf("wcPanel")&&this._parent.__trigger(e.EVENT.UPDATED)}return this._posTarget},animPos:function(a,b){this._posTarget=a;var c=this;this.$bar.queue(function(a){c._anim&&clearInterval(c._anim);c._anim=setInterval(function(){c._pos>
c._posTarget&&(c._pos-=(c._pos-c._posTarget)/5,c._pos<=c._posTarget+.01&&(c._pos=c._posTarget));c._pos<c._posTarget&&(c._pos+=(c._posTarget-c._pos)/5,c._pos>=c._posTarget-.01&&(c._pos=c._posTarget));c.__update();c._pos==c._posTarget&&(b&&b(),a(),clearInterval(c._anim),c._anim=0)},5)});this.$bar.dequeue()},pane:function(a,b){if(0<=a&&2>a){if("undefined"===typeof b)return this._pane[a];if(b)return this._pane[a]=b,b._parent=this,b.__container(this.$pane[a]),this._pane[0]&&this._pane[1]&&this.__update(),
b;this._pane[a]&&(this._pane[a].__container(null),this._pane[a]=!1)}return!1},left:function(a){return this.pane(0,a)},right:function(a){return this.pane(1,a)},top:function(a){return this.pane(0,a)},bottom:function(a){return this.pane(1,a)},scrollable:function(a,b,c){"undefined"!==typeof b&&this.$pane[a].toggleClass("wcScrollableX",b);"undefined"!==typeof c&&this.$pane[a].toggleClass("wcScrollableY",c);return{x:this.$pane[a].hasClass("wcScrollableX"),y:this.$pane[a].hasClass("wcScrollableY")}},destroy:function(a){if(this.docker()){var b=
this.docker()._splitterList.indexOf(this);-1<b&&this.docker()._splitterList.splice(b,1)}void 0===a||a?this.__destroy():this.__container(null)},__init:function(){this.$pane.push($('\x3cdiv class\x3d"wcLayoutPane wcScrollableX wcScrollableY"\x3e'));this.$pane.push($('\x3cdiv class\x3d"wcLayoutPane wcScrollableX wcScrollableY"\x3e'));this.$bar=$('\x3cdiv class\x3d"wcSplitterBar"\x3e');this._orientation?this.$bar.addClass("wcTall").addClass("wcSplitterBarV"):this.$bar.addClass("wcWide").addClass("wcSplitterBarH");
this.__container(this.$container);if(this._parent&&this._parent.instanceOf("wcPanel")){this._boundEvents.push({event:e.EVENT.UPDATED,handler:this.__update.bind(this)});this._boundEvents.push({event:e.EVENT.CLOSED,handler:this.destroy.bind(this)});for(var a=0;a<this._boundEvents.length;++a)this._parent.on(this._boundEvents[a].event,this._boundEvents[a].handler)}},__update:function(a){var b=this.$container.outerWidth(),c=this.$container.outerHeight(),f=this.__minPos(),g=this.__maxPos();if(this._findBestPos){this._findBestPos=
!1;var h,k;this._pane[0]&&"function"===typeof this._pane[0].initSize&&(h=this._pane[0].initSize())&&(0>h.x&&(h.x=b/2),0>h.y&&(h.y=c/2));this._pane[1]&&"function"===typeof this._pane[1].initSize&&(k=this._pane[1].initSize())&&(0>k.x&&(k.x=b/2),0>k.y&&(k.y=c/2),k.x=b-k.x,k.y=c-k.y);var l;h&&k?l={x:Math.min(h.x,k.x),y:Math.min(h.y,k.y)}:h?l=h:k&&(l=k);l&&(this._pos=this._orientation?l.x/b:l.y/c)}this.$bar.toggleClass("wcSplitterBarStatic",this.__isStatic());if(this._orientation===e.ORIENTATION.HORIZONTAL){h=
this.$bar.outerWidth()/2;k=parseInt(this.$bar.css("border-top-width"))+parseInt(this.$bar.css("border-bottom-width"));a&&(l=this._pixelPos-(this.$container.offset().left+parseInt(this.$container.css("border-left-width")))-this.$bar.outerWidth()/2,this._pos=l/(b-this.$bar.outerWidth()));this._pos=Math.min(Math.max(this._pos,0),1);l=(b-this.$bar.outerWidth())*this._pos+h;f&&(l=Math.max(f.x,l));g&&(l=Math.min(g.x,l));var m=0,t=0;this._parent&&"wcCollapser"===this._parent.declaredClass&&(f=this.docker().$container,
g=this._parent.$container,m=g.offset().top-f.offset().top,t=f.offset().top+f.outerHeight()-(g.offset().top+g.outerHeight()));this.$bar.css("left",l-h);this.$bar.css("top",m);this.$bar.css("height",c-k-t);this.$pane[0].css("width",l-h);this.$pane[0].css("left","0px");this.$pane[0].css("right","");this.$pane[0].css("top",m);this.$pane[0].css("bottom",t);this.$pane[1].css("left","");this.$pane[1].css("right","0px");this.$pane[1].css("width",b-l-h-2*parseInt(this.$container.css("border-left-width")));
this.$pane[1].css("top",m);this.$pane[1].css("bottom",t);this._pixelPos=this.$bar.offset().left+h}else h=this.$bar.outerHeight()/2,k=parseInt(this.$bar.css("border-left-width"))+parseInt(this.$bar.css("border-right-width")),a&&(l=this._pixelPos-(this.$container.offset().top+parseInt(this.$container.css("border-top-width")))-this.$bar.outerHeight()/2,this._pos=l/(c-this.$bar.outerHeight())),this._pos=Math.min(Math.max(this._pos,0),1),l=(c-this.$bar.outerHeight())*this._pos+h,f&&(l=Math.max(f.y,l)),
g&&(l=Math.min(g.y,l)),f=m=0,this._parent&&"wcCollapser"===this._parent.declaredClass&&(f=this.docker().$container,g=this._parent.$container,m=g.offset().left-f.offset().left,f=f.offset().left+f.outerWidth()-(g.offset().left+g.outerWidth())),this.$bar.css("top",l-h),this.$bar.css("left",m),this.$bar.css("width",b-k-t),this.$pane[0].css("height",l-h),this.$pane[0].css("top","0px"),this.$pane[0].css("bottom",""),this.$pane[0].css("left",m),this.$pane[0].css("right",f),this.$pane[1].css("top",""),this.$pane[1].css("bottom",
"0px"),this.$pane[1].css("height",c-l-h-2*parseInt(this.$container.css("border-top-width"))),this.$pane[1].css("left",m),this.$pane[1].css("right",f),this._pixelPos=this.$bar.offset().top+h;void 0===a&&(a=!0);this._pane[0]&&this._pane[0].__update(a);this._pane[1]&&this._pane[1].__update(a)},__save:function(){if(this._pane[0]&&"wcCollapser"===this._pane[0].declaredClass)return this._pane[1].__save();if(this._pane[1]&&"wcCollapser"===this._pane[1].declaredClass)return this._pane[0].__save();var a={type:"wcSplitter"};
a.horizontal=this._orientation;a.isDrawer=this.$bar.hasClass("wcDrawerSplitterBar");a.pane0=this._pane[0]?this._pane[0].__save():null;a.pane1=this._pane[1]?this._pane[1].__save():null;a.pos=this._pos;return a},__restore:function(a,b){this._pos=a.pos;a.isDrawer&&this.$bar.addClass("wcDrawerSplitterBar");a.pane0&&(this._pane[0]=b.__create(a.pane0,this,this.$pane[0]),this._pane[0].__restore(a.pane0,b));a.pane1&&(this._pane[1]=b.__create(a.pane1,this,this.$pane[1]),this._pane[1].__restore(a.pane1,b))},
__findBestPos:function(){this._findBestPos=!1},__moveBar:function(a){var b=this.$container.offset();a.x-=b.left;a.y-=b.top;this._orientation===e.ORIENTATION.HORIZONTAL?(b=this.$container.outerWidth()-this.$bar.outerWidth(),a.x+=1-parseInt(this.$container.css("border-left-width"))-this.$bar.outerWidth()/2,this.pos(a.x/b)):(b=this.$container.outerHeight()-this.$bar.outerHeight(),a.y+=1-parseInt(this.$container.css("border-top-width"))-this.$bar.outerHeight()/2,this.pos(a.y/b))},__minPos:function(){var a=
this.$container.outerWidth(),b=this.$container.outerHeight(),c;c=this._pane[0]&&"function"===typeof this._pane[0].minSize?this._pane[0].minSize():{x:50,y:50};var f;f=this._pane[1]&&"function"===typeof this._pane[1].maxSize?this._pane[1].maxSize():{x:a,y:b};if(this._orientation===e.ORIENTATION.HORIZONTAL){var g=this.$bar.outerWidth()/2;c.x+=g;a-=g}else g=this.$bar.outerHeight()/2,c.y+=g,b-=g;f.x=a-Math.min(f.x,a);f.y=b-Math.min(f.y,b);c.x=Math.max(c.x,f.x);c.y=Math.max(c.y,f.y);return c},__maxPos:function(){var a=
this.$container.outerWidth(),b=this.$container.outerHeight(),c;c=this._pane[0]&&"function"===typeof this._pane[0].maxSize?this._pane[0].maxSize():{x:a,y:b};var f;f=this._pane[1]&&"function"===typeof this._pane[1].minSize?this._pane[1].minSize():{x:50,y:50};if(this._orientation===e.ORIENTATION.HORIZONTAL){var g=this.$bar.outerWidth()/2;c.x+=g;a-=g}else g=this.$bar.outerHeight()/2,c.y+=g,b-=g;f.x=a-f.x;f.y=b-f.y;c.x=Math.min(f.x,c.x);c.y=Math.min(f.y,c.y);return c},__isStatic:function(){for(var a=this._orientation===
e.ORIENTATION.HORIZONTAL?"x":"y",b=0;2>b;++b)if(this._pane[b]&&this._pane[b].minSize&&this._pane[b].maxSize&&0===this._pane[b].maxSize()[a]-this._pane[b].minSize()[a])return!0;return!1},__container:function(a){if("undefined"===typeof a)return this.$container;(this.$container=a)?(this.$container.append(this.$pane[0]),this.$container.append(this.$pane[1]),this.$container.append(this.$bar)):(this.$pane[0].remove(),this.$pane[1].remove(),this.$bar.remove());return this.$container},__removeChild:function(a){if(this._pane[0]===
a)this._pane[0]=!1;else if(this._pane[1]===a)this._pane[1]=!1;else return;a&&(a.__container(null),a._parent=null)},__destroy:function(){this._anim&&(clearInterval(this._anim),this._anim=0);for(this.$bar.clearQueue();this._boundEvents.length;)this._parent.off(this._boundEvents[0].event,this._boundEvents[0].handler),this._boundEvents.shift();this._pane[0]&&(this._pane[0].__destroy(),this._pane[0]=null);this._pane[1]&&(this._pane[1].__destroy(),this._pane[1]=null);this.__container(null);this._parent=
!1}})})},"wcDocker/frame":function(){define(["dcl/dcl","wcDocker/types","wcDocker/base"],function(q,e,g){return q(g,{declaredClass:"wcFrame",LEFT_TAB_BUFFER:15,constructor:function(a,b,c){this.$container=$(a);this._parent=b;this._isFloating=c;this.$modalBlocker=this.$shadower=this.$buttonBar=this.$corner4=this.$corner3=this.$corner2=this.$corner1=this.$right=this.$left=this.$bottom=this.$top=this.$collapse=this.$close=this.$tabRight=this.$tabLeft=this.$center=this.$tabScroll=this.$tabBar=this.$titleBar=
this.$title=this.$frame=null;this._titleVisible=!0;this._canScrollTabs=!1;this._tabOrientation=e.TAB.TOP;this._tabScrollPos=0;this._curTab=-1;this._panelList=[];this._buttonList=[];this._resizeData={time:-1,timeout:!1,delta:150};this._pos={x:.5,y:.5};this._size={x:400,y:400};this._lastSize={x:400,y:400};this._anchorMouse={x:0,y:0};this.__init()},pos:function(a,b,c){var f=this.$container.width(),e=this.$container.height();if("undefined"===typeof a)return c?{x:this._pos.x*f,y:this._pos.y*e}:{x:this._pos.x,
y:this._pos.y};c?(this._pos.x=a/f,this._pos.y=b/e):(this._pos.x=a,this._pos.y=b)},initSize:function(){for(var a={x:-1,y:-1},b=0;b<this._panelList.length;++b)a.x<this._panelList[b].initSize().x&&(a.x=this._panelList[b].initSize().x),a.y<this._panelList[b].initSize().y&&(a.y=this._panelList[b].initSize().y);return 0>a.x||0>a.y?!1:a},minSize:function(){for(var a={x:0,y:0},b=0;b<this._panelList.length;++b)a.x=Math.max(a.x,this._panelList[b].minSize().x),a.y=Math.max(a.y,this._panelList[b].minSize().y);
return a},maxSize:function(){for(var a={x:Infinity,y:Infinity},b=0;b<this._panelList.length;++b)a.x=Math.min(a.x,this._panelList[b].maxSize().x),a.y=Math.min(a.y,this._panelList[b].maxSize().y);return a},tabOrientation:function(a){void 0!==a&&this._tabOrientation!==a&&this.docker()._canOrientTabs&&(this._tabOrientation=a,this.__updateTabs(),this.__updateTabs());return this._tabOrientation},addPanel:function(a,b){var c=this._panelList.indexOf(a);-1!==c&&this._panelList.splice(c,1);"undefined"===typeof b?
this._panelList.push(a):this._panelList.splice(b,0,a);-1===this._curTab&&this._panelList.length&&(this.isCollapser()||(this._curTab=0),this._size=this.initSize());this.__updateTabs()},removePanel:function(a){for(var b=0;b<this._panelList.length;++b)if(this._panelList[b]===a){this.isCollapser()?this._curTab=-1:this._curTab>=b&&this._curTab--;this._panelList[b]._parent===this&&(this._panelList[b].__container(null),this._panelList[b]._parent=null);this._panelList.splice(b,1);a._isVisible=!1;break}-1===
this._curTab&&!this.collapse()&&this._panelList.length&&(this._curTab=0);this.__updateTabs();return 0<this._panelList.length},panel:function(a,b){"undefined"!==typeof a&&(this.isCollapser()&&a===this._curTab&&(this.collapse(),a=-1),a<this._panelList.length&&(this.$tabBar.find('\x3e .wcTabScroller \x3e .wcPanelTab[id\x3d"'+this._curTab+'"]').removeClass("wcPanelTabActive"),this.$center.children('.wcPanelTabContent[id\x3d"'+this._curTab+'"]').addClass("wcPanelTabContentHidden"),this._curTab!==a&&this.collapse(),
this._curTab=a,-1<a&&(this.$tabBar.find('\x3e .wcTabScroller \x3e .wcPanelTab[id\x3d"'+a+'"]').addClass("wcPanelTabActive"),this.$center.children('.wcPanelTabContent[id\x3d"'+a+'"]').removeClass("wcPanelTabContentHidden"),this.expand()),this.__updateTabs(b)));return-1<this._curTab&&this._curTab<this._panelList.length?this._panelList[this._curTab]:this.isCollapser()&&this._panelList.length?this._panelList[0]:!1},isCollapser:function(){return this._parent&&"wcDrawer"===this._parent.declaredClass},collapse:function(a){return this.isCollapser()?
(this._parent.collapse(a),!0):!1},expand:function(){return this.isCollapser()?(this._parent.expand(),!0):!1},isExpanded:function(){if(this.isCollapser())return this._parent.isExpanded()},__init:function(){this.$frame=$('\x3cdiv class\x3d"wcFrame wcWide wcTall"\x3e');this.$title=$('\x3cdiv class\x3d"wcFrameTitle"\x3e');this.$titleBar=$('\x3cdiv class\x3d"wcFrameTitleBar wcFrameTopper"\x3e');this.$tabBar=$('\x3cdiv class\x3d"wcFrameTitleBar"\x3e');this.$tabScroll=$('\x3cdiv class\x3d"wcTabScroller"\x3e');
this.$center=$('\x3cdiv class\x3d"wcFrameCenter wcPanelBackground"\x3e');this.$tabLeft=$('\x3cdiv class\x3d"wcFrameButton" title\x3d"Scroll tabs to the left."\x3e\x3cspan class\x3d"fa fa-arrow-left"\x3e\x3c/span\x3e\x26lt;\x3c/div\x3e');this.$tabRight=$('\x3cdiv class\x3d"wcFrameButton" title\x3d"Scroll tabs to the right."\x3e\x3cspan class\x3d"fa fa-arrow-right"\x3e\x3c/span\x3e\x26gt;\x3c/div\x3e');this.$close=$('\x3cdiv class\x3d"wcFrameButton" title\x3d"Close the currently active panel tab"\x3e\x3cdiv class\x3d"fa fa-close"\x3e\x3c/div\x3eX\x3c/div\x3e');
this.$collapse=$('\x3cdiv class\x3d"wcFrameButton" title\x3d"Collapse the active panel"\x3e\x3cdiv class\x3d"fa fa-download"\x3e\x3c/div\x3eC\x3c/div\x3e');this.$buttonBar=$('\x3cdiv class\x3d"wcFrameButtonBar"\x3e');this.$tabButtonBar=$('\x3cdiv class\x3d"wcFrameButtonBar"\x3e');this.$tabBar.append(this.$tabScroll);this.$tabBar.append(this.$tabButtonBar);this.$frame.append(this.$buttonBar);this.$buttonBar.append(this.$close);this.$buttonBar.append(this.$collapse);this.$frame.append(this.$center);
this._isFloating&&(this.$top=$('\x3cdiv class\x3d"wcFrameEdgeH wcFrameEdge"\x3e\x3c/div\x3e').css("top","-6px").css("left","0px").css("right","0px"),this.$bottom=$('\x3cdiv class\x3d"wcFrameEdgeH wcFrameEdge"\x3e\x3c/div\x3e').css("bottom","-6px").css("left","0px").css("right","0px"),this.$left=$('\x3cdiv class\x3d"wcFrameEdgeV wcFrameEdge"\x3e\x3c/div\x3e').css("left","-6px").css("top","0px").css("bottom","0px"),this.$right=$('\x3cdiv class\x3d"wcFrameEdgeV wcFrameEdge"\x3e\x3c/div\x3e').css("right",
"-6px").css("top","0px").css("bottom","0px"),this.$corner1=$('\x3cdiv class\x3d"wcFrameCornerNW wcFrameEdge"\x3e\x3c/div\x3e').css("top","-6px").css("left","-6px"),this.$corner2=$('\x3cdiv class\x3d"wcFrameCornerNE wcFrameEdge"\x3e\x3c/div\x3e').css("top","-6px").css("right","-6px"),this.$corner3=$('\x3cdiv class\x3d"wcFrameCornerNW wcFrameEdge"\x3e\x3c/div\x3e').css("bottom","-6px").css("right","-6px"),this.$corner4=$('\x3cdiv class\x3d"wcFrameCornerNE wcFrameEdge"\x3e\x3c/div\x3e').css("bottom",
"-6px").css("left","-6px"),this.$frame.append(this.$top),this.$frame.append(this.$bottom),this.$frame.append(this.$left),this.$frame.append(this.$right),this.$frame.append(this.$corner1),this.$frame.append(this.$corner2),this.$frame.append(this.$corner3),this.$frame.append(this.$corner4));this.__container(this.$container);this._isFloating&&this.$frame.addClass("wcFloating");this.$center.scroll(this.__scrolled.bind(this))},__update:function(){var a=this.$container.width(),b=this.$container.height();
if(this._isFloating){var c=this._pos.x*a-this._size.x/2,f=this._pos.y*b-this._size.y/2;0>f&&(f=0);0>c+this._size.x/2&&(c=-this._size.x/2);c+this._size.x/2>a&&(c=a-this._size.x/2);f+parseInt(this.$center.css("top"))>b&&(f=b-parseInt(this.$center.css("top")));this.$frame.css("left",c+"px");this.$frame.css("top",f+"px");this.$frame.css("width",this._size.x+"px");this.$frame.css("height",this._size.y+"px")}if(a!==this._lastSize.x||b!==this._lastSize.y)this._lastSize.x=a,this._lastSize.y=b,this._resizeData.time=
new Date,this._resizeData.timeout||(this._resizeData.timeout=!0,setTimeout(this.__resizeEnd.bind(this),this._resizeData.delta));this.__onTabChange()},__resizeEnd:function(){this.__updateTabs(null,!0);new Date-this._resizeData.time<this._resizeData.delta?setTimeout(this.__resizeEnd.bind(this),this._resizeData.delta):this._resizeData.timeout=!1},__trigger:function(a,b){for(var c=0;c<this._panelList.length;++c)this._panelList[c].__trigger(a,b)},__save:function(){var a={type:"wcFrame"};a.floating=this._isFloating;
a.isFocus=this.$frame.hasClass("wcFloatingFocus");a.tabOrientation=this._tabOrientation;a.pos={x:this._pos.x,y:this._pos.y};a.size={x:this._size.x,y:this._size.y};a.tab=this._curTab;a.panels=[];for(var b=0;b<this._panelList.length;++b)a.panels.push(this._panelList[b].__save());return a},__restore:function(a,b){this._isFloating=a.floating;this._tabOrientation=a.tabOrientation||e.TAB.TOP;this._pos.x=a.pos.x;this._pos.y=a.pos.y;this._size.x=a.size.x;this._size.y=a.size.y;this._curTab=a.tab;for(var c=
0;c<a.panels.length;++c){var f=b.__create(a.panels[c],this,this.$center);f.__restore(a.panels[c],b);this._panelList.push(f)}this.__update();a.isFocus&&this.$frame.addClass("wcFloatingFocus")},__updateTabs:function(a,b){this.$tabScroll.empty();var c=function(a){switch(this._tabOrientation){case e.TAB.BOTTOM:return a.offset().left;case e.TAB.TOP:return a.offset().left;case e.TAB.LEFT:return a.offset().top;case e.TAB.RIGHT:return a.offset().top}}.bind(this),f=[],g=[],h=0,k=c(this.$tabScroll),l=1<this._panelList.length||
this._isFloating||this.isCollapser();this.isCollapser()?this.$tabBar.addClass("wcNotMoveable"):(this.$titleBar.removeClass("wcNotMoveable"),this.$tabBar.removeClass("wcNotMoveable"));this.$center.children(".wcPanelTabContent").each(function(){$(this).addClass("wcPanelTabContentHidden wcPanelTabUnused")});this._titleVisible=!0;this.$title.html("");for(var m=0;m<this._panelList.length;++m){var t=this._panelList[m],p=null;l&&(p=t.$title,t.$title.attr("id",m),this.$tabScroll.append(t.$title));t.moveable()||
(this.$titleBar.addClass("wcNotMoveable"),this.$tabBar.addClass("wcNotMoveable"));t._titleVisible||(this._titleVisible=!1);var r=null,r=this.$center.children('.wcPanelTabContent[id\x3d"'+m+'"]');r.length||(r=$('\x3cdiv class\x3d"wcPanelTabContent wcPanelTabContentHidden" id\x3d"'+m+'"\x3e'),this.$center.append(r));t.__container(r);t._parent=this;var d=this._curTab===m;t.isVisible()!==d&&f.push({panel:t,isVisible:d});r&&r.removeClass("wcPanelTabUnused");d&&(p&&p.addClass("wcPanelTabActive active"),
r&&r.removeClass("wcPanelTabContentHidden"),this.$title.html(t.title()),t.$icon&&(t=t.$icon.clone(),this.$title.prepend(t)));p&&(h=c(p)-k,g.push(h),h+=p.outerWidth())}p=0;if(this._titleVisible){this.$frame.parent()||this.$center.css("top","");switch(this._tabOrientation){case e.TAB.TOP:this.$frame.prepend(this.$tabBar);this.$titleBar.remove();this.$tabBar.addClass("wcTabTop").removeClass("wcTabLeft wcTabRight wcTabBottom");l?this.$title.remove():this.$tabBar.prepend(this.$title);this.$center.css("left",
0).css("right",0).css("bottom",0);p=this.$center.width();break;case e.TAB.BOTTOM:this.$frame.prepend(this.$titleBar);this.$titleBar.append(this.$title);l?(m=this.$titleBar.height(),this.$frame.append(this.$tabBar),this.$tabBar.addClass("wcTabBottom").removeClass("wcTabTop wcTabLeft wcTabRight"),this.$center.css("left",0).css("right",0).css("bottom",m)):this.$tabBar.remove();p=this.$center.width();break;case e.TAB.LEFT:this.$frame.prepend(this.$titleBar);this.$titleBar.append(this.$title);l?(m=this.$titleBar.height(),
this.$frame.append(this.$tabBar),this.$tabBar.addClass("wcTabLeft").removeClass("wcTabTop wcTabRight wcTabBottom"),this.$center.css("left",m).css("right",0).css("bottom",0)):this.$tabBar.remove();p=this.$center.height();break;case e.TAB.RIGHT:this.$frame.prepend(this.$titleBar),this.$titleBar.append(this.$title),l?(m=this.$titleBar.height(),this.$frame.append(this.$tabBar),this.$tabBar.addClass("wcTabRight").removeClass("wcTabTop wcTabLeft wcTabBottom"),this.$center.css("left",0).css("right",m).css("bottom",
0)):this.$tabBar.remove(),p=this.$center.height()}l||this.$center.css("left",0).css("right",0).css("bottom",0)}else this.$titleBar.remove(),this.$tabBar.remove(),this.$center.css("top",0).css("left",0).css("right",0).css("bottom",0);this.$center.children(".wcPanelTabUnused").each(function(){$(this).remove()});if(this._titleVisible){l=this.__onTabChange();if(a)for(m=0;m<g.length;++m)if(m===this._curTab){t=g[m];r=h;m+1<g.length&&(r=g[m+1]);m=-parseInt(this.$tabScroll.css("left"));g=p-l;t<m?(this._tabScrollPos=
t-this.LEFT_TAB_BUFFER,0>this._tabScrollPos&&(this._tabScrollPos=0)):r-m>g&&(this._tabScrollPos=r-g+this.LEFT_TAB_BUFFER);break}this._canScrollTabs=!1;if(h>p-l){if(this._canScrollTabs=this._titleVisible)this.$tabButtonBar.append(this.$tabRight),this.$tabButtonBar.append(this.$tabLeft),l+=this.$tabRight.outerWidth(),l+=this.$tabLeft.outerWidth();g=h-(p-l)/2;if(this._tabScrollPos>g)for(l=this.$tabScroll.children(),m=0;m<l.length;++m)if(p=$(l[m]),h=c(p)-k,h+p.outerWidth()>g){this._tabScrollPos=h-this.LEFT_TAB_BUFFER;
0>this._tabScrollPos&&(this._tabScrollPos=0);break}}else this._tabScrollPos=0,this.$tabLeft.remove(),this.$tabRight.remove();for(m=0;m<f.length;++m)f[m].panel.__isVisible(f[m].isVisible)}},__onTabChange:function(){var a=0,b=0,c=this.panel();this.$tabLeft.remove();this.$tabRight.remove();this.$close.hide();for(this.$collapse.hide();this._buttonList.length;)this._buttonList.pop().remove();if(c){var f=c.scrollable();this.$center.toggleClass("wcScrollableX",f.x);this.$center.toggleClass("wcScrollableY",
f.y);this.$frame.toggleClass("wcOverflowVisible",c.overflowVisible());this.$center.toggleClass("wcOverflowVisible",c.overflowVisible());if(!this.isCollapser()||this.isExpanded()){c.closeable()&&(this.$close.show(),a+=this.$close.outerWidth());var g=this.docker();if(g.isCollapseEnabled()&&c.moveable()&&c.collapsible()&&!this._isFloating&&!c._isPlaceholder)if(this.isCollapser()){f=this.$collapse.children("div");f[0].className="fa fa-sign-out";switch(this._parent._position){case e.DOCK.LEFT:f.addClass("wcCollapseLeft");
break;case e.DOCK.RIGHT:f.addClass("wcCollapseRight");break;case e.DOCK.BOTTOM:f.addClass("wcCollapseBottom")}f.addClass("wcCollapsed");this.$collapse.show();this.$collapse.attr("title","Dock this collapsed panel back into the main layout.");a+=this.$collapse.outerWidth()}else{f=e.DOCK.BOTTOM;if(c._collapseDirection===e.DOCK.LEFT||c._collapseDirection===e.DOCK.RIGHT||c._collapseDirection===e.DOCK.BOTTOM)f=c._collapseDirection;else{var h=g.$container;!$.isEmptyObject(g._collapser)&&g._collapser.hasOwnProperty(e.DOCK.RIGHT)&&
(h=g._collapser[e.DOCK.RIGHT]._parent.$pane[0]);var g=h.offset(),k=this.$container.offset();k.right=(k.left+this.$container.width()-g.left)/h.width();k.bottom=(k.top+this.$container.height()-g.top)/h.height();k.top=(k.top-g.top)/h.height();k.left=(k.left-g.left)/h.width();"function"===typeof c._collapseDirection?f=c._collapseDirection(k):.5<k.top&&.95<k.bottom?f=e.DOCK.BOTTOM:.05>=k.left?f=e.DOCK.LEFT:.95<=k.right?f=e.DOCK.RIGHT:.95<k.bottom&&(f=e.DOCK.BOTTOM)}g=h="";switch(f){case e.DOCK.LEFT:h=
"left side.";g="wcCollapseLeft";break;case e.DOCK.RIGHT:h="right side.";g="wcCollapseRight";break;case e.DOCK.BOTTOM:h="bottom.",g="wcCollapseBottom"}h&&(f=this.$collapse.children("div"),f[0].className="fa fa-sign-in",f.addClass(g),f.addClass("wcCollapsible"),this.$collapse.show(),this.$collapse.attr("title","Collapse this panel into the "+h),a+=this.$collapse.outerWidth())}for(f=0;f<c._buttonList.length;++f)h=c._buttonList[f],g=$("\x3cdiv\x3e"),k=h.className,g.addClass("wcFrameButton"),h.isTogglable&&
(g.addClass("wcFrameButtonToggler"),h.isToggled&&(g.addClass("wcFrameButtonToggled"),k=h.toggleClassName||k)),g.attr("title",h.tip),g.data("name",h.name),g.text(h.text),k&&g.prepend($('\x3cdiv class\x3d"'+k+'"\x3e')),this._buttonList.push(g),this.$buttonBar.append(g),a+=g.outerWidth()}this._canScrollTabs&&(this.$tabButtonBar.append(this.$tabRight),this.$tabButtonBar.append(this.$tabLeft),b+=this.$tabRight.outerWidth()+this.$tabLeft.outerWidth());if(this._titleVisible)switch(this.$buttonBar.css("right",
""),this._tabOrientation){case e.TAB.RIGHT:this.$buttonBar.css("right",this.$tabBar.height());case e.TAB.LEFT:this.$tabBar.css("width",this.$center.height()+this.$tabBar.height());break;case e.TAB.TOP:case e.TAB.BOTTOM:this.$tabBar.css("width",this.$center.width())}c.__update();this.$center.scrollLeft(c._scroll.x);this.$center.scrollTop(c._scroll.y)}this.$buttonBar.css("min-width",a).css("width",a);this.$tabButtonBar.css("min-width",b).css("width",b);if(this._tabOrientation===e.TAB.TOP)return this.$tabButtonBar.css("right",
a),a+b;this.$tabButtonBar.css("right",0);return b},__scrolled:function(){var a=this.panel();a._scroll.x=this.$center.scrollLeft();a._scroll.y=this.$center.scrollTop();a.__trigger(e.EVENT.SCROLLED)},__focus:function(a){if(a){var b=$('\x3cdiv class\x3d"wcFrameFlasher"\x3e');this.$frame.append(b);b.animate({opacity:1},100).animate({opacity:0},100).animate({opacity:.6},50).animate({opacity:0},50).queue(function(a){b.remove();a()})}},__move:function(a){var b=this.$container.width(),c=this.$container.height();
this._pos.x=(a.x+this._anchorMouse.x)/b;this._pos.y=(a.y+this._anchorMouse.y)/c},__anchorMove:function(a){var b=this.$container.width(),c=this.$container.height();this._anchorMouse.x=this._pos.x*b-a.x;this._anchorMouse.y=this._pos.y*c-a.y},__tabMove:function(a,b){if(0<=a&&a<this._panelList.length&&0<=b&&b<this._panelList.length){var c=this._panelList.splice(a,1);this._panelList.splice(b,0,c[0]);this._curTab===a&&(this._curTab=b);this.__updateTabs();return this.$tabBar.find('\x3e .wcTabScroller \x3e .wcPanelTab[id\x3d"'+
b+'"]')[0]}return!1},__checkAnchorDrop:function(a,b,c,f,e,g){var k=this.panel();return k&&k.moveable()?k.layout().__checkAnchorDrop(a,b&&this._tabOrientation,c,!this._isFloating&&!this.isCollapser()&&f,this.$frame,k.moveable()&&k.title(),e,this.isCollapser()?this._tabOrientation:void 0,g):!1},__resize:function(a,b){var c=this.$container.width(),f=this.$container.height(),e=this.$container.offset();b.x-=e.left;b.y-=e.top;for(var e=this.minSize(),g=this.maxSize(),k=this._pos.x*c-this._size.x/2,l=this._pos.y*
f-this._size.y/2,m=0;m<a.length;++m){switch(a[m]){case "top":this._size.y+=l-b.y-2;l=b.y+2;this._size.y<e.y&&(l+=this._size.y-e.y,this._size.y=e.y);this._size.y>g.y&&(l+=this._size.y-g.y,this._size.y=g.y);break;case "bottom":this._size.y=b.y-4-l;this._size.y<e.y&&(this._size.y=e.y);this._size.y>g.y&&(this._size.y=g.y);break;case "left":this._size.x+=k-b.x-2;k=b.x+2;this._size.x<e.x&&(k+=this._size.x-e.x,this._size.x=e.x);this._size.x>g.x&&(k+=this._size.x-g.x,this._size.x=g.x);break;case "right":this._size.x=
b.x-4-k,this._size.x<e.x&&(this._size.x=e.x),this._size.x>g.x&&(this._size.x=g.x)}this._pos.x=(k+this._size.x/2)/c;this._pos.y=(l+this._size.y/2)/f}},__shadow:function(a){if(a)this.$shadower||(this.$shadower=$('\x3cdiv class\x3d"wcFrameShadower"\x3e'),this.$frame.append(this.$shadower),this.$shadower.animate({opacity:.5},300));else if(this.$shadower){var b=this;this.$shadower.animate({opacity:0},300).queue(function(a){b.$shadower.remove();b.$shadower=null;a()})}},__rect:function(){if(this.isCollapser())return this._parent.__rect();
var a=this.$frame.offset(),b=this.$frame.width(),c=this.$frame.height();return{x:a.left,y:a.top,w:b,h:c}},__container:function(a){if("undefined"===typeof a)return this.$container;(this.$container=a)?this.$container.append(this.$frame):this.$frame.remove();return this.$container},__destroy:function(){this._curTab=-1;for(var a=0;a<this._panelList.length;++a)this._panelList[a].__destroy();for(;this._panelList.length;)this._panelList.pop();this.$modalBlocker&&(this.$modalBlocker.remove(),this.$modalBlocker=
null);this.__container(null);this._parent=null}})})},"wcDocker/collapser":function(){define(["dcl/dcl","wcDocker/types","wcDocker/splitter","wcDocker/drawer","wcDocker/base"],function(q,e,g,a,b){return q(b,{declaredClass:"wcCollapser",constructor:function(a,b,g){this.$container=$(a);this.$frame=null;this._position=g;this._parent=b;this._drawer=this._splitter=null;this._size=0;this._orientation=this._position===e.DOCK.LEFT||this._position===e.DOCK.RIGHT?e.ORIENTATION.HORIZONTAL:e.ORIENTATION.VERTICAL;
this.__init()},collapse:function(a){this._drawer.collapse()},expand:function(){this._drawer.expand()},isExpanded:function(){return this._drawer.isExpanded()},minSize:function(){return{x:this._size,y:this._size}},maxSize:function(){var a=this._orientation===e.ORIENTATION.HORIZONTAL?!0:!1;return{x:a?this._size:Infinity,y:a?Infinity:this._size}},__init:function(){this.$frame=$('\x3cdiv class\x3d"wcCollapserFrame"\x3e');this.__container(this.$container);var a=this.docker();this._splitter=new (this.docker().__getClass("wcSplitter"))(a.$container,
this,this._orientation);this._drawer=new (this.docker().__getClass("wcDrawer"))(a.$transition,this._splitter,this._position);switch(this._position){case e.DOCK.LEFT:this._splitter.pane(0,this._drawer);this._splitter.$pane[1].remove();this._splitter.$pane[0].addClass("wcDrawer");this._splitter.pos(0);break;case e.DOCK.RIGHT:case e.DOCK.BOTTOM:this._splitter.pane(1,this._drawer),this._splitter.$pane[0].remove(),this._splitter.$pane[1].addClass("wcDrawer"),this._splitter.pos(1)}this._parent.$bar.addClass("wcSplitterHidden")},
__update:function(a){this._splitter.__update();this.__adjustSize()},__adjustSize:function(){this._size=this._drawer._frame._panelList.length?this._drawer._frame.$tabBar.outerHeight():0},__rect:function(){return this._drawer.__rect()},__save:function(){var a={};a.size=this._size;a.drawer=this._drawer.__save();return a},__restore:function(a,b){this._size=a.size;this._drawer.__restore(a.drawer,b);this.__adjustSize()},__container:function(a){if("undefined"===typeof a)return this.$container;(this.$container=
a)?this.$container.append(this.$frame):this.$frame.remove();return this.$container},__destroy:function(){this._splitter&&(this._splitter.__destroy(),this._frame=this._splitter=null);this.__container(null);this._parent=null}})})},"wcDocker/drawer":function(){define(["dcl/dcl","wcDocker/types","wcDocker/frame","wcDocker/base"],function(q,e,g,a){return q(a,{declaredClass:"wcDrawer",constructor:function(a,c,f){this.$container=$(a);this.$frame=null;this._position=f;this._parent=c;this._frame=null;this._closeSize=
0;this._sliding=this._expanded=!1;this._orientation=this._position===e.DOCK.LEFT||this._position===e.DOCK.RIGHT?e.ORIENTATION.HORIZONTAL:e.ORIENTATION.VERTICAL;this.__init()},collapse:function(a){if(this._expanded){var c=this._frame.panel();if(c){var f=this._parent.pos();this._position!==e.DOCK.LEFT&&(f=1-f);var g;this._position===e.DOCK.BOTTOM?(g=this.docker().$container.height(),c._size.y=f*g):(g=this.docker().$container.width(),c._size.x=f*g)}this._expanded=!1;if(a)switch(this._position){case e.DOCK.TOP:case e.DOCK.LEFT:this._parent.pos(0);
break;case e.DOCK.RIGHT:case e.DOCK.BOTTOM:this._parent.pos(1)}else{this._sliding=!0;var h=this;a=function(){h._sliding=!1;h._parent.__update()};switch(this._position){case e.DOCK.TOP:case e.DOCK.LEFT:this._parent.animPos(0,a);break;case e.DOCK.RIGHT:case e.DOCK.BOTTOM:this._parent.animPos(1,a)}}}},expand:function(){if(!this._expanded){this._sliding=this._expanded=!0;var a=this._frame.panel();if(a){var c;this._position===e.DOCK.BOTTOM?(a=a._size.y,c=this.docker().$container.height()):(a=a._size.x,
c=this.docker().$container.width());this._position!==e.DOCK.LEFT&&(a=c-a);var f=this;this._parent.animPos(a/c,function(){f._sliding=!1;f._parent.__update()})}}},isExpanded:function(){return this._expanded},minSize:function(){if(this._expanded)return this._root&&"function"===typeof this._root.minSize?this._root.minSize():{x:100,y:50};this.__adjustCollapsedSize();return{x:this._closeSize,y:this._closeSize}},maxSize:function(){var a=this._orientation===e.ORIENTATION.HORIZONTAL?!0:!1;if(this._expanded||
this._sliding)return this._root&&"function"===typeof this._root.maxSize?{x:a?this._root.maxSize().x:Infinity,y:a?Infinity:this._root.maxSize().y}:{x:Infinity,y:Infinity};this.__adjustCollapsedSize();return{x:a?this._closeSize:Infinity,y:a?Infinity:this._closeSize}},__init:function(){this.$frame=$('\x3cdiv class\x3d"wcCollapserFrame"\x3e');this.__container(this.$container);this._frame=new (this.docker().__getClass("wcFrame"))(this.$frame,this,!1);this._frame.tabOrientation(this._position)},__update:function(a){this.__adjustCollapsedSize();
this._frame.__update()},__adjustCollapsedSize:function(){this._frame._panelList.length?(this._closeSize=this._frame.$tabBar.outerHeight(),this._parent.$bar.removeClass("wcSplitterHidden")):(this._closeSize=0,this._parent.$bar.addClass("wcSplitterHidden"))},__rect:function(){var a=this.$frame.offset(),c=this.$frame.width(),f=this.$frame.height(),g=this._frame.panel();g&&(this._position===e.DOCK.BOTTOM?(f=g._size.y,c/=3):(c=g._size.x,f/=3));return{x:a.left,y:a.top,w:c,h:f}},__save:function(){var a=
{};a.closeSize=this._closeSize;a.frame=this._frame.__save();return a},__restore:function(a,c){this._closeSize=a.closeSize;this._frame.__restore(a.frame,c);this.__adjustCollapsedSize()},__container:function(a){if("undefined"===typeof a)return this.$container;(this.$container=a)?this.$container.append(this.$frame):this.$frame.remove();return this.$container},__destroy:function(){this._frame&&(this._frame.__destroy(),this._frame=null);this.__container(null);this._parent=null}})})},"wcDocker/layoutsimple":function(){define(["dcl/dcl",
"wcDocker/types","wcDocker/layout"],function(q,e,g){return q(g,{declaredClass:"wcLayoutSimple",addItem:function(a){this.$elem.append(a)},clear:function(){this.$elem.remove();this.$elem=null;this.__init()},__init:function(){this.$elem=$('\x3cdiv class\x3d"wcLayout wcWide wcTall"\x3e\x3c/div\x3e');this.__container(this.$container)},__update:function(){}})})},"wcDocker/layout":function(){define(["dcl/dcl","wcDocker/types"],function(q,e){return q(null,{declaredClass:"wcLayout",constructor:function(e,
a){this.$container=$(e);this._parent=a;this.$elem=null;this.__init()},addItem:function(e){},clear:function(){},scene:function(){return this.$elem},__init:function(){},__update:function(){},__checkAnchorDrop:function(g,a,b,c,f,u,h,k,l){function m(a,b,c){return"number"===typeof a||"string"===typeof a&&-1!==a.indexOf("px",a.length-2)?(a=parseInt(a),{x:a,y:a}):"string"===typeof a&&-1!==a.indexOf("%",a.length-1)?(a=parseInt(a)/100,{x:b*a,y:c*a}):{x:0,y:0}}var t=this._parent.docker(),p=f.outerWidth(),r=
f.outerHeight(),d=f.offset();f=f.find(".wcFrameTitleBar").height();u||(f=0);var q=m(t._options.edgeAnchorSize,t.$container.outerWidth(),t.$container.outerHeight()),v=m(t._options.panelAnchorSize,p,r);if(u){if((!k||k===e.TAB.TOP)&&g.y>=d.top&&g.y<=d.top+f&&g.x>=d.left&&g.x<=d.left+p)return b.anchor(g,{x:d.left-2,y:d.top-2,w:p,h:f-2,loc:e.DOCK.STACKED,tab:e.TAB.TOP,item:this,self:a===e.TAB.TOP||h&&a}),!0;if(t._canOrientTabs){if((!k||k===e.TAB.BOTTOM)&&g.y>=d.top+r-f&&g.y<=d.top+r&&g.x>=d.left&&g.x<=
d.left+p)return b.anchor(g,{x:d.left-2,y:d.top+r-f-2,w:p,h:f,loc:e.DOCK.STACKED,tab:e.TAB.BOTTOM,item:this,self:a===e.TAB.BOTTOM}),!0;if((!k||k===e.TAB.LEFT)&&g.y>=d.top&&g.y<=d.top+r&&g.x>=d.left&&g.x<=d.left+f)return b.anchor(g,{x:d.left-2,y:d.top-2,w:f-2,h:r,loc:e.DOCK.STACKED,tab:e.TAB.LEFT,item:this,self:a===e.TAB.LEFT}),!0;if((!k||k===e.TAB.RIGHT)&&g.y>=d.top&&g.y<=d.top+r&&g.x>=d.left+p-f&&g.x<=d.left+p)return b.anchor(g,{x:d.left+p-f-2,y:d.top-2,w:f,h:r,loc:e.DOCK.STACKED,tab:e.TAB.RIGHT,
item:this,self:a===e.TAB.RIGHT}),!0}}if(l&&b._outer&&b._inner){a=b._outer.$container.outerWidth();u=b._outer.$container.outerHeight();h=b._outer.$container.offset();if(g.y>=h.top&&g.y<=h.top+u&&g.x>=h.left+f&&g.x<=h.left+f+q.x)return b.anchor(g,{x:h.left-2,y:h.top-2,w:a/3,h:u,loc:e.DOCK.LEFT,item:b._inner,self:!1}),!0;if(g.y>=h.top&&g.y<=h.top+u&&g.x>=h.left+a-q.x-f&&g.x<=h.left+a-f)return b.anchor(g,{x:h.left+a-a/3-2,y:h.top-2,w:a/3,h:u,loc:e.DOCK.RIGHT,item:b._inner,self:!1}),!0;if(g.y>=h.top+f&&
g.y<=h.top+f+q.y&&g.x>=h.left&&g.x<=h.left+a)return b.anchor(g,{x:h.left-2,y:h.top-2,w:a,h:u/3,loc:e.DOCK.TOP,item:b._inner,self:!1}),!0;if(g.y>=h.top+u-f-q.y&&g.y<=h.top+u-f&&g.x>=h.left&&g.x<=h.left+a)return b.anchor(g,{x:h.left-2,y:h.top+u-u/3-2,w:a,h:u/3,loc:e.DOCK.BOTTOM,item:b._inner,self:!1}),!0}if(!c)return!1;if(this._parent&&this._parent.instanceOf("wcPanel")&&this._parent._isPlaceholder)return b.anchor(g,{x:d.left-2,y:d.top-2,w:p,h:r,loc:e.DOCK.TOP,item:this,self:!1}),!0;if(p<r){if(g.y>=
d.top&&g.y<=d.top+f+v.y&&g.x>=d.left&&g.x<=d.left+p)return b.anchor(g,{x:d.left-2,y:d.top-2,w:p,h:.5*r,loc:e.DOCK.TOP,item:this,self:!1}),!0;if(g.y>=d.top+r-v.y-f&&g.y<=d.top+r&&g.x>=d.left&&g.x<=d.left+p)return b.anchor(g,{x:d.left-2,y:d.top+(r-.5*r)-2,w:p,h:.5*r,loc:e.DOCK.BOTTOM,item:this,self:!1}),!0}if(g.y>=d.top&&g.y<=d.top+r){if(g.x>=d.left&&g.x<=d.left+v.x+f)return b.anchor(g,{x:d.left-2,y:d.top-2,w:.5*p,h:r,loc:e.DOCK.LEFT,item:this,self:!1}),!0;if(g.x>=d.left+p-v.x-f&&g.x<=d.left+p)return b.anchor(g,
{x:d.left+.5*p-2,y:d.top-2,w:.5*p,h:r,loc:e.DOCK.RIGHT,item:this,self:!1}),!0}if(p>=r){if(g.y>=d.top&&g.y<=d.top+v.y+f&&g.x>=d.left&&g.x<=d.left+p)return b.anchor(g,{x:d.left-2,y:d.top-2,w:p,h:.5*r,loc:e.DOCK.TOP,item:this,self:!1}),!0;if(g.y>=d.top+r-v.y-f&&g.y<=d.top+r&&g.x>=d.left&&g.x<=d.left+p)return b.anchor(g,{x:d.left-2,y:d.top+(r-.5*r)-2,w:p,h:.5*r,loc:e.DOCK.BOTTOM,item:this,self:!1}),!0}return!1},__container:function(e){if("undefined"===typeof e)return this.$container;(this.$container=
e)?this.$container.append(this.$elem):this.$elem.remove();return this.$container},__destroy:function(){this.__container(null);this._parent=null;this.clear();this.$elem.remove();this.$elem=null}})})},"wcDocker/layouttable":function(){define(["dcl/dcl","wcDocker/types","wcDocker/layout"],function(q,e,g){return q(g,{declaredClass:"wcLayoutTable",addItem:function(a,b,c,f,e){if("undefined"===typeof b||0>b)b=0;if("undefined"===typeof c||0>c)c=0;if("undefined"===typeof f||0>=f)f=1;if("undefined"===typeof e||
0>=e)e=1;this.__resizeGrid(b+f-1,c+e-1);if((1<f||1<e)&&!this.__mergeGrid(b,c,f,e))return!1;this._grid[c][b].$el.append($(a));return this.item(b,c)},item:function(a,b){if(b>=this._grid.length||a>=this._grid[b].length)return!1;var c=this,f={$:c._grid[b][a].$el,css:function(e,g){if(c._grid[b][a].$el){if(void 0===g)return c._grid[b][a].$el.css(e);c._grid[b][a].$el.css(e,g)}return f},stretch:function(e,g){c.itemStretch(a,b,e,g);return f}};return f},itemStretch:function(a,b,c,f){var e=this._batchProcess;
this._batchProcess=!0;this.__resizeGrid(a,b);a=this._grid[b][a];if(0>a.x||0>a.y)return!1;void 0!==c&&(a.sx=c);void 0!==f&&(a.sy=f);(this._batchProcess=e)||this.__resizeGrid(0,0);return!0},clear:function(){var a=this.showGrid(),b=this.gridSpacing(),c=this.gridAlternate();this.$elem.remove();this.__init();this.showGrid(a);this.gridSpacing(b);this.gridAlternate(c);this._grid=[]},startBatch:function(){this._batchProcess=!0},finishBatch:function(){this._batchProcess=!1;this.__resizeGrid(0,0)},showGrid:function(a){"undefined"!==
typeof a&&this.$elem.toggleClass("wcLayoutGrid",a);return this.$elem.hasClass("wcLayoutGrid")},gridSpacing:function(a){"undefined"!==typeof a&&this.$elem.css("border-spacing",a+"px");return parseInt(this.$elem.css("border-spacing"))},gridAlternate:function(a){"undefined"!==typeof a&&this.$elem.toggleClass("wcLayoutGridAlternate",a);return this.$elem.hasClass("wcLayoutGridAlternate")},__init:function(){this.$elem=$('\x3ctable class\x3d"wcLayout wcWide wcTall"\x3e\x3c/table\x3e');this.$elem.append($("\x3ctbody\x3e\x3c/tbody\x3e"));
this._grid=[];this.__container(this.$container)},__update:function(){},__resizeGrid:function(a,b){for(var c=0;c<=b;++c){if(this._grid.length<=c){var f=[];f.$row=$("\x3ctr\x3e");this._grid.push(f)}for(f=0;f<=a;++f)this._grid[c].length<=f&&this._grid[c].push({$el:$("\x3ctd\x3e"),x:0,y:0,sx:"",sy:""})}if(!this._batchProcess){var e=this.$elem.find("tbody");$(".wcDockerTransition").append(e);for(var g=$("\x3ctbody\x3e"),c=0;c<this._grid.length;++c)for(var k=null,f=0;f<this._grid[c].length;++f){var l=this._grid[c][f];
l.$el&&(k||(k=this._grid[c].$row,g.append(k)),l.$el.css("width",l.sx),l.$el.css("height",l.sy),k.append(l.$el))}this.$elem.append(g);e.remove()}},__mergeGrid:function(a,b,c,f){for(var e=0;e<f;++e)for(var g=0;g<c;++g){var k=this._grid[b+e][a+g];if(!k.$el||0!==k.x||0!==k.y)return!1}k=this._grid[b][a];1<c&&(k.$el.attr("colspan",""+c),k.x=c-1);1<f&&(k.$el.attr("rowspan",""+f),k.y=f-1);for(e=0;e<f;++e)for(g=0;g<c;++g)if(0!==e||0!==g)k=this._grid[b+e][a+g],k.$el.remove(),k.$el=null,k.x=-g,k.y=-e;return!0}})})},
"wcDocker/tabframe":function(){define(["dcl/dcl","wcDocker/types","wcDocker/base"],function(q,e,g){return q(g,{declaredClass:"wcTabFrame",LEFT_TAB_BUFFER:15,constructor:function(a,b){this.$container=$(a);this._parent=b;this.$close=this.$tabRight=this.$tabLeft=this.$center=this.$tabScroll=this.$tabBar=this.$frame=null;this._tabOrientation=e.TAB.TOP;this._canScrollTabs=!1;this._tabScrollPos=0;this._curTab=-1;this._layoutList=[];this._moveable=!0;this._boundEvents=[];this.__init()},update:function(){var a=
this.$center.scrollTop();this.__updateTabs();this.$center.scrollTop(a)},destroy:function(){this.__destroy()},tabCount:function(){return this._layoutList.length},tabOrientation:function(a){void 0!==a&&this._tabOrientation!==a&&this.docker()._canOrientTabs&&(this._tabOrientation=a,this.__updateTabs(),this.__updateTabs());return this._tabOrientation},addTab:function(a,b,c){c=c||"wcLayoutTable";c=new (this.docker().__getClass(c))(".wcDockerTransition",this._parent);c.name=a;c._scrollable={x:!0,y:!0};
c._scroll={x:0,y:0};c._closeable=!1;c._overflowVisible=!1;"undefined"===typeof b||-1>=b?this._layoutList.push(c):this._layoutList.splice(b,0,c);-1===this._curTab&&this._layoutList.length&&(this._curTab=0);this.__updateTabs();return c},removeTab:function(a){if(-1<a&&a<this._layoutList.length){var b=this._layoutList[a].name;this._layoutList[a].__destroy();this._layoutList.splice(a,1);this._curTab>=a&&(this._curTab--,0>this._curTab&&(this._curTab=0));this.__updateTabs();this._parent.__trigger(e.EVENT.CUSTOM_TAB_CLOSED,
{obj:this,name:b,index:a});return!0}return!1},tab:function(a,b){"undefined"!==typeof a&&-1<a&&a<this._layoutList.length&&(this.$tabBar.find('\x3e .wcTabScroller \x3e .wcPanelTab[id\x3d"'+this._curTab+'"]').removeClass("wcPanelTabActive"),this.$center.children('.wcPanelTabContent[id\x3d"'+this._curTab+'"]').addClass("wcPanelTabContentHidden"),this._curTab=a,this.$tabBar.find('\x3e .wcTabScroller \x3e .wcPanelTab[id\x3d"'+a+'"]').addClass("wcPanelTabActive"),this.$center.children('.wcPanelTabContent[id\x3d"'+
a+'"]').removeClass("wcPanelTabContentHidden"),this.__updateTabs(b),this._parent.__trigger(e.EVENT.CUSTOM_TAB_CHANGED,{obj:this,name:this._layoutList[this._curTab].name,index:a}));return this._curTab},layout:function(a){return-1<a&&a<this._layoutList.length?this._layoutList[a]:!1},moveTab:function(a,b){if(0<=a&&a<this._layoutList.length&&0<=b&&b<this._layoutList.length){var c=this._layoutList.splice(a,1);this._layoutList.splice(b,0,c[0]);this._curTab===a&&(this._curTab=b);this.__updateTabs();return this.$tabBar.find('\x3e .wcTabScroller \x3e .wcPanelTab[id\x3d"'+
b+'"]')[0]}return!1},moveable:function(a){"undefined"!==typeof a&&(this._moveable=a);return this._moveable},closeable:function(a,b){if(-1<a&&a<this._layoutList.length){var c=this._layoutList[a];"undefined"!==typeof b&&(c._closeable=b);return c._closeable}return!1},scrollable:function(a,b,c){if(-1<a&&a<this._layoutList.length){a=this._layoutList[a];var e=!1;"undefined"!==typeof b&&(a._scrollable.x=b,e=!0);"undefined"!==typeof c&&(a._scrollable.y=c,e=!0);e&&this.__onTabChange();return{x:a._scrollable.x,
y:a._scrollable.y}}return!1},overflowVisible:function(a,b){if(-1<a&&a<this._layoutList.length){var c=this._layoutList[a];"undefined"!==typeof overflow&&(c._overflowVisible=overflow,this.__onTabChange());return c._overflowVisible}return!1},fitContents:function(a,b,c){if(-1<a&&a<this._layoutList.length){a=this._layoutList[a];a.hasOwnProperty("_fitContents")||(a._fitContents={x:!1,y:!1});var e=!1;"undefined"!==typeof b&&(a._fitContents.x=b,e=!0);"undefined"!==typeof c&&(a._fitContents.y=c,e=!0);e&&this.__onTabChange();
return{x:a._fitContents.x,y:a._fitContents.y}}return!1},icon:function(a,b){if(-1<a&&a<this._layoutList.length){var c=this._layoutList[a];c.$icon||(c.$icon=$("\x3cdiv\x3e"));c.$icon.removeClass();c.$icon.addClass("wcTabIcon "+b)}},faicon:function(a,b){if(-1<a&&a<this._layoutList.length){var c=this._layoutList[a];c.$icon||(c.$icon=$("\x3cdiv\x3e"));c.$icon.removeClass();c.$icon.addClass("fa fa-fw fa-"+b)}},__init:function(){this.$frame=$('\x3cdiv class\x3d"wcCustomTab wcWide wcTall"\x3e');this.$tabBar=
$('\x3cdiv class\x3d"wcFrameTitleBar wcCustomTabTitle wcWide"\x3e');this.$tabScroll=$('\x3cdiv class\x3d"wcTabScroller"\x3e');this.$center=$('\x3cdiv class\x3d"wcFrameCenter wcPanelBackground"\x3e');this.$tabLeft=$('\x3cdiv class\x3d"wcFrameButton" title\x3d"Scroll tabs to the left."\x3e\x3cspan class\x3d"fa fa-arrow-left"\x3e\x3c/span\x3e\x26lt;\x3c/div\x3e');this.$tabRight=$('\x3cdiv class\x3d"wcFrameButton" title\x3d"Scroll tabs to the right."\x3e\x3cspan class\x3d"fa fa-arrow-right"\x3e\x3c/span\x3e\x26gt;\x3c/div\x3e');
this.$close=$('\x3cdiv class\x3d"wcFrameButton" title\x3d"Close the currently active panel tab"\x3e\x3cspan class\x3d"fa fa-close"\x3e\x3c/span\x3eX\x3c/div\x3e');this.$buttonBar=$('\x3cdiv class\x3d"wcFrameButtonBar"\x3e');this.$tabBar.append(this.$tabScroll);this.$tabBar.append(this.$buttonBar);this.$buttonBar.append(this.$close);this.$frame.append(this.$center);this.$frame.append(this.$tabBar);this.__container(this.$container);this._boundEvents.push({event:e.EVENT.UPDATED,handler:this.update.bind(this)});
this._boundEvents.push({event:e.EVENT.CLOSED,handler:this.destroy.bind(this)});for(var a=0;a<this._boundEvents.length;++a)this._parent.on(this._boundEvents[a].event,this._boundEvents[a].handler);(a=this.docker())&&a._tabList.push(this)},__updateTabs:function(a){var b=function(a){switch(this._tabOrientation){case e.TAB.BOTTOM:return a.offset().left;case e.TAB.TOP:return a.offset().left;case e.TAB.LEFT:return a.offset().top;case e.TAB.RIGHT:return a.offset().top}}.bind(this),c=[],f=0,g=b(this.$tabScroll);
this.$center.children(".wcPanelTabContent").each(function(){$(this).addClass("wcPanelTabContentHidden wcPanelTabUnused")});for(var h=0;h<this._layoutList.length;++h){var k=$('\x3cdiv id\x3d"'+h+'" class\x3d"wcPanelTab"\x3e\x3cdiv\x3e'+this._layoutList[h].name+"\x3c/div\x3e\x3c/div\x3e");this._moveable&&k.addClass("wcCustomTabMoveable");this.$tabScroll.append(k);this._layoutList[h].$icon&&k.find("div").prepend(this._layoutList[h].$icon);f=this.$center.children('.wcPanelTabContent[id\x3d"'+h+'"]');
f.length||(f=$('\x3cdiv class\x3d"wcPanelTabContent wcPanelTabContentHidden" id\x3d"'+h+'"\x3e'),this.$center.append(f));this._layoutList[h].__container(f);this._layoutList[h]._parent=this;var l=this._curTab===h;f.removeClass("wcPanelTabUnused");l&&(k.addClass("wcPanelTabActive"),f.removeClass("wcPanelTabContentHidden"));f=b(k)-g;c.push(f);f+=k.outerWidth()}k=0;h=this.$tabBar.height();switch(this._tabOrientation){case e.TAB.TOP:this.$tabBar.addClass("wcTabTop").removeClass("wcTabLeft wcTabRight wcTabBottom");
this.$center.css("top",h).css("left",0).css("right",0).css("bottom",0);k=this.$center.width();break;case e.TAB.BOTTOM:this.$tabBar.addClass("wcTabBottom").removeClass("wcTabTop wcTabLeft wcTabRight");this.$center.css("top",0).css("left",0).css("right",0).css("bottom",h);k=this.$center.width();break;case e.TAB.LEFT:this.$tabBar.addClass("wcTabLeft").removeClass("wcTabTop wcTabRight wcTabBottom");this.$center.css("top",0).css("left",h).css("right",0).css("bottom",0);k=this.$center.height();break;case e.TAB.RIGHT:this.$tabBar.addClass("wcTabRight").removeClass("wcTabTop wcTabLeft wcTabBottom"),
this.$center.css("top",0).css("left",0).css("right",h).css("bottom",0),k=this.$center.height()}this.$center.children(".wcPanelTabUnused").each(function(){$(this).remove()});l=this.__onTabChange();if(a)for(h=0;h<c.length;++h)if(h===this._curTab){a=c[h];var m=f;h+1<c.length&&(m=c[h+1]);h=-parseInt(this.$tabScroll.css("left"));c=k-l;a<h?(this._tabScrollPos=a-this.LEFT_TAB_BUFFER,0>this._tabScrollPos&&(this._tabScrollPos=0)):m-h>c&&(this._tabScrollPos=m-c+this.LEFT_TAB_BUFFER);break}this._canScrollTabs=
!1;if(f>k-l){if(this._canScrollTabs=!0,this.$buttonBar.append(this.$tabRight),this.$buttonBar.append(this.$tabLeft),l+=this.$tabRight.outerWidth(),l+=this.$tabLeft.outerWidth(),c=f-(k-l)/2,this._tabScrollPos>c)for(a=this.$tabScroll.children(),h=0;h<a.length;++h)if(k=$(a[h]),f=b(k)-g,f+k.outerWidth()>c){this._tabScrollPos=f-this.LEFT_TAB_BUFFER;0>this._tabScrollPos&&(this._tabScrollPos=0);break}}else this._tabScrollPos=0,this.$tabLeft.remove(),this.$tabRight.remove();this.$tabScroll.stop().animate({left:-this._tabScrollPos+
"px"},"fast")},__onTabChange:function(){var a=0,b=this.layout(this._curTab);if(b){this.$center.toggleClass("wcScrollableX",b._scrollable.x);this.$center.toggleClass("wcScrollableY",b._scrollable.y);this.$center.toggleClass("wcOverflowVisible",b._overflowVisible);this.$tabLeft.remove();this.$tabRight.remove();b._closeable?(this.$close.show(),a+=this.$close.outerWidth()):this.$close.hide();this._canScrollTabs&&(this.$tabBar.append(this.$tabRight),this.$tabBar.append(this.$tabLeft),a+=this.$tabRight.outerWidth()+
this.$tabLeft.outerWidth());var c=this.fitContents(this._curTab);if(c.x){var f=b.scene().outerWidth();if(this._tabOrientation===e.TAB.LEFT||this._tabOrientation===e.TAB.RIGHT)f+=this.$tabScroll.height();this.$container.css("width",f)}else this.$container.css("width","");if(c.y){c=b.scene().outerHeight();if(this._tabOrientation===e.TAB.TOP||this._tabOrientation===e.TAB.BOTTOM)c+=this.$tabScroll.height();this.$container.css("height",c)}else this.$container.css("height","");switch(this._tabOrientation){case e.TAB.RIGHT:case e.TAB.LEFT:this.$tabBar.css("width",
this.$center.height()||"100%");break;case e.TAB.TOP:case e.TAB.BOTTOM:this.$tabBar.css("width",this.$center.width()||"100%")}this.$center.scrollLeft(b._scroll.x);this.$center.scrollTop(b._scroll.y)}this.$buttonBar.css("min-width",a).css("width",a);return a},__scrolled:function(){var a=this.layout(this._curTab);a._scroll.x=this.$center.scrollLeft();a._scroll.y=this.$center.scrollTop()},__container:function(a){if("undefined"===typeof a)return this.$container;(this.$container=a)?this.$container.append(this.$frame):
this.$frame.remove();return this.$container},__destroy:function(){var a=this.docker();if(a){var b=a._tabList.indexOf(this);-1<b&&a._tabList.splice(b,1)}for(;this._boundEvents.length;)this._parent.off(this._boundEvents[0].event,this._boundEvents[0].handler),this._boundEvents.shift();this._curTab=-1;for(a=0;a<this._layoutList.length;++a)this._layoutList[a].__destroy();for(;this._layoutList.length;)this._layoutList.pop();this.__container(null);this._parent=null}})})},"wcDocker/iframe":function(){define(["dcl/dcl",
"wcDocker/types","wcDocker/base"],function(q,e,g){return q(g,{declaredClass:"wcIFrame",constructor:function(a,b){this._panel=b;this._layout=b.layout();this.$container=$(a);this._window=this.$iFrame=this.$focus=this.$frame=null;this._isHovering=this._isDocking=!1;this._boundEvents=[];this._onLoadFuncs=[];this._onClosedFuncs=[];this.__init()},openURL:function(a){this.__clearFrame();this.$iFrame=$("\x3ciframe\x3eiFrames not supported on your device!\x3c/iframe\x3e");this.$frame.prepend(this.$iFrame);
this.__onMoved();this._window=this.$iFrame[0].contentWindow||this.$iFrame[0];this.__updateFrame();this._window.location.replace(a);this.$iFrame[0].focus();this.$iFrame.hover(this.__onHoverEnter.bind(this),this.__onHoverExit.bind(this));var b=this,b=this;this.$iFrame.load(function(){for(var a=0;a<b._onLoadFuncs.length;++a)b._onLoadFuncs[a]();b._onLoadFuncs=[];b.$iFrame.contents().click(function(a){$("body").trigger("click",a)});b.$iFrame.contents().keydown(function(a){$(document).trigger("keydown",
a)});b.$iFrame.contents().keyup(function(a){$(document).trigger("keyup",a)})})},openHTML:function(a){this.__clearFrame();this.$iFrame=$("\x3ciframe\x3eiFrames not supported on your device!\x3c/iframe\x3e");this.$frame.prepend(this.$iFrame);this.__onMoved();this._window=this.$iFrame[0].contentWindow||this.$iFrame[0];this.__updateFrame();this._window.document.open();this._window.document.write(a);this._window.document.close();this.$iFrame[0].focus();this.$iFrame.hover(this.__onHoverEnter.bind(this),
this.__onHoverExit.bind(this));var b=this;this.$iFrame.load(function(){for(var a=0;a<b._onLoadFuncs.length;++a)b._onLoadFuncs[a]();b._onLoadFuncs=[]})},openSRC:function(a){this.__clearFrame();this.$iFrame=$("\x3ciframe\x3eiFrames not supported on your device!\x3c/iframe\x3e");this.$frame.prepend(this.$iFrame);this.__onMoved();this._window=this.$iFrame[0].contentWindow||this.$iFrame[0];this.__updateFrame();this.$iFrame[0].srcdoc=a;this.$iFrame[0].focus();this.$iFrame.hover(this.__onHoverEnter.bind(this),
this.__onHoverExit.bind(this));var b=this;this.$iFrame.load(function(){for(var a=0;a<b._onLoadFuncs.length;++a)b._onLoadFuncs[a]();b._onLoadFuncs=[]})},onLoaded:function(a){this._onLoadFuncs.push(a)},onClosed:function(a){this._onClosedFuncs.push(a)},show:function(){this.$frame&&this.$frame.removeClass("wcIFrameHidden")},hide:function(){this.$frame&&this.$frame.addClass("wcIFrameHidden")},window:function(){return this._window},destroy:function(){for(;this._boundEvents.length;)this._panel.off(this._boundEvents[0].event,
this._boundEvents[0].handler),this._boundEvents.shift();this.__clearFrame();this.$container=this._layout=this._panel=null;this.$frame.remove();this.$focus=this.$frame=null},__init:function(){this.$frame=$('\x3cdiv class\x3d"wcIFrame"\x3e');this.$focus=$('\x3cdiv class\x3d"wcIFrameFocus"\x3e');this._panel.docker().$container.append(this.$frame);this.$frame.append(this.$focus);this._boundEvents.push({event:e.EVENT.VISIBILITY_CHANGED,handler:this.__onVisibilityChanged.bind(this)});this._boundEvents.push({event:e.EVENT.BEGIN_DOCK,
handler:this.__onBeginDock.bind(this)});this._boundEvents.push({event:e.EVENT.END_DOCK,handler:this.__onEndDock.bind(this)});this._boundEvents.push({event:e.EVENT.MOVE_STARTED,handler:this.__onMoveStarted.bind(this)});this._boundEvents.push({event:e.EVENT.RESIZE_STARTED,handler:this.__onMoveStarted.bind(this)});this._boundEvents.push({event:e.EVENT.MOVE_ENDED,handler:this.__onMoveFinished.bind(this)});this._boundEvents.push({event:e.EVENT.RESIZE_ENDED,handler:this.__onMoveFinished.bind(this)});this._boundEvents.push({event:e.EVENT.MOVED,
handler:this.__onMoved.bind(this)});this._boundEvents.push({event:e.EVENT.RESIZED,handler:this.__onMoved.bind(this)});this._boundEvents.push({event:e.EVENT.ATTACHED,handler:this.__onAttached.bind(this)});this._boundEvents.push({event:e.EVENT.DETACHED,handler:this.__updateFrame.bind(this)});this._boundEvents.push({event:e.EVENT.GAIN_FOCUS,handler:this.__updateFrame.bind(this)});this._boundEvents.push({event:e.EVENT.LOST_FOCUS,handler:this.__updateFrame.bind(this)});this._boundEvents.push({event:e.EVENT.PERSISTENT_OPENED,
handler:this.__updateFrame.bind(this)});this._boundEvents.push({event:e.EVENT.PERSISTENT_CLOSED,handler:this.__updateFrame.bind(this)});this._boundEvents.push({event:e.EVENT.CLOSED,handler:this.__onClosed.bind(this)});this._boundEvents.push({event:e.EVENT.ORDER_CHANGED,handler:this.__onOrderChanged.bind(this)});for(var a=0;a<this._boundEvents.length;++a)this._panel.on(this._boundEvents[a].event,this._boundEvents[a].handler);$(window).blur(this.__onBlur.bind(this))},__clearFrame:function(){if(this.$iFrame){for(var a=
0;a<this._onClosedFuncs.length;++a)this._onClosedFuncs[a]();this._onClosedFuncs=[];this.$iFrame[0].srcdoc="";this.$iFrame.remove();this._window=this.$iFrame=null}},__updateFrame:function(){if(this.$frame&&this._panel){var a=this._panel.isFloating();this.$frame.toggleClass("wcIFrameFloating",a);a?this.$frame.toggleClass("wcIFrameFloatingFocus",focus):this.$frame.removeClass("wcIFrameFloatingFocus");this.$frame.toggleClass("wcIFramePanelHidden",!this._panel.isVisible());this._panel&&this._panel._parent&&
this._panel._parent.instanceOf("wcFrame")&&this.$frame.toggleClass("wcDrawer",this._panel._parent.isCollapser())}},__focusFix:function(){this.$frame.css("left",parseInt(this.$frame.css("left"))+1);this.$frame.css("left",parseInt(this.$frame.css("left"))-1)},__onHoverEnter:function(){this._isHovering=!0},__onHoverExit:function(){this._isHovering=!1},__onBlur:function(){this._isHovering&&this.__onFocus()},__onFocus:function(){this._panel&&this.docker(this._panel).__focus(this._panel._parent)},__onVisibilityChanged:function(){this.__updateFrame();
this._panel.isVisible()&&this.__onMoved()},__onBeginDock:function(){this.$frame&&(this._isDocking=!0,this.$frame.addClass("wcIFrameMoving"))},__onEndDock:function(){this.$frame&&(this._isDocking=!1,this.$frame.removeClass("wcIFrameMoving"),this.__focusFix())},__onAttached:function(){this.$frame.css("z-index","");this.__updateFrame()},__onMoveStarted:function(){this.$frame&&!this._isDocking&&this.$frame.addClass("wcIFrameMoving")},__onMoveFinished:function(){this.$frame&&!this._isDocking&&(this.$frame.removeClass("wcIFrameMoving"),
this.__focusFix())},__onMoved:function(){if(this.$frame&&this._panel){var a=this.docker(this._panel);if(a){var a=a.$container.offset(),b=this.$container.offset(),c=this.$container.width(),e=this.$container.height();this.$frame.css("top",b.top-a.top);this.$frame.css("left",b.left-a.left);this.$frame.css("width",c);this.$frame.css("height",e)}else console.error("have no docker")}},__onOrderChanged:function(a){this.$frame.css("z-index",a+1)},__onClosed:function(){this.destroy()}})})}}});
define("wcDocker/wcDocker",[],function(){});
//# sourceMappingURL=wcDocker.js.map