//>>built
require({cache:{"dojox/main":function(){define("dojo/_base/kernel dijit/dijit dojox/html/entities dojox/html/ellipsis dojox/html/_base dojox/widget/ColorPicker".split(" "),function(e){return e.dojox})},"dojox/html/entities":function(){define(["dojo/_base/lang"],function(e){var k=e.getObject("dojox.html.entities",!0),h=function(a,b){var c,d;if(b._encCache&&b._encCache.regexp&&b._encCache.mapper&&b.length==b._encCache.length)c=b._encCache.mapper,d=b._encCache.regexp;else{c={};d=["["];var g;for(g=0;g<
b.length;g++)c[b[g][0]]="\x26"+b[g][1]+";",d.push(b[g][0]);d.push("]");d=new RegExp(d.join(""),"g");b._encCache={mapper:c,regexp:d,length:b.length}}return a=a.replace(d,function(a){return c[a]})},p=function(a,b){var c,d;if(b._decCache&&b._decCache.regexp&&b._decCache.mapper&&b.length==b._decCache.length)c=b._decCache.mapper,d=b._decCache.regexp;else{c={};d=["("];var g;for(g=0;g<b.length;g++){var e="\x26"+b[g][1]+";";g&&d.push("|");c[e]=b[g][0];d.push(e)}d.push(")");d=new RegExp(d.join(""),"g");b._decCache=
{mapper:c,regexp:d,length:b.length}}return a=a.replace(d,function(a){return c[a]})};k.html=[["\x26","amp"],['"',"quot"],["\x3c","lt"],["\x3e","gt"],["\u00a0","nbsp"]];k.latin=[["\u00a1","iexcl"],["\u00a2","cent"],["\u00a3","pound"],["\u20ac","euro"],["\u00a4","curren"],["\u00a5","yen"],["\u00a6","brvbar"],["\u00a7","sect"],["\u00a8","uml"],["\u00a9","copy"],["\u00aa","ordf"],["\u00ab","laquo"],["\u00ac","not"],["\u00ad","shy"],["\u00ae","reg"],["\u00af","macr"],["\u00b0","deg"],["\u00b1","plusmn"],
["\u00b2","sup2"],["\u00b3","sup3"],["\u00b4","acute"],["\u00b5","micro"],["\u00b6","para"],["\u00b7","middot"],["\u00b8","cedil"],["\u00b9","sup1"],["\u00ba","ordm"],["\u00bb","raquo"],["\u00bc","frac14"],["\u00bd","frac12"],["\u00be","frac34"],["\u00bf","iquest"],["\u00c0","Agrave"],["\u00c1","Aacute"],["\u00c2","Acirc"],["\u00c3","Atilde"],["\u00c4","Auml"],["\u00c5","Aring"],["\u00c6","AElig"],["\u00c7","Ccedil"],["\u00c8","Egrave"],["\u00c9","Eacute"],["\u00ca","Ecirc"],["\u00cb","Euml"],["\u00cc",
"Igrave"],["\u00cd","Iacute"],["\u00ce","Icirc"],["\u00cf","Iuml"],["\u00d0","ETH"],["\u00d1","Ntilde"],["\u00d2","Ograve"],["\u00d3","Oacute"],["\u00d4","Ocirc"],["\u00d5","Otilde"],["\u00d6","Ouml"],["\u00d7","times"],["\u00d8","Oslash"],["\u00d9","Ugrave"],["\u00da","Uacute"],["\u00db","Ucirc"],["\u00dc","Uuml"],["\u00dd","Yacute"],["\u00de","THORN"],["\u00df","szlig"],["\u00e0","agrave"],["\u00e1","aacute"],["\u00e2","acirc"],["\u00e3","atilde"],["\u00e4","auml"],["\u00e5","aring"],["\u00e6",
"aelig"],["\u00e7","ccedil"],["\u00e8","egrave"],["\u00e9","eacute"],["\u00ea","ecirc"],["\u00eb","euml"],["\u00ec","igrave"],["\u00ed","iacute"],["\u00ee","icirc"],["\u00ef","iuml"],["\u00f0","eth"],["\u00f1","ntilde"],["\u00f2","ograve"],["\u00f3","oacute"],["\u00f4","ocirc"],["\u00f5","otilde"],["\u00f6","ouml"],["\u00f7","divide"],["\u00f8","oslash"],["\u00f9","ugrave"],["\u00fa","uacute"],["\u00fb","ucirc"],["\u00fc","uuml"],["\u00fd","yacute"],["\u00fe","thorn"],["\u00ff","yuml"],["\u0192",
"fnof"],["\u0391","Alpha"],["\u0392","Beta"],["\u0393","Gamma"],["\u0394","Delta"],["\u0395","Epsilon"],["\u0396","Zeta"],["\u0397","Eta"],["\u0398","Theta"],["\u0399","Iota"],["\u039a","Kappa"],["\u039b","Lambda"],["\u039c","Mu"],["\u039d","Nu"],["\u039e","Xi"],["\u039f","Omicron"],["\u03a0","Pi"],["\u03a1","Rho"],["\u03a3","Sigma"],["\u03a4","Tau"],["\u03a5","Upsilon"],["\u03a6","Phi"],["\u03a7","Chi"],["\u03a8","Psi"],["\u03a9","Omega"],["\u03b1","alpha"],["\u03b2","beta"],["\u03b3","gamma"],["\u03b4",
"delta"],["\u03b5","epsilon"],["\u03b6","zeta"],["\u03b7","eta"],["\u03b8","theta"],["\u03b9","iota"],["\u03ba","kappa"],["\u03bb","lambda"],["\u03bc","mu"],["\u03bd","nu"],["\u03be","xi"],["\u03bf","omicron"],["\u03c0","pi"],["\u03c1","rho"],["\u03c2","sigmaf"],["\u03c3","sigma"],["\u03c4","tau"],["\u03c5","upsilon"],["\u03c6","phi"],["\u03c7","chi"],["\u03c8","psi"],["\u03c9","omega"],["\u03d1","thetasym"],["\u03d2","upsih"],["\u03d6","piv"],["\u2022","bull"],["\u2026","hellip"],["\u2032","prime"],
["\u2033","Prime"],["\u203e","oline"],["\u2044","frasl"],["\u2118","weierp"],["\u2111","image"],["\u211c","real"],["\u2122","trade"],["\u2135","alefsym"],["\u2190","larr"],["\u2191","uarr"],["\u2192","rarr"],["\u2193","darr"],["\u2194","harr"],["\u21b5","crarr"],["\u21d0","lArr"],["\u21d1","uArr"],["\u21d2","rArr"],["\u21d3","dArr"],["\u21d4","hArr"],["\u2200","forall"],["\u2202","part"],["\u2203","exist"],["\u2205","empty"],["\u2207","nabla"],["\u2208","isin"],["\u2209","notin"],["\u220b","ni"],
["\u220f","prod"],["\u2211","sum"],["\u2212","minus"],["\u2217","lowast"],["\u221a","radic"],["\u221d","prop"],["\u221e","infin"],["\u2220","ang"],["\u2227","and"],["\u2228","or"],["\u2229","cap"],["\u222a","cup"],["\u222b","int"],["\u2234","there4"],["\u223c","sim"],["\u2245","cong"],["\u2248","asymp"],["\u2260","ne"],["\u2261","equiv"],["\u2264","le"],["\u2265","ge"],["\u2282","sub"],["\u2283","sup"],["\u2284","nsub"],["\u2286","sube"],["\u2287","supe"],["\u2295","oplus"],["\u2297","otimes"],["\u22a5",
"perp"],["\u22c5","sdot"],["\u2308","lceil"],["\u2309","rceil"],["\u230a","lfloor"],["\u230b","rfloor"],["\u2329","lang"],["\u232a","rang"],["\u25ca","loz"],["\u2660","spades"],["\u2663","clubs"],["\u2665","hearts"],["\u2666","diams"],["\u0152","OElig"],["\u0153","oelig"],["\u0160","Scaron"],["\u0161","scaron"],["\u0178","Yuml"],["\u02c6","circ"],["\u02dc","tilde"],["\u2002","ensp"],["\u2003","emsp"],["\u2009","thinsp"],["\u200c","zwnj"],["\u200d","zwj"],["\u200e","lrm"],["\u200f","rlm"],["\u2013",
"ndash"],["\u2014","mdash"],["\u2018","lsquo"],["\u2019","rsquo"],["\u201a","sbquo"],["\u201c","ldquo"],["\u201d","rdquo"],["\u201e","bdquo"],["\u2020","dagger"],["\u2021","Dagger"],["\u2030","permil"],["\u2039","lsaquo"],["\u203a","rsaquo"]];k.encode=function(a,b){a&&(b?a=h(a,b):(a=h(a,k.html),a=h(a,k.latin)));return a};k.decode=function(a,b){a&&(b?a=p(a,b):(a=p(a,k.html),a=p(a,k.latin)));return a};return k})},"dojox/html/ellipsis":function(){define("dojox/html/ellipsis",["dojo/_base/kernel","dojo/_base/lang",
"dojo/_base/array","dojo/_base/Color","dojo/colors"],function(e){if(7>e.isFF){var k=1;"dojoxFFEllipsisDelay"in e.config&&(k=Number(e.config.dojoxFFEllipsisDelay),isNaN(k)&&(k=1));try{var h=function(){var a=document.createElementNS("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul","window"),b=document.createElementNS("http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul","description");b.setAttribute("crop","end");a.appendChild(b);return function(b){var d=a.cloneNode(!0);d.firstChild.setAttribute("value",
b.textContent);b.innerHTML="";b.appendChild(d)}}()}catch(y){}var p=e.create,a=e.doc,b=e.place,c=p("iframe",{className:"dojoxEllipsisIFrame",src:"javascript:'\x3chtml\x3e\x3chead\x3e\x3cscript\x3eif(\"loadFirebugConsole\" in window){window.loadFirebugConsole();}\x3c/script\x3e\x3c/head\x3e\x3cbody\x3e\x3c/body\x3e\x3c/html\x3e'",style:{display:"none"}}),d=function(a,b){if(!a.collapsed)if(0<b){do d(a),b--;while(b)}else if(3==a.endContainer.nodeType&&0<a.endOffset)a.setEnd(a.endContainer,a.endOffset-
1);else if(3==a.endContainer.nodeType)a.setEndBefore(a.endContainer),d(a);else if(a.endOffset&&a.endContainer.childNodes.length>=a.endOffset){var c=a.endContainer.childNodes[a.endOffset-1];3==c.nodeType?a.setEnd(c,c.length-1):(c.childNodes.length?a.setEnd(c,c.childNodes.length):a.setEndBefore(c),d(a))}else a.setEndBefore(a.endContainer),d(a)},g=function(g){var e=p("div",{className:"dojoxEllipsisContainer"}),h=p("div",{className:"dojoxEllipsisShown",style:{display:"none"}});g.parentNode.replaceChild(e,
g);e.appendChild(g);e.appendChild(h);var k=c.cloneNode(!0),t=g.style,n=h.style,l=function(){t.display="";n.display="none";if(!(g.scrollWidth<=g.offsetWidth)){var c=a.createRange();c.selectNodeContents(g);t.display="none";n.display="";var f=!1;do{var q=1;b(c.cloneContents(),h,"only");var x=h.scrollWidth,e=h.offsetWidth,f=x<=e,x=1-1*e/x;0<x&&(q=Math.max(Math.round(h.textContent.length*x)-1,1));d(c,q)}while(!c.collapsed&&!f)}};k.onload=function(){k.contentWindow.onresize=l;l()};e.appendChild(k)},t=e.hasClass,
n=e.doc,l,m,r;n.querySelectorAll?(l=n,m="querySelectorAll",r=".dojoxEllipsis"):n.getElementsByClassName?(l=n,m="getElementsByClassName",r="dojoxEllipsis"):(l=e,m="query",r=".dojoxEllipsis");fx=function(){e.forEach(l[m].apply(l,[r]),function(a){a&&!a._djx_ellipsis_done&&(a._djx_ellipsis_done=!0,h&&a.textContent==a.innerHTML&&!t(a,"dojoxEllipsisSelectable")?h(a):g(a))})};e.addOnLoad(function(){var a=null,b=null,c=function(){b&&(e.disconnect(b),b=null);a&&clearTimeout(a);a=setTimeout(function(){a=null;
fx();b=e.connect(e.body(),"DOMSubtreeModified",c)},k)};c()})}})},"dojox/html/_base":function(){define("dojo/_base/declare dojo/Deferred dojo/dom-construct dojo/html dojo/_base/kernel dojo/_base/lang dojo/ready dojo/_base/sniff dojo/_base/url dojo/_base/xhr dojo/when dojo/_base/window".split(" "),function(e,k,h,p,a,b,c,d,g,t,n,l){var m=a.getObject("dojox.html",!0);if(d("ie"))var r=/(AlphaImageLoader\([^)]*?src=(['"]))(?![a-z]+:|\/)([^\r\n;}]+?)(\2[^)]*\)\s*[;}]?)/g;var y=/(?:(?:@import\s*(['"])(?![a-z]+:|\/)([^\r\n;{]+?)\1)|url\(\s*(['"]?)(?![a-z]+:|\/)([^\r\n;]+?)\3\s*\))([a-z, \s]*[;}]?)/g,
u=m._adjustCssPaths=function(a,f){if(f&&a)return r&&(f=f.replace(r,function(f,b,c,d,e){return b+(new g(a,"./"+d)).toString()+e})),f.replace(y,function(f,b,c,d,e,h){return c?'@import "'+(new g(a,"./"+c)).toString()+'"'+h:"url("+(new g(a,"./"+e)).toString()+")"+h})},z=/(<[a-z][a-z0-9]*\s[^>]*)(?:(href|src)=(['"]?)([^>]*?)\3|style=(['"]?)([^>]*?)\5)([^>]*>)/gi,v=m._adjustHtmlPaths=function(a,f){var b=a||"./";return f.replace(z,function(a,f,c,d,q,e,h,k){return f+(c?c+"\x3d"+d+(new g(b,q)).toString()+
d:"style\x3d"+e+u(b,h)+e)+k})},w=m._snarfStyles=function(a,f,b){b.attributes=[];f=f.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)style\b/ig,"\x26lt;$1Style").replace(/<(\/?)link\b/ig,"\x26lt;$1Link").replace(/@import "/ig,'@ import "')});return f.replace(/(?:<style([^>]*)>([\s\S]*?)<\/style>|<link\s+(?=[^>]*rel=['"]?stylesheet)([^>]*?href=(['"])([^>]*?)\4[^>\/]*)\/?>)/gi,function(f,c,d,q,g,e){f=(c||q||"").replace(/^\s*([\s\S]*?)\s*$/i,"$1");d?d=b.push(a?u(a,d):d):(d=b.push('@import "'+
e+'";'),f=f.replace(/\s*(?:rel|href)=(['"])?[^\s]*\1\s*/gi,""));if(f){f=f.split(/\s+/);e={};q=0;for(g=f.length;q<g;q++)c=f[q].split("\x3d"),e[c[0]]=c[1].replace(/^\s*['"]?([\s\S]*?)['"]?\s*$/,"$1");b.attributes[d-1]=e}return""})},A=m._snarfScripts=function(a,f){function b(a){f.downloadRemote&&(a=a.replace(/&([a-z0-9#]+);/g,function(a,f){switch(f){case "amp":return"\x26";case "gt":return"\x3e";case "lt":return"\x3c";default:return"#"==f.charAt(0)?String.fromCharCode(f.substring(1)):"\x26"+f+";"}}),
t.get({url:a,sync:!0,load:function(a){f.code+=a+";"},error:f.errBack}))}f.code="";a=a.replace(/<[!][-][-](.|\s)*?[-][-]>/g,function(a){return a.replace(/<(\/?)script\b/ig,"\x26lt;$1Script")});return a.replace(/<script\s*(?![^>]*type=['"]?(?:dojo\/|text\/html\b))[^>]*?(?:src=(['"]?)([^>]*?)\1[^>]*)?>([\s\S]*?)<\/script>/gi,function(a,c,d,q){d?b(d):f.code+=q;return""})},B=m.evalInGlobal=function(a,f){f=f||l.doc.body;var b=f.ownerDocument.createElement("script");b.type="text/javascript";f.appendChild(b);
b.text=a};m._ContentSetter=e(p._ContentSetter,{adjustPaths:!1,referencePath:".",renderStyles:!1,executeScripts:!1,scriptHasHooks:!1,scriptHookReplacement:null,_renderStyles:function(a){this._styleNodes=[];for(var f,b,c,d=this.node.ownerDocument,g=d.getElementsByTagName("head")[0],e=0,h=a.length;e<h;e++){c=a[e];b=a.attributes[e];f=d.createElement("style");f.setAttribute("type","text/css");for(var k in b)f.setAttribute(k,b[k]);this._styleNodes.push(f);g.appendChild(f);f.styleSheet?f.styleSheet.cssText=
c:f.appendChild(d.createTextNode(c))}},empty:function(){this.inherited("empty",arguments);this._styles=[]},onBegin:function(){this.inherited("onBegin",arguments);var a=this.content,f=this._styles;if(b.isString(a)){this.adjustPaths&&this.referencePath&&(a=v(this.referencePath,a));if(this.renderStyles||this.cleanContent)a=w(this.referencePath,a,f);if(this.executeScripts){var c=this,f={downloadRemote:!0,errBack:function(a){c._onError.call(c,"Exec",'Error downloading remote script in "'+c.id+'"',a)}},
a=A(a,f);this._code=f.code}}this.content=a},onEnd:function(){var a=this._code,f=this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)h.destroy(this._styleNodes.pop());this.renderStyles&&f&&f.length&&this._renderStyles(f);var d=new k,g=this.getInherited(arguments),e=arguments,f=b.hitch(this,function(){g.apply(this,e);n(this.parseDeferred,function(){d.resolve()})});if(this.executeScripts&&a){this.cleanContent&&(a=a.replace(/(\x3c!--|(?:\/\/)?--\x3e|<!\[CDATA\[|\]\]>)/g,
""));this.scriptHasHooks&&(a=a.replace(/_container_(?!\s*=[^=])/g,this.scriptHookReplacement));try{B(a,this.node)}catch(C){this._onError("Exec","Error eval script in "+this.id+", "+C.message,C)}c(f)}else f();return d.promise},tearDown:function(){this.inherited(arguments);delete this._styles;if(this._styleNodes&&this._styleNodes.length)for(;this._styleNodes.length;)h.destroy(this._styleNodes.pop());delete this._styleNodes;b.mixin(this,m._ContentSetter.prototype)}});m.set=function(a,f,c){return c?(new m._ContentSetter(b.mixin(c,
{content:f,node:a}))).set():p._setNodeContent(a,f,!0)};return m})},"dojox/widget/ColorPicker":function(){define("dojo/_base/kernel dojo/_base/declare dojo/_base/lang dojo/_base/array dojo/_base/html dojo/_base/connect dojo/_base/sniff dojo/_base/window dojo/_base/event dojo/dom dojo/dom-class dojo/keys dojo/fx dojo/dnd/move dijit/registry dijit/_base/focus dijit/form/_FormWidget dijit/typematic dojox/color dojo/i18n dojo/text!./ColorPicker/ColorPicker.html".split(" "),function(e,k,h,p,a,b,c,d,g,t,
n,l,m,r,y,u,z,v,w,A,B){var D={redLabel:"r",greenLabel:"g",blueLabel:"b",hueLabel:"h",saturationLabel:"s",valueLabel:"v",degLabel:"\u00b0",hexLabel:"hex",huePickerTitle:"Hue Selector",saturationPickerTitle:"Saturation Selector"};return k("dojox.widget.ColorPicker",z,{showRgb:!0,showHsv:!0,showHex:!0,webSafe:!0,animatePoint:!0,slideDuration:250,liveUpdate:!1,PICKER_HUE_H:150,PICKER_SAT_VAL_H:150,PICKER_SAT_VAL_W:150,PICKER_HUE_SELECTOR_H:8,PICKER_SAT_SELECTOR_H:10,PICKER_SAT_SELECTOR_W:10,value:"#ffffff",
_underlay:require.toUrl("dojox/widget/ColorPicker/images/underlay.png"),_hueUnderlay:require.toUrl("dojox/widget/ColorPicker/images/hue.png"),_pickerPointer:require.toUrl("dojox/widget/ColorPicker/images/pickerPointer.png"),_huePickerPointer:require.toUrl("dojox/widget/ColorPicker/images/hueHandle.png"),_huePickerPointerAlly:require.toUrl("dojox/widget/ColorPicker/images/hueHandleA11y.png"),templateString:B,postMixInProperties:function(){this._uId=y.getUniqueId(this.id);h.mixin(this,D);h.mixin(this,
A.getLocalization("dojo.cldr","number"));this.inherited(arguments)},postCreate:function(){this.inherited(arguments);7>c("ie")&&(this.colorUnderlay.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src\x3d'"+this._underlay+"', sizingMethod\x3d'scale')",this.colorUnderlay.src=this._blankGif.toString());this.showRgb||(this.rgbNode.style.visibility="hidden");this.showHsv||(this.hsvNode.style.visibility="hidden");this.showHex||(this.hexNode.style.visibility="hidden");this.webSafe||(this.safePreviewNode.style.visibility=
"hidden")},startup:function(){this._started||(this._started=!0,this.set("value",this.value),this._mover=new r.boxConstrainedMoveable(this.cursorNode,{box:{t:-(this.PICKER_SAT_SELECTOR_H/2),l:-(this.PICKER_SAT_SELECTOR_W/2),w:this.PICKER_SAT_VAL_W,h:this.PICKER_SAT_VAL_H}}),this._hueMover=new r.boxConstrainedMoveable(this.hueCursorNode,{box:{t:-(this.PICKER_HUE_SELECTOR_H/2),l:0,w:0,h:this.PICKER_HUE_H}}),this._subs=[],this._subs.push(b.subscribe("/dnd/move/stop",h.hitch(this,"_clearTimer"))),this._subs.push(b.subscribe("/dnd/move/start",
h.hitch(this,"_setTimer"))),this._keyListeners=[],this._connects.push(v.addKeyListener(this.hueCursorNode,{charOrCode:l.UP_ARROW,shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1},this,h.hitch(this,this._updateHueCursorNode),25,25)),this._connects.push(v.addKeyListener(this.hueCursorNode,{charOrCode:l.DOWN_ARROW,shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1},this,h.hitch(this,this._updateHueCursorNode),25,25)),this._connects.push(v.addKeyListener(this.cursorNode,{charOrCode:l.UP_ARROW,shiftKey:!1,metaKey:!1,
ctrlKey:!1,altKey:!1},this,h.hitch(this,this._updateCursorNode),25,25)),this._connects.push(v.addKeyListener(this.cursorNode,{charOrCode:l.DOWN_ARROW,shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1},this,h.hitch(this,this._updateCursorNode),25,25)),this._connects.push(v.addKeyListener(this.cursorNode,{charOrCode:l.LEFT_ARROW,shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1},this,h.hitch(this,this._updateCursorNode),25,25)),this._connects.push(v.addKeyListener(this.cursorNode,{charOrCode:l.RIGHT_ARROW,shiftKey:!1,
metaKey:!1,ctrlKey:!1,altKey:!1},this,h.hitch(this,this._updateCursorNode),25,25)))},_setValueAttr:function(a,b){this._started&&this.setColor(a,b)},setColor:function(a,b){a=w.fromString(a);this._updatePickerLocations(a);this._updateColorInputs(a);this._updateValue(a,b)},_setTimer:function(a){if(a.node==this.cursorNode||a.node==this.hueCursorNode)u.focus(a.node),t.setSelectable(this.domNode,!1),this._timer=setInterval(h.hitch(this,"_updateColor"),45)},_clearTimer:function(a){this._timer&&(clearInterval(this._timer),
this._timer=null,this.onChange(this.value),t.setSelectable(this.domNode,!0))},_setHue:function(b){a.style(this.colorUnderlay,"backgroundColor",w.fromHsv(b,100,100).toHex())},_updateHueCursorNode:function(b,c,d){if(-1!==b){b=a.style(this.hueCursorNode,"top");c=this.PICKER_HUE_SELECTOR_H/2;b+=c;var f=!1;d.charOrCode==l.UP_ARROW?0<b&&(--b,f=!0):d.charOrCode==l.DOWN_ARROW&&b<this.PICKER_HUE_H&&(b+=1,f=!0);f&&a.style(this.hueCursorNode,"top",b-c+"px")}else this._updateColor(!0)},_updateCursorNode:function(b,
c,d){c=this.PICKER_SAT_SELECTOR_H/2;var f=this.PICKER_SAT_SELECTOR_W/2;if(-1!==b){b=a.style(this.cursorNode,"top");var g=a.style(this.cursorNode,"left");b+=c;var g=g+f,e=!1;d.charOrCode==l.UP_ARROW?0<b&&(--b,e=!0):d.charOrCode==l.DOWN_ARROW?b<this.PICKER_SAT_VAL_H&&(b+=1,e=!0):d.charOrCode==l.LEFT_ARROW?0<g&&(--g,e=!0):d.charOrCode==l.RIGHT_ARROW&&g<this.PICKER_SAT_VAL_W&&(g+=1,e=!0);e&&(g-=f,a.style(this.cursorNode,"top",b-c+"px"),a.style(this.cursorNode,"left",g+"px"))}else this._updateColor(!0)},
_updateColor:function(b){var c=this.PICKER_HUE_SELECTOR_H/2,f=this.PICKER_SAT_SELECTOR_H/2,d=this.PICKER_SAT_SELECTOR_W/2,c=a.style(this.hueCursorNode,"top")+c,f=a.style(this.cursorNode,"top")+f,d=a.style(this.cursorNode,"left")+d,c=Math.round(360-c/this.PICKER_HUE_H*360),d=w.fromHsv(c,d/this.PICKER_SAT_VAL_W*100,100-f/this.PICKER_SAT_VAL_H*100);this._updateColorInputs(d);this._updateValue(d,b);c!=this._hue&&this._setHue(c)},_colorInputChange:function(a){var b,c=!1;switch(a.target){case this.hexCode:b=
w.fromString(a.target.value);c=!0;break;case this.Rval:case this.Gval:case this.Bval:b=w.fromArray([this.Rval.value,this.Gval.value,this.Bval.value]);c=!0;break;case this.Hval:case this.Sval:case this.Vval:b=w.fromHsv(this.Hval.value,this.Sval.value,this.Vval.value),c=!0}c&&(this._updatePickerLocations(b),this._updateColorInputs(b),this._updateValue(b,!0))},_updateValue:function(a,b){var c=a.toHex();this.value=this.valueNode.value=c;if(b&&(!this._timer||this.liveUpdate))this.onChange(c)},_updatePickerLocations:function(b){var c=
this.PICKER_HUE_SELECTOR_H/2,d=this.PICKER_SAT_SELECTOR_H/2,f=this.PICKER_SAT_SELECTOR_W/2;b=b.toHsv();c=Math.round(this.PICKER_HUE_H-b.h/360*this.PICKER_HUE_H)-c;f=Math.round(b.s/100*this.PICKER_SAT_VAL_W)-f;d=Math.round(this.PICKER_SAT_VAL_H-b.v/100*this.PICKER_SAT_VAL_H)-d;this.animatePoint?(m.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:c,left:0}).play(),m.slideTo({node:this.cursorNode,duration:this.slideDuration,top:d,left:f}).play()):(a.style(this.hueCursorNode,"top",c+"px"),
a.style(this.cursorNode,{left:f+"px",top:d+"px"}));b.h!=this._hue&&this._setHue(b.h)},_updateColorInputs:function(a){var b=a.toHex();this.showRgb&&(this.Rval.value=a.r,this.Gval.value=a.g,this.Bval.value=a.b);this.showHsv&&(a=a.toHsv(),this.Hval.value=Math.round(a.h),this.Sval.value=Math.round(a.s),this.Vval.value=Math.round(a.v));this.showHex&&(this.hexCode.value=b);this.previewNode.style.backgroundColor=b;this.webSafe&&(this.safePreviewNode.style.backgroundColor=b)},_setHuePoint:function(b){b=b.layerY-
this.PICKER_HUE_SELECTOR_H/2;this.animatePoint?m.slideTo({node:this.hueCursorNode,duration:this.slideDuration,top:b,left:0,onEnd:h.hitch(this,function(){this._updateColor(!1);u.focus(this.hueCursorNode)})}).play():(a.style(this.hueCursorNode,"top",b+"px"),this._updateColor(!1))},_setPoint:function(b){var c=b.layerY-this.PICKER_SAT_SELECTOR_H/2,d=b.layerX-this.PICKER_SAT_SELECTOR_W/2;b&&u.focus(b.target);this.animatePoint?m.slideTo({node:this.cursorNode,duration:this.slideDuration,top:c,left:d,onEnd:h.hitch(this,
function(){this._updateColor(!0);u.focus(this.cursorNode)})}).play():(a.style(this.cursorNode,{left:d+"px",top:c+"px"}),this._updateColor(!1))},_handleKey:function(a){},focus:function(){this.focused||u.focus(this.focusNode)},_stopDrag:function(a){g.stop(a)},destroy:function(){this.inherited(arguments);p.forEach(this._subs,function(a){b.unsubscribe(a)});delete this._subs}})})},"dojox/color":function(){define(["./color/_base"],function(e){return e})},"dojox/color/_base":function(){define(["../main",
"dojo/_base/lang","dojo/_base/Color","dojo/colors"],function(e,k,h,p){e=k.getObject("color",!0,e);e.Color=h;e.blend=h.blendColors;e.fromRgb=h.fromRgb;e.fromHex=h.fromHex;e.fromArray=h.fromArray;e.fromString=h.fromString;e.greyscale=p.makeGrey;k.mixin(e,{fromCmy:function(a,b,c){k.isArray(a)?(b=a[1],c=a[2],a=a[0]):k.isObject(a)&&(b=a.m,c=a.y,a=a.c);return new h({r:Math.round(255*(1-a/100)),g:Math.round(255*(1-b/100)),b:Math.round(255*(1-c/100))})},fromCmyk:function(a,b,c,d){k.isArray(a)?(b=a[1],c=a[2],
d=a[3],a=a[0]):k.isObject(a)&&(b=a.m,c=a.y,d=a.b,a=a.c);d/=100;return new h({r:Math.round(255*(1-Math.min(1,a/100*(1-d)+d))),g:Math.round(255*(1-Math.min(1,b/100*(1-d)+d))),b:Math.round(255*(1-Math.min(1,c/100*(1-d)+d)))})},fromHsl:function(a,b,c){k.isArray(a)?(b=a[1],c=a[2],a=a[0]):k.isObject(a)&&(b=a.s,c=a.l,a=a.h);b/=100;for(c/=100;0>a;)a+=360;for(;360<=a;)a-=360;var d,g;120>a?(d=(120-a)/60,g=a/60,a=0):240>a?(d=0,g=(240-a)/60,a=(a-120)/60):(d=(a-240)/60,g=0,a=(360-a)/60);d=2*b*Math.min(d,1)+(1-
b);g=2*b*Math.min(g,1)+(1-b);a=2*b*Math.min(a,1)+(1-b);.5>c?(d*=c,g*=c,a*=c):(d=(1-c)*d+2*c-1,g=(1-c)*g+2*c-1,a=(1-c)*a+2*c-1);return new h({r:Math.round(255*d),g:Math.round(255*g),b:Math.round(255*a)})}});e.fromHsv=function(a,b,c){k.isArray(a)?(b=a[1],c=a[2],a=a[0]):k.isObject(a)&&(b=a.s,c=a.v,a=a.h);360==a&&(a=0);b/=100;c/=100;var d,g,e;if(0==b)g=e=d=c;else{var n=a/60;a=Math.floor(n);var l=n-a,n=c*(1-b),m=c*(1-b*l);b=c*(1-b*(1-l));switch(a){case 0:d=c;g=b;e=n;break;case 1:d=m;g=c;e=n;break;case 2:d=
n;g=c;e=b;break;case 3:d=n;g=m;e=c;break;case 4:d=b;g=n;e=c;break;case 5:d=c,g=n,e=m}}return new h({r:Math.round(255*d),g:Math.round(255*g),b:Math.round(255*e)})};k.extend(h,{toCmy:function(){return{c:Math.round(100*(1-this.r/255)),m:Math.round(100*(1-this.g/255)),y:Math.round(100*(1-this.b/255))}},toCmyk:function(){var a,b=this.r/255,c=this.g/255,d=this.b/255;a=Math.min(1-b,1-c,1-d);return{c:Math.round((1-b-a)/(1-a)*100),m:Math.round((1-c-a)/(1-a)*100),y:Math.round((1-d-a)/(1-a)*100),b:Math.round(100*
a)}},toHsl:function(){var a=this.r/255,b=this.g/255,c=this.b/255,d=Math.min(a,c,b),e=Math.max(a,b,c),h=e-d,k=0,l=0,d=(d+e)/2;0<d&&1>d&&(l=h/(.5>d?2*d:2-2*d));0<h&&(e==a&&e!=b&&(k+=(b-c)/h),e==b&&e!=c&&(k+=2+(c-a)/h),e==c&&e!=a&&(k+=4+(a-b)/h),k*=60);return{h:k,s:Math.round(100*l),l:Math.round(100*d)}},toHsv:function(){var a=this.r/255,b=this.g/255,c=this.b/255,d=Math.max(a,b,c),e=d-Math.min(a,c,b),h=null,k=0==d?0:e/d;0==k?h=0:(h=a==d?60*(b-c)/e:b==d?120+60*(c-a)/e:240+60*(a-b)/e,0>h&&(h+=360));return{h:h,
s:Math.round(100*k),v:Math.round(100*d)}}});return e})}}});
//# sourceMappingURL=dojox.js.map