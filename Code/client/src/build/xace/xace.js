//>>built
require({cache:{"xace/main":function(){define(["dojo/text","dojo/_base/kernel","xace/views/ACEEditor","xace/views/Editor","xace/xace"],function(){return dojo.xace})},"xace/views/ACEEditor":function(){define("dcl/dcl dojo/has dojo/dom-construct xide/utils xide/types xide/widgets/TemplatedWidgetBase xace/views/_Split xaction/DefaultActions xace/views/_AceMultiDocs".split(" "),function(D,C,u,g,d,y,w,m,c){var F={};y=D([y],{resizeToParent:!0,templateString:'\x3cdiv attachTo\x3d"aceNode" style\x3d"width: 100%;height: 100%" class\x3d""\x3e\x3c/div\x3e'});
c=D(c,{declaredClass:"xace/views/EditorInterface",editorSession:null,_lastValue:null,enableMultiDocuments:function(){this.addFileCompleter().addDocument("asdf.js","var xxxTop \x3d 2*3;")},loadScript:function(a,b,l){b=document.createElement("script");b.type="application/javascript";b.src=a;b.onload=function(){l&&l()};document.body.appendChild(b)},setMode:function(a,b,l){if((b=b||this.ctx||window.sctx)&&b.getResourceManager()){var e=this;if(F[a])e.set("mode",a),l&&l(a);else{var v=null;(v=b.getResourceManager().getVariable(d.RESOURCE_VARIABLES.ACE))?
v=v+"/mode-"+a+".js":(b=b.getResourceManager().getVariable(d.RESOURCE_VARIABLES.APP_URL),C("debug"),v=b+"/xfile/ext/ace//mode-"+a+".js");this.loadScript(v,null,function(){F[a]=!0;e.set("mode",a);l&&l(a)})}}else console.error("have no resource manager!")},get:function(a){if("value"===a){var b=this.getEditor();return(b=b?b.session:null)?b.getValue():null}return this.inherited(arguments)},set:function(a,b){var l=this,e=this.getEditor(),v=this.editorSession;if("iconClass"===a){var c=this._parent;c&&c.icon&&
this._parent.icon(b)}if(e&&v)if(c=e.container,"item"==a&&(v.setUseWorker(!1),l.getContent(b,function(a){var e=l._getMode(b.path);l.set("value",a);l.setMode(e);v.setUseWorker(l.options.useWorker)})),"value"==a&&b)v.setValue(b);else if("theme"==a)"string"==typeof b&&(b="ace/theme/"+b),e.setTheme(b),this.split&&this.split.setTheme(b);else if("mode"==a)try{ace.require(["ace/mode/"+b],function(a){a&&a.Mode&&l.split.$editors.forEach(function(b){b.session.setMode(new a.Mode)})})}catch(U){console.error("ace mode failed : "+
b)}else"readOnly"==a?e.setReadOnly(b):"tabSize"==a?v.setTabSize(b):"softTabs"==a?v.setUseSoftTabs(b):"wordWrap"==a?v.setUseWrapMode(b):"printMargin"==a?e.renderer.setPrintMarginColumn(b):"showPrintMargin"==a?e.setShowPrintMargin(b):"highlightActiveLine"==a?e.setHighlightActiveLine(b):"fontSize"==a?$(c).css(a,b):"showIntentGuides"==a?e.setDisplayIndentGuides(b):"elasticTabstops"==a?e.setOption("useElasticTabstops",b):"useIncrementalSearch"==a?e.setOption("useIncrementalSearch",b):"showGutter"==a&&
e.renderer.setShowGutter(b);return this.inherited("set",arguments)},_getMode:function(a){a=a||this.fileName;var b="javascript";if(a){b=g.getFileExtension(a)||"js";if("js"===b||"xblox"===b)b="javascript";if("h"===b||"cpp"===b)b="c_cpp";if("html"===b||"cfhtml"===b||"dhtml"===b)b="html";"cp"===b&&(b="xml");"md"===b&&(b="markdown");"hbs"===b&&(b="handlebars")}return b},setOptions:function(a){this.options=a;_.each(a,function(a,b){this.set(b,a)},this);var b=this.getEditor();b&&a.aceOptions&&(b.setOptions(a.aceOptions),
b.session.setUseWorker(a.useWorker),b.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),this.setMode(a.mode));return this.options},getOptions:function(){return this.options},onContentChange:function(a){this._parent&&this._parent.set&&this._parent.set("changed",a!==this.lastSavedContent)},onDidChange:function(){var a=this.get("value");this._lastValue!==a&&(this._lastValue=a,this._emit("change",a),this.onContentChange(a))},getDefaultOptions:function(a,b){var l=
this;return g.mixin({region:"center",style:"margin: 0; padding: 0; position:relative;overflow: auto;height:inherit;width:inherit;text-align:left;",readOnly:!1,tabSize:2,wordWrap:!1,showPrintMargin:!1,highlightActiveLine:!0,fontSize:16,showGutter:!0,showLineNumbers:!0,useWorker:!0,showInvisibles:!1,displayIndentGuides:!0,useSoftTabs:!0,fileName:"none",mode:"javascript",value:a||this.value||"No value",theme:"idle_fingers",splits:1,useElasticTabstops:!1,animatedScroll:!1,highlightActive:!0,aceOptions:{enableBasicAutocompletion:!0,
enableSnippets:!0,enableLiveAutocompletion:!0},onLoad:function(a){a.$blockScrolling=Infinity},onDidChange:function(){var a=l.get("value");if(a!==l.lastSavedContent)l.onContentChange(a)},onPrefsChanged:function(){l.setPreferences&&l.setPreferences()}},b)},getEditor:function(a){if(this.split)return null==a?this.split.getCurrentEditor():this.split.getEditor(null!=a?a:0);if(this.editor)return this.editor},resize:function(a,b,l){a=this.options||{};this.onResize&&this.onResize();return this.debounce("resize",
function(){var a=this.getEditor(),b=this.split||this.editor;if(a&&this.aceNode&&a.container)return a&&g.resizeTo(a.container,this.aceNode,!0,!0),b?b.resize():null;this.resize_debounced.cancel();this.resize_debounced=null}.bind(this),a.resizeDelay||300,null)},getAce:function(){return this.getEditor()},addBasicCommands:function(a){a=a||this.getEditor();var b=this,l=ace.require("ace/ext/whitespace");this._whiteSpaceExt=l;a.commands.addCommands(l.commands);a.commands.addCommands([{name:"gotoline",bindKey:{win:"Ctrl-L",
mac:"Command-L"},exec:function(a,b){if("object"==typeof b){var e=this.name+" "+a.getCursorPosition().row;a.cmdLine.setValue(e,1);a.cmdLine.focus()}else b=parseInt(b,10),isNaN(b)||a.gotoLine(b)},readOnly:!0},{name:"snippet",bindKey:{win:"Alt-C",mac:"Command-Alt-C"},exec:function(a,b){if("object"==typeof b)a.cmdLine.setValue("snippet ",1),a.cmdLine.focus();else{var e=snippetManager.getSnippetByName(b,a);e&&snippetManager.insertSnippet(a,e.content)}},readOnly:!0},{name:"increaseFontSize",bindKey:"Ctrl-+",
exec:function(a){a.setFontSize(a.getFontSize()+1);b.onAfterAction()}},{name:"decreaseFontSize",bindKey:"Ctrl+-",exec:function(a){a.setFontSize(a.getFontSize()-1);b.onAfterAction()}},{name:"resetFontSize",bindKey:"Ctrl+0",exec:function(a){a.setFontSize(12);b.onAfterAction()}}])},onEditorCreated:function(a,b){var l=this;a.getSelectedText=function(){return l.editorSession.getTextRange(this.getSelectionRange())};a.on("change",function(){l.onDidChange(arguments)});this.addBasicCommands(a);a.setFontSize(b.fontSize);
a.$blockScrolling=Infinity;this._whiteSpaceExt&&this._whiteSpaceExt.detectIndentation(a.session)},destroy:function(){var a=this.getEditor();a&&a.destroy();(a=this.resize_debounced)&&a.cancel()},getOptionsMixed:function(a){var b=this.getPreferences?this.getPreferences():{},l=this.getDefaultOptions(this.value,a||this.options);g.mixin(l,a);g.mixin(l,b);l.mode=this._getMode(l.fileName);return l},createEditor:function(a,b){this.set("iconClass",this.iconClassNormal);if(this.editor||this.split)return this.editor||
this.split;var l=this.getPreferences?this.getPreferences():{},e=this.getDefaultOptions(b);g.mixin(e,a);g.mixin(e,l);e.mode=this._getMode(e.fileName);l=e.targetNode||u.create("div");$(l).css({padding:"0",margin:"0",height:"100%",width:"100%"});this.aceNode.appendChild(l);var c=ace.require("ace/config"),L=null,d=null;ace.require("ace/ext/language_tools");try{this.split=L=new (w.getSplitter())(l,null,1),this._aceConfig=c,c.init(),this.editor=d=L.getEditor(0),this.editorSession=this.editor.getSession(),
b&&this.editorSession.setValue(b),L&&L.setSplits(e.splits)}catch(T){logError(T,"error creating editor")}this.setOptions(e);this.onEditorCreated(d,e);return d},addAutoCompleter:function(a){ace.require("ace/ext/language_tools").addCompleter({getCompletions:function(b,l,e,c,L){0===c.length?L(null,[]):a?L(null,a.map(function(a){return{name:a.value,value:a.word,meta:a.meta}})):L(null,[])}})}});var n=D(null,{declaredClass:"xace/views/ACE",onLoaded:function(){this.set("iconClass",this.iconClassNormal)},
getKeyTarget:function(){return this.aceNode},startup:function(){this.aceNode.id=g.createUUID();if(this.permissions){var a=m.getDefaultActions(this.permissions,this,this),a=a.concat(this.getEditorActions(this.permissions));this.addActions(a)}this.iconClassNormal=""+this.iconClass;this.set("iconClass","fa-spinner fa-spin");var b=this,l=this.options||{};if(this.item||null!=this.value)null!=this.value?(this.lastSavedContent=""+this.value,b.createEditor(b.options||null,this.value)):this.getContent(this.item,
function(a){b.lastSavedContent=a;b.createEditor(b.options||l,a)},function(a){b.createEditor(b.options||null,"");logError(a,"error loading content from file")})}});D=D([y,n,c],{});D.EditorImplementation=c;D.Editor=n;D.Container=y;D.Splitter=w;return D})},"xace/views/_Split":function(){define(["dcl/dcl"],function(D){var C=null;D=D(null,{declaredClass:"xace/views/Split"});D.getSplitter=function(){function u(a,b){this.$u=a;this.$doc=b}if(C)return C;var g=ace.require,d=g("ace/lib/oop"),y=g("ace/lib/lang"),
w=g("ace/lib/event_emitter").EventEmitter,m=g("ace/editor").Editor,c=g("ace/virtual_renderer").VirtualRenderer,F=g("ace/edit_session").EditSession,n=g("ace/undomanager").UndoManager;g("ace/keyboard/hash_handler");g=function(a,b,l){this.BELOW=1;this.BESIDE=0;this.$container=a;this.$theme=b;this.$splits=0;this.$editorCSS="";this.$editors=[];this.$orientation=this.BESIDE;this.setSplits(l||1);this.$cEditor=this.$editors[0];this.on("focus",function(a){this.$cEditor=a}.bind(this))};(function(){d.implement(this,
w);this.$createEditor=function(){var a=document.createElement("div");a.className=this.$editorCSS;a.style.cssText="position: absolute; top:0px; bottom:0px";this.$container.appendChild(a);var b=new m(new c(a,this.$theme));b.on("focus",function(){this._emit("focus",b)}.bind(this));this.$editors.push(b);b.session.setUndoManager(new n);b.setFontSize(this.$fontSize);return b};this.setSplits=function(a){var b;if(1>a)throw"The number of splits have to be \x3e 0!";if(a!=this.$splits){if(a>this.$splits){for(;this.$splits<
this.$editors.length&&this.$splits<a;)b=this.$editors[this.$splits],this.$container.appendChild(b.container),b.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<a;)this.$createEditor(),this.$splits++}else for(;this.$splits>a;)b=this.$editors[this.$splits-1],this.$container.removeChild(b.container),this.$splits--;this.resize()}};this.getSplits=function(){return this.$splits};this.getEditor=function(a){return this.$editors[a]};this.getCurrentEditor=function(){return this.$cEditor};this.focus=
function(){this.$cEditor.focus()};this.blur=function(){this.$cEditor.blur()};this.setSessionOption=function(a,b){this.$editors.forEach(function(l){l=l.session;"mode"==a&&l.setMode(b)})};this.setTheme=function(a){this.$editors.forEach(function(b){b.setTheme(a)})};this.setKeyboardHandler=function(a){this.$editors.forEach(function(b){b.setKeyboardHandler(a)})};this.forEach=function(a,b){this.$editors.forEach(a,b)};this.$fontSize="";this.setFontSize=function(a){this.$fontSize=a;this.forEach(function(b){b.setFontSize(a)})};
this.$cloneSession=function(a){var b=new F(a.getDocument(),a.getMode()),l=a.getUndoManager();l&&(l=new u(l,b),b.setUndoManager(l));b.$informUndoManager=y.delayedCall(function(){b.$deltas=[]});b.setTabSize(a.getTabSize());b.setUseSoftTabs(a.getUseSoftTabs());b.setOverwrite(a.getOverwrite());b.setBreakpoints(a.getBreakpoints());b.setUseWrapMode(a.getUseWrapMode());b.setUseWorker(a.getUseWorker());b.setWrapLimitRange(a.$wrapLimitRange.min,a.$wrapLimitRange.max);b.$foldData=a.$cloneFoldData();return b};
this.setSession=function(a,b){var l;l=null==b?this.$cEditor:this.$editors[b];this.$editors.some(function(b){return b.session===a})&&(a=this.$cloneSession(a));l.setSession(a);return a};this.getOrientation=function(){return this.$orientation};this.setOrientation=function(a){this.$orientation!=a&&(this.$orientation=a,this.resize())};this.resize=function(){var a=this.$container.clientWidth,b=this.$container.clientHeight,l;if(this.$orientation==this.BESIDE){a/=this.$splits;this.diffGutter&&(a-=60/this.$splits);
for(var e=0;e<this.$splits;e++){l=this.$editors[e];l.container.style.width=a+"px";l.container.style.top="0px";l.container.style.left=e*a+"px";1==e&&this.diffGutter&&(l.container.style.left=60+e*a+"px",this.diffGutter.style.left=e*a+"px");if(!b)break;$(l.container).css("height",b+"px");var c=$(l.container).find(".ace_content");l.resize();c.css("height",b+"px")}}else for(b/=this.$splits,e=0;e<this.$splits;e++)l=this.$editors[e],l.container.style.width=a+"px",l.container.style.top=e*b+"px",l.container.style.left=
"0px",l.container.style.height=b+"px",l.resize()}}).call(g.prototype);(function(){this.execute=function(a){this.$u.execute(a)};this.undo=function(){var a=this.$u.undo(!0);a&&this.$doc.selection.setSelectionRange(a)};this.redo=function(){var a=this.$u.redo(!0);a&&this.$doc.selection.setSelectionRange(a)};this.reset=function(){this.$u.reset()};this.hasUndo=function(){return this.$u.hasUndo()};this.hasRedo=function(){return this.$u.hasRedo()}}).call(u.prototype);return C=g};return D})},"xace/views/_AceMultiDocs":function(){define(["dcl/dcl",
"xdojo/declare","module","xace/base_handler","xace/complete_util"],function(D,C,u,g,d){function y(a,b,c,l){b=b.split(/[^a-zA-Z_0-9\$]+/);for(var e=0;e<b.length;e++){var v=b[e];v&&(Object.prototype.hasOwnProperty.call(c,v)?c[v]++:(c[v]=1,l[v]={}),l[v][a]=!0)}return c}function w(a){var b=c[a];if(b){for(var e in b)F[e]-=b[e],delete n[e][a],0===F[e]&&(delete F[e],delete n[e]);delete c[a]}}function m(a,b){c[a]||(8E5<b.size?delete c[a]:(c[a]=y(a,b,{},{}),y(a,b,F,n)))}var c={},F={},n={},a,b,l=u.exports=
Object.create(g);l.handlesLanguage=function(a){return!0};l.handlesEditor=function(){return this.HANDLES_ANY};l.getMaxFileSizeSupported=function(){return 1E6};l.onDocumentOpen=function(a,b,l,d){c[a]||m(a,b.getValue());d()};l.addDocument=function(a,b){c[a]||m(a,b)};l.onDocumentClose=function(e,c){w(e);e==a&&(b=null);c()};l.analyze=function(e,c,l,d){b&&this.path!==a&&(w(a),m(a,b),b=null);a=this.path;b=e;l()};l.complete=function(a,b,c,l,g){a=a.getSession().getLine(c.row);c=d.retrievePrecedingIdentifier(a,
c.column,this.$getIdentifierRegex());var e=F;a=[];for(var v in e)a.push(v);v=d.findCompletions(c,a);var L=this.path;v=v.filter(function(a){return!n[a][L]});v=v.slice(0,100);g(v.filter(function(a){return!a.match(/^[0-9$_\/]/)}).map(function(a){var b=(Object.keys(n[a])[0]||"[unknown]").split("/");return{name:a,value:a,icon:null,score:e[a],meta:b[b.length-1],priority:0,isGeneric:!0}}))};l.getCompletions=function(a,b,c,d,n){var e=null;l.complete(a,null,c,null,function(a){e=a});n(null,e)};D=D(null,{declaredClass:"xide.views._AceMultiDocs",
didAddMCompleter:!1,multiFileCompleter:null,addFileCompleter:function(){var a=null;this.didAddMCompleter||(this.multiFileCompleter=a=l,ace.require("ace/ext/language_tools").addCompleter(a),this.didAddMCompleter=!0);return a}});D.completer=l;return D})},"xace/base_handler":function(){define(function(D,C,u){u.exports={HANDLES_ANY:0,HANDLES_EDITOR:1,HANDLES_IMMEDIATE:2,HANDLES_EDITOR_AND_IMMEDIATE:3,language:null,path:null,workspaceDir:null,doc:null,isFeatureEnabled:function(g){return!disabledFeatures[g]},
$getIdentifierRegex:function(){return null},completeUpdate:function(g){throw Error("Use worker_util.completeUpdate instead()");},handlesLanguage:function(g){throw Error("base_handler.handlesLanguage() is not overridden");},handlesEditor:function(){return this.HANDLES_EDITOR},getMaxFileSizeSupported:function(){return 8E5},isParsingSupported:function(){return!1},getIdentifierRegex:function(){return null},getCompletionRegex:function(){return null},getTooltipRegex:function(){return null},parse:function(g,
d){d()},findNode:function(g,d,y){y()},getPos:function(g,d){d()},init:function(g){g()},onUpdate:function(g,d){d()},onDocumentOpen:function(g,d,y,u){u()},onDocumentClose:function(g,d){d()},onCursorMove:function(g,d,y,u,m){m()},tooltip:function(g,d,y,u,m){m()},highlightOccurrences:function(g,d,y,u,m){m()},getRefactorings:function(g,d,y,u,m){m()},outline:function(g,d,y){y()},hierarchy:function(g,d,y){y()},complete:function(g,d,y,u,m){m()},analyze:function(g,d,y,u){y()},getRenamePositions:function(g,d,
u,w,m){m()},onRenameBegin:function(g,d){d()},commitRename:function(g,d,u,w,m){m()},onRenameCancel:function(g){g()},codeFormat:function(g,d){d()},jumpToDefinition:function(g,d,u,w,m){m()},getResolutions:function(g,d,u,w){w()},hasResolution:function(g,d,u,w){w()},getInspectExpression:function(g,d,u,w,m){m()}};for(f in u.exports)"function"===typeof u.exports[f]&&(u.exports[f].base_handler=!0)})},"xace/complete_util":function(){define(function(D,C,u){function g(c,d,n){n=n||y;var a=[];for(--d;0<=d&&c;d--)if(n.test(c[d]))a.push(c[d]);
else break;return a.reverse().join("")}function d(c,d,n,a,b){if(-1===["javascript","jsx"].indexOf(a.getSession().syntax))return!1;a=null==n?g(c,d,w):n;n=9-(b?1:0);d=d-a.length-n;b=c.substr(d,n)+(b?'"':"");return 0<=d&&b.match(/require\(["']/)||c.substr(d+1,n).match(/require\(["']/)}var y=/[a-zA-Z_0-9\$]/,w=/(?!["'])./,m="../static/lib";C.precededByIdentifier=function(c,F,n,a){var b=g(c,F);n&&(b+=n);if(n=""!==b&&!("0"<=b[0]&&"9">=b[0])){if(-1===["javascript","jsx"].indexOf(a.getSession().syntax))n=
!0;else{n=null;for(var l=0;l<F;l++)'"'!==c[l]||n?'"'===c[l]&&'"'===n&&"\\"!==c[l-1]?n=null:"'"!==c[l]||n?"'"===c[l]&&"'"===n&&"\\"!==c[l-1]?n=null:"/"===c[l]&&"/"===c[l+1]?(n="//",l++):"/"!==c[l]||"*"!==c[l+1]||n?"*"===c[l]&&"/"===c[l+1]&&"/*"===n?(n=null,l++):"/"!==c[l]||n?"/"===c[l]&&"/"===n&&"\\"!==c[l-1]&&(n=null):n="/":"global"!==c.substr(l+2,6)&&(n="/*",l++):n="'":n='"';n="/"!=n}n=n||d(c,F,b,a)}return n};C.isRequireJSCall=d;C.retrievePrecedingIdentifier=g;C.retrieveFollowingIdentifier=function(c,
d,n){n=n||y;for(var a=[];c&&d<c.length;d++)if(n.test(c[d]))a.push(c[d]);else break;return a.join("")};C.findCompletions=function(c,d){d.sort();for(var n=0,a=d.length-1,b=Math.floor((a+n)/2);a>n&&0<=b&&0!==d[b].indexOf(c);)c<d[b]?a=b-1:c>d[b]&&(n=b+1),b=Math.floor((a+n)/2);for(;0<b&&0===d[b-1].indexOf(c);)b--;n=[];for(b=0<=b?b:0;b<d.length&&0===d[b].indexOf(c);b++)n.push(d[b]);return n};C.fetchText=function(c){var d=new XMLHttpRequest;c=m+"/"+c;console.error("fetch text : "+c);d.open("GET",c,!1);try{d.send()}catch(n){return!1}return 200===
d.status||d.responseText?d.responseText:!1};C.setStaticPrefix=function(c){m=c};C.DEFAULT_ID_REGEX=y;C.canCompleteForChangedLine=function(c,d,n,a,b){if(n.row!==a.row||0!==d.indexOf(c))return!1;n=g(c,n.column,b);a=g(d,a.column,b);return d.substr(0,d.length-a.length)===c.substr(0,c.length-n.length)}})},"xace/views/Editor":function(){define("dcl/dcl xide/types xide/utils xaction/ActionProvider xace/views/ACEEditor xace/views/_Actions xaction/Toolbar xide/mixins/PersistenceMixin".split(" "),function(D,
C,u,g,d,y,w,m){m=D([m.dcl],{declaredClass:"xace.views.EditorPersistence",defaultPrefenceTheme:"idle_fingers",defaultPrefenceFontSize:14,saveValueInPreferences:!0,getDefaultPreferences:function(){return u.mixin({theme:this.defaultPrefenceTheme,fontSize:this.defaultPrefenceFontSize},this.saveValueInPreferences?{value:this.get("value")}:null)},onAfterAction:function(c){var d=this.getEditor().getTheme();this.savePreferences({theme:d.replace("ace/theme/",""),fontSize:this.getEditor().getFontSize()});return this.inherited(arguments)},
toPreferenceId:function(c){if(!c){var d=$("body");c="xTheme-";var n;_.each(["blue","gray","white","transparent"],function(a){n=c+a;d.hasClass(n)&&(c=n)})}return(c||this.cookiePrefix||"")+"_xace"},getDefaultOptions:function(){var c=this.inherited(arguments),d=this.loadPreferences(null);d&&u.mixin(c,d)||this.savePreferences(this.getDefaultPreferences());return c}});D=D([y,d,g.dcl,m,w.dcl],{toolbarArgs:{actionFilter:{}},getBreadcrumbPath:function(){if(this.item)return{path:u.replaceAll("/","",this.item.mount)+
":/"+this.item.path.replace("./","/")}},tabOrder:{Home:100,View:50,Settings:20},menuOrder:{File:110,Edit:100,View:90,Block:50,Settings:20,Navigation:10,Editor:9,Step:5,New:4,Window:3,Help:2},declaredClass:"xace/views/Editor",options:null,loadingIcon:"fa-spinner fa-spin",iconClassNormal:"fa-code",templateString:'\x3cdiv attachTo\x3d"template" class\x3d"grid-template widget" style\x3d"width: 100%;height: 100%;overflow: hidden !important;position: relative;padding: 0px;margin: 0px"\x3e\x3cdiv attachTo\x3d"header" class\x3d"view-header row bg-opaque" style\x3d"height: auto;width:inherit;height:auto;min-height: 33px"\x3e\x3c/div\x3e\x3cdiv attachTo\x3d"aceNode" class\x3d"view-body row" style\x3d"height:100%;width: 100%;position: relative;"\x3e\x3c/div\x3e\x3cdiv attachTo\x3d"footer" class\x3d"view-footer" style\x3d"position: absolute;bottom: 0px;width: 100%"\x3e\x3c/div\x3e\x3c/div\x3e',
getContent:function(c,d,n){this.storeDelegate?this.storeDelegate.getContent(function(a){d(a)},c||this.item):n&&n("Editor::getContent : Have no store delegate!")},saveContent:function(c,d,n){var a=this;this.set("iconClass","fa-spinner fa-spin");var b=c||this.get("value");if(this.storeDelegate)return this.storeDelegate.saveContent(b,function(){a.set("iconClass",a.iconClassNormal);a.lastSavedContent=b;a.onContentChange(b);a.publish(C.EVENTS.ON_FILE_CONTENT_CHANGED,{path:a.options.filePath,item:a.item,
content:b,editor:a},a)},null,a.item);n&&n("Editor::saveContent : Have no store delegate!");return!1},addCommands:function(){var c=this.getAce(),d=this;ace.require("ace/config").init();var n=[];this.hasHelp&&n.push({name:"showKeyboardShortcuts",bindKey:{win:"Ctrl-Alt-h",mac:"Command-Alt-h"},exec:function(a){d.showHelp(a)}});this.hasConsole&&n.push({name:"gotoline",bindKey:{win:"Ctrl-L",mac:"Command-L"},exec:function(a,b){if("object"==typeof b){var c=this.name+" "+a.getCursorPosition().row;a.cmdLine.setValue(c,
1);a.cmdLine.focus()}else b=parseInt(b,10),isNaN(b)||a.gotoLine(b)},readOnly:!0});c.commands.addCommands(n)},getWebRoot:function(){return this.ctx.getResourceManager().getVariable(C.RESOURCE_VARIABLES.APP_URL)},resize:function(){return this._resize()},onResize:function(){return this._resize()},_resize:function(){var c=this.getParent();this._isMaximized?u.resizeTo(this,this._maximizeContainer,!0,!0):c&&u.resizeTo(this,c,!0,!0);var c=this.getToolbar(),d=!1,n=$(this.aceNode);this._isMaximized&&c&&u.resizeTo(c,
this.header,!0,!0);!c||c&&c.isEmpty()?d=!0:c&&(u.resizeTo(c,this.header,!1,!0),c.resize(),u.resizeTo(this.header,c,!0,!1));var a=$(this.domNode).height(),d=1==d?0:$(this.header).height(),b=$(this.footer).height(),a=a-d-b;c&&(a-=4);50<a?n.height(a+"px"):n.height("inherited")},__set:function(c,d){var n=this.inherited(arguments);if("iconClass"===c){var a=this._parent;a&&a.icon&&this._parent.icon(d)}return n},__get:function(c){if("value"===c){var d=this.getEditor();return(d=d?d.session:null)?d.getValue():
null}return this.inherited(arguments)}});D.DEFAULT_PERMISSIONS=y.DEFAULT_PERMISSIONS;return D})},"xace/views/_Actions":function(){define("dcl/dcl xide/utils xide/types xide/types/Types xaction/types xaction/ActionProvider xace/views/ACEEditor xaction/Toolbar xaction/DefaultActions dojo/Deferred xace/formatters".split(" "),function(D,C,u,g,d,y,w,m,c,F,n){g=u.ACTION;var a=u.VIEW_SPLIT_MODE;g=[g.RELOAD,g.SAVE,g.FIND,g.TOOLBAR,"Editor/Keyboard","View/Increase Font Size","View/Decrease Font Size","View/Themes",
"Help/Editor Shortcuts","Editor/Snippets","Editor/Console","Editor/Settings",g.FULLSCREEN,"View/Layout","Edit/Format"];y=D([w,m.dcl,y.dcl],{permissions:g,_searchBoxOpen:!1,onSingleView:function(){},setSplitMode:function(b){this.splitMode=b;if(!this.doSplit)if("Diff"==b)this.doDiff();else{var c=b==a.SPLIT_HORIZONTAL||b==a.SPLIT_VERTICAL,e=this.getEditor(),d=this.split;c?(c=1==d.getSplits(),d.setOrientation(b==a.SPLIT_HORIZONTAL?d.BELOW:d.BESIDE),d.setSplits(2),c&&(b=d.getEditor(0).session,d.setSession(b,
1).name=b.name,e=e.getOptions(),d.getEditor(1).setOptions(e))):(d.setSplits(1),this.onSingleView())}},onMaximized:function(a){var b=this.getParent();!1===a&&b&&b.resize&&b.resize();var e=this.getToolbar();e&&(a?$(e.domNode).addClass("bg-opaque"):$(e.domNode).removeClass("bg-opaque"));!1===a&&(this.resize(),b&&C.resizeTo(this,b,!0,!0),this.publish(u.EVENTS.ON_VIEW_MAXIMIZE_END));this.getEditor().focus()},maximize:function(){var a=this.domNode,c=$(a);this.getToolbar();if(this._isMaximized)this._isMaximized=
!1,c.removeClass("AceEditorPaneFullScreen"),this._lastParent.appendChild(a),C.destroy(this._maximizeContainer);else{this.publish(u.EVENTS.ON_VIEW_MAXIMIZE_START);this._isMaximized=!0;var c=$(this.domNode.ownerDocument),e=$("body")[0],d=C.create("div",{className:"ACEContainer bg-opaque",style:"z-index:300;height:100%;width:100%"});this._maximizeContainer=d;e.appendChild(d);$(a).addClass("AceEditorPaneFullScreen");$(a).css("width",c.width());$(a).css("height",c.height());this.resize();this._lastParent=
a.parentNode;d.appendChild(a);$(d).addClass("bg-opaque");$(d).css("width",c.width());$(d).css("height",c.height());$(d).css({position:"absolute",left:"0px",top:"0px",border:"none medium",width:"100%",height:"100%"})}this.onMaximized(this._isMaximized);return!0},save:function(a){var b=this.get("value"),e=this.saveContent(this.get("value"),a),c=this;this._emit(u.EVENTS.ON_FILE_CONTENT_CHANGED,{content:b,item:a});setTimeout(function(){var a=c.getEditor();a&&a.focus()},600);return e},reload:function(){var a=
this,c=new F;this.getContent(this.item,function(b){a.lastSavedContent=b;a.set("value",b);c.resolve(b)},function(a){logError(a,"error loading content from file");c.reject(a)});return c},runAction:function(a){a=this.getAction(a);if(!a)return!1;var b=this,e=a.command,c=u.ACTION,d=this.getEditor(),g=this.editorSession;-1!=e.indexOf("View/Layout")&&b.setSplitMode(a.option,null);switch(e){case c.RELOAD:return this.reload();case "View/Increase Font Size":return d.setFontSize(d.getFontSize()+1),!0;case "View/Decrease Font Size":return d.setFontSize(d.getFontSize()-
1),!0;case c.FULLSCREEN:return this.maximize();case "Help/Editor Shortcuts":b.showHelp();break;case c.SAVE:b.save(this.item);break;case c.FIND:var m=function(a){b._searchBoxOpen?(a.hide(),b._searchBoxOpen=!1):(a.show(d.session.getTextRange(),null),b._searchBoxOpen=!0)},g=ace.require("ace/lib/net"),e=this.getWebRoot();(c=d.searchBox)?m(c):g.loadScript(e+"/xfile/ext/ace/ext-searchbox.js",function(a){a=ace.require("ace/ext/searchbox");m(new a.SearchBox(d))});return!0}if(-1!==e.indexOf("View/Themes")){b.set("theme",
a.theme);if(c=a.getParent?a.getParent():null)c=c.getChildren(),_.each(c,function(a){a.set("icon",a._oldIcon)});a.set("icon","fa fa-check")}-1!==e.indexOf("Edit/Format")&&d&&(c=n.format(d,a.formatter),b.set("value",c));if(-1!==e.indexOf("Editor/Settings")){var e=a.option,c=d.getOption(a.option),Q=_.isBoolean(c);if("highlightActive"===e){d.setHighlightActiveLine(!d.getHighlightActiveLine());return}if(Q)d.setOption(a.option,!c);else{if("wordWrap"===e)return g=g.getUseWrapMode(),this.set("wordWrap",!g),
!0;"off"===c||"on"===c?d.setOption(e,"off"===c?"on":"off"):d.setOption(a.option,!1)}return!0}return this.inherited(arguments)},getEditorActions:function(b){function d(a,b,c,d,l,g,n,k){l=l=l||{};a=v.createAction(C.mixin({label:a,command:b||"Editor/Settings/"+a||"Editor/Settings/"+a,icon:c||"fa-cogs",group:g||"Settings",mixin:C.mixin({addPermission:!0,option:d,actionType:n,owner:v},l)},k));e.push(a);return a}var e=[],v=this,g=u.ACTION,m=u.ACTION_ICON;e.push(this.createAction({label:"Save",command:g.SAVE,
icon:m.SAVE,keycombo:"ctrl s",group:"File"}));e.push(this.createAction({label:"Find",command:g.FIND,icon:m.SEARCH,keycombo:"ctrl f",group:"Search"}));e.push(this.createAction({label:"Fullscreen",command:g.FULLSCREEN,icon:m.MAXIMIZE,keycombo:"ctrl f11",group:"View"}));e.push(this.createAction({label:"Increase Fontsize",command:"View/Increase Font Size",icon:"fa-text-height",group:"View"}));e.push(this.createAction({label:"Decrease Fontsize",command:"View/Decrease Font Size",icon:"fa-text-height",group:"View"}));
c.hasAction(b,"View/Themes")&&(e.push(this.createAction({label:"Themes",command:"View/Themes",icon:"fa-paint-brush",group:"View",mixin:{closeOnClick:!1,value:this.defaultPrefenceTheme},onCreate:function(a){var b=v.getDefaultOptions();a.set("value",b.theme)}})),v._addThemes&&v._addThemes(e));e.push(this.createAction({label:"Help",command:"Help/Editor Shortcuts",icon:"fa-question",keycombo:"f1"}));e.push(this.createAction({label:"Settings",command:"Editor/Settings",icon:"fa-cogs",group:"Settings"}));
g={onCreate:function(a){var b=v.getOptionsMixed()[this.option];null!==b&&a.set("value",b)},onChange:function(a,b){this.value=b;v.runAction(this)}};d("Show Gutters",null,null,"showGutter",null,null,u.ACTION_TYPE.MULTI_TOGGLE,g);d("Show Print Margin",null,null,"showPrintMargin",null,null,u.ACTION_TYPE.MULTI_TOGGLE,g);d("Display Intend Guides",null,null,"displayIndentGuides",null,null,u.ACTION_TYPE.MULTI_TOGGLE,g);d("Show Line Numbers",null,null,"showLineNumbers",null,null,u.ACTION_TYPE.MULTI_TOGGLE,
g);d("Show Indivisibles",null,null,"showInvisibles",null,null,u.ACTION_TYPE.MULTI_TOGGLE,g);d("Use Soft Tabs",null,null,"useSoftTabs",null,null,u.ACTION_TYPE.MULTI_TOGGLE,g);d("Use Elastic Tab Stops",null,null,"useElasticTabstops",null,null,u.ACTION_TYPE.MULTI_TOGGLE,g);d("Animated Scroll",null,null,"animatedScroll",null,null,u.ACTION_TYPE.MULTI_TOGGLE,g);d("Word Wrap",null,null,"wordWrap",null,null,u.ACTION_TYPE.MULTI_TOGGLE,g);d("Highlight Active Line",null,null,"highlightActive",null,null,u.ACTION_TYPE.MULTI_TOGGLE,
g);if(c.hasAction(b,"Edit/Format")){e.push(this.createAction({label:"Format",command:"Edit/Format",icon:"fa-indent",group:"Edit"}));var g=n.modes,m=function(a,b,c){a=v.createAction({label:a,command:"Edit/Format/"+a,icon:"fa-indent",group:"Edit",mixin:{addPermission:!0,formatter:c},onCreate:function(a){}});e.push(a)},y;for(y in g)e.push(m(g[y],"",y))}c.hasAction(b,"View/Layout")&&(e.push(this.createAction({label:"Split",command:"View/Layout",icon:"fa-columns",group:"View"})),e.push(d("None","View/Layout/None",
"fa-columns",a.SOURCE,null,"View",u.ACTION_TYPE.SINGLE_TOGGLE)),e.push(d("Horizontal","View/Layout/Horizontal","layoutIcon-horizontalSplit",a.SPLIT_HORIZONTAL,null,"View",u.ACTION_TYPE.SINGLE_TOGGLE)),e.push(d("Vertical","View/Layout/Vertical","layoutIcon-layout293",a.SPLIT_VERTICAL,null,"View",u.ACTION_TYPE.SINGLE_TOGGLE)));return e},_addThemes:function(a){for(var b=this.getThemeData(),c=this,d=function(a,b,d){return c.createAction({label:a,command:"View/Themes/"+a,group:"View",icon:b,mixin:{addPermission:!0,
value:d,theme:d,closeOnClick:!1},onCreate:function(a){a._oldIcon=b;a.set("value",d);a.actionType=u.ACTION_TYPE.SINGLE_TOGGLE}})},g=0;g<b.length;g++){var n=b[g],m=n[1]||n[0].replace(/ /g,"_").toLowerCase(),n=d(n[0]," ",m);a.push(n)}},showHelp:function(a){a=a||this.getEditor();ace.require("ace/config").loadModule("ace/ext/keybinding_menu",function(b){b.init(a);a.showKeyboardShortcuts()})},getThemeData:function(){return[["Chrome"],["Clouds"],["Crimson Editor"],["Dawn"],["Dreamweaver"],["Eclipse"],["GitHub"],
["Solarized Light"],["TextMate"],["Tomorrow"],["XCode"],["Kuroir"],["KatzenMilch"],["Ambiance","ambiance","dark"],["Day","cloud9_day"],["Night","cloud9_night"],["Chaos","chaos","dark"],["Midnight","clouds_midnight","dark"],["Cobalt","cobalt","dark"],["idle Fingers","idle_fingers","dark"],["krTheme","kr_theme","dark"],["Merbivore","merbivore","dark"],["Merbivore-Soft","merbivore_soft","dark"],["Mono Industrial","mono_industrial","dark"],["Monokai","monokai","dark"],["Pastel on dark","pastel_on_dark",
"dark"],["Solarized Dark","solarized_dark","dark"],["Terminal","terminal","dark"],["Tomorrow-Night","tomorrow_night","dark"],["Tomorrow-Night-Blue","tomorrow_night_blue","dark"],["Tomorrow-Night-Bright","tomorrow_night_bright","dark"],["Tomorrow-Night-80s","tomorrow_night_eighties","dark"],["Twilight","twilight","dark"],["Vibrant Ink","vibrant_ink","dark"]]}});y.DEFAULT_PERMISSIONS=g;D.chainAfter("runAction",y);return y})},"xace/formatters":function(){define(["xace/lib_jsbeautify"],function(D){return{format:function(C,
u){if(!0!==this.disabled){var g=C.session,d=C.selection.getRange(),y={space_before_conditional:!0,keep_array_indentation:!1,preserve_newlines:!0,unescape_strings:!0,jslint_happy:!1,brace_style:"end-expand",indent_char:" "};y.indent_size=g.getTabSize();var w=g.getLine(d.start.row).match(/^\s*/)[0],m=!1;d.start.column<w.length?d.start.column=0:m=!0;var c=g.getTextRange(d);0==c.length&&(c=g.getValue());g=null;"javascript"==u||"json"==u?g="js":"css"==u||"less"==u?g="css":/^\s*<!?\w/.test(c)?g="html":
"xml"==u?g="html":"html"==u?g=/[^<]+?{[\s\-\w]+:[^}]+;/.test(c)?"css":/<\w+[ \/>]/.test(c)?"html":"js":"handlebars"==u&&(y.indent_handlebars=!0,g="html");try{c=D[g+"_beautify"](c,y),m&&(c=c.replace(/^/gm,w).trim()),0===d.end.column&&(c+="\n"+w)}catch(F){return!1}return c}},modes:{javascript:"Javascript (JS Beautify)",html:"HTML (JS Beautify)",css:"CSS (JS Beautify)",less:"Less (JS Beautify)",xml:"XML (JS Beautify)",json:"JSON (JS Beautify)",handlebars:"Handlebars (JS Beautify)"}}})},"xace/lib_jsbeautify":function(){define(["require",
"exports","module"],function(D,C,u){var g=u.exports={};(function(){function d(a,b){for(var c=0;c<b.length;c+=1)if(b[c]===a)return!0;return!1}function u(a){return a.replace(/^\s+|\s+$/g,"")}function w(a,b){return(new m(a,b)).beautify()}function m(a,c){function e(a,b){var c=0;a&&(c=a.indentation_level,!p.just_added_newline()&&a.line_indent_level>c&&(c=a.line_indent_level));return{mode:b,parent:a,last_text:a?a.last_text:"",last_word:a?a.last_word:"",declaration_statement:!1,declaration_assignment:!1,
multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:c,line_indent_level:a?a.line_indent_level:c,start_line_index:p.get_line_number(),ternary_depth:0}}function l(a){var c=a.newlines;if(x.keep_array_indentation&&h.mode===b.ArrayLiteral)for(d=0;d<c;d+=1)m(0<d);else if(x.max_preserve_newlines&&c>x.max_preserve_newlines&&(c=x.max_preserve_newlines),x.preserve_newlines&&1<a.newlines){m();for(var d=1;d<c;d+=1)m(!0)}r=a;R[r.type]()}
function g(a){a=void 0===a?!1:a;p.just_added_newline()||(x.preserve_newlines&&r.wanted_newline||a?m(!1,!0):x.wrap_line_length&&p.current_line.get_character_count()+r.text.length+(p.space_before_token?1:0)>=x.wrap_line_length&&m(!1,!0))}function m(a,c){if(!c&&";"!==h.last_text&&","!==h.last_text&&"\x3d"!==h.last_text&&"TK_OPERATOR"!==t)for(;h.mode===b.Statement&&!h.if_block&&!h.do_block;)G();p.add_new_line(a)&&(h.multiline_frame=!0)}function v(a){a=a||r.text;p.just_added_newline()&&(x.keep_array_indentation&&
h.mode===b.ArrayLiteral&&r.wanted_newline?(p.current_line.push(r.whitespace_before),p.space_before_token=!1):p.set_indent(h.indentation_level)&&(h.line_indent_level=h.indentation_level));p.add_token(a)}function y(a){h?(P.push(h),F=h):F=e(null,a);h=e(F,a)}function z(a){return d(a,[b.Expression,b.ForInitializer,b.Conditional])}function G(){0<P.length&&(F=h,h=P.pop(),F.mode===b.Statement&&p.remove_redundant_indentation(F))}function J(){return h.parent.mode===b.ObjectLiteral&&h.mode===b.Statement&&(":"===
h.last_text&&0===h.ternary_depth||"TK_RESERVED"===t&&d(h.last_text,["get","set"]))}function H(){return"TK_RESERVED"===t&&d(h.last_text,["var","let","const"])&&"TK_WORD"===r.type||"TK_RESERVED"===t&&"do"===h.last_text||"TK_RESERVED"===t&&"return"===h.last_text&&!r.wanted_newline||"TK_RESERVED"===t&&"else"===h.last_text&&("TK_RESERVED"!==r.type||"if"!==r.text)||"TK_END_EXPR"===t&&(F.mode===b.ForInitializer||F.mode===b.Conditional)||"TK_WORD"===t&&h.mode===b.BlockStatement&&!h.in_case&&"--"!==r.text&&
"++"!==r.text&&"TK_WORD"!==r.type&&"TK_RESERVED"!==r.type||h.mode===b.ObjectLiteral&&(":"===h.last_text&&0===h.ternary_depth||"TK_RESERVED"===t&&d(h.last_text,["get","set"]))?(y(b.Statement),h.indentation_level+=1,"TK_RESERVED"===t&&d(h.last_text,["var","let","const"])&&"TK_WORD"===r.type&&(h.declaration_statement=!0),J()||g("TK_RESERVED"===r.type&&d(r.text,["do","for","if","while"])),!0):!1}function k(a){return d(a,"case return do if throw else".split(" "))}function A(a){a=q+(a||0);return 0>a||a>=
E.length?null:E[a]}function M(){"TK_RESERVED"===r.type&&h.mode!==b.ObjectLiteral&&d(r.text,["set","get"])&&(r.type="TK_WORD");"TK_RESERVED"===r.type&&h.mode===b.ObjectLiteral&&":"==A(1).text&&(r.type="TK_WORD");H()||!r.wanted_newline||z(h.mode)||"TK_OPERATOR"===t&&"--"!==h.last_text&&"++"!==h.last_text||"TK_EQUALS"===t||!x.preserve_newlines&&"TK_RESERVED"===t&&d(h.last_text,["var","let","const","set","get"])||m();if(h.do_block&&!h.do_while){if("TK_RESERVED"===r.type&&"while"===r.text){p.space_before_token=
!0;v();p.space_before_token=!0;h.do_while=!0;return}m();h.do_block=!1}if(h.if_block)if(h.else_block||"TK_RESERVED"!==r.type||"else"!==r.text){for(;h.mode===b.Statement;)G();h.if_block=!1;h.else_block=!1}else h.else_block=!0;if("TK_RESERVED"===r.type&&("case"===r.text||"default"===r.text&&h.in_case_statement)){m();if(h.case_body||x.jslint_happy)0<h.indentation_level&&(!h.parent||h.indentation_level>h.parent.indentation_level)&&--h.indentation_level,h.case_body=!1;v();h.in_case=!0;h.in_case_statement=
!0}else{"TK_RESERVED"===r.type&&"function"===r.text&&(!(d(h.last_text,["}",";"])||p.just_added_newline()&&!d(h.last_text,["[","{",":","\x3d",","]))||p.just_added_blankline()||r.comments_before.length||(m(),m(!0)),"TK_RESERVED"===t||"TK_WORD"===t?"TK_RESERVED"===t&&d(h.last_text,["get","set","new","return","export"])?p.space_before_token=!0:"TK_RESERVED"===t&&"default"===h.last_text&&"export"===w?p.space_before_token=!0:m():"TK_OPERATOR"===t||"\x3d"===h.last_text?p.space_before_token=!0:(h.multiline_frame||
!z(h.mode)&&h.mode!==b.ArrayLiteral)&&m());if("TK_COMMA"===t||"TK_START_EXPR"===t||"TK_EQUALS"===t||"TK_OPERATOR"===t)J()||g();"TK_RESERVED"===r.type&&d(r.text,["function","get","set"])?(v(),h.last_word=r.text):(K="NONE","TK_END_BLOCK"===t?"TK_RESERVED"===r.type&&d(r.text,["else","catch","finally"])?"expand"===x.brace_style||"end-expand"===x.brace_style||"none"===x.brace_style&&r.wanted_newline?K="NEWLINE":(K="SPACE",p.space_before_token=!0):K="NEWLINE":"TK_SEMICOLON"===t&&h.mode===b.BlockStatement?
K="NEWLINE":"TK_SEMICOLON"===t&&z(h.mode)?K="SPACE":"TK_STRING"===t?K="NEWLINE":"TK_RESERVED"===t||"TK_WORD"===t||"*"===h.last_text&&"function"===w?K="SPACE":"TK_START_BLOCK"===t?K="NEWLINE":"TK_END_EXPR"===t&&(p.space_before_token=!0,K="NEWLINE"),"TK_RESERVED"===r.type&&d(r.text,B.line_starters)&&")"!==h.last_text&&(K="else"===h.last_text||"export"===h.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===r.type&&d(r.text,["else","catch","finally"])?"TK_END_BLOCK"!==t||"expand"===x.brace_style||"end-expand"===
x.brace_style||"none"===x.brace_style&&r.wanted_newline?m():(p.trim(!0),"}"!==p.current_line.last()&&m(),p.space_before_token=!0):"NEWLINE"===K?"TK_RESERVED"===t&&k(h.last_text)?p.space_before_token=!0:"TK_END_EXPR"!==t?"TK_START_EXPR"===t&&"TK_RESERVED"===r.type&&d(r.text,["var","let","const"])||":"===h.last_text||("TK_RESERVED"===r.type&&"if"===r.text&&"else"===h.last_text?p.space_before_token=!0:m()):"TK_RESERVED"===r.type&&d(r.text,B.line_starters)&&")"!==h.last_text&&m():h.multiline_frame&&h.mode===
b.ArrayLiteral&&","===h.last_text&&"}"===w?m():"SPACE"===K&&(p.space_before_token=!0),v(),h.last_word=r.text,"TK_RESERVED"===r.type&&"do"===r.text&&(h.do_block=!0),"TK_RESERVED"===r.type&&"if"===r.text&&(h.if_block=!0))}}var p,E=[],q,B,r,t,w,C,h,F,P,K,R,x,S="";R={TK_START_EXPR:function(){H();var a=b.Expression;if("["===r.text){if("TK_WORD"===t||")"===h.last_text){"TK_RESERVED"===t&&d(h.last_text,B.line_starters)&&(p.space_before_token=!0);y(a);v();h.indentation_level+=1;x.space_in_paren&&(p.space_before_token=
!0);return}a=b.ArrayLiteral;h.mode!==b.ArrayLiteral||"["!==h.last_text&&(","!==h.last_text||"]"!==w&&"}"!==w)||x.keep_array_indentation||m()}else"TK_RESERVED"===t&&"for"===h.last_text?a=b.ForInitializer:"TK_RESERVED"===t&&d(h.last_text,["if","while"])&&(a=b.Conditional);";"===h.last_text||"TK_START_BLOCK"===t?m():"TK_END_EXPR"===t||"TK_START_EXPR"===t||"TK_END_BLOCK"===t||"."===h.last_text?g(r.wanted_newline):"TK_RESERVED"===t&&"("===r.text||"TK_WORD"===t||"TK_OPERATOR"===t?"TK_RESERVED"===t&&("function"===
h.last_word||"typeof"===h.last_word)||"*"===h.last_text&&"function"===w?x.space_after_anon_function&&(p.space_before_token=!0):"TK_RESERVED"===t&&(d(h.last_text,B.line_starters)||"catch"===h.last_text)&&x.space_before_conditional&&(p.space_before_token=!0):p.space_before_token=!0;"("!==r.text||"TK_EQUALS"!==t&&"TK_OPERATOR"!==t||J()||g();y(a);v();x.space_in_paren&&(p.space_before_token=!0);h.indentation_level+=1},TK_END_EXPR:function(){for(;h.mode===b.Statement;)G();h.multiline_frame&&g("]"===r.text&&
h.mode===b.ArrayLiteral&&!x.keep_array_indentation);x.space_in_paren&&("TK_START_EXPR"!==t||x.space_in_empty_paren?p.space_before_token=!0:(p.trim(),p.space_before_token=!1));"]"===r.text&&x.keep_array_indentation?(v(),G()):(G(),v());p.remove_redundant_indentation(F);h.do_while&&F.mode===b.Conditional&&(F.mode=b.Expression,h.do_block=!1,h.do_while=!1)},TK_START_BLOCK:function(){var a=A(1),c=A(2);c&&(":"===c.text&&d(a.type,["TK_STRING","TK_WORD","TK_RESERVED"])||d(a.text,["get","set"])&&d(c.type,["TK_WORD",
"TK_RESERVED"]))?d(w,["class","interface"])?y(b.BlockStatement):y(b.ObjectLiteral):y(b.BlockStatement);a=!a.comments_before.length&&"}"===a.text&&"function"===h.last_word&&"TK_END_EXPR"===t;"expand"===x.brace_style||"none"===x.brace_style&&r.wanted_newline?"TK_OPERATOR"!==t&&(a||"TK_EQUALS"===t||"TK_RESERVED"===t&&k(h.last_text)&&"else"!==h.last_text)?p.space_before_token=!0:m(!1,!0):"TK_OPERATOR"!==t&&"TK_START_EXPR"!==t?"TK_START_BLOCK"===t?m():p.space_before_token=!0:F.mode===b.ArrayLiteral&&","===
h.last_text&&("}"===w?p.space_before_token=!0:m());v();h.indentation_level+=1},TK_END_BLOCK:function(){for(;h.mode===b.Statement;)G();var a="TK_START_BLOCK"===t;"expand"===x.brace_style?a||m():a||(h.mode===b.ArrayLiteral&&x.keep_array_indentation?(x.keep_array_indentation=!1,m(),x.keep_array_indentation=!0):m());G();v()},TK_WORD:M,TK_RESERVED:M,TK_SEMICOLON:function(){H()&&(p.space_before_token=!1);for(;h.mode===b.Statement&&!h.if_block&&!h.do_block;)G();v()},TK_STRING:function(){H()?p.space_before_token=
!0:"TK_RESERVED"===t||"TK_WORD"===t?p.space_before_token=!0:"TK_COMMA"===t||"TK_START_EXPR"===t||"TK_EQUALS"===t||"TK_OPERATOR"===t?J()||g():m();v()},TK_EQUALS:function(){H();h.declaration_statement&&(h.declaration_assignment=!0);p.space_before_token=!0;v();p.space_before_token=!0},TK_OPERATOR:function(){H();if("TK_RESERVED"===t&&k(h.last_text))p.space_before_token=!0,v();else if("*"===r.text&&"TK_DOT"===t)v();else if(":"===r.text&&h.in_case)h.case_body=!0,h.indentation_level+=1,v(),m(),h.in_case=
!1;else if("::"===r.text)v();else{!r.wanted_newline||"--"!==r.text&&"++"!==r.text||m(!1,!0);"TK_OPERATOR"===t&&g();var a=!0,c=!0;d(r.text,["--","++","!","~"])||d(r.text,["-","+"])&&(d(t,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||d(h.last_text,B.line_starters)||","===h.last_text)?(c=a=!1,";"===h.last_text&&z(h.mode)&&(a=!0),"TK_RESERVED"===t||"TK_END_EXPR"===t?a=!0:"TK_OPERATOR"===t&&(a=d(r.text,["--","-"])&&d(h.last_text,["--","-"])||d(r.text,["++","+"])&&d(h.last_text,["++","+"])),
h.mode!==b.BlockStatement&&h.mode!==b.Statement||"{"!==h.last_text&&";"!==h.last_text||m()):":"===r.text?0===h.ternary_depth?a=!1:--h.ternary_depth:"?"===r.text?h.ternary_depth+=1:"*"===r.text&&"TK_RESERVED"===t&&"function"===h.last_text&&(c=a=!1);p.space_before_token=p.space_before_token||a;v();p.space_before_token=c}},TK_COMMA:function(){h.declaration_statement?(z(h.parent.mode)&&(h.declaration_assignment=!1),v(),h.declaration_assignment?(h.declaration_assignment=!1,m(!1,!0)):p.space_before_token=
!0):(v(),h.mode===b.ObjectLiteral||h.mode===b.Statement&&h.parent.mode===b.ObjectLiteral?(h.mode===b.Statement&&G(),m()):p.space_before_token=!0)},TK_BLOCK_COMMENT:function(){for(var a=r.text,a=a.replace(/\x0d/g,""),b=[],c=a.indexOf("\n");-1!==c;)b.push(a.substring(0,c)),a=a.substring(c+1),c=a.indexOf("\n");a.length&&b.push(a);var d,c=a=!1;d=r.whitespace_before;var e=d.length;m(!1,!0);if(1<b.length){var k;a:{k=b.slice(1);for(var h=0;h<k.length;h++)if("*"!==u(k[h]).charAt(0)){k=!1;break a}k=!0}if(k)a=
!0;else{a:{k=b.slice(1);for(var h=0,l=k.length,g;h<l;h++)if((g=k[h])&&0!==g.indexOf(d)){d=!1;break a}d=!0}d&&(c=!0)}}v(b[0]);for(d=1;d<b.length;d++)m(!1,!0),a?v(" "+u(b[d])):c&&b[d].length>e?v(b[d].substring(e)):p.add_token(b[d]);m(!1,!0)},TK_INLINE_COMMENT:function(){p.space_before_token=!0;v();p.space_before_token=!0},TK_COMMENT:function(){r.wanted_newline?m(!1,!0):p.trim(!0);p.space_before_token=!0;v();m(!1,!0)},TK_DOT:function(){H();"TK_RESERVED"===t&&k(h.last_text)?p.space_before_token=!0:g(")"===
h.last_text&&x.break_chained_methods);v()},TK_UNKNOWN:function(){v();"\n"===r.text[r.text.length-1]&&m()},TK_EOF:function(){for(;h.mode===b.Statement;)G()}};c=c?c:{};x={};void 0!==c.braces_on_own_line&&(x.brace_style=c.braces_on_own_line?"expand":"collapse");x.brace_style=c.brace_style?c.brace_style:x.brace_style?x.brace_style:"collapse";"expand-strict"===x.brace_style&&(x.brace_style="expand");x.indent_size=c.indent_size?parseInt(c.indent_size,10):4;x.indent_char=c.indent_char?c.indent_char:" ";
x.preserve_newlines=void 0===c.preserve_newlines?!0:c.preserve_newlines;x.break_chained_methods=void 0===c.break_chained_methods?!1:c.break_chained_methods;x.max_preserve_newlines=void 0===c.max_preserve_newlines?0:parseInt(c.max_preserve_newlines,10);x.space_in_paren=void 0===c.space_in_paren?!1:c.space_in_paren;x.space_in_empty_paren=void 0===c.space_in_empty_paren?!1:c.space_in_empty_paren;x.jslint_happy=void 0===c.jslint_happy?!1:c.jslint_happy;x.space_after_anon_function=void 0===c.space_after_anon_function?
!1:c.space_after_anon_function;x.keep_array_indentation=void 0===c.keep_array_indentation?!1:c.keep_array_indentation;x.space_before_conditional=void 0===c.space_before_conditional?!0:c.space_before_conditional;x.unescape_strings=void 0===c.unescape_strings?!1:c.unescape_strings;x.wrap_line_length=void 0===c.wrap_line_length?0:parseInt(c.wrap_line_length,10);x.e4x=void 0===c.e4x?!1:c.e4x;x.end_with_newline=void 0===c.end_with_newline?!1:c.end_with_newline;x.jslint_happy&&(x.space_after_anon_function=
!0);c.indent_with_tabs&&(x.indent_char="\t",x.indent_size=1);for(C="";0<x.indent_size;)C+=x.indent_char,--x.indent_size;var N=0;if(a&&a.length){for(;" "===a.charAt(N)||"\t"===a.charAt(N);)S+=a.charAt(N),N+=1;a=a.substring(N)}t="TK_START_BLOCK";w="";p=new D(C,S);P=[];y(b.BlockStatement);this.beautify=function(){var b;B=new n(a,x,C);E=B.tokenize();for(q=0;b=A();){for(var c=0;c<b.comments_before.length;c++)l(b.comments_before[c]);l(b);w=h.last_text;t=b.type;h.last_text=b.text;q+=1}b=p.get_code();x.end_with_newline&&
(b+="\n");return b}}function c(a){var b=0,c=-1,d=[],e=!0;this.set_indent=function(d){b=a.baseIndentLength+d*a.indent_length;c=d};this.get_character_count=function(){return b};this.is_empty=function(){return e};this.last=function(){return this._empty?null:d[d.length-1]};this.push=function(a){d.push(a);b+=a.length;e=!1};this.remove_indent=function(){0<c&&(--c,b-=a.indent_length)};this.trim=function(){for(;" "===this.last();)d.pop(),--b;e=0===d.length};this.toString=function(){var b="";this._empty||
(0<=c&&(b=a.indent_cache[c]),b+=d.join(""));return b}}function D(a,d){d=d||"";this.indent_cache=[d];this.baseIndentLength=d.length;this.indent_length=a.length;var e=[];this.baseIndentString=d;this.indent_string=a;this.current_line=null;this.space_before_token=!1;this.get_line_number=function(){return e.length};this.add_new_line=function(a){return 1===this.get_line_number()&&this.just_added_newline()?!1:a||!this.just_added_newline()?(this.current_line=new c(this),e.push(this.current_line),!0):!1};
this.add_new_line(!0);this.get_code=function(){return e.join("\n").replace(/[\r\n\t ]+$/,"")};this.set_indent=function(a){if(1<e.length){for(;a>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);this.current_line.set_indent(a);return!0}this.current_line.set_indent(0);return!1};this.add_token=function(a){this.add_space_before_token();this.current_line.push(a)};this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&
this.current_line.push(" ");this.space_before_token=!1};this.remove_redundant_indentation=function(a){if(!a.multiline_frame&&a.mode!==b.ForInitializer&&a.mode!==b.Conditional){a=a.start_line_index;for(var c=e.length;a<c;)e[a].remove_indent(),a++}};this.trim=function(b){b=void 0===b?!1:b;for(this.current_line.trim(a,d);b&&1<e.length&&this.current_line.is_empty();)e.pop(),this.current_line=e[e.length-1],this.current_line.trim()};this.just_added_newline=function(){return this.current_line.is_empty()};
this.just_added_blankline=function(){return this.just_added_newline()?1===e.length?!0:e[e.length-2].is_empty():!1}}function n(b,c,g){function e(){var e,p=[];z=0;G="";if(k>=A)return["","TK_EOF"];var E;E=H.length?H[H.length-1]:new l("TK_START_BLOCK","{");var q=b.charAt(k);for(k+=1;d(q,m);){"\n"===q?(z+=1,p=[]):z&&(q===g?p.push(g):"\r"!==q&&p.push(" "));if(k>=A)return["","TK_EOF"];q=b.charAt(k);k+=1}p.length&&(G=p.join(""));if(n.test(q)){var p=E=!0,B=n;"0"===q&&k<A&&/[Xx]/.test(b.charAt(k))?(p=E=!1,
q+=b.charAt(k),k+=1,B=/[0123456789abcdefABCDEF]/):(q="",--k);for(;k<A&&B.test(b.charAt(k));)q+=b.charAt(k),k+=1,E&&k<A&&"."===b.charAt(k)&&(q+=b.charAt(k),k+=1,E=!1),p&&k<A&&/[Ee]/.test(b.charAt(k))&&(q+=b.charAt(k),k+=1,k<A&&/[+-]/.test(b.charAt(k))&&(q+=b.charAt(k),k+=1),E=p=!1);return[q,"TK_WORD"]}if(a.isIdentifierStart(b.charCodeAt(k-1))){if(k<A)for(;a.isIdentifierChar(b.charCodeAt(k))&&(q+=b.charAt(k),k+=1,k!==A););return"TK_DOT"===E.type||"TK_RESERVED"===E.type&&d(E.text,["set","get"])||!d(q,
y)?[q,"TK_WORD"]:"in"===q?[q,"TK_OPERATOR"]:[q,"TK_RESERVED"]}if("("===q||"["===q)return[q,"TK_START_EXPR"];if(")"===q||"]"===q)return[q,"TK_END_EXPR"];if("{"===q)return[q,"TK_START_BLOCK"];if("}"===q)return[q,"TK_END_BLOCK"];if(";"===q)return[q,"TK_SEMICOLON"];if("/"===q){p="";B=!0;if("*"===b.charAt(k)){k+=1;if(k<A)for(;k<A&&("*"!==b.charAt(k)||!b.charAt(k+1)||"/"!==b.charAt(k+1));){q=b.charAt(k);p+=q;if("\n"===q||"\r"===q)B=!1;k+=1;if(k>=A)break}k+=2;return B&&0===z?["/*"+p+"*/","TK_INLINE_COMMENT"]:
["/*"+p+"*/","TK_BLOCK_COMMENT"]}if("/"===b.charAt(k)){for(p=q;"\r"!==b.charAt(k)&&"\n"!==b.charAt(k)&&!(p+=b.charAt(k),k+=1,k>=A););return[p,"TK_COMMENT"]}}if("`"===q||"'"===q||'"'===q||("/"===q||c.e4x&&"\x3c"===q&&b.slice(k-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*\/?\s*>/))&&("TK_RESERVED"===E.type&&d(E.text,"return case throw else do typeof yield".split(" "))||"TK_END_EXPR"===E.type&&")"===E.text&&E.parent&&"TK_RESERVED"===
E.parent.type&&d(E.parent.text,["if","while","for"])||d(E.type,"TK_COMMENT TK_START_EXPR TK_START_BLOCK TK_END_BLOCK TK_OPERATOR TK_EQUALS TK_EOF TK_SEMICOLON TK_COMMA".split(" ")))){E=q;var r=p=!1;e=q;if("/"===E)for(q=!1;k<A&&(p||q||b.charAt(k)!==E)&&!a.newline.test(b.charAt(k));)e+=b.charAt(k),p?p=!1:(p="\\"===b.charAt(k),"["===b.charAt(k)?q=!0:"]"===b.charAt(k)&&(q=!1)),k+=1;else if(c.e4x&&"\x3c"===E){if(p=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*(\/?)\s*>/g,
q=b.slice(k-1),(B=p.exec(q))&&0===B.index){E=B[2];for(e=0;B;){var r=!!B[1],t=B[2],w=!!B[B.length-1]||"![CDATA["===t.slice(0,8);t!==E||w||(r?--e:++e);if(0>=e)break;B=p.exec(q)}E=B?B.index+B[0].length:q.length;k+=E-1;return[q.slice(0,E),"TK_STRING"]}}else for(;k<A&&(p||b.charAt(k)!==E&&("`"===E||!a.newline.test(b.charAt(k))));){e+=b.charAt(k);if(p){if("x"===b.charAt(k)||"u"===b.charAt(k))r=!0;p=!1}else p="\\"===b.charAt(k);k+=1}if(r&&c.unescape_strings)a:{q=e;p=!1;B="";e=0;r="";for(t=0;p||e<q.length;)if(w=
q.charAt(e),e++,p){p=!1;if("x"===w)r=q.substr(e,2),e+=2;else if("u"===w)r=q.substr(e,4),e+=4;else{B+="\\"+w;continue}if(!r.match(/^[0123456789abcdefABCDEF]+$/)){e=q;break a}t=parseInt(r,16);if(0<=t&&32>t)B="x"===w?B+("\\x"+r):B+("\\u"+r);else if(34===t||39===t||92===t)B+="\\"+String.fromCharCode(t);else if("x"===w&&126<t&&255>=t){e=q;break a}else B+=String.fromCharCode(t)}else"\\"===w?p=!0:B+=w;e=B}if(k<A&&b.charAt(k)===E&&(e+=E,k+=1,"/"===E))for(;k<A&&a.isIdentifierStart(b.charCodeAt(k));)e+=b.charAt(k),
k+=1;return[e,"TK_STRING"]}if("#"===q){if(0===H.length&&"!"===b.charAt(k)){for(e=q;k<A&&"\n"!==q;)q=b.charAt(k),e+=q,k+=1;return[u(e)+"\n","TK_UNKNOWN"]}E="#";if(k<A&&n.test(b.charAt(k))){do q=b.charAt(k),E+=q,k+=1;while(k<A&&"#"!==q&&"\x3d"!==q);"#"!==q&&("["===b.charAt(k)&&"]"===b.charAt(k+1)?(E+="[]",k+=2):"{"===b.charAt(k)&&"}"===b.charAt(k+1)&&(E+="{}",k+=2));return[E,"TK_WORD"]}}if("\x3c"===q&&"\x3c!--"===b.substring(k-1,k+3)){k+=3;for(q="\x3c!--";"\n"!==b.charAt(k)&&k<A;)q+=b.charAt(k),k++;
J=!0;return[q,"TK_COMMENT"]}if("-"===q&&J&&"--\x3e"===b.substring(k-1,k+2))return J=!1,k+=2,["--\x3e","TK_COMMENT"];if("."===q)return[q,"TK_DOT"];if(d(q,v)){for(;k<A&&d(q+b.charAt(k),v)&&!(q+=b.charAt(k),k+=1,k>=A););return","===q?[q,"TK_COMMA"]:"\x3d"===q?[q,"TK_EQUALS"]:[q,"TK_OPERATOR"]}return[q,"TK_UNKNOWN"]}var m=["\n","\r","\t"," "],n=/[0-9]/,v="+ - * / % \x26 ++ -- \x3d +\x3d -\x3d *\x3d /\x3d %\x3d \x3d\x3d \x3d\x3d\x3d !\x3d !\x3d\x3d \x3e \x3c \x3e\x3d \x3c\x3d \x3e\x3e \x3c\x3c \x3e\x3e\x3e \x3e\x3e\x3e\x3d \x3e\x3e\x3d \x3c\x3c\x3d \x26\x26 \x26\x3d | || ! ~ , : ? ^ ^\x3d |\x3d :: \x3d\x3e \x3c%\x3d \x3c% %\x3e \x3c?\x3d \x3c? ?\x3e".split(" ");
this.line_starters="continue try throw return var let const if switch case default for while break function yield import export".split(" ");var y=this.line_starters.concat("do in else get set new catch finally typeof".split(" ")),z,G,J,H,k,A;this.tokenize=function(){A=b.length;k=0;J=!1;H=[];for(var a,c,d=null,g=[],m=[];!c||"TK_EOF"!==c.type;){a=e();for(a=new l(a[1],a[0],z,G);"TK_INLINE_COMMENT"===a.type||"TK_COMMENT"===a.type||"TK_BLOCK_COMMENT"===a.type||"TK_UNKNOWN"===a.type;)m.push(a),a=e(),a=
new l(a[1],a[0],z,G);m.length&&(a.comments_before=m,m=[]);"TK_START_BLOCK"===a.type||"TK_START_EXPR"===a.type?(a.parent=c,d=a,g.push(a)):("TK_END_BLOCK"===a.type||"TK_END_EXPR"===a.type)&&d&&("]"===a.text&&"["===d.text||")"===a.text&&"("===d.text||"}"===a.text&&"}"===d.text)&&(a.parent=d.parent,d=g.pop());H.push(a);c=a}return H}}var a={};(function(a){var b=RegExp("[\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]"),
c=RegExp("[\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");
a.newline=/[\n\r\u2028\u2029]/;a.isIdentifierStart=function(a){return 65>a?36===a:91>a?!0:97>a?95===a:123>a?!0:170<=a&&b.test(String.fromCharCode(a))};a.isIdentifierChar=function(a){return 48>a?36===a:58>a?!0:65>a?!1:91>a?!0:97>a?95===a:123>a?!0:170<=a&&c.test(String.fromCharCode(a))}})(a);var b={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},l=function(a,
b,c,d,g,l){this.type=a;this.text=b;this.comments_before=[];this.newlines=c||0;this.wanted_newline=0<c;this.whitespace_before=d||"";this.parent=null};"undefined"!==typeof exports?exports.js_beautify=w:"undefined"!==typeof g?g.js_beautify=w:"undefined"!==typeof global&&(global.js_beautify=w)})();(function(){function d(g,u){function m(){return(z=g.charAt(++I))||""}function c(b){var c=I;b&&a();result=g.charAt(I+1)||"";I=c-1;m();return result}function y(a){for(var b=I;m();)if("\\"===z)m();else if(-1!==
a.indexOf(z))break;else if("\n"===z)break;return g.substring(b,I+1)}function n(a){var b=I;a=y(a);I=b-1;m();return a}function a(){for(var a="";O.test(c());)m(),a+=z;return a}function b(){var a="";for(z&&O.test(z)&&(a=z);O.test(m());)a+=z;return a}function l(a){var b=I;a="/"===c();for(m();m();)if(!a&&"*"===z&&"/"===c()){m();break}else if(a&&"\n"===z)return g.substring(b,I);return g.substring(b,I)+z}function e(a){return g.substring(I-a.length,I).toLowerCase()===a}function v(){for(var a=I+1;a<g.length;a++){var b=
g.charAt(a);if("{"===b)return!0;if(";"===b||"}"===b||")"===b)break}return!1}u=u||{};var w=u.indent_size||4,D=u.indent_char||" ",C=void 0===u.selector_separator_newline?!0:u.selector_separator_newline,Q=void 0===u.end_with_newline?!1:u.end_with_newline;"string"===typeof w&&(w=parseInt(w,10));var O=/^\s+$/,I=-1,z,G=g.match(/^[\t ]*/)[0],D=Array(w+1).join(D),J=0,H=0,k={"{":function(a){k.singleSpace();A.push(a);k.newLine()},"}":function(a){k.newLine();A.push(a);k.newLine()},_lastCharWhitespace:function(){return O.test(A[A.length-
1])},newLine:function(a){a||k.trim();A.length&&A.push("\n");G&&A.push(G)},singleSpace:function(){A.length&&!k._lastCharWhitespace()&&A.push(" ")},trim:function(){for(;k._lastCharWhitespace();)A.pop()}},A=[];G&&A.push(G);for(var M=!1,p=!1,E="",q="";;){var q=b(),B=""!==q,r=-1!==q.indexOf("\n"),q=E;if(E=z)"/"===z&&"*"===c()?(B=e(""),k.newLine(),A.push(l()),k.newLine(),B&&k.newLine(!0)):"/"===z&&"/"===c()?(r||"{"===q||k.trim(),k.singleSpace(),A.push(l()),k.newLine()):"@"===z?(B&&k.singleSpace(),A.push(z),
B=n(": ,;{}()[]/\x3d'\"").replace(/\s$/,""),B in d.NESTED_AT_RULE?(H+=1,B in d.CONDITIONAL_GROUP_RULE&&(p=!0)):0<=": ".indexOf(B[B.length-1])&&(m(),B=y(": ").replace(/\s$/,""),A.push(B),k.singleSpace())):"{"===z?"}"===c(!0)?(a(),m(),k.singleSpace(),A.push("{}")):(J++,G+=D,k["{"](z),p?(p=!1,M=J>H):M=J>=H):"}"===z?(J--,G=G.slice(0,-w),k["}"](z),M=!1,H&&H--):":"===z?(a(),!M&&!p||e("\x26")||v()?":"===c()?(m(),A.push("::")):A.push(":"):(A.push(":"),k.singleSpace())):'"'===z||"'"===z?(B&&k.singleSpace(),
A.push(y(z))):";"===z?(A.push(z),k.newLine()):"("===z?e("url")?(A.push(z),a(),m()&&(")"!==z&&'"'!==z&&"'"!==z?A.push(y(")")):I--)):(B&&k.singleSpace(),A.push(z),a()):")"===z?A.push(z):","===z?(A.push(z),a(),!M&&C?k.newLine():k.singleSpace()):("]"!==z&&("["===z?B&&k.singleSpace():"\x3d"===z?a():B&&k.singleSpace()),A.push(z));else break}w=A.join("").replace(/[\r\n\t ]+$/,"");Q&&(w+="\n");return w}d.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0};
d.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0};"undefined"!==typeof exports?exports.css_beautify=d:"undefined"!==typeof g?g.css_beautify=d:"undefined"!==typeof global&&(global.css_beautify=d)})();(function(){function d(d,c,g,n){var a,b,l,e,m,u,w,y,D,C,F;c=c||{};void 0!==c.wrap_line_length&&0!==parseInt(c.wrap_line_length,10)||void 0===c.max_char||0===parseInt(c.max_char,10)||(c.wrap_line_length=c.max_char);b=void 0===c.indent_inner_html?!1:c.indent_inner_html;l=void 0===c.indent_size?
4:parseInt(c.indent_size,10);e=void 0===c.indent_char?" ":c.indent_char;u=void 0===c.brace_style?"collapse":c.brace_style;m=0===parseInt(c.wrap_line_length,10)?32786:parseInt(c.wrap_line_length||250,10);w=c.unformatted||"a span img bdo em strong dfn code samp kbd var cite abbr acronym q sub sup tt i b big small u s strike font ins del pre address dt h1 h2 h3 h4 h5 h6".split(" ");D=(y=void 0===c.preserve_newlines?!0:c.preserve_newlines)?isNaN(parseInt(c.max_preserve_newlines,10))?32786:parseInt(c.max_preserve_newlines,
10):0;C=void 0===c.indent_handlebars?!1:c.indent_handlebars;F=void 0===c.end_with_newline?!1:c.end_with_newline;a=new function(){this.pos=0;this.token="";this.current_mode="CONTENT";this.tags={parent:"parent1",parentcount:1,parent1:""};this.token_text=this.last_token=this.last_text=this.token_type=this.tag_type="";this.newlines=0;this.indent_content=b;this.Utils={whitespace:["\n","\r","\t"," "],single_token:"br input link meta !doctype basefont base area hr wbr param img isindex ?xml embed ?php ? ?\x3d".split(" "),
extra_liners:["head","body","/html"],in_array:function(a,b){for(var c=0;c<b.length;c++)if(a===b[c])return!0;return!1}};this.is_whitespace=function(a){for(;0<a.length;a++)if(!this.Utils.in_array(a.charAt(0),this.Utils.whitespace))return!1;return!0};this.traverse_whitespace=function(){var a="",a=this.input.charAt(this.pos);if(this.Utils.in_array(a,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(a,this.Utils.whitespace);)y&&"\n"===a&&this.newlines<=D&&(this.newlines+=1),this.pos++,a=
this.input.charAt(this.pos);return!0}return!1};this.space_or_wrap=function(a){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,a),this.print_indentation(a)):(this.line_char_count++,a.push(" "))};this.get_content=function(){for(var a="",b=[];"\x3c"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return b.length?b.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(b);else{if(C)if(a=this.input.substr(this.pos,3),"{{#"===a||"{{/"===a)break;else if("{{"===
this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break;a=this.input.charAt(this.pos);this.pos++;this.line_char_count++;b.push(a)}}return b.length?b.join(""):""};this.get_contents_to=function(a){if(this.pos===this.input.length)return["","TK_EOF"];var b="";a=new RegExp("\x3c/"+a+"\\s*\x3e","igm");a.lastIndex=this.pos;a=(a=a.exec(this.input))?a.index:this.input.length;this.pos<a&&(b=this.input.substring(this.pos,a),this.pos=a);return b};this.record_tag=function(a){this.tags[a+"count"]?this.tags[a+
"count"]++:this.tags[a+"count"]=1;this.tags[a+this.tags[a+"count"]]=this.indent_level;this.tags[a+this.tags[a+"count"]+"parent"]=this.tags.parent;this.tags.parent=a+this.tags[a+"count"]};this.retrieve_tag=function(a){if(this.tags[a+"count"]){for(var b=this.tags.parent;b&&a+this.tags[a+"count"]!==b;)b=this.tags[b+"parent"];b&&(this.indent_level=this.tags[a+this.tags[a+"count"]],this.tags.parent=this.tags[b+"parent"]);delete this.tags[a+this.tags[a+"count"]+"parent"];delete this.tags[a+this.tags[a+
"count"]];1===this.tags[a+"count"]?delete this.tags[a+"count"]:this.tags[a+"count"]--}};this.indent_to_tag=function(a){if(this.tags[a+"count"]){for(var b=this.tags.parent;b&&a+this.tags[a+"count"]!==b;)b=this.tags[b+"parent"];b&&(this.indent_level=this.tags[a+this.tags[a+"count"]])}};this.get_tag=function(a){var b="",c=[],b="",d=!1,e,g,l=this.pos,m=this.line_char_count;a=void 0!==a?a:!1;do{if(this.pos>=this.input.length)return a&&(this.pos=l,this.line_char_count=m),c.length?c.join(""):["","TK_EOF"];
b=this.input.charAt(this.pos);this.pos++;if(this.Utils.in_array(b,this.Utils.whitespace))d=!0;else{if("'"===b||'"'===b)b+=this.get_unformatted(b),d=!0;"\x3d"===b&&(d=!1);c.length&&"\x3d"!==c[c.length-1]&&"\x3e"!==b&&d&&(this.space_or_wrap(c),d=!1);C&&"\x3c"===g&&"{{"===b+this.input.charAt(this.pos)&&(b+=this.get_unformatted("}}"),c.length&&" "!==c[c.length-1]&&"\x3c"!==c[c.length-1]&&(b=" "+b),d=!0);"\x3c"!==b||g||(e=this.pos-1,g="\x3c");C&&!g&&2<=c.length&&"{"===c[c.length-1]&&"{"==c[c.length-2]&&
(e="#"===b||"/"===b?this.pos-3:this.pos-2,g="{");this.line_char_count++;c.push(b);if(c[1]&&"!"===c[1]){c=[this.get_comment(e)];break}if(C&&"{"===g&&2<c.length&&"}"===c[c.length-2]&&"}"===c[c.length-1])break}}while("\x3e"!==b);e=c.join("");g=-1!==e.indexOf(" ")?e.indexOf(" "):"{"===e[0]?e.indexOf("}"):e.indexOf("\x3e");g=e.substring("\x3c"!==e[0]&&C?"#"===e[2]?3:2:1,g).toLowerCase();"/"===e.charAt(e.length-2)||this.Utils.in_array(g,this.Utils.single_token)?a||(this.tag_type="SINGLE"):C&&"{"===e[0]&&
"else"===g?a||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(g,w)?(b=this.get_unformatted("\x3c/"+g+"\x3e",e),c.push(b),this.tag_type="SINGLE"):"script"===g&&(-1===e.search("type")||-1<e.search("type")&&-1<e.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/))?a||(this.record_tag(g),this.tag_type="SCRIPT"):"style"===g&&(-1===e.search("type")||-1<e.search("type")&&-1<e.search("text/css"))?
a||(this.record_tag(g),this.tag_type="STYLE"):"!"===g.charAt(0)?a||(this.tag_type="SINGLE",this.traverse_whitespace()):a||("/"===g.charAt(0)?(this.retrieve_tag(g.substring(1)),this.tag_type="END"):(this.record_tag(g),"html"!==g.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(c),this.Utils.in_array(g,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,
this.output)));a&&(this.pos=l,this.line_char_count=m);return c.join("")};this.get_comment=function(a){var b="",c="\x3e",d=!1;this.pos=a;input_char=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length;){b+=input_char;if(b[b.length-1]===c[c.length-1]&&-1!==b.indexOf(c))break;!d&&10>b.length&&(0===b.indexOf("\x3c![if")?(c="\x3c![endif]\x3e",d=!0):0===b.indexOf("\x3c![cdata[")?(c="]]\x3e",d=!0):0===b.indexOf("\x3c![")?(c="]\x3e",d=!0):0===b.indexOf("\x3c!--")&&(c="--\x3e",d=!0));input_char=
this.input.charAt(this.pos);this.pos++}return b};this.get_unformatted=function(a,b){if(b&&-1!==b.toLowerCase().indexOf(a))return"";var c="",d="",e=0,g=!0;do{if(this.pos>=this.input.length)break;c=this.input.charAt(this.pos);this.pos++;if(this.Utils.in_array(c,this.Utils.whitespace)){if(!g){this.line_char_count--;continue}if("\n"===c||"\r"===c){d+="\n";this.line_char_count=0;continue}}d+=c;this.line_char_count++;g=!0;C&&"{"===c&&d.length&&"{"===d[d.length-2]&&(d+=this.get_unformatted("}}"),e=d.length)}while(-1===
d.toLowerCase().indexOf(a,e));return d};this.get_token=function(){var a;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var b=this.last_token.substr(7);a=this.get_contents_to(b);return"string"!==typeof a?a:[a,"TK_"+b]}if("CONTENT"===this.current_mode)return a=this.get_content(),"string"!==typeof a?a:[a,"TK_CONTENT"];if("TAG"===this.current_mode)return a=this.get_tag(),"string"!==typeof a?a:[a,"TK_TAG_"+this.tag_type]};this.get_full_indent=function(a){a=this.indent_level+a||
0;return 1>a?"":Array(a+1).join(this.indent_string)};this.is_unformatted=function(a,b){if(!this.Utils.in_array(a,b))return!1;if("a"!==a.toLowerCase()||!this.Utils.in_array("a",b))return!0;var c=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!c||this.Utils.in_array(c,b)?!0:!1};this.printer=function(a,b,c,d,e){this.input=a||"";this.output=[];this.indent_character=b;this.indent_string="";this.indent_size=c;this.brace_style=e;this.indent_level=0;this.wrap_line_length=d;for(a=this.line_char_count=
0;a<this.indent_size;a++)this.indent_string+=this.indent_character;this.print_newline=function(a,b){this.line_char_count=0;b&&b.length&&(a||"\n"!==b[b.length-1])&&("\n"!==b[b.length-1]&&(b[b.length-1]=b[b.length-1].replace(/\s+$/g,"")),b.push("\n"))};this.print_indentation=function(a){for(var b=0;b<this.indent_level;b++)a.push(this.indent_string),this.line_char_count+=this.indent_string.length};this.print_token=function(a){if(!this.is_whitespace(a)||this.output.length)(a||""!==a)&&this.output.length&&
"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),a=a.replace(/^\s+/g,"")),this.print_token_raw(a)};this.print_token_raw=function(a){0<this.newlines&&(a=a.replace(/\s+$/g,""));a&&""!==a&&(1<a.length&&"\n"===a[a.length-1]?(this.output.push(a.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(a));for(a=0;a<this.newlines;a++)this.print_newline(0<a,this.output);this.newlines=0};this.indent=function(){this.indent_level++};this.unindent=function(){0<this.indent_level&&
this.indent_level--}};return this};for(a.printer(d,e,l,m,u);;){d=a.get_token();a.token_text=d[0];a.token_type=d[1];if("TK_EOF"===a.token_type)break;switch(a.token_type){case "TK_TAG_START":a.print_newline(!1,a.output);a.print_token(a.token_text);a.indent_content&&(a.indent(),a.indent_content=!1);a.current_mode="CONTENT";break;case "TK_TAG_STYLE":case "TK_TAG_SCRIPT":a.print_newline(!1,a.output);a.print_token(a.token_text);a.current_mode="CONTENT";break;case "TK_TAG_END":"TK_CONTENT"===a.last_token&&
""===a.last_text&&(d=a.token_text.match(/\w+/)[0],l=null,a.output.length&&(l=a.output[a.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),null!==l&&l[1]===d||a.print_newline(!1,a.output));a.print_token(a.token_text);a.current_mode="CONTENT";break;case "TK_TAG_SINGLE":(d=a.token_text.match(/^\s*<([a-z-]+)/i))&&a.Utils.in_array(d[1],w)||a.print_newline(!1,a.output);a.print_token(a.token_text);a.current_mode="CONTENT";break;case "TK_TAG_HANDLEBARS_ELSE":a.print_token(a.token_text);a.indent_content&&(a.indent(),
a.indent_content=!1);a.current_mode="CONTENT";break;case "TK_CONTENT":a.print_token(a.token_text);a.current_mode="TAG";break;case "TK_STYLE":case "TK_SCRIPT":if(""!==a.token_text){a.print_newline(!1,a.output);d=a.token_text;var z;e=1;"TK_SCRIPT"===a.token_type?z="function"===typeof g&&g:"TK_STYLE"===a.token_type&&(z="function"===typeof n&&n);"keep"===c.indent_scripts?e=0:"separate"===c.indent_scripts&&(e=-a.indent_level);l=a.get_full_indent(e);z?d=z(d.replace(/^\s*/,l),c):(m=d.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(a.indent_string).length-
1,e=a.get_full_indent(e-m),d=d.replace(/^\s*/,l).replace(/\r\n|\r|\n/g,"\n"+e).replace(/\s+$/,""));d&&(a.print_token_raw(d),a.print_newline(!0,a.output))}a.current_mode="TAG";break;default:""!==a.token_text&&a.print_token(a.token_text)}a.last_token=a.token_type;a.last_text=a.token_text}c=a.output.join("").replace(/[\r\n\t ]+$/,"");F&&(c+="\n");return c}if("undefined"!==typeof exports){var u=require("./beautify.js"),w=require("./beautify-css.js");exports.html_beautify=function(g,c){return d(g,c,u.js_beautify,
w.css_beautify)}}else"undefined"!==typeof g?g.html_beautify=function(m,c){return d(m,c,g.js_beautify,g.css_beautify)}:"undefined"!==typeof global&&(global.html_beautify=function(g,c){return d(g,c,global.js_beautify,global.css_beautify)})})()})}}});
//# sourceMappingURL=xace.js.map