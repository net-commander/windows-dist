//>>built
require({cache:{"xace/main":function(){define(["dojo/text","dojo/_base/kernel","xace/views/ACEEditor","xace/views/Editor","xace/xace"],function(){return dojo.xace})},"xace/views/ACEEditor":function(){define("dcl/dcl dojo/has dojo/dom-construct xide/utils xide/types xide/widgets/TemplatedWidgetBase xace/views/_Split xaction/DefaultActions xace/views/_AceMultiDocs".split(" "),function(y,F,u,g,d,z,E,p,c){var L={};z=y([z],{resizeToParent:!0,templateString:'\x3cdiv attachTo\x3d"aceNode" style\x3d"width: 100%;height: 100%" class\x3d""\x3e\x3c/div\x3e'});
c=y(c,{declaredClass:"xace/views/EditorInterface",editorSession:null,_lastValue:null,enableMultiDocuments:function(){this.addFileCompleter().addDocument("asdf.js","var xxxTop \x3d 2*3;")},loadScript:function(a,b,e){b=document.createElement("script");b.type="application/javascript";b.src=a;b.onload=function(){e&&e()};document.body.appendChild(b)},setMode:function(a,b,e){if((b=b||this.ctx||window.sctx)&&b.getResourceManager()){var m=this;if(L[a])m.set("mode",a),e&&e(a);else{var N=null;(N=b.getResourceManager().getVariable(d.RESOURCE_VARIABLES.ACE))?
N=N+"/mode-"+a+".js":(b=b.getResourceManager().getVariable(d.RESOURCE_VARIABLES.APP_URL),F("debug"),N=b+"/xfile/ext/ace//mode-"+a+".js");this.loadScript(N,null,function(){L[a]=!0;m.set("mode",a);e&&e(a)})}}else console.error("have no resource manager!")},get:function(a){if("value"===a){var b=this.getEditor();return(b=b?b.session:null)?b.getValue():null}return this.inherited(arguments)},set:function(a,b){var e=this,m=this.getEditor(),N=this.editorSession;if("iconClass"===a){var c=this._parent;c&&c.icon&&
this._parent.icon(b)}if(m&&N)if(c=m.container,"item"==a&&(N.setUseWorker(!1),e.getContent(b,function(a){var m=e._getMode(b.path);e.set("value",a);e.setMode(m);N.setUseWorker(e.options.useWorker)})),"value"==a&&b)N.setValue(b);else if("theme"==a)"string"==typeof b&&(b="ace/theme/"+b),m.setTheme(b),this.split&&this.split.setTheme(b);else if("mode"==a)try{ace.require(["ace/mode/"+b],function(a){a&&a.Mode&&e.split.$editors.forEach(function(b){b.session.setMode(new a.Mode)})})}catch(d){console.error("ace mode failed : "+
b)}else"readOnly"==a?m.setReadOnly(b):"tabSize"==a?N.setTabSize(b):"softTabs"==a?N.setUseSoftTabs(b):"wordWrap"==a?N.setUseWrapMode(b):"printMargin"==a?m.renderer.setPrintMarginColumn(b):"showPrintMargin"==a?m.setShowPrintMargin(b):"highlightActiveLine"==a?m.setHighlightActiveLine(b):"fontSize"==a?$(c).css(a,b):"showIntentGuides"==a?m.setDisplayIndentGuides(b):"elasticTabstops"==a?m.setOption("useElasticTabstops",b):"useIncrementalSearch"==a?m.setOption("useIncrementalSearch",b):"showGutter"==a&&
m.renderer.setShowGutter(b);return this.inherited("set",arguments)},_getMode:function(a){a=a||this.fileName;var b="javascript";if(a){b=g.getFileExtension(a)||"js";if("js"===b||"xblox"===b)b="javascript";if("h"===b||"cpp"===b)b="c_cpp";if("html"===b||"cfhtml"===b||"dhtml"===b)b="html";"cp"===b&&(b="xml");"md"===b&&(b="markdown");"hbs"===b&&(b="handlebars")}return b},setOptions:function(a){this.options=a;_.each(a,function(a,b){this.set(b,a)},this);var b=this.getEditor();b&&a.aceOptions&&(b.setOptions(a.aceOptions),
b.session.setUseWorker(a.useWorker),b.setOptions({enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}),this.setMode(a.mode));return this.options},getOptions:function(){return this.options},onContentChange:function(a){this._parent&&this._parent.set&&this._parent.set("changed",a!==this.lastSavedContent)},onDidChange:function(){var a=this.get("value");this._lastValue!==a&&(this._lastValue=a,this._emit("change",a),this.onContentChange(a))},getDefaultOptions:function(a,b){var e=
this;return g.mixin({region:"center",style:"margin: 0; padding: 0; position:relative;overflow: auto;height:inherit;width:inherit;text-align:left;",readOnly:!1,tabSize:2,wordWrap:!1,showPrintMargin:!1,highlightActiveLine:!0,fontSize:16,showGutter:!0,showLineNumbers:!0,useWorker:!0,showInvisibles:!1,displayIndentGuides:!0,useSoftTabs:!0,fileName:"none",mode:"javascript",value:a||this.value||"No value",theme:"idle_fingers",splits:1,useElasticTabstops:!1,animatedScroll:!1,highlightActive:!0,aceOptions:{enableBasicAutocompletion:!0,
enableSnippets:!0,enableLiveAutocompletion:!0},onLoad:function(a){a.$blockScrolling=Infinity},onDidChange:function(){var a=e.get("value");if(a!==e.lastSavedContent)e.onContentChange(a)},onPrefsChanged:function(){e.setPreferences&&e.setPreferences()}},b)},getEditor:function(a){if(this.split)return null==a?this.split.getCurrentEditor():this.split.getEditor(null!=a?a:0);if(this.editor)return this.editor},resize:function(a,b,e){a=this.options||{};this.onResize&&this.onResize();return this.debounce("resize",
function(){var a=this.getEditor(),b=this.split||this.editor;if(a&&this.aceNode&&a.container)return a&&g.resizeTo(a.container,this.aceNode,!0,!0),b?b.resize():null;this.resize_debounced.cancel();this.resize_debounced=null}.bind(this),a.resizeDelay||300,null)},getAce:function(){return this.getEditor()},addBasicCommands:function(a){a=a||this.getEditor();var b=this,e=ace.require("ace/ext/whitespace");this._whiteSpaceExt=e;a.commands.addCommands(e.commands);a.commands.addCommands([{name:"gotoline",bindKey:{win:"Ctrl-L",
mac:"Command-L"},exec:function(a,b){if("object"==typeof b){var e=this.name+" "+a.getCursorPosition().row;a.cmdLine.setValue(e,1);a.cmdLine.focus()}else b=parseInt(b,10),isNaN(b)||a.gotoLine(b)},readOnly:!0},{name:"snippet",bindKey:{win:"Alt-C",mac:"Command-Alt-C"},exec:function(a,b){if("object"==typeof b)a.cmdLine.setValue("snippet ",1),a.cmdLine.focus();else{var e=snippetManager.getSnippetByName(b,a);e&&snippetManager.insertSnippet(a,e.content)}},readOnly:!0},{name:"increaseFontSize",bindKey:"Ctrl-+",
exec:function(a){a.setFontSize(a.getFontSize()+1);b.onAfterAction()}},{name:"decreaseFontSize",bindKey:"Ctrl+-",exec:function(a){a.setFontSize(a.getFontSize()-1);b.onAfterAction()}},{name:"resetFontSize",bindKey:"Ctrl+0",exec:function(a){a.setFontSize(12);b.onAfterAction()}}])},onEditorCreated:function(a,b){var e=this;a.getSelectedText=function(){return e.editorSession.getTextRange(this.getSelectionRange())};a.on("change",function(){e.onDidChange(arguments)});this.addBasicCommands(a);a.setFontSize(b.fontSize);
a.$blockScrolling=Infinity;this._whiteSpaceExt&&this._whiteSpaceExt.detectIndentation(a.session)},destroy:function(){var a=this.getEditor();a&&a.destroy();(a=this.resize_debounced)&&a.cancel()},getOptionsMixed:function(a){var b=this.getPreferences?this.getPreferences():{},e=this.getDefaultOptions(this.value,a||this.options);g.mixin(e,a);g.mixin(e,b);e.mode=this._getMode(e.fileName);return e},createEditor:function(a,b){this.set("iconClass",this.iconClassNormal);if(this.editor||this.split)return this.editor||
this.split;var e=this.getPreferences?this.getPreferences():{},m=this.getDefaultOptions(b);g.mixin(m,a);g.mixin(m,e);m.mode=this._getMode(m.fileName);e=m.targetNode||u.create("div");$(e).css({padding:"0",margin:"0",height:"100%",width:"100%"});this.aceNode.appendChild(e);var c=ace.require("ace/config"),J=null,d=null;ace.require("ace/ext/language_tools");try{this.split=J=new (E.getSplitter())(e,null,1),this._aceConfig=c,c.init(),this.editor=d=J.getEditor(0),this.editorSession=this.editor.getSession(),
b&&this.editorSession.setValue(b),J&&J.setSplits(m.splits)}catch(l){logError(l,"error creating editor")}this.setOptions(m);this.onEditorCreated(d,m);return d},addAutoCompleter:function(a){ace.require("ace/ext/language_tools").addCompleter({getCompletions:function(b,e,m,c,J){0===c.length?J(null,[]):a?J(null,a.map(function(a){return{name:a.value,value:a.word,meta:a.meta}})):J(null,[])}})}});var l=y(null,{declaredClass:"xace/views/ACE",onLoaded:function(){this.set("iconClass",this.iconClassNormal)},
getKeyTarget:function(){return this.aceNode},startup:function(){this.aceNode.id=g.createUUID();if(this.permissions){var a=p.getDefaultActions(this.permissions,this,this),a=a.concat(this.getEditorActions(this.permissions));this.addActions(a)}this.iconClassNormal=""+this.iconClass;this.set("iconClass","fa-spinner fa-spin");var b=this,e=this.options||{};if(this.item||null!=this.value)null!=this.value?(this.lastSavedContent=""+this.value,b.createEditor(b.options||null,this.value)):this.getContent(this.item,
function(a){b.lastSavedContent=a;b.createEditor(b.options||e,a)},function(a){b.createEditor(b.options||null,"");logError(a,"error loading content from file")})}});y=y([z,l,c],{});y.EditorImplementation=c;y.Editor=l;y.Container=z;y.Splitter=E;return y})},"xace/views/_Split":function(){define(["dcl/dcl"],function(y){var F=null;y=y(null,{declaredClass:"xace/views/Split"});y.getSplitter=function(){function u(a,b){this.$u=a;this.$doc=b}if(F)return F;var g=ace.require,d=g("ace/lib/oop"),z=g("ace/lib/lang"),
E=g("ace/lib/event_emitter").EventEmitter,p=g("ace/editor").Editor,c=g("ace/virtual_renderer").VirtualRenderer,L=g("ace/edit_session").EditSession,l=g("ace/undomanager").UndoManager;g("ace/keyboard/hash_handler");g=function(a,b,e){this.BELOW=1;this.BESIDE=0;this.$container=a;this.$theme=b;this.$splits=0;this.$editorCSS="";this.$editors=[];this.$orientation=this.BESIDE;this.setSplits(e||1);this.$cEditor=this.$editors[0];this.on("focus",function(a){this.$cEditor=a}.bind(this))};(function(){d.implement(this,
E);this.$createEditor=function(){var a=document.createElement("div");a.className=this.$editorCSS;a.style.cssText="position: absolute; top:0px; bottom:0px";this.$container.appendChild(a);var b=new p(new c(a,this.$theme));b.on("focus",function(){this._emit("focus",b)}.bind(this));this.$editors.push(b);b.session.setUndoManager(new l);b.setFontSize(this.$fontSize);return b};this.setSplits=function(a){var b;if(1>a)throw"The number of splits have to be \x3e 0!";if(a!=this.$splits){if(a>this.$splits){for(;this.$splits<
this.$editors.length&&this.$splits<a;)b=this.$editors[this.$splits],this.$container.appendChild(b.container),b.setFontSize(this.$fontSize),this.$splits++;for(;this.$splits<a;)this.$createEditor(),this.$splits++}else for(;this.$splits>a;)b=this.$editors[this.$splits-1],this.$container.removeChild(b.container),this.$splits--;this.resize()}};this.getSplits=function(){return this.$splits};this.getEditor=function(a){return this.$editors[a]};this.getCurrentEditor=function(){return this.$cEditor};this.focus=
function(){this.$cEditor.focus()};this.blur=function(){this.$cEditor.blur()};this.setSessionOption=function(a,b){this.$editors.forEach(function(e){e=e.session;"mode"==a&&e.setMode(b)})};this.setTheme=function(a){this.$editors.forEach(function(b){b.setTheme(a)})};this.setKeyboardHandler=function(a){this.$editors.forEach(function(b){b.setKeyboardHandler(a)})};this.forEach=function(a,b){this.$editors.forEach(a,b)};this.$fontSize="";this.setFontSize=function(a){this.$fontSize=a;this.forEach(function(b){b.setFontSize(a)})};
this.$cloneSession=function(a){var b=new L(a.getDocument(),a.getMode()),e=a.getUndoManager();e&&(e=new u(e,b),b.setUndoManager(e));b.$informUndoManager=z.delayedCall(function(){b.$deltas=[]});b.setTabSize(a.getTabSize());b.setUseSoftTabs(a.getUseSoftTabs());b.setOverwrite(a.getOverwrite());b.setBreakpoints(a.getBreakpoints());b.setUseWrapMode(a.getUseWrapMode());b.setUseWorker(a.getUseWorker());b.setWrapLimitRange(a.$wrapLimitRange.min,a.$wrapLimitRange.max);b.$foldData=a.$cloneFoldData();return b};
this.setSession=function(a,b){var e;e=null==b?this.$cEditor:this.$editors[b];this.$editors.some(function(b){return b.session===a})&&(a=this.$cloneSession(a));e.setSession(a);return a};this.getOrientation=function(){return this.$orientation};this.setOrientation=function(a){this.$orientation!=a&&(this.$orientation=a,this.resize())};this.resize=function(){var a=this.$container.clientWidth,b=this.$container.clientHeight,e;if(this.$orientation==this.BESIDE){a/=this.$splits;this.diffGutter&&(a-=60/this.$splits);
for(var m=0;m<this.$splits;m++){e=this.$editors[m];e.container.style.width=a+"px";e.container.style.top="0px";e.container.style.left=m*a+"px";1==m&&this.diffGutter&&(e.container.style.left=60+m*a+"px",this.diffGutter.style.left=m*a+"px");if(!b)break;$(e.container).css("height",b+"px");var c=$(e.container).find(".ace_content");e.resize();c.css("height",b+"px")}}else for(b/=this.$splits,m=0;m<this.$splits;m++)e=this.$editors[m],e.container.style.width=a+"px",e.container.style.top=m*b+"px",e.container.style.left=
"0px",e.container.style.height=b+"px",e.resize()}}).call(g.prototype);(function(){this.execute=function(a){this.$u.execute(a)};this.undo=function(){var a=this.$u.undo(!0);a&&this.$doc.selection.setSelectionRange(a)};this.redo=function(){var a=this.$u.redo(!0);a&&this.$doc.selection.setSelectionRange(a)};this.reset=function(){this.$u.reset()};this.hasUndo=function(){return this.$u.hasUndo()};this.hasRedo=function(){return this.$u.hasRedo()}}).call(u.prototype);return F=g};return y})},"xace/views/_AceMultiDocs":function(){define(["dcl/dcl",
"xdojo/declare","module","xace/base_handler","xace/complete_util"],function(y,F,u,g,d){function z(a,b,e,c){b=b.split(/[^a-zA-Z_0-9\$]+/);for(var d=0;d<b.length;d++){var l=b[d];l&&(Object.prototype.hasOwnProperty.call(e,l)?e[l]++:(e[l]=1,c[l]={}),c[l][a]=!0)}return e}function E(a){var b=c[a];if(b){for(var e in b)L[e]-=b[e],delete l[e][a],0===L[e]&&(delete L[e],delete l[e]);delete c[a]}}function p(a,b){c[a]||(8E5<b.size?delete c[a]:(c[a]=z(a,b,{},{}),z(a,b,L,l)))}var c={},L={},l={},a,b,e=u.exports=
Object.create(g);e.handlesLanguage=function(a){return!0};e.handlesEditor=function(){return this.HANDLES_ANY};e.getMaxFileSizeSupported=function(){return 1E6};e.onDocumentOpen=function(a,b,e,d){c[a]||p(a,b.getValue());d()};e.addDocument=function(a,b){c[a]||p(a,b)};e.onDocumentClose=function(m,e){E(m);m==a&&(b=null);e()};e.analyze=function(m,e,c,d){b&&this.path!==a&&(E(a),p(a,b),b=null);a=this.path;b=m;c()};e.complete=function(a,b,e,c,g){a=a.getSession().getLine(e.row);e=d.retrievePrecedingIdentifier(a,
e.column,this.$getIdentifierRegex());var C=L;a=[];for(var B in C)a.push(B);B=d.findCompletions(e,a);var p=this.path;B=B.filter(function(a){return!l[a][p]});B=B.slice(0,100);g(B.filter(function(a){return!a.match(/^[0-9$_\/]/)}).map(function(a){var b=(Object.keys(l[a])[0]||"[unknown]").split("/");return{name:a,value:a,icon:null,score:C[a],meta:b[b.length-1],priority:0,isGeneric:!0}}))};e.getCompletions=function(a,b,c,d,l){var g=null;e.complete(a,null,c,null,function(a){g=a});l(null,g)};y=y(null,{declaredClass:"xide.views._AceMultiDocs",
didAddMCompleter:!1,multiFileCompleter:null,addFileCompleter:function(){var a=null;this.didAddMCompleter||(this.multiFileCompleter=a=e,ace.require("ace/ext/language_tools").addCompleter(a),this.didAddMCompleter=!0);return a}});y.completer=e;return y})},"xace/base_handler":function(){define(function(y,F,u){u.exports={HANDLES_ANY:0,HANDLES_EDITOR:1,HANDLES_IMMEDIATE:2,HANDLES_EDITOR_AND_IMMEDIATE:3,language:null,path:null,workspaceDir:null,doc:null,isFeatureEnabled:function(g){return!disabledFeatures[g]},
$getIdentifierRegex:function(){return null},completeUpdate:function(g){throw Error("Use worker_util.completeUpdate instead()");},handlesLanguage:function(g){throw Error("base_handler.handlesLanguage() is not overridden");},handlesEditor:function(){return this.HANDLES_EDITOR},getMaxFileSizeSupported:function(){return 8E5},isParsingSupported:function(){return!1},getIdentifierRegex:function(){return null},getCompletionRegex:function(){return null},getTooltipRegex:function(){return null},parse:function(g,
d){d()},findNode:function(g,d,z){z()},getPos:function(g,d){d()},init:function(g){g()},onUpdate:function(g,d){d()},onDocumentOpen:function(g,d,z,u){u()},onDocumentClose:function(g,d){d()},onCursorMove:function(g,d,z,u,p){p()},tooltip:function(g,d,z,u,p){p()},highlightOccurrences:function(g,d,z,u,p){p()},getRefactorings:function(g,d,z,u,p){p()},outline:function(g,d,z){z()},hierarchy:function(g,d,z){z()},complete:function(g,d,z,u,p){p()},analyze:function(g,d,z,u){z()},getRenamePositions:function(g,d,
u,E,p){p()},onRenameBegin:function(g,d){d()},commitRename:function(g,d,u,E,p){p()},onRenameCancel:function(g){g()},codeFormat:function(g,d){d()},jumpToDefinition:function(g,d,u,E,p){p()},getResolutions:function(g,d,u,E){E()},hasResolution:function(g,d,u,E){E()},getInspectExpression:function(g,d,u,E,p){p()}};for(f in u.exports)"function"===typeof u.exports[f]&&(u.exports[f].base_handler=!0)})},"xace/complete_util":function(){define(function(y,F,u){function g(c,d,l){l=l||z;var a=[];for(--d;0<=d&&c;d--)if(l.test(c[d]))a.push(c[d]);
else break;return a.reverse().join("")}function d(c,d,l,a,b){if(-1===["javascript","jsx"].indexOf(a.getSession().syntax))return!1;a=null==l?g(c,d,E):l;l=9-(b?1:0);d=d-a.length-l;b=c.substr(d,l)+(b?'"':"");return 0<=d&&b.match(/require\(["']/)||c.substr(d+1,l).match(/require\(["']/)}var z=/[a-zA-Z_0-9\$]/,E=/(?!["'])./,p="../static/lib";F.precededByIdentifier=function(c,p,l,a){var b=g(c,p);l&&(b+=l);if(l=""!==b&&!("0"<=b[0]&&"9">=b[0])){if(-1===["javascript","jsx"].indexOf(a.getSession().syntax))l=
!0;else{l=null;for(var e=0;e<p;e++)'"'!==c[e]||l?'"'===c[e]&&'"'===l&&"\\"!==c[e-1]?l=null:"'"!==c[e]||l?"'"===c[e]&&"'"===l&&"\\"!==c[e-1]?l=null:"/"===c[e]&&"/"===c[e+1]?(l="//",e++):"/"!==c[e]||"*"!==c[e+1]||l?"*"===c[e]&&"/"===c[e+1]&&"/*"===l?(l=null,e++):"/"!==c[e]||l?"/"===c[e]&&"/"===l&&"\\"!==c[e-1]&&(l=null):l="/":"global"!==c.substr(e+2,6)&&(l="/*",e++):l="'":l='"';l="/"!=l}l=l||d(c,p,b,a)}return l};F.isRequireJSCall=d;F.retrievePrecedingIdentifier=g;F.retrieveFollowingIdentifier=function(c,
d,l){l=l||z;for(var a=[];c&&d<c.length;d++)if(l.test(c[d]))a.push(c[d]);else break;return a.join("")};F.findCompletions=function(c,d){d.sort();for(var l=0,a=d.length-1,b=Math.floor((a+l)/2);a>l&&0<=b&&0!==d[b].indexOf(c);)c<d[b]?a=b-1:c>d[b]&&(l=b+1),b=Math.floor((a+l)/2);for(;0<b&&0===d[b-1].indexOf(c);)b--;l=[];for(b=0<=b?b:0;b<d.length&&0===d[b].indexOf(c);b++)l.push(d[b]);return l};F.fetchText=function(c){var d=new XMLHttpRequest;c=p+"/"+c;console.error("fetch text : "+c);d.open("GET",c,!1);try{d.send()}catch(l){return!1}return 200===
d.status||d.responseText?d.responseText:!1};F.setStaticPrefix=function(c){p=c};F.DEFAULT_ID_REGEX=z;F.canCompleteForChangedLine=function(c,d,l,a,b){if(l.row!==a.row||0!==d.indexOf(c))return!1;l=g(c,l.column,b);a=g(d,a.column,b);return d.substr(0,d.length-a.length)===c.substr(0,c.length-l.length)}})},"xace/views/Editor":function(){define("dcl/dcl xide/types xide/utils xaction/ActionProvider xace/views/ACEEditor xace/views/_Actions xaction/Toolbar xide/mixins/PersistenceMixin".split(" "),function(y,
F,u,g,d,z,E,p){p=y([p.dcl],{declaredClass:"xace.views.EditorPersistence",defaultPrefenceTheme:"idle_fingers",defaultPrefenceFontSize:14,saveValueInPreferences:!0,getDefaultPreferences:function(){return u.mixin({theme:this.defaultPrefenceTheme,fontSize:this.defaultPrefenceFontSize},this.saveValueInPreferences?{value:this.get("value")}:null)},onAfterAction:function(c){var d=this.getEditor().getTheme();this.savePreferences({theme:d.replace("ace/theme/",""),fontSize:this.getEditor().getFontSize()});return this.inherited(arguments)},
toPreferenceId:function(c){if(!c){var d=$("body");c="xTheme-";var l;_.each(["blue","gray","white","transparent"],function(a){l=c+a;d.hasClass(l)&&(c=l)})}return(c||this.cookiePrefix||"")+"_xace"},getDefaultOptions:function(){var c=this.inherited(arguments),d=this.loadPreferences(null);d&&u.mixin(c,d)||this.savePreferences(this.getDefaultPreferences());return c}});y=y([z,d,g.dcl,p,E.dcl],{toolbarArgs:{actionFilter:{}},getBreadcrumbPath:function(){if(this.item)return{path:u.replaceAll("/","",this.item.mount)+
":/"+this.item.path.replace("./","/")}},tabOrder:{Home:100,View:50,Settings:20},menuOrder:{File:110,Edit:100,View:90,Block:50,Settings:20,Navigation:10,Editor:9,Step:5,New:4,Window:3,Help:2},declaredClass:"xace/views/Editor",options:null,loadingIcon:"fa-spinner fa-spin",iconClassNormal:"fa-code",templateString:'\x3cdiv attachTo\x3d"template" class\x3d"grid-template widget" style\x3d"width: 100%;height: 100%;overflow: hidden !important;position: relative;padding: 0px;margin: 0px"\x3e\x3cdiv attachTo\x3d"header" class\x3d"view-header row bg-opaque" style\x3d"height: auto;width:inherit;height:auto;min-height: 33px"\x3e\x3c/div\x3e\x3cdiv attachTo\x3d"aceNode" class\x3d"view-body row" style\x3d"height:100%;width: 100%;position: relative;"\x3e\x3c/div\x3e\x3cdiv attachTo\x3d"footer" class\x3d"view-footer" style\x3d"position: absolute;bottom: 0px;width: 100%"\x3e\x3c/div\x3e\x3c/div\x3e',
getContent:function(c,d,l){this.storeDelegate?this.storeDelegate.getContent(function(a){d(a)},c||this.item):l&&l("Editor::getContent : Have no store delegate!")},saveContent:function(c,d,l){var a=this;this.set("iconClass","fa-spinner fa-spin");var b=c||this.get("value");if(this.storeDelegate)return this.storeDelegate.saveContent(b,function(){a.set("iconClass",a.iconClassNormal);a.lastSavedContent=b;a.onContentChange(b);a.publish(F.EVENTS.ON_FILE_CONTENT_CHANGED,{path:a.options.filePath,item:a.item,
content:b,editor:a},a)},null,a.item);l&&l("Editor::saveContent : Have no store delegate!");return!1},addCommands:function(){var c=this.getAce(),d=this;ace.require("ace/config").init();var l=[];this.hasHelp&&l.push({name:"showKeyboardShortcuts",bindKey:{win:"Ctrl-Alt-h",mac:"Command-Alt-h"},exec:function(a){d.showHelp(a)}});this.hasConsole&&l.push({name:"gotoline",bindKey:{win:"Ctrl-L",mac:"Command-L"},exec:function(a,b){if("object"==typeof b){var e=this.name+" "+a.getCursorPosition().row;a.cmdLine.setValue(e,
1);a.cmdLine.focus()}else b=parseInt(b,10),isNaN(b)||a.gotoLine(b)},readOnly:!0});c.commands.addCommands(l)},getWebRoot:function(){return this.ctx.getResourceManager().getVariable(F.RESOURCE_VARIABLES.APP_URL)},resize:function(){return this._resize()},onResize:function(){return this._resize()},_resize:function(){var c=this.getParent();this._isMaximized?u.resizeTo(this,this._maximizeContainer,!0,!0):c&&u.resizeTo(this,c,!0,!0);var c=this.getToolbar(),d=!1,l=$(this.aceNode);this._isMaximized&&c&&u.resizeTo(c,
this.header,!0,!0);!c||c&&c.isEmpty()?d=!0:c&&(u.resizeTo(c,this.header,!1,!0),c.resize(),u.resizeTo(this.header,c,!0,!1));var a=$(this.domNode).height(),d=1==d?0:$(this.header).height(),b=$(this.footer).height(),a=a-d-b;c&&(a-=4);50<a?l.height(a+"px"):l.height("inherited")},__set:function(c,d){var l=this.inherited(arguments);if("iconClass"===c){var a=this._parent;a&&a.icon&&this._parent.icon(d)}return l},__get:function(c){if("value"===c){var d=this.getEditor();return(d=d?d.session:null)?d.getValue():
null}return this.inherited(arguments)}});y.DEFAULT_PERMISSIONS=z.DEFAULT_PERMISSIONS;return y})},"xace/views/_Actions":function(){define("dcl/dcl xide/utils xide/types xide/types/Types xaction/types xaction/ActionProvider xace/views/ACEEditor xaction/Toolbar xaction/DefaultActions dojo/Deferred xace/formatters".split(" "),function(y,F,u,g,d,z,E,p,c,L,l){g=u.ACTION;var a=u.VIEW_SPLIT_MODE;g=[g.RELOAD,g.SAVE,g.FIND,g.TOOLBAR,"Editor/Keyboard","View/Increase Font Size","View/Decrease Font Size","View/Themes",
"Help/Editor Shortcuts","Editor/Snippets","Editor/Console","Editor/Settings",g.FULLSCREEN,"View/Layout","Edit/Format"];z=y([E,p.dcl,z.dcl],{permissions:g,_searchBoxOpen:!1,onSingleView:function(){},setSplitMode:function(b){this.splitMode=b;if(!this.doSplit)if("Diff"==b)this.doDiff();else{var e=b==a.SPLIT_HORIZONTAL||b==a.SPLIT_VERTICAL,m=this.getEditor(),c=this.split;e?(e=1==c.getSplits(),c.setOrientation(b==a.SPLIT_HORIZONTAL?c.BELOW:c.BESIDE),c.setSplits(2),e&&(b=c.getEditor(0).session,c.setSession(b,
1).name=b.name,m=m.getOptions(),c.getEditor(1).setOptions(m))):(c.setSplits(1),this.onSingleView())}},onMaximized:function(a){var e=this.getParent();!1===a&&e&&e.resize&&e.resize();var m=this.getToolbar();m&&(a?$(m.domNode).addClass("bg-opaque"):$(m.domNode).removeClass("bg-opaque"));!1===a&&(this.resize(),e&&F.resizeTo(this,e,!0,!0),this.publish(u.EVENTS.ON_VIEW_MAXIMIZE_END));this.getEditor().focus()},maximize:function(){var a=this.domNode,e=$(a);this.getToolbar();if(this._isMaximized)this._isMaximized=
!1,e.removeClass("AceEditorPaneFullScreen"),this._lastParent.appendChild(a),F.destroy(this._maximizeContainer);else{this.publish(u.EVENTS.ON_VIEW_MAXIMIZE_START);this._isMaximized=!0;var e=$(this.domNode.ownerDocument),m=$("body")[0],c=F.create("div",{className:"ACEContainer bg-opaque",style:"z-index:300;height:100%;width:100%"});this._maximizeContainer=c;m.appendChild(c);$(a).addClass("AceEditorPaneFullScreen");$(a).css("width",e.width());$(a).css("height",e.height());this.resize();this._lastParent=
a.parentNode;c.appendChild(a);$(c).addClass("bg-opaque");$(c).css("width",e.width());$(c).css("height",e.height());$(c).css({position:"absolute",left:"0px",top:"0px",border:"none medium",width:"100%",height:"100%"})}this.onMaximized(this._isMaximized);return!0},save:function(a){var c=this.get("value"),m=this.saveContent(this.get("value"),a),d=this;this._emit(u.EVENTS.ON_FILE_CONTENT_CHANGED,{content:c,item:a});setTimeout(function(){var a=d.getEditor();a&&a.focus()},600);return m},reload:function(){var a=
this,c=new L;this.getContent(this.item,function(m){a.lastSavedContent=m;a.set("value",m);c.resolve(m)},function(a){logError(a,"error loading content from file");c.reject(a)});return c},runAction:function(a){a=this.getAction(a);if(!a)return!1;var c=this,m=a.command,d=u.ACTION,g=this.getEditor(),p=this.editorSession;-1!=m.indexOf("View/Layout")&&c.setSplitMode(a.option,null);switch(m){case d.RELOAD:return this.reload();case "View/Increase Font Size":return g.setFontSize(g.getFontSize()+1),!0;case "View/Decrease Font Size":return g.setFontSize(g.getFontSize()-
1),!0;case d.FULLSCREEN:return this.maximize();case "Help/Editor Shortcuts":c.showHelp();break;case d.SAVE:c.save(this.item);break;case d.FIND:var z=function(a){c._searchBoxOpen?(a.hide(),c._searchBoxOpen=!1):(a.show(g.session.getTextRange(),null),c._searchBoxOpen=!0)},p=ace.require("ace/lib/net"),m=this.getWebRoot();(d=g.searchBox)?z(d):p.loadScript(m+"/xfile/ext/ace/ext-searchbox.js",function(a){a=ace.require("ace/ext/searchbox");z(new a.SearchBox(g))});return!0}if(-1!==m.indexOf("View/Themes")){c.set("theme",
a.theme);if(d=a.getParent?a.getParent():null)d=d.getChildren(),_.each(d,function(a){a.set("icon",a._oldIcon)});a.set("icon","fa fa-check")}-1!==m.indexOf("Edit/Format")&&g&&(d=l.format(g,a.formatter),c.set("value",d));if(-1!==m.indexOf("Editor/Settings")){var m=a.option,d=g.getOption(a.option),C=_.isBoolean(d);if("highlightActive"===m){g.setHighlightActiveLine(!g.getHighlightActiveLine());return}if(C)g.setOption(a.option,!d);else{if("wordWrap"===m)return p=p.getUseWrapMode(),this.set("wordWrap",!p),
!0;"off"===d||"on"===d?g.setOption(m,"off"===d?"on":"off"):g.setOption(a.option,!1)}return!0}return this.inherited(arguments)},getEditorActions:function(b){function d(a,b,c,e,H,l,p,h){H=H||{};b=b||"Editor/Settings/"+a||"Editor/Settings/"+a;H=H||{};a=g.createAction(F.mixin({label:a,command:b,icon:c||"fa-cogs",group:l||"Settings",mixin:F.mixin({addPermission:!0,option:e,actionType:p,owner:g},H)},h));m.push(a);return a}var m=[],g=this,p=u.ACTION,R=u.ACTION_ICON;m.push(this.createAction({label:"Save",
command:p.SAVE,icon:R.SAVE,keycombo:"ctrl s",group:"File"}));m.push(this.createAction({label:"Find",command:p.FIND,icon:R.SEARCH,keycombo:"ctrl f",group:"Search"}));m.push(this.createAction({label:"Fullscreen",command:p.FULLSCREEN,icon:R.MAXIMIZE,keycombo:"ctrl f11",group:"View"}));m.push(this.createAction({label:"Increase Fontsize",command:"View/Increase Font Size",icon:"fa-text-height",group:"View"}));m.push(this.createAction({label:"Decrease Fontsize",command:"View/Decrease Font Size",icon:"fa-text-height",
group:"View"}));c.hasAction(b,"View/Themes")&&(m.push(this.createAction({label:"Themes",command:"View/Themes",icon:"fa-paint-brush",group:"View",mixin:{closeOnClick:!1,value:this.defaultPrefenceTheme},onCreate:function(a){var b=g.getDefaultOptions();a.set("value",b.theme)}})),g._addThemes&&g._addThemes(m));m.push(this.createAction({label:"Help",command:"Help/Editor Shortcuts",icon:"fa-question",keycombo:"f1"}));m.push(this.createAction({label:"Settings",command:"Editor/Settings",icon:"fa-cogs",group:"Settings"}));
p={onCreate:function(a){var b=g.getOptionsMixed()[this.option];null!==b&&a.set("value",b)},onChange:function(a,b){this.value=b;g.runAction(this)}};d("Show Gutters",null,null,"showGutter",null,null,u.ACTION_TYPE.MULTI_TOGGLE,p);d("Show Print Margin",null,null,"showPrintMargin",null,null,u.ACTION_TYPE.MULTI_TOGGLE,p);d("Display Intend Guides",null,null,"displayIndentGuides",null,null,u.ACTION_TYPE.MULTI_TOGGLE,p);d("Show Line Numbers",null,null,"showLineNumbers",null,null,u.ACTION_TYPE.MULTI_TOGGLE,
p);d("Show Indivisibles",null,null,"showInvisibles",null,null,u.ACTION_TYPE.MULTI_TOGGLE,p);d("Use Soft Tabs",null,null,"useSoftTabs",null,null,u.ACTION_TYPE.MULTI_TOGGLE,p);d("Use Elastic Tab Stops",null,null,"useElasticTabstops",null,null,u.ACTION_TYPE.MULTI_TOGGLE,p);d("Animated Scroll",null,null,"animatedScroll",null,null,u.ACTION_TYPE.MULTI_TOGGLE,p);d("Word Wrap",null,null,"wordWrap",null,null,u.ACTION_TYPE.MULTI_TOGGLE,p);d("Highlight Active Line",null,null,"highlightActive",null,null,u.ACTION_TYPE.MULTI_TOGGLE,
p);if(c.hasAction(b,"Edit/Format")){m.push(this.createAction({label:"Format",command:"Edit/Format",icon:"fa-indent",group:"Edit"}));var p=l.modes,R=function(a,b,c){a=g.createAction({label:a,command:"Edit/Format/"+a,icon:"fa-indent",group:"Edit",mixin:{addPermission:!0,formatter:c},onCreate:function(a){}});m.push(a)},z;for(z in p)m.push(R(p[z],"",z))}c.hasAction(b,"View/Layout")&&(m.push(this.createAction({label:"Split",command:"View/Layout",icon:"fa-columns",group:"View"})),m.push(d("None","View/Layout/None",
"fa-columns",a.SOURCE,null,"View",u.ACTION_TYPE.SINGLE_TOGGLE)),m.push(d("Horizontal","View/Layout/Horizontal","layoutIcon-horizontalSplit",a.SPLIT_HORIZONTAL,null,"View",u.ACTION_TYPE.SINGLE_TOGGLE)),m.push(d("Vertical","View/Layout/Vertical","layoutIcon-layout293",a.SPLIT_VERTICAL,null,"View",u.ACTION_TYPE.SINGLE_TOGGLE)));return m},_addThemes:function(a){for(var c=this.getThemeData(),d=this,g=function(a,b,c){return d.createAction({label:a,command:"View/Themes/"+a,group:"View",icon:b,mixin:{addPermission:!0,
value:c,theme:c,closeOnClick:!1},onCreate:function(a){a._oldIcon=b;a.set("value",c);a.actionType=u.ACTION_TYPE.SINGLE_TOGGLE}})},l=0;l<c.length;l++){var p=c[l],z=p[1]||p[0].replace(/ /g,"_").toLowerCase(),p=g(p[0]," ",z);a.push(p)}},showHelp:function(a){a=a||this.getEditor();ace.require("ace/config").loadModule("ace/ext/keybinding_menu",function(c){c.init(a);a.showKeyboardShortcuts()})},getThemeData:function(){return[["Chrome"],["Clouds"],["Crimson Editor"],["Dawn"],["Dreamweaver"],["Eclipse"],["GitHub"],
["Solarized Light"],["TextMate"],["Tomorrow"],["XCode"],["Kuroir"],["KatzenMilch"],["Ambiance","ambiance","dark"],["Day","cloud9_day"],["Night","cloud9_night"],["Chaos","chaos","dark"],["Midnight","clouds_midnight","dark"],["Cobalt","cobalt","dark"],["idle Fingers","idle_fingers","dark"],["krTheme","kr_theme","dark"],["Merbivore","merbivore","dark"],["Merbivore-Soft","merbivore_soft","dark"],["Mono Industrial","mono_industrial","dark"],["Monokai","monokai","dark"],["Pastel on dark","pastel_on_dark",
"dark"],["Solarized Dark","solarized_dark","dark"],["Terminal","terminal","dark"],["Tomorrow-Night","tomorrow_night","dark"],["Tomorrow-Night-Blue","tomorrow_night_blue","dark"],["Tomorrow-Night-Bright","tomorrow_night_bright","dark"],["Tomorrow-Night-80s","tomorrow_night_eighties","dark"],["Twilight","twilight","dark"],["Vibrant Ink","vibrant_ink","dark"]]}});z.DEFAULT_PERMISSIONS=g;y.chainAfter("runAction",z);return z})},"xace/formatters":function(){define(["xace/lib_jsbeautify"],function(y){return{format:function(F,
u){if(!0!==this.disabled){var g=F.session,d=F.selection.getRange(),z={space_before_conditional:!0,keep_array_indentation:!1,preserve_newlines:!0,unescape_strings:!0,jslint_happy:!1,brace_style:"end-expand",indent_char:" "};z.indent_size=g.getTabSize();var E=g.getLine(d.start.row).match(/^\s*/)[0],p=!1;d.start.column<E.length?d.start.column=0:p=!0;var c=g.getTextRange(d);0==c.length&&(c=g.getValue());g=null;"javascript"==u||"json"==u?g="js":"css"==u||"less"==u?g="css":/^\s*<!?\w/.test(c)?g="html":
"xml"==u?g="html":"html"==u?g=/[^<]+?{[\s\-\w]+:[^}]+;/.test(c)?"css":/<\w+[ \/>]/.test(c)?"html":"js":"handlebars"==u&&(z.indent_handlebars=!0,g="html");try{c=y[g+"_beautify"](c,z),p&&(c=c.replace(/^/gm,E).trim()),0===d.end.column&&(c+="\n"+E)}catch(L){return!1}return c}},modes:{javascript:"Javascript (JS Beautify)",html:"HTML (JS Beautify)",css:"CSS (JS Beautify)",less:"Less (JS Beautify)",xml:"XML (JS Beautify)",json:"JSON (JS Beautify)",handlebars:"Handlebars (JS Beautify)"}}})},"xace/lib_jsbeautify":function(){define(["require",
"exports","module"],function(y,F,u){var g=u.exports={};(function(){function d(a,b){for(var c=0;c<b.length;c+=1)if(b[c]===a)return!0;return!1}function u(a){return a.replace(/^\s+|\s+$/g,"")}function E(a,b){return(new p(a,b)).beautify()}function p(a,c){function e(a,b){var c=0;a&&(c=a.indentation_level,!q.just_added_newline()&&a.line_indent_level>c&&(c=a.line_indent_level));return{mode:b,parent:a,last_text:a?a.last_text:"",last_word:a?a.last_word:"",declaration_statement:!1,declaration_assignment:!1,
multiline_frame:!1,if_block:!1,else_block:!1,do_block:!1,do_while:!1,in_case_statement:!1,in_case:!1,case_body:!1,indentation_level:c,line_indent_level:a?a.line_indent_level:c,start_line_index:q.get_line_number(),ternary_depth:0}}function g(a){var c=a.newlines;if(v.keep_array_indentation&&k.mode===b.ArrayLiteral)for(d=0;d<c;d+=1)C(0<d);else if(v.max_preserve_newlines&&c>v.max_preserve_newlines&&(c=v.max_preserve_newlines),v.preserve_newlines&&1<a.newlines){C();for(var d=1;d<c;d+=1)C(!0)}r=a;V[r.type]()}
function p(a){a=void 0===a?!1:a;q.just_added_newline()||(v.preserve_newlines&&r.wanted_newline||a?C(!1,!0):v.wrap_line_length&&q.current_line.get_character_count()+r.text.length+(q.space_before_token?1:0)>=v.wrap_line_length&&C(!1,!0))}function C(a,c){if(!c&&";"!==k.last_text&&","!==k.last_text&&"\x3d"!==k.last_text&&"TK_OPERATOR"!==t)for(;k.mode===b.Statement&&!k.if_block&&!k.do_block;)H();q.add_new_line(a)&&(k.multiline_frame=!0)}function B(a){a=a||r.text;q.just_added_newline()&&(v.keep_array_indentation&&
k.mode===b.ArrayLiteral&&r.wanted_newline?(q.current_line.push(r.whitespace_before),q.space_before_token=!1):q.set_indent(k.indentation_level)&&(k.line_indent_level=k.indentation_level));q.add_token(a)}function E(a){k?(T.push(k),P=k):P=e(null,a);k=e(P,a)}function w(a){return d(a,[b.Expression,b.ForInitializer,b.Conditional])}function H(){0<T.length&&(P=k,k=T.pop(),P.mode===b.Statement&&q.remove_redundant_indentation(P))}function M(){return k.parent.mode===b.ObjectLiteral&&k.mode===b.Statement&&(":"===
k.last_text&&0===k.ternary_depth||"TK_RESERVED"===t&&d(k.last_text,["get","set"]))}function I(){return"TK_RESERVED"===t&&d(k.last_text,["var","let","const"])&&"TK_WORD"===r.type||"TK_RESERVED"===t&&"do"===k.last_text||"TK_RESERVED"===t&&"return"===k.last_text&&!r.wanted_newline||"TK_RESERVED"===t&&"else"===k.last_text&&("TK_RESERVED"!==r.type||"if"!==r.text)||"TK_END_EXPR"===t&&(P.mode===b.ForInitializer||P.mode===b.Conditional)||"TK_WORD"===t&&k.mode===b.BlockStatement&&!k.in_case&&"--"!==r.text&&
"++"!==r.text&&"TK_WORD"!==r.type&&"TK_RESERVED"!==r.type||k.mode===b.ObjectLiteral&&(":"===k.last_text&&0===k.ternary_depth||"TK_RESERVED"===t&&d(k.last_text,["get","set"]))?(E(b.Statement),k.indentation_level+=1,"TK_RESERVED"===t&&d(k.last_text,["var","let","const"])&&"TK_WORD"===r.type&&(k.declaration_statement=!0),M()||p("TK_RESERVED"===r.type&&d(r.text,["do","for","if","while"])),!0):!1}function h(a){return d(a,"case return do if throw else".split(" "))}function x(a){a=n+(a||0);return 0>a||a>=
D.length?null:D[a]}function G(){"TK_RESERVED"===r.type&&k.mode!==b.ObjectLiteral&&d(r.text,["set","get"])&&(r.type="TK_WORD");"TK_RESERVED"===r.type&&k.mode===b.ObjectLiteral&&":"==x(1).text&&(r.type="TK_WORD");I()||!r.wanted_newline||w(k.mode)||"TK_OPERATOR"===t&&"--"!==k.last_text&&"++"!==k.last_text||"TK_EQUALS"===t||!v.preserve_newlines&&"TK_RESERVED"===t&&d(k.last_text,["var","let","const","set","get"])||C();if(k.do_block&&!k.do_while){if("TK_RESERVED"===r.type&&"while"===r.text){q.space_before_token=
!0;B();q.space_before_token=!0;k.do_while=!0;return}C();k.do_block=!1}if(k.if_block)if(k.else_block||"TK_RESERVED"!==r.type||"else"!==r.text){for(;k.mode===b.Statement;)H();k.if_block=!1;k.else_block=!1}else k.else_block=!0;if("TK_RESERVED"===r.type&&("case"===r.text||"default"===r.text&&k.in_case_statement)){C();if(k.case_body||v.jslint_happy)0<k.indentation_level&&(!k.parent||k.indentation_level>k.parent.indentation_level)&&--k.indentation_level,k.case_body=!1;B();k.in_case=!0;k.in_case_statement=
!0}else{"TK_RESERVED"===r.type&&"function"===r.text&&(!(d(k.last_text,["}",";"])||q.just_added_newline()&&!d(k.last_text,["[","{",":","\x3d",","]))||q.just_added_blankline()||r.comments_before.length||(C(),C(!0)),"TK_RESERVED"===t||"TK_WORD"===t?"TK_RESERVED"===t&&d(k.last_text,["get","set","new","return","export"])?q.space_before_token=!0:"TK_RESERVED"===t&&"default"===k.last_text&&"export"===Q?q.space_before_token=!0:C():"TK_OPERATOR"===t||"\x3d"===k.last_text?q.space_before_token=!0:(k.multiline_frame||
!w(k.mode)&&k.mode!==b.ArrayLiteral)&&C());if("TK_COMMA"===t||"TK_START_EXPR"===t||"TK_EQUALS"===t||"TK_OPERATOR"===t)M()||p();"TK_RESERVED"===r.type&&d(r.text,["function","get","set"])?(B(),k.last_word=r.text):(O="NONE","TK_END_BLOCK"===t?"TK_RESERVED"===r.type&&d(r.text,["else","catch","finally"])?"expand"===v.brace_style||"end-expand"===v.brace_style||"none"===v.brace_style&&r.wanted_newline?O="NEWLINE":(O="SPACE",q.space_before_token=!0):O="NEWLINE":"TK_SEMICOLON"===t&&k.mode===b.BlockStatement?
O="NEWLINE":"TK_SEMICOLON"===t&&w(k.mode)?O="SPACE":"TK_STRING"===t?O="NEWLINE":"TK_RESERVED"===t||"TK_WORD"===t||"*"===k.last_text&&"function"===Q?O="SPACE":"TK_START_BLOCK"===t?O="NEWLINE":"TK_END_EXPR"===t&&(q.space_before_token=!0,O="NEWLINE"),"TK_RESERVED"===r.type&&d(r.text,A.line_starters)&&")"!==k.last_text&&(O="else"===k.last_text||"export"===k.last_text?"SPACE":"NEWLINE"),"TK_RESERVED"===r.type&&d(r.text,["else","catch","finally"])?"TK_END_BLOCK"!==t||"expand"===v.brace_style||"end-expand"===
v.brace_style||"none"===v.brace_style&&r.wanted_newline?C():(q.trim(!0),"}"!==q.current_line.last()&&C(),q.space_before_token=!0):"NEWLINE"===O?"TK_RESERVED"===t&&h(k.last_text)?q.space_before_token=!0:"TK_END_EXPR"!==t?"TK_START_EXPR"===t&&"TK_RESERVED"===r.type&&d(r.text,["var","let","const"])||":"===k.last_text||("TK_RESERVED"===r.type&&"if"===r.text&&"else"===k.last_text?q.space_before_token=!0:C()):"TK_RESERVED"===r.type&&d(r.text,A.line_starters)&&")"!==k.last_text&&C():k.multiline_frame&&k.mode===
b.ArrayLiteral&&","===k.last_text&&"}"===Q?C():"SPACE"===O&&(q.space_before_token=!0),B(),k.last_word=r.text,"TK_RESERVED"===r.type&&"do"===r.text&&(k.do_block=!0),"TK_RESERVED"===r.type&&"if"===r.text&&(k.if_block=!0))}}var q,D=[],n,A,r,t,Q,F,k,P,T,O,V,v,U="";V={TK_START_EXPR:function(){I();var a=b.Expression;if("["===r.text){if("TK_WORD"===t||")"===k.last_text){"TK_RESERVED"===t&&d(k.last_text,A.line_starters)&&(q.space_before_token=!0);E(a);B();k.indentation_level+=1;v.space_in_paren&&(q.space_before_token=
!0);return}a=b.ArrayLiteral;k.mode!==b.ArrayLiteral||"["!==k.last_text&&(","!==k.last_text||"]"!==Q&&"}"!==Q)||v.keep_array_indentation||C()}else"TK_RESERVED"===t&&"for"===k.last_text?a=b.ForInitializer:"TK_RESERVED"===t&&d(k.last_text,["if","while"])&&(a=b.Conditional);";"===k.last_text||"TK_START_BLOCK"===t?C():"TK_END_EXPR"===t||"TK_START_EXPR"===t||"TK_END_BLOCK"===t||"."===k.last_text?p(r.wanted_newline):"TK_RESERVED"===t&&"("===r.text||"TK_WORD"===t||"TK_OPERATOR"===t?"TK_RESERVED"===t&&("function"===
k.last_word||"typeof"===k.last_word)||"*"===k.last_text&&"function"===Q?v.space_after_anon_function&&(q.space_before_token=!0):"TK_RESERVED"===t&&(d(k.last_text,A.line_starters)||"catch"===k.last_text)&&v.space_before_conditional&&(q.space_before_token=!0):q.space_before_token=!0;"("!==r.text||"TK_EQUALS"!==t&&"TK_OPERATOR"!==t||M()||p();E(a);B();v.space_in_paren&&(q.space_before_token=!0);k.indentation_level+=1},TK_END_EXPR:function(){for(;k.mode===b.Statement;)H();k.multiline_frame&&p("]"===r.text&&
k.mode===b.ArrayLiteral&&!v.keep_array_indentation);v.space_in_paren&&("TK_START_EXPR"!==t||v.space_in_empty_paren?q.space_before_token=!0:(q.trim(),q.space_before_token=!1));"]"===r.text&&v.keep_array_indentation?(B(),H()):(H(),B());q.remove_redundant_indentation(P);k.do_while&&P.mode===b.Conditional&&(P.mode=b.Expression,k.do_block=!1,k.do_while=!1)},TK_START_BLOCK:function(){var a=x(1),c=x(2);c&&(":"===c.text&&d(a.type,["TK_STRING","TK_WORD","TK_RESERVED"])||d(a.text,["get","set"])&&d(c.type,["TK_WORD",
"TK_RESERVED"]))?d(Q,["class","interface"])?E(b.BlockStatement):E(b.ObjectLiteral):E(b.BlockStatement);a=!a.comments_before.length&&"}"===a.text&&"function"===k.last_word&&"TK_END_EXPR"===t;"expand"===v.brace_style||"none"===v.brace_style&&r.wanted_newline?"TK_OPERATOR"!==t&&(a||"TK_EQUALS"===t||"TK_RESERVED"===t&&h(k.last_text)&&"else"!==k.last_text)?q.space_before_token=!0:C(!1,!0):"TK_OPERATOR"!==t&&"TK_START_EXPR"!==t?"TK_START_BLOCK"===t?C():q.space_before_token=!0:P.mode===b.ArrayLiteral&&","===
k.last_text&&("}"===Q?q.space_before_token=!0:C());B();k.indentation_level+=1},TK_END_BLOCK:function(){for(;k.mode===b.Statement;)H();var a="TK_START_BLOCK"===t;"expand"===v.brace_style?a||C():a||(k.mode===b.ArrayLiteral&&v.keep_array_indentation?(v.keep_array_indentation=!1,C(),v.keep_array_indentation=!0):C());H();B()},TK_WORD:G,TK_RESERVED:G,TK_SEMICOLON:function(){I()&&(q.space_before_token=!1);for(;k.mode===b.Statement&&!k.if_block&&!k.do_block;)H();B()},TK_STRING:function(){I()?q.space_before_token=
!0:"TK_RESERVED"===t||"TK_WORD"===t?q.space_before_token=!0:"TK_COMMA"===t||"TK_START_EXPR"===t||"TK_EQUALS"===t||"TK_OPERATOR"===t?M()||p():C();B()},TK_EQUALS:function(){I();k.declaration_statement&&(k.declaration_assignment=!0);q.space_before_token=!0;B();q.space_before_token=!0},TK_OPERATOR:function(){I();if("TK_RESERVED"===t&&h(k.last_text))q.space_before_token=!0,B();else if("*"===r.text&&"TK_DOT"===t)B();else if(":"===r.text&&k.in_case)k.case_body=!0,k.indentation_level+=1,B(),C(),k.in_case=
!1;else if("::"===r.text)B();else{!r.wanted_newline||"--"!==r.text&&"++"!==r.text||C(!1,!0);"TK_OPERATOR"===t&&p();var a=!0,c=!0;d(r.text,["--","++","!","~"])||d(r.text,["-","+"])&&(d(t,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||d(k.last_text,A.line_starters)||","===k.last_text)?(c=a=!1,";"===k.last_text&&w(k.mode)&&(a=!0),"TK_RESERVED"===t||"TK_END_EXPR"===t?a=!0:"TK_OPERATOR"===t&&(a=d(r.text,["--","-"])&&d(k.last_text,["--","-"])||d(r.text,["++","+"])&&d(k.last_text,["++","+"])),
k.mode!==b.BlockStatement&&k.mode!==b.Statement||"{"!==k.last_text&&";"!==k.last_text||C()):":"===r.text?0===k.ternary_depth?a=!1:--k.ternary_depth:"?"===r.text?k.ternary_depth+=1:"*"===r.text&&"TK_RESERVED"===t&&"function"===k.last_text&&(c=a=!1);q.space_before_token=q.space_before_token||a;B();q.space_before_token=c}},TK_COMMA:function(){k.declaration_statement?(w(k.parent.mode)&&(k.declaration_assignment=!1),B(),k.declaration_assignment?(k.declaration_assignment=!1,C(!1,!0)):q.space_before_token=
!0):(B(),k.mode===b.ObjectLiteral||k.mode===b.Statement&&k.parent.mode===b.ObjectLiteral?(k.mode===b.Statement&&H(),C()):q.space_before_token=!0)},TK_BLOCK_COMMENT:function(){for(var a=r.text,a=a.replace(/\x0d/g,""),b=[],c=a.indexOf("\n");-1!==c;)b.push(a.substring(0,c)),a=a.substring(c+1),c=a.indexOf("\n");a.length&&b.push(a);var d,c=a=!1;d=r.whitespace_before;var h=d.length;C(!1,!0);if(1<b.length){var m;a:{m=b.slice(1);for(var e=0;e<m.length;e++)if("*"!==u(m[e]).charAt(0)){m=!1;break a}m=!0}if(m)a=
!0;else{a:{m=b.slice(1);for(var e=0,k=m.length,H;e<k;e++)if((H=m[e])&&0!==H.indexOf(d)){d=!1;break a}d=!0}d&&(c=!0)}}B(b[0]);for(d=1;d<b.length;d++)C(!1,!0),a?B(" "+u(b[d])):c&&b[d].length>h?B(b[d].substring(h)):q.add_token(b[d]);C(!1,!0)},TK_INLINE_COMMENT:function(){q.space_before_token=!0;B();q.space_before_token=!0},TK_COMMENT:function(){r.wanted_newline?C(!1,!0):q.trim(!0);q.space_before_token=!0;B();C(!1,!0)},TK_DOT:function(){I();"TK_RESERVED"===t&&h(k.last_text)?q.space_before_token=!0:p(")"===
k.last_text&&v.break_chained_methods);B()},TK_UNKNOWN:function(){B();"\n"===r.text[r.text.length-1]&&C()},TK_EOF:function(){for(;k.mode===b.Statement;)H()}};c=c?c:{};v={};void 0!==c.braces_on_own_line&&(v.brace_style=c.braces_on_own_line?"expand":"collapse");v.brace_style=c.brace_style?c.brace_style:v.brace_style?v.brace_style:"collapse";"expand-strict"===v.brace_style&&(v.brace_style="expand");v.indent_size=c.indent_size?parseInt(c.indent_size,10):4;v.indent_char=c.indent_char?c.indent_char:" ";
v.preserve_newlines=void 0===c.preserve_newlines?!0:c.preserve_newlines;v.break_chained_methods=void 0===c.break_chained_methods?!1:c.break_chained_methods;v.max_preserve_newlines=void 0===c.max_preserve_newlines?0:parseInt(c.max_preserve_newlines,10);v.space_in_paren=void 0===c.space_in_paren?!1:c.space_in_paren;v.space_in_empty_paren=void 0===c.space_in_empty_paren?!1:c.space_in_empty_paren;v.jslint_happy=void 0===c.jslint_happy?!1:c.jslint_happy;v.space_after_anon_function=void 0===c.space_after_anon_function?
!1:c.space_after_anon_function;v.keep_array_indentation=void 0===c.keep_array_indentation?!1:c.keep_array_indentation;v.space_before_conditional=void 0===c.space_before_conditional?!0:c.space_before_conditional;v.unescape_strings=void 0===c.unescape_strings?!1:c.unescape_strings;v.wrap_line_length=void 0===c.wrap_line_length?0:parseInt(c.wrap_line_length,10);v.e4x=void 0===c.e4x?!1:c.e4x;v.end_with_newline=void 0===c.end_with_newline?!1:c.end_with_newline;v.jslint_happy&&(v.space_after_anon_function=
!0);c.indent_with_tabs&&(v.indent_char="\t",v.indent_size=1);for(F="";0<v.indent_size;)F+=v.indent_char,--v.indent_size;var S=0;if(a&&a.length){for(;" "===a.charAt(S)||"\t"===a.charAt(S);)U+=a.charAt(S),S+=1;a=a.substring(S)}t="TK_START_BLOCK";Q="";q=new y(F,U);T=[];E(b.BlockStatement);this.beautify=function(){var b;A=new l(a,v,F);D=A.tokenize();for(n=0;b=x();){for(var c=0;c<b.comments_before.length;c++)g(b.comments_before[c]);g(b);Q=k.last_text;t=b.type;k.last_text=b.text;n+=1}b=q.get_code();v.end_with_newline&&
(b+="\n");return b}}function c(a){var b=0,c=-1,d=[],e=!0;this.set_indent=function(d){b=a.baseIndentLength+d*a.indent_length;c=d};this.get_character_count=function(){return b};this.is_empty=function(){return e};this.last=function(){return this._empty?null:d[d.length-1]};this.push=function(a){d.push(a);b+=a.length;e=!1};this.remove_indent=function(){0<c&&(--c,b-=a.indent_length)};this.trim=function(){for(;" "===this.last();)d.pop(),--b;e=0===d.length};this.toString=function(){var b="";this._empty||
(0<=c&&(b=a.indent_cache[c]),b+=d.join(""));return b}}function y(a,d){d=d||"";this.indent_cache=[d];this.baseIndentLength=d.length;this.indent_length=a.length;var e=[];this.baseIndentString=d;this.indent_string=a;this.current_line=null;this.space_before_token=!1;this.get_line_number=function(){return e.length};this.add_new_line=function(a){return 1===this.get_line_number()&&this.just_added_newline()?!1:a||!this.just_added_newline()?(this.current_line=new c(this),e.push(this.current_line),!0):!1};
this.add_new_line(!0);this.get_code=function(){return e.join("\n").replace(/[\r\n\t ]+$/,"")};this.set_indent=function(a){if(1<e.length){for(;a>=this.indent_cache.length;)this.indent_cache.push(this.indent_cache[this.indent_cache.length-1]+this.indent_string);this.current_line.set_indent(a);return!0}this.current_line.set_indent(0);return!1};this.add_token=function(a){this.add_space_before_token();this.current_line.push(a)};this.add_space_before_token=function(){this.space_before_token&&!this.just_added_newline()&&
this.current_line.push(" ");this.space_before_token=!1};this.remove_redundant_indentation=function(a){if(!a.multiline_frame&&a.mode!==b.ForInitializer&&a.mode!==b.Conditional){a=a.start_line_index;for(var c=e.length;a<c;)e[a].remove_indent(),a++}};this.trim=function(b){b=void 0===b?!1:b;for(this.current_line.trim(a,d);b&&1<e.length&&this.current_line.is_empty();)e.pop(),this.current_line=e[e.length-1],this.current_line.trim()};this.just_added_newline=function(){return this.current_line.is_empty()};
this.just_added_blankline=function(){return this.just_added_newline()?1===e.length?!0:e[e.length-2].is_empty():!1}}function l(b,c,g){function p(){var G,q=[];w=0;H="";if(h>=x)return["","TK_EOF"];var D;D=I.length?I[I.length-1]:new e("TK_START_BLOCK","{");var n=b.charAt(h);for(h+=1;d(n,l);){"\n"===n?(w+=1,q=[]):w&&(n===g?q.push(g):"\r"!==n&&q.push(" "));if(h>=x)return["","TK_EOF"];n=b.charAt(h);h+=1}q.length&&(H=q.join(""));if(C.test(n)){var q=D=!0,A=C;"0"===n&&h<x&&/[Xx]/.test(b.charAt(h))?(q=D=!1,
n+=b.charAt(h),h+=1,A=/[0123456789abcdefABCDEF]/):(n="",--h);for(;h<x&&A.test(b.charAt(h));)n+=b.charAt(h),h+=1,D&&h<x&&"."===b.charAt(h)&&(n+=b.charAt(h),h+=1,D=!1),q&&h<x&&/[Ee]/.test(b.charAt(h))&&(n+=b.charAt(h),h+=1,h<x&&/[+-]/.test(b.charAt(h))&&(n+=b.charAt(h),h+=1),D=q=!1);return[n,"TK_WORD"]}if(a.isIdentifierStart(b.charCodeAt(h-1))){if(h<x)for(;a.isIdentifierChar(b.charCodeAt(h))&&(n+=b.charAt(h),h+=1,h!==x););return"TK_DOT"===D.type||"TK_RESERVED"===D.type&&d(D.text,["set","get"])||!d(n,
E)?[n,"TK_WORD"]:"in"===n?[n,"TK_OPERATOR"]:[n,"TK_RESERVED"]}if("("===n||"["===n)return[n,"TK_START_EXPR"];if(")"===n||"]"===n)return[n,"TK_END_EXPR"];if("{"===n)return[n,"TK_START_BLOCK"];if("}"===n)return[n,"TK_END_BLOCK"];if(";"===n)return[n,"TK_SEMICOLON"];if("/"===n){q="";A=!0;if("*"===b.charAt(h)){h+=1;if(h<x)for(;h<x&&("*"!==b.charAt(h)||!b.charAt(h+1)||"/"!==b.charAt(h+1));){n=b.charAt(h);q+=n;if("\n"===n||"\r"===n)A=!1;h+=1;if(h>=x)break}h+=2;return A&&0===w?["/*"+q+"*/","TK_INLINE_COMMENT"]:
["/*"+q+"*/","TK_BLOCK_COMMENT"]}if("/"===b.charAt(h)){for(q=n;"\r"!==b.charAt(h)&&"\n"!==b.charAt(h)&&!(q+=b.charAt(h),h+=1,h>=x););return[q,"TK_COMMENT"]}}if("`"===n||"'"===n||'"'===n||("/"===n||c.e4x&&"\x3c"===n&&b.slice(h-1).match(/^<([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*\/?\s*>/))&&("TK_RESERVED"===D.type&&d(D.text,"return case throw else do typeof yield".split(" "))||"TK_END_EXPR"===D.type&&")"===D.text&&D.parent&&"TK_RESERVED"===
D.parent.type&&d(D.parent.text,["if","while","for"])||d(D.type,"TK_COMMENT TK_START_EXPR TK_START_BLOCK TK_END_BLOCK TK_OPERATOR TK_EQUALS TK_EOF TK_SEMICOLON TK_COMMA".split(" ")))){D=n;var r=q=!1;G=n;if("/"===D)for(n=!1;h<x&&(q||n||b.charAt(h)!==D)&&!a.newline.test(b.charAt(h));)G+=b.charAt(h),q?q=!1:(q="\\"===b.charAt(h),"["===b.charAt(h)?n=!0:"]"===b.charAt(h)&&(n=!1)),h+=1;else if(c.e4x&&"\x3c"===D){if(q=/<(\/?)([-a-zA-Z:0-9_.]+|{[^{}]*}|!\[CDATA\[[\s\S]*?\]\])\s*([-a-zA-Z:0-9_.]+=('[^']*'|"[^"]*"|{[^{}]*})\s*)*(\/?)\s*>/g,
n=b.slice(h-1),(A=q.exec(n))&&0===A.index){D=A[2];for(G=0;A;){var r=!!A[1],t=A[2],y=!!A[A.length-1]||"![CDATA["===t.slice(0,8);t!==D||y||(r?--G:++G);if(0>=G)break;A=q.exec(n)}D=A?A.index+A[0].length:n.length;h+=D-1;return[n.slice(0,D),"TK_STRING"]}}else for(;h<x&&(q||b.charAt(h)!==D&&("`"===D||!a.newline.test(b.charAt(h))));){G+=b.charAt(h);if(q){if("x"===b.charAt(h)||"u"===b.charAt(h))r=!0;q=!1}else q="\\"===b.charAt(h);h+=1}if(r&&c.unescape_strings)a:{n=G;q=!1;A="";G=0;r="";for(t=0;q||G<n.length;)if(y=
n.charAt(G),G++,q){q=!1;if("x"===y)r=n.substr(G,2),G+=2;else if("u"===y)r=n.substr(G,4),G+=4;else{A+="\\"+y;continue}if(!r.match(/^[0123456789abcdefABCDEF]+$/)){G=n;break a}t=parseInt(r,16);if(0<=t&&32>t)A="x"===y?A+("\\x"+r):A+("\\u"+r);else if(34===t||39===t||92===t)A+="\\"+String.fromCharCode(t);else if("x"===y&&126<t&&255>=t){G=n;break a}else A+=String.fromCharCode(t)}else"\\"===y?q=!0:A+=y;G=A}if(h<x&&b.charAt(h)===D&&(G+=D,h+=1,"/"===D))for(;h<x&&a.isIdentifierStart(b.charCodeAt(h));)G+=b.charAt(h),
h+=1;return[G,"TK_STRING"]}if("#"===n){if(0===I.length&&"!"===b.charAt(h)){for(G=n;h<x&&"\n"!==n;)n=b.charAt(h),G+=n,h+=1;return[u(G)+"\n","TK_UNKNOWN"]}D="#";if(h<x&&C.test(b.charAt(h))){do n=b.charAt(h),D+=n,h+=1;while(h<x&&"#"!==n&&"\x3d"!==n);"#"!==n&&("["===b.charAt(h)&&"]"===b.charAt(h+1)?(D+="[]",h+=2):"{"===b.charAt(h)&&"}"===b.charAt(h+1)&&(D+="{}",h+=2));return[D,"TK_WORD"]}}if("\x3c"===n&&"\x3c!--"===b.substring(h-1,h+3)){h+=3;for(n="\x3c!--";"\n"!==b.charAt(h)&&h<x;)n+=b.charAt(h),h++;
M=!0;return[n,"TK_COMMENT"]}if("-"===n&&M&&"--\x3e"===b.substring(h-1,h+2))return M=!1,h+=2,["--\x3e","TK_COMMENT"];if("."===n)return[n,"TK_DOT"];if(d(n,B)){for(;h<x&&d(n+b.charAt(h),B)&&!(n+=b.charAt(h),h+=1,h>=x););return","===n?[n,"TK_COMMA"]:"\x3d"===n?[n,"TK_EQUALS"]:[n,"TK_OPERATOR"]}return[n,"TK_UNKNOWN"]}var l=["\n","\r","\t"," "],C=/[0-9]/,B="+ - * / % \x26 ++ -- \x3d +\x3d -\x3d *\x3d /\x3d %\x3d \x3d\x3d \x3d\x3d\x3d !\x3d !\x3d\x3d \x3e \x3c \x3e\x3d \x3c\x3d \x3e\x3e \x3c\x3c \x3e\x3e\x3e \x3e\x3e\x3e\x3d \x3e\x3e\x3d \x3c\x3c\x3d \x26\x26 \x26\x3d | || ! ~ , : ? ^ ^\x3d |\x3d :: \x3d\x3e \x3c%\x3d \x3c% %\x3e \x3c?\x3d \x3c? ?\x3e".split(" ");
this.line_starters="continue try throw return var let const if switch case default for while break function yield import export".split(" ");var E=this.line_starters.concat("do in else get set new catch finally typeof".split(" ")),w,H,M,I,h,x;this.tokenize=function(){x=b.length;h=0;M=!1;I=[];for(var a,c,d=null,g=[],l=[];!c||"TK_EOF"!==c.type;){a=p();for(a=new e(a[1],a[0],w,H);"TK_INLINE_COMMENT"===a.type||"TK_COMMENT"===a.type||"TK_BLOCK_COMMENT"===a.type||"TK_UNKNOWN"===a.type;)l.push(a),a=p(),a=
new e(a[1],a[0],w,H);l.length&&(a.comments_before=l,l=[]);"TK_START_BLOCK"===a.type||"TK_START_EXPR"===a.type?(a.parent=c,d=a,g.push(a)):("TK_END_BLOCK"===a.type||"TK_END_EXPR"===a.type)&&d&&("]"===a.text&&"["===d.text||")"===a.text&&"("===d.text||"}"===a.text&&"}"===d.text)&&(a.parent=d.parent,d=g.pop());I.push(a);c=a}return I}}var a={};(function(a){var b=RegExp("[\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]"),
c=RegExp("[\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16ee-\u16f0\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2160-\u2188\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6ef\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u0620-\u0649\u0672-\u06d3\u06e7-\u06e8\u06fb-\u06fc\u0730-\u074a\u0800-\u0814\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0840-\u0857\u08e4-\u08fe\u0900-\u0903\u093a-\u093c\u093e-\u094f\u0951-\u0957\u0962-\u0963\u0966-\u096f\u0981-\u0983\u09bc\u09be-\u09c4\u09c7\u09c8\u09d7\u09df-\u09e0\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a66-\u0a71\u0a75\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0ae6-\u0aef\u0b01-\u0b03\u0b3c\u0b3e-\u0b44\u0b47\u0b48\u0b4b-\u0b4d\u0b56\u0b57\u0b5f-\u0b60\u0b66-\u0b6f\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0be6-\u0bef\u0c01-\u0c03\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62-\u0c63\u0c66-\u0c6f\u0c82\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5\u0cd6\u0ce2-\u0ce3\u0ce6-\u0cef\u0d02\u0d03\u0d46-\u0d48\u0d57\u0d62-\u0d63\u0d66-\u0d6f\u0d82\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2\u0df3\u0e34-\u0e3a\u0e40-\u0e45\u0e50-\u0e59\u0eb4-\u0eb9\u0ec8-\u0ecd\u0ed0-\u0ed9\u0f18\u0f19\u0f20-\u0f29\u0f35\u0f37\u0f39\u0f41-\u0f47\u0f71-\u0f84\u0f86-\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u1000-\u1029\u1040-\u1049\u1067-\u106d\u1071-\u1074\u1082-\u108d\u108f-\u109d\u135d-\u135f\u170e-\u1710\u1720-\u1730\u1740-\u1750\u1772\u1773\u1780-\u17b2\u17dd\u17e0-\u17e9\u180b-\u180d\u1810-\u1819\u1920-\u192b\u1930-\u193b\u1951-\u196d\u19b0-\u19c0\u19c8-\u19c9\u19d0-\u19d9\u1a00-\u1a15\u1a20-\u1a53\u1a60-\u1a7c\u1a7f-\u1a89\u1a90-\u1a99\u1b46-\u1b4b\u1b50-\u1b59\u1b6b-\u1b73\u1bb0-\u1bb9\u1be6-\u1bf3\u1c00-\u1c22\u1c40-\u1c49\u1c5b-\u1c7d\u1cd0-\u1cd2\u1d00-\u1dbe\u1e01-\u1f15\u200c\u200d\u203f\u2040\u2054\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2d81-\u2d96\u2de0-\u2dff\u3021-\u3028\u3099\u309a\ua640-\ua66d\ua674-\ua67d\ua69f\ua6f0-\ua6f1\ua7f8-\ua800\ua806\ua80b\ua823-\ua827\ua880-\ua881\ua8b4-\ua8c4\ua8d0-\ua8d9\ua8f3-\ua8f7\ua900-\ua909\ua926-\ua92d\ua930-\ua945\ua980-\ua983\ua9b3-\ua9c0\uaa00-\uaa27\uaa40-\uaa41\uaa4c-\uaa4d\uaa50-\uaa59\uaa7b\uaae0-\uaae9\uaaf2-\uaaf3\uabc0-\uabe1\uabec\uabed\uabf0-\uabf9\ufb20-\ufb28\ufe00-\ufe0f\ufe20-\ufe26\ufe33\ufe34\ufe4d-\ufe4f\uff10-\uff19\uff3f]");
a.newline=/[\n\r\u2028\u2029]/;a.isIdentifierStart=function(a){return 65>a?36===a:91>a?!0:97>a?95===a:123>a?!0:170<=a&&b.test(String.fromCharCode(a))};a.isIdentifierChar=function(a){return 48>a?36===a:58>a?!0:65>a?!1:91>a?!0:97>a?95===a:123>a?!0:170<=a&&c.test(String.fromCharCode(a))}})(a);var b={BlockStatement:"BlockStatement",Statement:"Statement",ObjectLiteral:"ObjectLiteral",ArrayLiteral:"ArrayLiteral",ForInitializer:"ForInitializer",Conditional:"Conditional",Expression:"Expression"},e=function(a,
b,c,d,e,g){this.type=a;this.text=b;this.comments_before=[];this.newlines=c||0;this.wanted_newline=0<c;this.whitespace_before=d||"";this.parent=null};"undefined"!==typeof exports?exports.js_beautify=E:"undefined"!==typeof g?g.js_beautify=E:"undefined"!==typeof global&&(global.js_beautify=E)})();(function(){function d(g,u){function p(){return(w=g.charAt(++K))||""}function c(b){var c=K;b&&a();result=g.charAt(K+1)||"";K=c-1;p();return result}function y(a){for(var b=K;p();)if("\\"===w)p();else if(-1!==
a.indexOf(w))break;else if("\n"===w)break;return g.substring(b,K+1)}function l(a){var b=K;a=y(a);K=b-1;p();return a}function a(){for(var a="";B.test(c());)p(),a+=w;return a}function b(){var a="";for(w&&B.test(w)&&(a=w);B.test(p());)a+=w;return a}function e(a){var b=K;a="/"===c();for(p();p();)if(!a&&"*"===w&&"/"===c()){p();break}else if(a&&"\n"===w)return g.substring(b,K);return g.substring(b,K)+w}function m(a){return g.substring(K-a.length,K).toLowerCase()===a}function F(){for(var a=K+1;a<g.length;a++){var b=
g.charAt(a);if("{"===b)return!0;if(";"===b||"}"===b||")"===b)break}return!1}u=u||{};var J=u.indent_size||4,R=u.indent_char||" ",W=void 0===u.selector_separator_newline?!0:u.selector_separator_newline,C=void 0===u.end_with_newline?!1:u.end_with_newline;"string"===typeof J&&(J=parseInt(J,10));var B=/^\s+$/,K=-1,w,H=g.match(/^[\t ]*/)[0],R=Array(J+1).join(R),M=0,I=0,h={"{":function(a){h.singleSpace();x.push(a);h.newLine()},"}":function(a){h.newLine();x.push(a);h.newLine()},_lastCharWhitespace:function(){return B.test(x[x.length-
1])},newLine:function(a){a||h.trim();x.length&&x.push("\n");H&&x.push(H)},singleSpace:function(){x.length&&!h._lastCharWhitespace()&&x.push(" ")},trim:function(){for(;h._lastCharWhitespace();)x.pop()}},x=[];H&&x.push(H);for(var G=!1,q=!1,D="",n="";;){var n=b(),A=""!==n,r=-1!==n.indexOf("\n"),n=D;if(D=w)"/"===w&&"*"===c()?(A=m(""),h.newLine(),x.push(e()),h.newLine(),A&&h.newLine(!0)):"/"===w&&"/"===c()?(r||"{"===n||h.trim(),h.singleSpace(),x.push(e()),h.newLine()):"@"===w?(A&&h.singleSpace(),x.push(w),
A=l(": ,;{}()[]/\x3d'\"").replace(/\s$/,""),A in d.NESTED_AT_RULE?(I+=1,A in d.CONDITIONAL_GROUP_RULE&&(q=!0)):0<=": ".indexOf(A[A.length-1])&&(p(),A=y(": ").replace(/\s$/,""),x.push(A),h.singleSpace())):"{"===w?"}"===c(!0)?(a(),p(),h.singleSpace(),x.push("{}")):(M++,H+=R,h["{"](w),q?(q=!1,G=M>I):G=M>=I):"}"===w?(M--,H=H.slice(0,-J),h["}"](w),G=!1,I&&I--):":"===w?(a(),!G&&!q||m("\x26")||F()?":"===c()?(p(),x.push("::")):x.push(":"):(x.push(":"),h.singleSpace())):'"'===w||"'"===w?(A&&h.singleSpace(),
x.push(y(w))):";"===w?(x.push(w),h.newLine()):"("===w?m("url")?(x.push(w),a(),p()&&(")"!==w&&'"'!==w&&"'"!==w?x.push(y(")")):K--)):(A&&h.singleSpace(),x.push(w),a()):")"===w?x.push(w):","===w?(x.push(w),a(),!G&&W?h.newLine():h.singleSpace()):("]"!==w&&("["===w?A&&h.singleSpace():"\x3d"===w?a():A&&h.singleSpace()),x.push(w));else break}J=x.join("").replace(/[\r\n\t ]+$/,"");C&&(J+="\n");return J}d.NESTED_AT_RULE={"@page":!0,"@font-face":!0,"@keyframes":!0,"@media":!0,"@supports":!0,"@document":!0};
d.CONDITIONAL_GROUP_RULE={"@media":!0,"@supports":!0,"@document":!0};"undefined"!==typeof exports?exports.css_beautify=d:"undefined"!==typeof g?g.css_beautify=d:"undefined"!==typeof global&&(global.css_beautify=d)})();(function(){function d(d,c,g,l){var a,b,e,m,u,y,z,E,C,B,F;c=c||{};void 0!==c.wrap_line_length&&0!==parseInt(c.wrap_line_length,10)||void 0===c.max_char||0===parseInt(c.max_char,10)||(c.wrap_line_length=c.max_char);b=void 0===c.indent_inner_html?!1:c.indent_inner_html;e=void 0===c.indent_size?
4:parseInt(c.indent_size,10);m=void 0===c.indent_char?" ":c.indent_char;y=void 0===c.brace_style?"collapse":c.brace_style;u=0===parseInt(c.wrap_line_length,10)?32786:parseInt(c.wrap_line_length||250,10);z=c.unformatted||"a span img bdo em strong dfn code samp kbd var cite abbr acronym q sub sup tt i b big small u s strike font ins del pre address dt h1 h2 h3 h4 h5 h6".split(" ");C=(E=void 0===c.preserve_newlines?!0:c.preserve_newlines)?isNaN(parseInt(c.max_preserve_newlines,10))?32786:parseInt(c.max_preserve_newlines,
10):0;B=void 0===c.indent_handlebars?!1:c.indent_handlebars;F=void 0===c.end_with_newline?!1:c.end_with_newline;a=new function(){this.pos=0;this.token="";this.current_mode="CONTENT";this.tags={parent:"parent1",parentcount:1,parent1:""};this.token_text=this.last_token=this.last_text=this.token_type=this.tag_type="";this.newlines=0;this.indent_content=b;this.Utils={whitespace:["\n","\r","\t"," "],single_token:"br input link meta !doctype basefont base area hr wbr param img isindex ?xml embed ?php ? ?\x3d".split(" "),
extra_liners:["head","body","/html"],in_array:function(a,b){for(var c=0;c<b.length;c++)if(a===b[c])return!0;return!1}};this.is_whitespace=function(a){for(;0<a.length;a++)if(!this.Utils.in_array(a.charAt(0),this.Utils.whitespace))return!1;return!0};this.traverse_whitespace=function(){var a="",a=this.input.charAt(this.pos);if(this.Utils.in_array(a,this.Utils.whitespace)){for(this.newlines=0;this.Utils.in_array(a,this.Utils.whitespace);)E&&"\n"===a&&this.newlines<=C&&(this.newlines+=1),this.pos++,a=
this.input.charAt(this.pos);return!0}return!1};this.space_or_wrap=function(a){this.line_char_count>=this.wrap_line_length?(this.print_newline(!1,a),this.print_indentation(a)):(this.line_char_count++,a.push(" "))};this.get_content=function(){for(var a="",b=[];"\x3c"!==this.input.charAt(this.pos);){if(this.pos>=this.input.length)return b.length?b.join(""):["","TK_EOF"];if(this.traverse_whitespace())this.space_or_wrap(b);else{if(B)if(a=this.input.substr(this.pos,3),"{{#"===a||"{{/"===a)break;else if("{{"===
this.input.substr(this.pos,2)&&"{{else}}"===this.get_tag(!0))break;a=this.input.charAt(this.pos);this.pos++;this.line_char_count++;b.push(a)}}return b.length?b.join(""):""};this.get_contents_to=function(a){if(this.pos===this.input.length)return["","TK_EOF"];var b="";a=new RegExp("\x3c/"+a+"\\s*\x3e","igm");a.lastIndex=this.pos;a=(a=a.exec(this.input))?a.index:this.input.length;this.pos<a&&(b=this.input.substring(this.pos,a),this.pos=a);return b};this.record_tag=function(a){this.tags[a+"count"]?this.tags[a+
"count"]++:this.tags[a+"count"]=1;this.tags[a+this.tags[a+"count"]]=this.indent_level;this.tags[a+this.tags[a+"count"]+"parent"]=this.tags.parent;this.tags.parent=a+this.tags[a+"count"]};this.retrieve_tag=function(a){if(this.tags[a+"count"]){for(var b=this.tags.parent;b&&a+this.tags[a+"count"]!==b;)b=this.tags[b+"parent"];b&&(this.indent_level=this.tags[a+this.tags[a+"count"]],this.tags.parent=this.tags[b+"parent"]);delete this.tags[a+this.tags[a+"count"]+"parent"];delete this.tags[a+this.tags[a+
"count"]];1===this.tags[a+"count"]?delete this.tags[a+"count"]:this.tags[a+"count"]--}};this.indent_to_tag=function(a){if(this.tags[a+"count"]){for(var b=this.tags.parent;b&&a+this.tags[a+"count"]!==b;)b=this.tags[b+"parent"];b&&(this.indent_level=this.tags[a+this.tags[a+"count"]])}};this.get_tag=function(a){var b="",c=[],b="",d=!1,e,g,l=this.pos,m=this.line_char_count;a=void 0!==a?a:!1;do{if(this.pos>=this.input.length)return a&&(this.pos=l,this.line_char_count=m),c.length?c.join(""):["","TK_EOF"];
b=this.input.charAt(this.pos);this.pos++;if(this.Utils.in_array(b,this.Utils.whitespace))d=!0;else{if("'"===b||'"'===b)b+=this.get_unformatted(b),d=!0;"\x3d"===b&&(d=!1);c.length&&"\x3d"!==c[c.length-1]&&"\x3e"!==b&&d&&(this.space_or_wrap(c),d=!1);B&&"\x3c"===g&&"{{"===b+this.input.charAt(this.pos)&&(b+=this.get_unformatted("}}"),c.length&&" "!==c[c.length-1]&&"\x3c"!==c[c.length-1]&&(b=" "+b),d=!0);"\x3c"!==b||g||(e=this.pos-1,g="\x3c");B&&!g&&2<=c.length&&"{"===c[c.length-1]&&"{"==c[c.length-2]&&
(e="#"===b||"/"===b?this.pos-3:this.pos-2,g="{");this.line_char_count++;c.push(b);if(c[1]&&"!"===c[1]){c=[this.get_comment(e)];break}if(B&&"{"===g&&2<c.length&&"}"===c[c.length-2]&&"}"===c[c.length-1])break}}while("\x3e"!==b);e=c.join("");g=-1!==e.indexOf(" ")?e.indexOf(" "):"{"===e[0]?e.indexOf("}"):e.indexOf("\x3e");g=e.substring("\x3c"!==e[0]&&B?"#"===e[2]?3:2:1,g).toLowerCase();"/"===e.charAt(e.length-2)||this.Utils.in_array(g,this.Utils.single_token)?a||(this.tag_type="SINGLE"):B&&"{"===e[0]&&
"else"===g?a||(this.indent_to_tag("if"),this.tag_type="HANDLEBARS_ELSE",this.indent_content=!0,this.traverse_whitespace()):this.is_unformatted(g,z)?(b=this.get_unformatted("\x3c/"+g+"\x3e",e),c.push(b),this.tag_type="SINGLE"):"script"===g&&(-1===e.search("type")||-1<e.search("type")&&-1<e.search(/\b(text|application)\/(x-)?(javascript|ecmascript|jscript|livescript)/))?a||(this.record_tag(g),this.tag_type="SCRIPT"):"style"===g&&(-1===e.search("type")||-1<e.search("type")&&-1<e.search("text/css"))?
a||(this.record_tag(g),this.tag_type="STYLE"):"!"===g.charAt(0)?a||(this.tag_type="SINGLE",this.traverse_whitespace()):a||("/"===g.charAt(0)?(this.retrieve_tag(g.substring(1)),this.tag_type="END"):(this.record_tag(g),"html"!==g.toLowerCase()&&(this.indent_content=!0),this.tag_type="START"),this.traverse_whitespace()&&this.space_or_wrap(c),this.Utils.in_array(g,this.Utils.extra_liners)&&(this.print_newline(!1,this.output),this.output.length&&"\n"!==this.output[this.output.length-2]&&this.print_newline(!0,
this.output)));a&&(this.pos=l,this.line_char_count=m);return c.join("")};this.get_comment=function(a){var b="",c="\x3e",d=!1;this.pos=a;input_char=this.input.charAt(this.pos);for(this.pos++;this.pos<=this.input.length;){b+=input_char;if(b[b.length-1]===c[c.length-1]&&-1!==b.indexOf(c))break;!d&&10>b.length&&(0===b.indexOf("\x3c![if")?(c="\x3c![endif]\x3e",d=!0):0===b.indexOf("\x3c![cdata[")?(c="]]\x3e",d=!0):0===b.indexOf("\x3c![")?(c="]\x3e",d=!0):0===b.indexOf("\x3c!--")&&(c="--\x3e",d=!0));input_char=
this.input.charAt(this.pos);this.pos++}return b};this.get_unformatted=function(a,b){if(b&&-1!==b.toLowerCase().indexOf(a))return"";var c="",d="",e=0,g=!0;do{if(this.pos>=this.input.length)break;c=this.input.charAt(this.pos);this.pos++;if(this.Utils.in_array(c,this.Utils.whitespace)){if(!g){this.line_char_count--;continue}if("\n"===c||"\r"===c){d+="\n";this.line_char_count=0;continue}}d+=c;this.line_char_count++;g=!0;B&&"{"===c&&d.length&&"{"===d[d.length-2]&&(d+=this.get_unformatted("}}"),e=d.length)}while(-1===
d.toLowerCase().indexOf(a,e));return d};this.get_token=function(){var a;if("TK_TAG_SCRIPT"===this.last_token||"TK_TAG_STYLE"===this.last_token){var b=this.last_token.substr(7);a=this.get_contents_to(b);return"string"!==typeof a?a:[a,"TK_"+b]}if("CONTENT"===this.current_mode)return a=this.get_content(),"string"!==typeof a?a:[a,"TK_CONTENT"];if("TAG"===this.current_mode)return a=this.get_tag(),"string"!==typeof a?a:[a,"TK_TAG_"+this.tag_type]};this.get_full_indent=function(a){a=this.indent_level+a||
0;return 1>a?"":Array(a+1).join(this.indent_string)};this.is_unformatted=function(a,b){if(!this.Utils.in_array(a,b))return!1;if("a"!==a.toLowerCase()||!this.Utils.in_array("a",b))return!0;var c=(this.get_tag(!0)||"").match(/^\s*<\s*\/?([a-z]*)\s*[^>]*>\s*$/);return!c||this.Utils.in_array(c,b)?!0:!1};this.printer=function(a,b,c,d,e){this.input=a||"";this.output=[];this.indent_character=b;this.indent_string="";this.indent_size=c;this.brace_style=e;this.indent_level=0;this.wrap_line_length=d;for(a=this.line_char_count=
0;a<this.indent_size;a++)this.indent_string+=this.indent_character;this.print_newline=function(a,b){this.line_char_count=0;b&&b.length&&(a||"\n"!==b[b.length-1])&&("\n"!==b[b.length-1]&&(b[b.length-1]=b[b.length-1].replace(/\s+$/g,"")),b.push("\n"))};this.print_indentation=function(a){for(var b=0;b<this.indent_level;b++)a.push(this.indent_string),this.line_char_count+=this.indent_string.length};this.print_token=function(a){if(!this.is_whitespace(a)||this.output.length)(a||""!==a)&&this.output.length&&
"\n"===this.output[this.output.length-1]&&(this.print_indentation(this.output),a=a.replace(/^\s+/g,"")),this.print_token_raw(a)};this.print_token_raw=function(a){0<this.newlines&&(a=a.replace(/\s+$/g,""));a&&""!==a&&(1<a.length&&"\n"===a[a.length-1]?(this.output.push(a.slice(0,-1)),this.print_newline(!1,this.output)):this.output.push(a));for(a=0;a<this.newlines;a++)this.print_newline(0<a,this.output);this.newlines=0};this.indent=function(){this.indent_level++};this.unindent=function(){0<this.indent_level&&
this.indent_level--}};return this};for(a.printer(d,m,e,u,y);;){d=a.get_token();a.token_text=d[0];a.token_type=d[1];if("TK_EOF"===a.token_type)break;switch(a.token_type){case "TK_TAG_START":a.print_newline(!1,a.output);a.print_token(a.token_text);a.indent_content&&(a.indent(),a.indent_content=!1);a.current_mode="CONTENT";break;case "TK_TAG_STYLE":case "TK_TAG_SCRIPT":a.print_newline(!1,a.output);a.print_token(a.token_text);a.current_mode="CONTENT";break;case "TK_TAG_END":"TK_CONTENT"===a.last_token&&
""===a.last_text&&(d=a.token_text.match(/\w+/)[0],e=null,a.output.length&&(e=a.output[a.output.length-1].match(/(?:<|{{#)\s*(\w+)/)),null!==e&&e[1]===d||a.print_newline(!1,a.output));a.print_token(a.token_text);a.current_mode="CONTENT";break;case "TK_TAG_SINGLE":(d=a.token_text.match(/^\s*<([a-z-]+)/i))&&a.Utils.in_array(d[1],z)||a.print_newline(!1,a.output);a.print_token(a.token_text);a.current_mode="CONTENT";break;case "TK_TAG_HANDLEBARS_ELSE":a.print_token(a.token_text);a.indent_content&&(a.indent(),
a.indent_content=!1);a.current_mode="CONTENT";break;case "TK_CONTENT":a.print_token(a.token_text);a.current_mode="TAG";break;case "TK_STYLE":case "TK_SCRIPT":if(""!==a.token_text){a.print_newline(!1,a.output);d=a.token_text;var w;m=1;"TK_SCRIPT"===a.token_type?w="function"===typeof g&&g:"TK_STYLE"===a.token_type&&(w="function"===typeof l&&l);"keep"===c.indent_scripts?m=0:"separate"===c.indent_scripts&&(m=-a.indent_level);e=a.get_full_indent(m);w?d=w(d.replace(/^\s*/,e),c):(u=d.match(/^\s*/)[0].match(/[^\n\r]*$/)[0].split(a.indent_string).length-
1,m=a.get_full_indent(m-u),d=d.replace(/^\s*/,e).replace(/\r\n|\r|\n/g,"\n"+m).replace(/\s+$/,""));d&&(a.print_token_raw(d),a.print_newline(!0,a.output))}a.current_mode="TAG";break;default:""!==a.token_text&&a.print_token(a.token_text)}a.last_token=a.token_type;a.last_text=a.token_text}c=a.output.join("").replace(/[\r\n\t ]+$/,"");F&&(c+="\n");return c}if("undefined"!==typeof exports){var u=require("./beautify.js"),y=require("./beautify-css.js");exports.html_beautify=function(g,c){return d(g,c,u.js_beautify,
y.css_beautify)}}else"undefined"!==typeof g?g.html_beautify=function(p,c){return d(p,c,g.js_beautify,g.css_beautify)}:"undefined"!==typeof global&&(global.html_beautify=function(g,c){return d(g,c,global.js_beautify,global.css_beautify)})})()})}}});
//# sourceMappingURL=xace.js.map