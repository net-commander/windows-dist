/*
 domReady 2.0.1 Copyright jQuery Foundation and other contributors.
 Released under MIT license, http://github.com/requirejs/domReady/LICENSE
 text 2.0.15 Copyright jQuery Foundation and other contributors.
 Released under MIT license, http://github.com/requirejs/text/LICENSE
*/
var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(c,m,g){if(g.get||g.set)throw new TypeError("ES3 does not support getters and setters.");c!=Array.prototype&&c!=Object.prototype&&(c[m]=g.value)};$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(c){return $jscomp.SYMBOL_PREFIX+(c||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(c){var m=0;return $jscomp.iteratorPrototype(function(){return m<c.length?{done:!1,value:c[m++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};$jscomp.array=$jscomp.array||{};$jscomp.iteratorFromArray=function(c,m){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var g=0,k={next:function(){if(g<c.length){var f=g++;return{value:m(f,c[f]),done:!1}}k.next=function(){return{done:!0,value:void 0}};return k.next()}};k[Symbol.iterator]=function(){return k};return k};
$jscomp.polyfill=function(c,m,g,k){if(m){g=$jscomp.global;c=c.split(".");for(k=0;k<c.length-1;k++){var f=c[k];f in g||(g[f]={});g=g[f]}c=c[c.length-1];k=g[c];m=m(k);m!=k&&null!=m&&$jscomp.defineProperty(g,c,{configurable:!0,writable:!0,value:m})}};$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6-impl","es3");
$jscomp.findInternal=function(c,m,g){c instanceof String&&(c=String(c));for(var k=c.length,f=0;f<k;f++){var a=c[f];if(m.call(g,a,f,c))return{i:f,v:a}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(c,g){return $jscomp.findInternal(this,c,g).v}},"es6-impl","es3");$jscomp.polyfill("Object.is",function(c){return c?c:function(c,g){return c===g?0!==c||1/c===1/g:c!==c&&g!==g}},"es6-impl","es3");
$jscomp.polyfill("Array.prototype.fill",function(c){return c?c:function(c,g,k){var f=this.length||0;0>g&&(g=Math.max(0,f+g));if(null==k||k>f)k=f;k=Number(k);0>k&&(k=Math.max(0,f+k));for(g=Number(g||0);g<k;g++)this[g]=c;return this}},"es6-impl","es3");$jscomp.polyfill("Array.prototype.values",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c,g){return g})}},"es6","es3");
$jscomp.checkStringArgs=function(c,m,g){if(null==c)throw new TypeError("The 'this' value for String.prototype."+g+" must not be null or undefined");if(m instanceof RegExp)throw new TypeError("First argument to String.prototype."+g+" must not be a regular expression");return c+""};
$jscomp.polyfill("String.prototype.startsWith",function(c){return c?c:function(c,g){var k=$jscomp.checkStringArgs(this,c,"startsWith");c+="";var f=k.length,a=c.length;g=Math.max(0,Math.min(g|0,k.length));for(var b=0;b<a&&g<f;)if(k[g++]!=c[b++])return!1;return b>=a}},"es6-impl","es3");
$jscomp.polyfill("String.prototype.endsWith",function(c){return c?c:function(c,g){var k=$jscomp.checkStringArgs(this,c,"endsWith");c+="";void 0===g&&(g=k.length);g=Math.max(0,Math.min(g|0,k.length));for(var f=c.length;0<f&&0<g;)if(k[--g]!=c[--f])return!1;return 0>=f}},"es6-impl","es3");
require.config({config:{"delite/theme":{layersMap:{"delite/themes/{{theme}}/common.css":"themes/layer_{{theme}}.css","deliteful/Accordion/themes/{{theme}}/Accordion.css":"themes/layer_{{theme}}.css","xdeliteful/Script.css":"themes/layer_{{theme}}.css","xdeliteful/Bar/themes/Bar.css":"themes/layer_{{theme}}.css","deliteful/list/List/themes/{{theme}}/List.css":"themes/layer_{{theme}}.css","delite/Scrollable/themes/{{theme}}/Scrollable.css":"themes/layer_{{theme}}.css","deliteful/ProgressBar/themes/{{theme}}/ProgressBar.css":"themes/layer_{{theme}}.css",
"deliteful/StarRating/themes/{{theme}}/StarRating.css":"themes/layer_{{theme}}.css","xdeliteful/Button/themes/{{theme}}/Button.css":"themes/layer_{{theme}}.css","deliteful/LinearLayout/themes/{{theme}}/LinearLayout.css":"themes/layer_{{theme}}.css","deliteful/SidePane/themes/{{theme}}/SidePane.css":"themes/layer_{{theme}}.css","deliteful/Panel/themes/{{theme}}/Panel.css":"themes/layer_{{theme}}.css","deliteful/ViewStack/themes/{{theme}}/ViewStack.css":"themes/layer_{{theme}}.css","deliteful/ProgressIndicator/themes/{{theme}}/ProgressIndicator.css":"themes/layer_{{theme}}.css",
"deliteful/Switch/themes/{{theme}}/Switch.css":"themes/layer_{{theme}}.css","deliteful/ToggleButton/themes/{{theme}}/ToggleButton.css":"themes/layer_{{theme}}.css","deliteful/RadioButton/themes/{{theme}}/RadioButton.css":"themes/layer_{{theme}}.css","deliteful/Checkbox/themes/{{theme}}/Checkbox.css":"themes/layer_{{theme}}.css","deliteful/Select/themes/{{theme}}/Select.css":"themes/layer_{{theme}}.css","deliteful/Combobox/themes/{{theme}}/Combobox.css":"themes/layer_{{theme}}.css","delite/DialogUnderlay/themes/{{theme}}/DialogUnderlay.css":"themes/layer_{{theme}}.css",
"deliteful/Slider/themes/{{theme}}/Slider.css":"themes/layer_{{theme}}.css","deliteful/Button/themes/{{theme}}/Button.css":"themes/layer_{{theme}}.css"}}}});require.config({config:{"requirejs-dplugins/i18n":{bundlesMap:{"nls/main_build":["deliteful/list/List/nls/List","deliteful/StarRating/nls/StarRating","deliteful/Combobox/nls/Combobox"]},localesMap:{"nls/main_build":["root"]}}}});
require.config({config:{"ecma402/impl/load":{af:!0,"af-NA":!0,am:!0,ar:!0,"ar-AE":!0,"ar-BH":!0,"ar-DZ":!0,"ar-EG":!0,"ar-IQ":!0,"ar-JO":!0,"ar-KW":!0,"ar-LB":!0,"ar-LY":!0,"ar-MA":!0,"ar-OM":!0,"ar-QA":!0,"ar-SA":!0,"ar-SD":!0,"ar-SY":!0,"ar-TN":!0,"ar-YE":!0,as:!0,az:!0,be:!0,bg:!0,bn:!0,"bn-IN":!0,ca:!0,cs:!0,cy:!0,da:!0,de:!0,"de-AT":!0,"de-LU":!0,"de-CH":!0,el:!0,en:!0,"en-AU":!0,"en-BE":!0,"en-CM":!0,"en-CA":!0,"en-GB":!0,"en-GH":!0,"en-HK":!0,"en-IE":!0,"en-IN":!0,"en-KE":!0,"en-MU":!0,"en-NG":!0,
"en-NZ":!0,"en-PH":!0,"en-SG":!0,"en-TT":!0,"en-ZA":!0,"en-ZM":!0,es:!0,"es-AR":!0,"es-BO":!0,"es-CL":!0,"es-CO":!0,"es-CR":!0,"es-DO":!0,"es-EC":!0,"es-GT":!0,"es-HN":!0,"es-MX":!0,"es-NI":!0,"es-PA":!0,"es-PE":!0,"es-PR":!0,"es-PY":!0,"es-SV":!0,"es-US":!0,"es-UY":!0,"es-VE":!0,eu:!0,fil:!0,fi:!0,fr:!0,"fr-BE":!0,"fr-CA":!0,"fr-CD":!0,"fr-CH":!0,"fr-CI":!0,"fr-CM":!0,"fr-DZ":!0,"fr-LU":!0,"fr-MR":!0,"fr-MA":!0,"fr-SN":!0,"fr-TN":!0,gl:!0,gu:!0,ha:!0,he:!0,hi:!0,hr:!0,hu:!0,hy:!0,id:!0,ig:!0,is:!0,
it:!0,"it-CH":!0,ja:!0,ka:!0,kk:!0,km:!0,kn:!0,ko:!0,kok:!0,lg:!0,lt:!0,lv:!0,mk:!0,ml:!0,mn:!0,mr:!0,ms:!0,mt:!0,nb:!0,ne:!0,"ne-IN":!0,nl:!0,"nl-BE":!0,nn:!0,om:!0,or:!0,pa:!0,pl:!0,pt:!0,"pt-AO":!0,"pt-MZ":!0,"pt-PT":!0,ro:!0,root:!0,ru:!0,rw:!0,si:!0,sk:!0,sl:!0,sr:!0,"sr-Latn":!0,sq:!0,sv:!0,sw:!0,"sw-KE":!0,ta:!0,te:!0,th:!0,tr:!0,uk:!0,ur:!0,"ur-IN":!0,uz:!0,"uz-Cyrl":!0,vi:!0,yo:!0,zh:!0,"zh-Hans":!0,"zh-Hans-SG":!0,"zh-Hant":!0,"zh-Hant-HK":!0,_layerMid:"cldr/main_build"}}});
require.config({config:{"requirejs-dplugins/css":{layersMap:{"deliteful/ViewStack/transitions/slide.css":"main_build.css","deliteful/ViewStack/transitions/reveal.css":"main_build.css"}}}});
define("xapp/mainr","deliteful/Button xblox/RunScript delite/Container delite/register dojo/_base/kernel dojo/_base/lang dojo/_base/declare dojo/Deferred dojo/has dojo/noob dojo/node xdojo/declare xdojo/has dcl/dcl dcl/advise dcl/mini dstore/mainr xdojo/declare dstore/Filter xide/types xide/types/Types xide/utils xaction/types xide/utils/StringUtils xide/utils/HexUtils xide/utils/HTMLUtils xide/utils/StoreUtils xide/utils/WidgetUtils xide/utils/CIUtils xide/utils/ObjectUtils xide/utils/CSSUtils xfile/types xide/manager/ContextBase xapp/manager/Context xapp/manager/Application xblox/mainr xblox/CSSState xblox/StyleState xblox/model/html/SetState xide/mainr xfile/manager/FileManager xwire/main xcf/mainr xnode/manager/NodeServiceManager decor/Evented decor/Invalidating decor/ObservableArray decor/features decor/schedule decor/sniff dpointer/events dpointer/handlers/features dpointer/handlers/mouse dpointer/handlers/touch dpointer/handlers/touchTracker dpointer/handlers/utils delite/Template delite/Widget delite/handlebars delite/theme deliteful/Slider deliteful/Combobox deliteful/Select deliteful/Checkbox deliteful/RadioButton deliteful/ToggleButton deliteful/Switch deliteful/features deliteful/ProgressIndicator deliteful/ViewStack deliteful/Panel deliteful/SidePane deliteful/LinearLayout deliteful/Button xdeliteful/Button deliteful/StarRating deliteful/ProgressBar deliteful/list/List dojo/selector/_loader xdeliteful/TabBar xdeliteful/MediaPlayer xdeliteful/Script deliteful/Accordion dojo/_base/kernel dojo/Stateful dojo/query dojo/cache dojo/window dojo/request dojo/selector/lite requirejs-domready/domReady".split(" "),function(c,
m,g){});
define("requirejs-domready/domReady",[],function(){function c(){if(!b){b=!0;f&&clearInterval(f);var a=e;if(b&&a.length){e=[];var l;for(l=0;l<a.length;l+=1)a[l](d)}}}function m(a){b?a(d):e.push(a);return m}var g,k,f,a="undefined"!==typeof window&&window.document,b=!a,d=a?document:null,e=[];if(a){if(document.addEventListener)document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1);else if(window.attachEvent){window.attachEvent("onload",c);k=document.createElement("div");try{g=
null===window.frameElement}catch(h){}k.doScroll&&g&&window.external&&(f=setInterval(function(){try{k.doScroll(),c()}catch(h){}},30))}"complete"===document.readyState&&c()}m.version="2.0.1";m.load=function(a,b,d,e){e.isBuild?d(null):m(d)};return m});
define("dojo/selector/lite",["../has","../_base/kernel"],function(c,m){var g=document.createElement("div"),k=g.matchesSelector||g.webkitMatchesSelector||g.mozMatchesSelector||g.msMatchesSelector||g.oMatchesSelector,f=g.querySelectorAll,a=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g;c.add("dom-matches-selector",!!k);c.add("dom-qsa",!!f);var b=function(a,n){if(h&&-1<a.indexOf(","))return h(a,n);var l=n?n.ownerDocument||n:m.doc||document,c=(f?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(a);
n=n||l;if(c){if(c[2]){var q=m.byId?m.byId(c[2],l):l.getElementById(c[2]);if(!q||c[1]&&c[1]!=q.tagName.toLowerCase())return[];if(n!=l)for(a=q;a!=n;)if(a=a.parentNode,!a)return[];return c[3]?b(c[3],q):[q]}if(c[3]&&n.getElementsByClassName)return n.getElementsByClassName(c[4]);if(c[5])if(q=n.getElementsByTagName(c[5]),c[4]||c[6])a=(c[4]||"")+c[6];else return q}if(f)return 1===n.nodeType&&"object"!==n.nodeName.toLowerCase()?d(n,a,n.querySelectorAll):n.querySelectorAll(a);q||(q=n.getElementsByTagName("*"));
for(var c=[],l=0,t=q.length;l<t;l++){var k=q[l];1==k.nodeType&&e(k,a,n)&&c.push(k)}return c},d=function(b,d,h){var e=b,l=b.getAttribute("id"),p=l||"__dojo__",n=b.parentNode,c=/^\s*[+~]/.test(d);if(c&&!n)return[];l?p=p.replace(/'/g,"\\$&"):b.setAttribute("id",p);c&&n&&(b=b.parentNode);d=d.match(a);for(n=0;n<d.length;n++)d[n]="[id='"+p+"'] "+d[n];d=d.join(",");try{return h.call(b,d)}finally{l||e.removeAttribute("id")}};if(!c("dom-matches-selector"))var e=function(){function a(a,b,d){var h=b.charAt(0);
if('"'==h||"'"==h)b=b.slice(1,-1);b=b.replace(/\\/g,"");var e=f[d||""];return function(d){return(d=d.getAttribute(a))&&e(d,b)}}function b(a){return function(b,d){for(;(b=b.parentNode)!=d;)if(a(b,d))return!0}}function d(a){return function(b,d){b=b.parentNode;return a?b!=d&&a(b,d):b==d}}function h(a,b){return a?function(d,h){return b(d)&&a(d,h)}:b}var e="div"==g.tagName?"toLowerCase":"toUpperCase",c={"":function(a){a=a[e]();return function(b){return b.tagName==a}},".":function(a){var b=" "+a+" ";return function(d){return-1<
d.className.indexOf(a)&&-1<(" "+d.className+" ").indexOf(b)}},"#":function(a){return function(b){return b.id==a}}},f={"^=":function(a,b){return 0==a.indexOf(b)},"*=":function(a,b){return-1<a.indexOf(b)},"$=":function(a,b){return a.substring(a.length-b.length,a.length)==b},"~=":function(a,b){return-1<(" "+a+" ").indexOf(" "+b+" ")},"|=":function(a,b){return 0==(a+"-").indexOf(b+"-")},"=":function(a,b){return a==b},"":function(a,b){return!0}},k={};return function(e,l,p){var n=k[l];if(!n){if(l.replace(/(?:\s*([> ])\s*)|(#|\.)?((?:\\.|[\w-])+)|\[\s*([\w-]+)\s*(.?=)?\s*("(?:\\.|[^"])+"|'(?:\\.|[^'])+'|(?:\\.|[^\]])*)\s*\]/g,
function(e,l,p,f,q,r,t){f?n=h(n,c[p||""](f.replace(/\\/g,""))):l?n=(" "==l?b:d)(n):q&&(n=h(n,a(q,t,r)));return""}))throw Error("Syntax error in query");if(!n)return!0;k[l]=n}return n(e,p)}}();if(!c("dom-qsa"))var h=function(d,h){for(var e=d.match(a),l=[],n=0;n<e.length;n++){d=new String(e[n].replace(/\s*$/,""));d.indexOf=escape;d=b(d,h);for(var c=0,f=d.length;c<f;c++){var k=d[c];l[k.sourceIndex]=k}}h=[];for(n in l)h.push(l[n]);return h};b.match=k?function(a,b,h){return h&&9!=h.nodeType?d(h,b,function(b){return k.call(a,
b)}):k.call(a,b)}:e;return b});define("dojo/request",["./request/default!"],function(c){return c});define("dojo/request/default",["exports","require","../has"],function(c,m,g){var k=g("config-requestProvider"),f;g("host-browser")||g("host-webworker")?f="./xhr":g("host-node")&&(f="./node");k||(k=f);c.getPlatformDefaultId=function(){return f};c.load=function(a,b,d,e){m(["platform"==a?f:k],function(a){d(a)})}});
define("dojo/window","./_base/lang ./sniff ./_base/window ./dom ./dom-geometry ./dom-style ./dom-construct".split(" "),function(c,m,g,k,f,a,b){m.add("rtl-adjust-position-for-verticalScrollBar",function(a,d){a=g.body(d);d=b.create("div",{style:{overflow:"scroll",overflowX:"visible",direction:"rtl",visibility:"hidden",position:"absolute",left:"0",top:"0",width:"64px",height:"64px"}},a,"last");var h=b.create("div",{style:{overflow:"hidden",direction:"ltr"}},d,"last"),e=0!=f.position(h).x;d.removeChild(h);
a.removeChild(d);return e});m.add("position-fixed-support",function(a,d){a=g.body(d);d=b.create("span",{style:{visibility:"hidden",position:"fixed",left:"1px",top:"1px"}},a,"last");var h=b.create("span",{style:{position:"fixed",left:"0",top:"0"}},d,"last"),e=f.position(h).x!=f.position(d).x;d.removeChild(h);a.removeChild(d);return e});var d={getBox:function(a){a=a||g.doc;var b="BackCompat"==a.compatMode?g.body(a):a.documentElement,e=f.docScroll(a);if(m("touch")){var n=d.get(a);a=n.innerWidth||b.clientWidth;
b=n.innerHeight||b.clientHeight}else a=b.clientWidth,b=b.clientHeight;return{l:e.x,t:e.y,w:a,h:b}},get:function(a){if(9>m("ie")&&d!==document.parentWindow){a.parentWindow.execScript("document._parentWindow = window;","Javascript");var b=a._parentWindow;a._parentWindow=null;return b}return a.parentWindow||a.defaultView},scrollIntoView:function(b,d){try{b=k.byId(b);var h=b.ownerDocument||g.doc,e=g.body(h),p=h.documentElement||e.parentNode,c=m("ie"),q=m("webkit");if(b!=e&&b!=p)if(!(m("mozilla")||c||
q||m("opera"))&&"scrollIntoView"in b)b.scrollIntoView(!1);else{var t="BackCompat"==h.compatMode,u=Math.min(e.clientWidth||p.clientWidth,p.clientWidth||e.clientWidth),v=Math.min(e.clientHeight||p.clientHeight,p.clientHeight||e.clientHeight),h=q||t?e:p,x=d||f.position(b),w=b.parentNode;d=function(b){return 6>=c||7==c&&t?!1:m("position-fixed-support")&&"fixed"==a.get(b,"position").toLowerCase()};if(!d(b))for(;w;){w==e&&(w=h);var y=f.position(w),A=d(w),z="rtl"==a.getComputedStyle(w).direction.toLowerCase();
if(w==h){y.w=u;y.h=v;h==p&&c&&z&&(y.x+=h.offsetWidth-y.w);if(0>y.x||!c||9<=c)y.x=0;if(0>y.y||!c||9<=c)y.y=0}else{var E=f.getPadBorderExtents(w);y.w-=E.w;y.h-=E.h;y.x+=E.l;y.y+=E.t;var C=w.clientWidth,D=y.w-C;0<C&&0<D&&(z&&m("rtl-adjust-position-for-verticalScrollBar")&&(y.x+=D),y.w=C);C=w.clientHeight;D=y.h-C;0<C&&0<D&&(y.h=C)}A&&(0>y.y&&(y.h+=y.y,y.y=0),0>y.x&&(y.w+=y.x,y.x=0),y.y+y.h>v&&(y.h=v-y.y),y.x+y.w>u&&(y.w=u-y.x));var F=x.x-y.x,H=x.y-y.y,L=F+x.w-y.w,I=H+x.h-y.h,G,N;0<L*F&&(w.scrollLeft||
w==h||w.scrollWidth>w.offsetHeight)&&(G=Math[0>F?"max":"min"](F,L),z&&(8==c&&!t||9<=c)&&(G=-G),N=w.scrollLeft,w.scrollLeft+=G,G=w.scrollLeft-N,x.x-=G);0<I*H&&(w.scrollTop||w==h||w.scrollHeight>w.offsetHeight)&&(G=Math.ceil(Math[0>H?"max":"min"](H,I)),N=w.scrollTop,w.scrollTop+=G,G=w.scrollTop-N,x.y-=G);w=w!=h&&!A&&w.parentNode}}}catch(B){console.error("scrollIntoView: "+B),b.scrollIntoView(!1)}}};m("extend-dojo")&&c.setObject("dojo.window",d);return d});
define("dojo/dom-construct","exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(c,m,g,k,f,a){function b(a,b){var d=b.parentNode;d&&d.insertBefore(a,b)}function d(a){if("innerHTML"in a)try{a.innerHTML="";return}catch(w){}for(var b;b=a.lastChild;)a.removeChild(b)}var e={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table",
"colgroup"],li:["ul"]},h=/<\s*([\w\:]+)/,l={},n=0,p="__"+m._scopeName+"ToDomId",r;for(r in e)e.hasOwnProperty(r)&&(m=e[r],m.pre="option"==r?'<select multiple="multiple">':"<"+m.join("><")+">",m.post="</"+m.reverse().join("></")+">");var q;8>=g("ie")&&(q=function(a){a.__dojo_html5_tested="yes";var b=t("div",{innerHTML:"<nav>a</nav>",style:{visibility:"hidden"}},a.body);1!==b.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,
function(b){a.createElement(b)});u(b)});c.toDom=function(a,b){b=b||k.doc;var d=b[p];d||(b[p]=d=++n+"",l[d]=b.createElement("div"));8>=g("ie")&&!b.__dojo_html5_tested&&b.body&&q(b);a+="";var c=a.match(h),f=c?c[1].toLowerCase():"",d=l[d];if(c&&e[f])for(c=e[f],d.innerHTML=c.pre+a+c.post,a=c.length;a;--a)d=d.firstChild;else d.innerHTML=a;if(1==d.childNodes.length)return d.removeChild(d.firstChild);for(a=b.createDocumentFragment();b=d.firstChild;)a.appendChild(b);return a};c.place=function(a,d,h){if(d=
f.byId(d)){"string"==typeof a&&(a=/^\s*</.test(a)?c.toDom(a,d.ownerDocument):f.byId(a));if("number"==typeof h){var e=d.childNodes;!e.length||e.length<=h?d.appendChild(a):b(a,e[0>h?0:h])}else switch(h){case "before":b(a,d);break;case "after":h=a;(e=d.parentNode)&&(e.lastChild==d?e.appendChild(h):e.insertBefore(h,d.nextSibling));break;case "replace":d.parentNode.replaceChild(a,d);break;case "only":c.empty(d);d.appendChild(a);break;case "first":if(d.firstChild){b(a,d.firstChild);break}default:if(!d)return console.error("bad"),
console.trace(),null;d.appendChild(a)}return a}console.error("have no node in domConstruct");console.trace()};var t=c.create=function(b,d,h,e){var l=k.doc;h&&(h=f.byId(h),l=h.ownerDocument);"string"==typeof b&&(b=l.createElement(b));d&&a.set(b,d);h&&c.place(b,h,e);return b};c.empty=function(a){d(f.byId(a))};var u=c.destroy=function(a){if(a=f.byId(a)){var b=a;a=a.parentNode;b.firstChild&&d(b);a&&(g("ie")&&a.canHaveChildren&&"removeNode"in b?b.removeNode(!1):a.removeChild(b))}}});
define("dojo/dom-attr","exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),function(c,m,g,k,f,a){function b(a,b){a=a.getAttributeNode&&a.getAttributeNode(b);return!!a&&a.specified}var d={innerHTML:1,textContent:1,className:1,htmlFor:m("ie"),value:1},e={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};c.has=function(h,l){var n=l.toLowerCase();return d[a.names[n]||l]||b(k.byId(h),e[n]||l)};c.get=function(h,l){h=k.byId(h);var n=l.toLowerCase(),p=a.names[n]||
l,c=h[p];if(d[p]&&"undefined"!=typeof c)return c;if("textContent"==p)return a.get(h,p);if("href"!=p&&("boolean"==typeof c||g.isFunction(c)))return c;l=e[n]||l;return b(h,l)?h.getAttribute(l):null};c.set=function(b,l,n){b=k.byId(b);if(2==arguments.length){for(var h in l)c.set(b,h,l[h]);return b}h=l.toLowerCase();var r=a.names[h]||l,q=d[r];if("style"==r&&"string"!=typeof n)return f.set(b,n),b;if(q||"boolean"==typeof n||g.isFunction(n))return a.set(b,l,n);b.setAttribute(e[h]||l,n);return b};c.remove=
function(a,b){k.byId(a).removeAttribute(e[b.toLowerCase()]||b)};c.getNodeProp=function(d,l){d=k.byId(d);var h=l.toLowerCase(),p=a.names[h]||l;if(p in d&&"href"!=p)return d[p];l=e[h]||l;return b(d,l)?d.getAttribute(l):null}});
define("dojo/dom-prop","exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(c,m,g,k,f,a,b,d){function e(a){var b="";a=a.childNodes;for(var d=0,h;h=a[d];d++)8!=h.nodeType&&(b=1==h.nodeType?b+e(h):b+h.nodeValue);return b}var h={},l=1,n=m._scopeName+"attrid";g.add("dom-textContent",function(a,b,d){return"textContent"in d});c.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",
rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};c.get=function(a,b){a=f.byId(a);var d=b.toLowerCase();b=c.names[d]||b;return"textContent"!=b||g("dom-textContent")?a[b]:e(a)};c.set=function(e,r,q){e=f.byId(e);if(!e)return console.error("invalid node!",e),e;if(2==arguments.length&&"string"!=typeof r){for(var p in r)c.set(e,p,r[p]);return e}p=r.toLowerCase();p=c.names[p]||r;if("style"==p&&"string"!=typeof q)return a.set(e,q),e;if("innerHTML"==p)return g("ie")&&e.tagName.toLowerCase()in
{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(b.empty(e),e.appendChild(b.toDom(q,e.ownerDocument))):e[p]=q,e;if("textContent"==p&&!g("dom-textContent"))return b.empty(e),e.appendChild(e.ownerDocument.createTextNode(q)),e;if(k.isFunction(q)){var u=e[n];u||(u=l++,e[n]=u);h[u]||(h[u]={});var m=h[u][p];if(m)d.disconnect(m);else try{delete e[p]}catch(x){}q?h[u][p]=d.connect(e,p,q):e[p]=null;return e}e[p]=q;return e}});
define("dojo/_base/connect","./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(c,m,g,k,f,a,b,d){function e(b,h,e,l,p){l=d.hitch(e,l);if(!b||!b.addEventListener&&!b.attachEvent)return k.after(b||c.global,h,l,!0);"string"==typeof h&&"on"==h.substring(0,2)&&(h=h.substring(2));b||(b=c.global);if(!p)switch(h){case "keypress":h=r;break;case "mouseenter":h=a.enter;break;case "mouseleave":h=a.leave}return m(b,h,l,p)}function h(a){a.keyChar=a.charCode?String.fromCharCode(a.charCode):
"";a.charOrCode=a.keyChar||a.keyCode}b.add("events-keypress-typed",function(){var a={charCode:0};try{a=document.createEvent("KeyboardEvent"),(a.initKeyboardEvent||a.initKeyEvent).call(a,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(u){}return 0==a.charCode&&!b("opera")});var l={106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},n=b("mac")?"metaKey":"ctrlKey",p=function(a,b){b=d.mixin({},a,b);h(b);b.preventDefault=function(){a.preventDefault()};b.stopPropagation=
function(){a.stopPropagation()};return b},r;r=b("events-keypress-typed")?function(a,d){var h=m(a,"keydown",function(a){var h=a.keyCode,e=13!=h&&32!=h&&(27!=h||!b("ie"))&&(48>h||90<h)&&(96>h||111<h)&&(186>h||192<h)&&(219>h||222<h)&&229!=h;if(e||a.ctrlKey){e=e?0:h;if(a.ctrlKey){if(3==h||13==h)return d.call(a.currentTarget,a);e=95<e&&106>e?e-48:!a.shiftKey&&65<=e&&90>=e?e+32:l[e]||e}h=p(a,{type:"keypress",faux:!0,charCode:e});d.call(a.currentTarget,h);if(b("ie"))try{a.keyCode=h.keyCode}catch(z){}}}),
e=m(a,"keypress",function(a){var b=a.charCode;a=p(a,{charCode:32<=b?b:0,faux:!0});return d.call(this,a)});return{remove:function(){h.remove();e.remove()}}}:b("opera")?function(a,b){return m(a,"keypress",function(a){var d=a.which;3==d&&(d=99);d=32>d&&!a.shiftKey?0:d;a.ctrlKey&&!a.shiftKey&&65<=d&&90>=d&&(d+=32);return b.call(this,p(a,{charCode:d}))})}:function(a,b){return m(a,"keypress",function(a){h(a);return b.call(this,a)})};var q={_keypress:r,connect:function(a,b,d,h,l){var p=arguments,n=[],c=
0;n.push("string"==typeof p[0]?null:p[c++],p[c++]);var f=p[c+1];n.push("string"==typeof f||"function"==typeof f?p[c++]:null,p[c++]);for(f=p.length;c<f;c++)n.push(p[c]);return e.apply(this,n)},disconnect:function(a){a&&a.remove()},subscribe:function(a,b,h){return g.subscribe(a,d.hitch(b,h))},publish:function(a,b){return g.publish.apply(g,[a].concat(b))},connectPublisher:function(a,b,d){var h=function(){q.publish(a,arguments)};return d?q.connect(b,d,h):q.connect(b,h)},isCopyKey:function(a){return a[n]}};
q.unsubscribe=q.disconnect;b("extend-dojo")&&d.mixin(c,q);return q});
define("dojo/keys",["./_base/kernel","./sniff"],function(c,m){return c.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:m("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,
NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:m("mac")&&!m("air")?m("safari")?91:224:17}});
define("dojo/_base/sniff",["./kernel","./lang","../sniff"],function(c,m,g){if(!g("host-browser"))return g;c._name="browser";m.mixin(c,{isBrowser:!0,isFF:g("ff"),isIE:g("ie"),isKhtml:g("khtml"),isWebKit:g("webkit"),isMozilla:g("mozilla"),isMoz:g("mozilla"),isOpera:g("opera"),isSafari:g("safari"),isChrome:g("chrome"),isMac:g("mac"),isIos:g("ios"),isAndroid:g("android"),isWii:g("wii"),isQuirks:g("quirks"),isAir:g("air")});return g});
define("dojo/mouse",["./_base/kernel","./on","./has","./dom","./_base/window"],function(c,m,g,k,f){function a(b,d){var e=function(a,e){return m(a,b,function(b){if(d)return d(b,e);if(!k.isDescendant(b.relatedTarget,a))return e.call(this,b)})};e.bubble=function(d){return a(b,function(a,b){var h=d(a.target),e=a.relatedTarget;if(h&&h!=(e&&1==e.nodeType&&d(e)))return b.call(h,a)})};return e}g.add("dom-quirks",f.doc&&"BackCompat"==f.doc.compatMode);g.add("events-mouseenter",f.doc&&"onmouseenter"in f.doc.createElement("div"));
g.add("events-mousewheel",f.doc&&"onmousewheel"in f.doc);f=g("dom-quirks")&&g("ie")||!g("dom-addeventlistener")?{LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(a,d){return a.button&d},isLeft:function(a){return a.button&1},isMiddle:function(a){return a.button&4},isRight:function(a){return a.button&2}}:{LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(a,d){return a.button==d},isLeft:function(a){return 0==a.button},isMiddle:function(a){return 1==a.button},isRight:function(a){return 2==a.button}};c.mouseButtons=
f;c=g("events-mousewheel")?"mousewheel":function(a,d){return m(a,"DOMMouseScroll",function(a){a.wheelDelta=-a.detail;d.call(this,a)})};return{_eventHandler:a,enter:a("mouseover"),leave:a("mouseout"),wheel:c,isLeft:f.isLeft,isMiddle:f.isMiddle,isRight:f.isRight}});
define("dojo/_base/event",["./kernel","../on","../has","../dom-geometry"],function(c,m,g,k){if(m._fixEvent){var f=m._fixEvent;m._fixEvent=function(a,d){(a=f(a,d))&&k.normalizeEvent(a);return a}}var a={fix:function(a,d){return m._fixEvent?m._fixEvent(a,d):a},stop:function(a){g("dom-addeventlistener")||a&&a.preventDefault?(a.preventDefault(),a.stopPropagation()):(a=a||window.event,a.cancelBubble=!0,m._preventDefault.call(a))}};g("extend-dojo")&&(c.fixEvent=a.fix,c.stopEvent=a.stop);return a});
define("dojo/aspect",[],function(){function c(a,d,e,h){var b=a[d],n="around"==d,p;if(n){var c=e(function(){return b.advice(this,arguments)});p={remove:function(){c&&(c=a=e=null)},advice:function(a,d){return c?c.apply(a,d):b.advice(a,d)}}}else p={remove:function(){if(p.advice){var b=p.previous,h=p.next;h||b?(b?b.next=h:a[d]=h,h&&(h.previous=b)):delete a[d];a=e=p.advice=null}},id:a.nextId++,advice:e,receiveArguments:h};if(b&&!n)if("after"==d){for(;b.next&&(b=b.next););b.next=p;p.previous=b}else"before"==
d&&(a[d]=p,p.next=b,b.previous=p);else a[d]=p;return p}function m(a){return function(b,e,h,l){var d=b[e],p;d&&d.target==b||(b[e]=p=function(){for(var a=p.nextId,b=arguments,d=p.before;d;)d.advice&&(b=d.advice.apply(this,b)||b),d=d.next;if(p.around)var h=p.around.advice(this,b);for(d=p.after;d&&d.id<a;){if(d.advice)if(d.receiveArguments)var e=d.advice.apply(this,b),h=e===g?h:e;else h=d.advice.call(this,h,b);d=d.next}return h},d&&(p.around={advice:function(a,b){return d.apply(a,b)}}),p.target=b,p.nextId=
p.nextId||0);b=c(p||d,a,h,l);h=null;return b}}var g,k=m("after"),f=m("before"),a=m("around");return{before:f,around:a,after:k}});define("dojo/topic",["./Evented"],function(c){var m=new c;return{publish:function(c,k){return m.emit.apply(m,arguments)},subscribe:function(c,k){return m.on.apply(m,arguments)}}});
define("dojo/Evented",["./aspect","./on"],function(c,m){function g(){}var k=c.after;g.prototype={on:function(c,a){return m.parse(this,c,a,function(b,d){return k(b,"on"+d,a,!0)})},emit:function(c,a){var b=[this];b.push.apply(b,arguments);return m.emit.apply(m,b)}};return g});
define("dojo/on",["./has!dom-addeventlistener?:./aspect","./_base/kernel","./sniff"],function(c,m,g){function k(a,b,h,l,p){if(l=b.match(/(.*):(.*)/))return b=l[2],l=l[1],d.selector(l,b).call(p,a,h);g("touch")&&(e.test(b)&&(h=z(h)),g("event-orientationchange")||"orientationchange"!=b||(b="resize",a=window,h=z(h)));r&&(h=r(h));if(a.addEventListener){var c=b in n,f=c?n[b]:b;a.addEventListener(f,h,c);return{type:b,remove:function(){a.removeEventListener(f,h,c)}}}if(v&&a.attachEvent)return v(a,"on"+b,
h);throw Error("Target must be an event emitter");}function f(){this.cancelable=!1;this.defaultPrevented=!0}function a(){this.bubbles=!1}if(g("dom")){var b=window.ScriptEngineMajorVersion;g.add("jscript",b&&b()+ScriptEngineMinorVersion()/10);g.add("event-orientationchange",g("touch")&&!g("android"));g.add("event-stopimmediatepropagation",window.Event&&!!window.Event.prototype&&!!window.Event.prototype.stopImmediatePropagation);g.add("event-focusin",function(a,b,d){return!!d.attachEvent})}var d=function(a,
b,h,e){return"function"!=typeof a.on||"function"==typeof b||a.nodeType?d.parse(a,b,h,k,e,this):a.on(b,h)};d.pausable=function(a,b,h,e){var l;a=d(a,b,function(){if(!l)return h.apply(this,arguments)},e);a.pause=function(){l=!0};a.resume=function(){l=!1};return a};d.once=function(a,b,h,e){var l=d(a,b,function(){l.remove();return h.apply(this,arguments)});return l};d.parse=function(a,b,d,h,e,l){if(b.call)return b.call(l,a,d);if(-1<b.indexOf(",")){b=b.split(/\s*,\s*/);for(var p=[],c=0,n;n=b[c++];)p.push(h(a,
n,d,e,l));p.remove=function(){for(var a=0;a<p.length;a++)p[a].remove()};return p}return h(a,b,d,e,l)};var e=/^touch/;d.selector=function(a,b,h){return function(e,l){function p(b){for(c=c&&c.matches?c:m.query;!c.matches(b,a,e);)if(b==e||!1===h||!(b=b.parentNode)||1!=b.nodeType)return;return b}var c="function"==typeof a?{matches:a}:this,n=b.bubble;return n?d(e,n(p),l):d(e,b,function(a){var b=p(a.target);return b&&l.call(b,a)})}};var h=[].slice,l=d.emit=function(b,d,e){var l=h.call(arguments,2),p="on"+
d;if("parentNode"in b){var c=l[0]={},n;for(n in e)c[n]=e[n];c.preventDefault=f;c.stopPropagation=a;c.target=b;c.type=d;e=c}do b[p]&&b[p].apply(b,l);while(e&&e.bubbles&&(b=b.parentNode));return e&&e.cancelable&&e},n=g("event-focusin")?{}:{focusin:"focus",focusout:"blur"};if(!g("event-stopimmediatepropagation"))var p=function(){this.modified=this.immediatelyStopped=!0},r=function(a){return function(b){if(!b.immediatelyStopped)return b.stopImmediatePropagation=p,a.apply(this,arguments)}};if(g("dom-addeventlistener"))d.emit=
function(a,b,h){if(a.dispatchEvent&&document.createEvent){var e=a.ownerDocument.createEvent("HTMLEvents");e.initEvent(b,!!h.bubbles,!!h.cancelable);for(var p in h)p in e||(e[p]=h[p]);return a.dispatchEvent(e)&&e}return l.apply(d,arguments)};else{d._fixEvent=function(a,b){a||(a=(b&&(b.ownerDocument||b.document||b).parentWindow||window).event);if(!a)return a;try{q&&a.type==q.type&&a.srcElement==q.target&&(a=q)}catch(D){}if(!a.target)switch(a.target=a.srcElement,a.currentTarget=b||a.srcElement,"mouseover"==
a.type&&(a.relatedTarget=a.fromElement),"mouseout"==a.type&&(a.relatedTarget=a.toElement),a.stopPropagation||(a.stopPropagation=x,a.preventDefault=w),a.type){case "keypress":b="charCode"in a?a.charCode:a.keyCode,10==b?(b=0,a.keyCode=13):13==b||27==b?b=0:3==b&&(b=99),a.charCode=b,b=a,b.keyChar=b.charCode?String.fromCharCode(b.charCode):"",b.charOrCode=b.keyChar||b.keyCode}return a};var q,t=function(a){this.handle=a};t.prototype.remove=function(){delete _dojoIEListeners_[this.handle]};var u=function(a){return function(b){b=
d._fixEvent(b,this);var h=a.call(this,b);b.modified&&(q||setTimeout(function(){q=null}),q=b);return h}},v=function(a,b,d){d=u(d);if(((a.ownerDocument?a.ownerDocument.parentWindow:a.parentWindow||a.window||window)!=top||5.8>g("jscript"))&&!g("config-_allow_leaks")){"undefined"==typeof _dojoIEListeners_&&(_dojoIEListeners_=[]);var h=a[b];if(!h||!h.listeners){var e=h,h=Function("event","var callee = arguments.callee; for(var i = 0; i<callee.listeners.length; i++){var listener = _dojoIEListeners_[callee.listeners[i]]; if(listener){listener.call(this,event);}}");
h.listeners=[];a[b]=h;h.global=this;e&&h.listeners.push(_dojoIEListeners_.push(e)-1)}h.listeners.push(a=h.global._dojoIEListeners_.push(d)-1);return new t(a)}return c.after(a,b,d,!0)},x=function(){this.cancelBubble=!0},w=d._preventDefault=function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey)try{this.keyCode=0}catch(E){}this.defaultPrevented=!0;this.returnValue=!1;this.modified=!0}}if(g("touch"))var y=function(){},A=window.orientation,z=function(a){return function(b){var d=b.corrected;if(!d){var h=
b.type;try{delete b.type}catch(I){}if(b.type){if(g("mozilla")){var d={},e;for(e in b)d[e]=b[e]}else y.prototype=b,d=new y;d.preventDefault=function(){b.preventDefault()};d.stopPropagation=function(){b.stopPropagation()}}else d=b,d.type=h;b.corrected=d;if("resize"==h){if(A==window.orientation)return null;A=window.orientation;d.type="orientationchange";return a.call(this,d)}"rotation"in d||(d.rotation=0,d.scale=1);var h=d.changedTouches[0],l;for(l in h)delete d[l],d[l]=h[l]}return a.call(this,d)}};
return d});
define("dojo/dom-style",["./sniff","./dom"],function(c,m){function g(b,d,e){d=d.toLowerCase();if("auto"==e){if("height"==d)return b.offsetHeight;if("width"==d)return b.offsetWidth}if("fontweight"==d)switch(e){case 700:return"bold";default:return"normal"}d in h||(h[d]=l.test(d));return h[d]?a(b,e):e}var k,f={};k=c("webkit")?function(a){if(!a)return{};var b;if(1==a.nodeType){var d=a.ownerDocument.defaultView;b=d.getComputedStyle(a,null);!b&&a.style&&(a.style.display="",b=d.getComputedStyle(a,null))}return b||
{}}:c("ie")&&(9>c("ie")||c("quirks"))?function(a){return 1==a.nodeType&&a.currentStyle?a.currentStyle:{}}:function(a){return a?1==a.nodeType?a.ownerDocument.defaultView.getComputedStyle(a,null):{}:(console.error("getComputedStyle :: invalid node"),a)};f.getComputedStyle=k;var a;a=c("ie")?function(a,b){if(!b)return 0;if("medium"==b)return 4;if(b.slice&&"px"==b.slice(-2))return parseFloat(b);var d=a.style,h=a.runtimeStyle,e=d.left,l=h.left;h.left=a.currentStyle.left;try{d.left=b,b=d.pixelLeft}catch(x){b=
0}d.left=e;h.left=l;return b}:function(a,b){return parseFloat(b)||0};f.toPixelValue=a;var b=function(a,b){try{return a.filters.item("DXImageTransform.Microsoft.Alpha")}catch(q){return b?{}:null}},d=9>c("ie")||10>c("ie")&&c("quirks")?function(a){try{return b(a).Opacity/100}catch(r){return 1}}:function(a){return k(a).opacity},e=9>c("ie")||10>c("ie")&&c("quirks")?function(a,d){""===d&&(d=1);var h=100*d;1===d?(a.style.zoom="",b(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,
""))):(a.style.zoom=1,b(a)?b(a,1).Opacity=h:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity="+h+")",b(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(a=a.firstChild;a;a=a.nextSibling)"td"==a.tagName.toLowerCase()&&e(a,d);return d}:function(a,b){return a.style.opacity=b},h={left:!0,top:!0},l=/margin|padding|width|height|max|min|offset/,n={cssFloat:1,styleFloat:1,"float":1};f.get=function(a,b){var h=m.byId(a),e=arguments.length;if(2==e&&"opacity"==b)return d(h);b=n[b]?"cssFloat"in
h.style?"cssFloat":"styleFloat":b;var l=f.getComputedStyle(h);return 1==e?l:g(h,b,l[b]||h.style[b])};f.set=function(a,b,d){var h=m.byId(a),l=arguments.length,c="opacity"==b;b=n[b]?"cssFloat"in h.style?"cssFloat":"styleFloat":b;if(3==l)return c?e(h,d):h.style[b]=d;for(var p in b)f.set(a,p,b[p]);return f.getComputedStyle(h)};return f});
define("dojo/dom-geometry",["./sniff","./_base/window","./dom","./dom-style"],function(c,m,g,k){function f(a,b,d,e,c,f){f=f||"px";a=a.style;isNaN(b)||(a.left=b+f);isNaN(d)||(a.top=d+f);0<=e&&(a.width=e+f);0<=c&&(a.height=c+f)}function a(a){return"button"==a.tagName.toLowerCase()||"input"==a.tagName.toLowerCase()&&"button"==(a.getAttribute("type")||"").toLowerCase()}function b(b){return"border-box"==d.boxModel||"table"==b.tagName.toLowerCase()||a(b)}var d={boxModel:"content-box"};c("ie")&&(d.boxModel=
"BackCompat"==document.compatMode?"border-box":"content-box");d.getPadExtents=function(a,b){a=g.byId(a);var d=b||k.getComputedStyle(a),h=k.toPixelValue;b=h(a,d.paddingLeft);var e=h(a,d.paddingTop),l=h(a,d.paddingRight);a=h(a,d.paddingBottom);return{l:b,t:e,r:l,b:a,w:b+l,h:e+a}};d.getBorderExtents=function(a,b){a=g.byId(a);var d=k.toPixelValue,h=b||k.getComputedStyle(a);b="none"!=h.borderLeftStyle?d(a,h.borderLeftWidth):0;var e="none"!=h.borderTopStyle?d(a,h.borderTopWidth):0,l="none"!=h.borderRightStyle?
d(a,h.borderRightWidth):0;a="none"!=h.borderBottomStyle?d(a,h.borderBottomWidth):0;return{l:b,t:e,r:l,b:a,w:b+l,h:e+a}};d.getPadBorderExtents=function(a,b){a=g.byId(a);var h=b||k.getComputedStyle(a);b=d.getPadExtents(a,h);a=d.getBorderExtents(a,h);return{l:b.l+a.l,t:b.t+a.t,r:b.r+a.r,b:b.b+a.b,w:b.w+a.w,h:b.h+a.h}};d.getMarginExtents=function(a,b){a=g.byId(a);var d=b||k.getComputedStyle(a),h=k.toPixelValue;b=h(a,d.marginLeft);var e=h(a,d.marginTop),l=h(a,d.marginRight);a=h(a,d.marginBottom);return{l:b,
t:e,r:l,b:a,w:b+l,h:e+a}};d.getMarginBox=function(a,b){a=g.byId(a);if(!a)return console.error("have no node"),{l:0,t:0,w:0,h:0};var h=b||k.getComputedStyle(a);b=d.getMarginExtents(a,h);var e=a.offsetLeft-b.l,l=a.offsetTop-b.t,f=a.parentNode,t=k.toPixelValue;if(c("mozilla")){var u=parseFloat(h.left),h=parseFloat(h.top);isNaN(u)||isNaN(h)?f&&f.style&&(f=k.getComputedStyle(f),"visible"!=f.overflow&&(e+="none"!=f.borderLeftStyle?t(a,f.borderLeftWidth):0,l+="none"!=f.borderTopStyle?t(a,f.borderTopWidth):
0)):(e=u,l=h)}else(c("opera")||8==c("ie")&&!c("quirks"))&&f&&(f=k.getComputedStyle(f),e-="none"!=f.borderLeftStyle?t(a,f.borderLeftWidth):0,l-="none"!=f.borderTopStyle?t(a,f.borderTopWidth):0);return{l:e,t:l,w:a.offsetWidth+b.w,h:a.offsetHeight+b.h}};d.getContentBox=function(a,b){a=g.byId(a);var e=b||k.getComputedStyle(a);b=a.clientWidth;var h=d.getPadExtents(a,e),e=d.getBorderExtents(a,e);b?(a=a.clientHeight,e.w=e.h=0):(b=a.offsetWidth,a=a.offsetHeight);c("opera")&&(h.l+=e.l,h.t+=e.t);return{l:h.l,
t:h.t,w:b-h.w-e.w,h:a-h.h-e.h}};d.setContentSize=function(a,e,c){a=g.byId(a);var h=e.w;e=e.h;b(a)&&(c=d.getPadBorderExtents(a,c),0<=h&&(h+=c.w),0<=e&&(e+=c.h));f(a,NaN,NaN,h,e)};var e={l:0,t:0,w:0,h:0};d.setMarginBox=function(h,l,n){if(h=g.byId(h)){var p=n||k.getComputedStyle(h);n=l.w;var r=l.h,q=b(h)?e:d.getPadBorderExtents(h,p),p=d.getMarginExtents(h,p);if(c("webkit")&&a(h)){var t=h.style;0<=n&&!t.width&&(t.width="4px");0<=r&&!t.height&&(t.height="4px")}0<=n&&(n=Math.max(n-q.w-p.w,0));0<=r&&(r=
Math.max(r-q.h-p.h,0));f(h,l.l,l.t,n,r)}else console.error("have no node")};d.isBodyLtr=function(a){a=a||m.doc;return"ltr"==(m.body(a).dir||a.documentElement.dir||"ltr").toLowerCase()};d.docScroll=function(a){a=a||m.doc;var b=m.doc.parentWindow||m.doc.defaultView;return"pageXOffset"in b?{x:b.pageXOffset,y:b.pageYOffset}:(b=c("quirks")?m.body(a):a.documentElement)&&{x:d.fixIeBiDiScrollLeft(b.scrollLeft||0,a),y:b.scrollTop||0}};d.getIeDocumentElementOffset=function(a){return{x:0,y:0}};d.fixIeBiDiScrollLeft=
function(a,b){b=b||m.doc;var e=c("ie");if(e&&!d.isBodyLtr(b)){var h=c("quirks");b=h?m.body(b):b.documentElement;var l=m.global;6==e&&!h&&l.frameElement&&b.scrollHeight>b.clientHeight&&(a+=b.clientLeft);return 8>e||h?a+b.clientWidth-b.scrollWidth:-a}return a};d.position=function(a,b){a=g.byId(a);var e=m.body(a.ownerDocument),h=a.getBoundingClientRect(),h={x:h.left,y:h.top,w:h.right-h.left,h:h.bottom-h.top};9>c("ie")&&(h.x-=c("quirks")?e.clientLeft+e.offsetLeft:0,h.y-=c("quirks")?e.clientTop+e.offsetTop:
0);b&&(a=d.docScroll(a.ownerDocument),h.x+=a.x,h.y+=a.y);return h};d.getMarginSize=function(a,b){a=g.byId(a);b=d.getMarginExtents(a,b||k.getComputedStyle(a));a=a.getBoundingClientRect();return{w:a.right-a.left+b.w,h:a.bottom-a.top+b.h}};d.normalizeEvent=function(a){"layerX"in a||(a.layerX=a.offsetX,a.layerY=a.offsetY);if(!("pageX"in a)){var b=a.target,b=b&&b.ownerDocument||document,e=c("quirks")?b.body:b.documentElement;a.pageX=a.clientX+d.fixIeBiDiScrollLeft(e.scrollLeft||0,b);a.pageY=a.clientY+
(e.scrollTop||0)}};return d});
define("dojo/dom",["./sniff","./_base/window"],function(c,m){if(7>=c("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(f){}var g={};c("ie")?g.byId=function(c,a){if("string"!=typeof c)return c;var b=a||m.doc;a=c&&b.getElementById(c);if(!a||a.attributes.id.value!=c&&a.id!=c){b=b.all[c];if(!b||b.nodeName)b=[b];for(var d=0;a=b[d++];)if(a.attributes&&a.attributes.id&&a.attributes.id.value==c||a.id==c)return a}else return a}:g.byId=function(c,a){return("string"==typeof c?(a||m.doc).getElementById(c):
c)||null};g.isDescendant=function(c,a){try{for(c=g.byId(c),a=g.byId(a);c;){if(c==a)return!0;c=c.parentNode}}catch(b){}return!1};c.add("css-user-select",function(c,a,b){if(!b)return!1;c=b.style;a=["Khtml","O","ms","Moz","Webkit"];b=a.length;var d="userSelect";do if("undefined"!==typeof c[d])return d;while(b--&&(d=a[b]+"UserSelect"));return!1});var k=c("css-user-select");g.setSelectable=k?function(c,a){g.byId(c).style[k]=a?"":"none"}:function(c,a){c=g.byId(c);var b=c.getElementsByTagName("*"),d=b.length;
if(a)for(c.removeAttribute("unselectable");d--;)b[d].removeAttribute("unselectable");else for(c.setAttribute("unselectable","on");d--;)b[d].setAttribute("unselectable","on")};return g});
define("dojo/_base/window",["./kernel","./lang","../sniff"],function(c,m,g){var k={global:c.global,doc:this.document||null,body:function(f){f=f||c.doc;return f.body||f.getElementsByTagName("body")[0]},setContext:function(f,a){c.global=k.global=f;c.doc=k.doc=a},withGlobal:function(f,a,b,d){var e=c.global;try{return c.global=k.global=f,k.withDoc.call(null,f.document,a,b,d)}finally{c.global=k.global=e}},withDoc:function(f,a,b,d){var e=k.doc,h=g("quirks"),l=g("ie"),n,p,r;try{return c.doc=k.doc=f,c.isQuirks=
g.add("quirks","BackCompat"==c.doc.compatMode,!0,!0),g("ie")&&(r=f.parentWindow)&&r.navigator&&(n=parseFloat(r.navigator.appVersion.split("MSIE ")[1])||void 0,(p=f.documentMode)&&5!=p&&Math.floor(n)!=p&&(n=p),c.isIE=g.add("ie",n,!0,!0)),b&&"string"==typeof a&&(a=b[a]),a.apply(b,d||[])}finally{c.doc=k.doc=e,c.isQuirks=g.add("quirks",h,!0,!0),c.isIE=g.add("ie",l,!0,!0)}}};g("extend-dojo")&&m.mixin(c,k);return k});
define("dojo/sniff",["./has"],function(c){if(c("host-browser")){var m=navigator,g=m.userAgent,m=m.appVersion,k=parseFloat(m);c.add("air",0<=g.indexOf("AdobeAIR"));c.add("wp",parseFloat(g.split("Windows Phone")[1])||void 0);c.add("msapp",parseFloat(g.split("MSAppHost/")[1])||void 0);c.add("khtml",0<=m.indexOf("Konqueror")?k:void 0);c.add("edge",parseFloat(g.split("Edge/")[1])||void 0);c.add("opr",parseFloat(g.split("OPR/")[1])||void 0);c.add("webkit",!c("wp")&&!c("edge")&&parseFloat(g.split("WebKit/")[1])||
void 0);c.add("chrome",!c("edge")&&!c("opr")&&parseFloat(g.split("Chrome/")[1])||void 0);c.add("android",!c("wp")&&parseFloat(g.split("Android ")[1])||void 0);c.add("safari",!(0<=m.indexOf("Safari"))||c("wp")||c("chrome")||c("android")||c("edge")||c("opr")?void 0:parseFloat(m.split("Version/")[1]));c.add("mac",0<=m.indexOf("Macintosh"));c.add("quirks","BackCompat"==document.compatMode);if(!c("wp")&&g.match(/(iPhone|iPod|iPad)/)){var f=RegExp.$1.replace(/P/,"p"),a=g.match(/OS ([\d_]+)/)?RegExp.$1:
"1",a=parseFloat(a.replace(/_/,".").replace(/_/g,""));c.add(f,a);c.add("ios",a)}c.add("bb",(0<=g.indexOf("BlackBerry")||0<=g.indexOf("BB10"))&&parseFloat(g.split("Version/")[1])||void 0);c.add("trident",parseFloat(m.split("Trident/")[1])||void 0);c.add("svg","undefined"!==typeof SVGAngle);c("webkit")||(0<=g.indexOf("Opera")&&c.add("opera",9.8<=k?parseFloat(g.split("Version/")[1])||k:k),!(0<=g.indexOf("Gecko"))||c("wp")||c("khtml")||c("trident")||c("edge")||c.add("mozilla",k),c("mozilla")&&c.add("ff",
parseFloat(g.split("Firefox/")[1]||g.split("Minefield/")[1])||void 0),document.all&&!c("opera")&&(g=parseFloat(m.split("MSIE ")[1])||void 0,(m=document.documentMode)&&5!=m&&Math.floor(g)!=m&&(g=m),c.add("ie",g)),c.add("wii","undefined"!=typeof opera&&opera.wiiremote))}return c});define("dojo/cache",["./_base/kernel","./text"],function(c){return c.cache});
define("dojo/text",["./_base/kernel","require","./has","./has!host-browser?./request"],function(c,m,g,k){var f;g("host-browser")?f=function(a,b,d){k(a,{sync:!!b,headers:{"X-Requested-With":null}}).then(d)}:m.getText?f=m.getText:console.error("dojo/text plugin failed to load because loader does not support getText");var a={},b=function(a){if(a){a=a.replace(/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,"");var b=a.match(/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im);b&&(a=b[1])}else a="";return a},
d={},e={};c.cache=function(d,e,c){var h;"string"==typeof d?/\//.test(d)?(h=d,c=e):h=m.toUrl(d.replace(/\./g,"/")+(e?"/"+e:"")):(h=d+"",c=e);d=void 0!=c&&"string"!=typeof c?c.value:c;c=c&&c.sanitize;if("string"==typeof d)return a[h]=d,c?b(d):d;if(null===d)return delete a[h],null;h in a||f(h,!0,function(b){a[h]=b});return c?b(a[h]):a[h]};return{dynamic:!0,normalize:function(a,b){a=a.split("!");var d=a[0];return(/^\./.test(d)?b(d):d)+(a[1]?"!"+a[1]:"")},load:function(h,l,c){h=h.split("!");var n=1<h.length,
r=h[0],q=l.toUrl(h[0]);h="url:"+q;var t=d,k=function(a){c(n?b(a):a)};r in a?t=a[r]:l.cache&&h in l.cache?t=l.cache[h]:q in a?t=a[q]:l.cache&&h.replace("src/lib","src")in l.cache?t=l.cache[h.replace("src/lib","src")]:l.cache&&h.replace("src/build","src")in l.cache&&(t=l.cache[h.replace("src/build","src")]);if(t===d)if(e[q])e[q].push(k);else{var g=e[q]=[k];f(q,!l.async,function(b){a[r]=a[q]=b;for(var d=0;d<g.length;)g[d++](b);delete e[q]})}else k(t)}}});
define("dojo/query","./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(c,m,g,k,f,a,b,d){function e(a,b){var d=function(d,e){if("string"==typeof e&&(e=g.byId(e),!e))return new b([]);d="string"==typeof d?a(d,e):d?d.end&&d.on?d:[d]:[];return d.end&&d.on?d:new b(d)};d.matches=a.match||function(a,b,e){return 0<d.filter([a],b,e).length};d.filter=a.filter||function(a,b,e){return d(b,e).filter(function(b){return-1<f.indexOf(a,b)})};
if("function"!=typeof a){var e=a.search;a=function(a,b){return e(b||document,a)}}return d}m.add("array-extensible",function(){return 1==a.delegate([],{length:1}).length&&!m("bug-for-in-skips-shadowed")});var h=Array.prototype,l=h.slice,n=h.concat,p=f.forEach,r=function(a,b,d){b=[0].concat(l.call(b,0));d=d||c.global;return function(e){b[0]=e;return a.apply(d,b)}},q=function(b){var d=this instanceof t&&m("array-extensible");"number"==typeof b&&(b=Array(b));var e=b&&"length"in b?b:arguments;if(d||!e.sort){for(var h=
d?this:[],l=h.length=e.length,c=0;c<l;c++)h[c]=e[c];if(d)return h;e=h}a._mixin(e,u);e._NodeListCtor=function(a){return t(a)};return e},t=q,u=t.prototype=m("array-extensible")?[]:{};t._wrap=u._wrap=function(a,b,d){a=new (d||this._NodeListCtor||t)(a);return b?a._stash(b):a};t._adaptAsMap=function(a,b){return function(){return this.map(r(a,arguments,b))}};t._adaptAsForEach=function(a,b){return function(){this.forEach(r(a,arguments,b));return this}};t._adaptAsFilter=function(a,b){return function(){return this.filter(r(a,
arguments,b))}};t._adaptWithCondition=function(a,b,d){return function(){var e=arguments,h=r(a,e,d);if(b.call(d||c.global,e))return this.map(h);this.forEach(h);return this}};p(["slice","splice"],function(a){var b=h[a];u[a]=function(){return this._wrap(b.apply(this,arguments),"slice"==a?this:null)}});p(["indexOf","lastIndexOf","every","some"],function(a){var b=f[a];u[a]=function(){return b.apply(c,[this].concat(l.call(arguments,0)))}});a.extend(q,{constructor:t,_NodeListCtor:t,toString:function(){return this.join(",")},
_stash:function(a){this._parent=a;return this},on:function(a,b){var d=this.map(function(d){return k(d,a,b)});d.remove=function(){for(var a=0;a<d.length;a++)d[a].remove()};return d},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(a){var b=l.call(this,0),d=f.map(arguments,function(a){return l.call(a,0)});return this._wrap(n.apply(b,d),this)},map:function(a,b){return this._wrap(f.map(this,a,b),this)},forEach:function(a,b){p(this,a,b);return this},filter:function(a){var b=
arguments,d=this,e=0;if("string"==typeof a){d=v._filterResult(this,b[0]);if(1==b.length)return d._stash(this);e=1}return this._wrap(f.filter(d,b[e],b[e+1]),this)},instantiate:function(b,d){var e=a.isFunction(b)?b:a.getObject(b);d=d||{};return this.forEach(function(a){new e(d,a)})},at:function(){var a=new this._NodeListCtor(0);p(arguments,function(b){0>b&&(b=this.length+b);this[b]&&a.push(this[b])},this);return a._stash(this)}});var v=e(d,q);c.query=e(d,function(a){return q(a)});v.load=function(a,
d,h){b.load(a,d,function(a){h(e(a,q))})};c._filterQueryResult=v._filterResult=function(a,b,d){return new q(v.filter(a,b,d))};c.NodeList=v.NodeList=q;return v});
define("dojo/_base/array",["./kernel","../has","./lang"],function(c,m,g){function k(a){return b[a]=new Function("item","index","array",a)}function f(a){var d=!a;return function(e,h,l){var c=0,f=e&&e.length||0,n;f&&"string"==typeof e&&(e=e.split(""));"string"==typeof h&&(h=b[h]||k(h));if(l)for(;c<f;++c){if(n=!h.call(l,e[c],c,e),a^n)return!n}else for(;c<f;++c)if(n=!h(e[c],c,e),a^n)return!n;return d}}function a(a){var b=1,h=0,c=0;a||(b=h=c=-1);return function(l,f,n,p){if(p&&0<b)return e.lastIndexOf(l,
f,n);p=l&&l.length||0;var q=a?p+c:h;n===d?n=a?h:p+c:0>n?(n=p+n,0>n&&(n=h)):n=n>=p?p+c:n;for(p&&"string"==typeof l&&(l=l.split(""));n!=q;n+=b)if(l[n]==f)return n;return-1}}var b={},d,e={every:f(!1),some:f(!0),indexOf:a(!0),lastIndexOf:a(!1),forEach:function(a,d,e){var h=0,c=a&&a.length||0;c&&"string"==typeof a&&(a=a.split(""));"string"==typeof d&&(d=b[d]||k(d));if(e)for(;h<c;++h)d.call(e,a[h],h,a);else for(;h<c;++h)d(a[h],h,a)},map:function(a,d,e,c){var h=0,l=a&&a.length||0;c=new (c||Array)(l);l&&
"string"==typeof a&&(a=a.split(""));"string"==typeof d&&(d=b[d]||k(d));if(e)for(;h<l;++h)c[h]=d.call(e,a[h],h,a);else for(;h<l;++h)c[h]=d(a[h],h,a);return c},filter:function(a,d,e){var h=0,c=a&&a.length||0,l=[],f;c&&"string"==typeof a&&(a=a.split(""));"string"==typeof d&&(d=b[d]||k(d));if(e)for(;h<c;++h)f=a[h],d.call(e,f,h,a)&&l.push(f);else for(;h<c;++h)f=a[h],d(f,h,a)&&l.push(f);return l},clearCache:function(){b={}}};m("extend-dojo")&&g.mixin(c,e);return e});
define("dojo/Stateful",["./_base/declare","./_base/lang","./_base/array","./when"],function(c,m,g,k){return c("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(c){var a=this._attrPairNames;return a[c]?a[c]:a[c]={s:"_"+c+"Setter",g:"_"+c+"Getter"}},postscript:function(c){c&&this.set(c)},_get:function(c,a){return"function"===typeof this[a.g]?this[a.g]():this[c]},get:function(c){return this._get(c,this._getAttrNames(c))},set:function(c,a){if("object"===typeof c){for(var b in c)c.hasOwnProperty(b)&&
"_watchCallbacks"!=b&&this.set(b,c[b]);return this}b=this._getAttrNames(c);var d=this._get(c,b);b=this[b.s];var e;"function"===typeof b?e=b.apply(this,Array.prototype.slice.call(arguments,1)):this[c]=a;if(this._watchCallbacks){var h=this;k(e,function(){h._watchCallbacks(c,d,a)})}return this},_changeAttrValue:function(c,a){var b=this.get(c);this[c]=a;this._watchCallbacks&&this._watchCallbacks(c,b,a);return this},watch:function(c,a){var b=this._watchCallbacks;if(!b)var d=this,b=this._watchCallbacks=
function(a,e,c,f){var h=function(b){if(b){b=b.slice();for(var h=0,l=b.length;h<l;h++)b[h].call(d,a,e,c)}};h(b["_"+a]);f||h(b["*"])};a||"function"!==typeof c?c="_"+c:(a=c,c="*");var e=b[c];"object"!==typeof e&&(e=b[c]=[]);e.push(a);c={};c.unwatch=c.remove=function(){var b=g.indexOf(e,a);-1<b&&e.splice(b,1)};return c}})});
define("dojo/when",["./Deferred","./promise/Promise"],function(c,m){return function(g,k,f,a){var b=g&&"function"===typeof g.then,d=b&&g instanceof m;if(!b)return 1<arguments.length?k?k(g):g:(new c).resolve(g);d||(b=new c(g.cancel),g.then(b.resolve,b.reject,b.progress),g=b.promise);return k||f||a?g.then(k,f,a):g}});
define("dojo/promise/Promise",["../_base/lang"],function(c){function m(){throw new TypeError("abstract");}return c.extend(function(){},{then:function(c,k,f){m()},cancel:function(c,k){m()},isResolved:function(){m()},isRejected:function(){m()},isFulfilled:function(){m()},isCanceled:function(){m()},always:function(c){return this.then(c,c)},otherwise:function(c){return this.then(null,c)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})});
define("deliteful/Accordion","dcl/dcl decor/sniff requirejs-dplugins/Promise! delite/register requirejs-dplugins/jquery!attributes/classes delite/DisplayContainer ./Accordion/AccordionHeader ./features delite/theme!./Accordion/themes/{{theme}}/Accordion.css".split(" "),function(c,m,g,k,f,a,b){function d(a,b){a.style.display=b?"":"none"}function e(a){return new g(function(b){var d=a.on(m("animationEndEvent"),function(){d.remove();b()})})}return k("d-accordion",[HTMLElement,a],{baseClass:"d-accordion",
selectedChildId:"",mode:"singleOpen",allowAllClosed:!1,animate:!0,openIconClass:"",closedIconClass:"",ariaLevel:3,_panelList:null,_numOpenPanels:0,createdCallback:function(){this._panelList=[];for(var a=Array.prototype.slice.call(this.children),b=0,d=a.length;b<d;b++)a[b].attached?this._panelList.push(this._setupUpgradedChild(a[b])):this._setupNonUpgradedChild(a[b]);this.on("delite-remove-child",this._onRemoveChild.bind(this));this.on("keydown",this.keyDownHandler.bind(this));this.on("click",function(a){for(var b=
a.target;b!==this;b=b.parentNode){var d=b.getAttribute("aria-controls");if((d=d&&this.ownerDocument.getElementById(d))&&d.parentNode===this){a.stopPropagation();a.preventDefault();this.activatePanel(d);break}}}.bind(this))},activatePanel:function(a){a.open?("multipleOpen"===this.mode||this.allowAllClosed)&&this.hide(a):this.show(a)},createHeader:function(a,d){return new b(d)},_setupUpgradedChild:function(a){a.id||(a.id=a.widgetId);var b=this.createHeader(a,{id:a.id+"-header",label:a.label,openIconClass:a.openIconClass||
this.openIconClass,closedIconClass:a.closedIconClass||this.closedIconClass,panelId:a.id});this.ariaLevel&&b.setAttribute("aria-level",this.ariaLevel);b.placeAt(a,"before");b.own(a.observe(function(d){"label"in d&&(b.label=a.label);"openIconClass"in d&&(b.openIconClass=a.openIconClass);"closedIconClass"in d&&(b.closedIconClass=a.closedIconClass)}));d(a,!1);a.open=!1;a.setAttribute("role","region");a.setAttribute("aria-labelledby",b.labelNode.id);a.setAttribute("aria-hidden","true");a.headerNode=b;
return a},_setupNonUpgradedChild:function(a){var b;a.accordion=this;a.addEventListener("customelement-attached",b=function(){this.removeEventListener("customelement-attached",b);this.accordion._panelList.push(this.accordion._setupUpgradedChild(this))}.bind(a))},_showOpenPanel:function(){!this._selectedChild&&0<this._panelList.length&&(this._selectedChild=this._panelList[0],this.show(this._selectedChild))},getChildren:function(){return Array.prototype.filter.call(this.children,function(a){return"region"===
a.getAttribute("role")})},getHeaders:function(){return Array.prototype.filter.call(this.children,function(a){return"heading"===a.getAttribute("role")})},refreshRendering:function(a){if("selectedChildId"in a&&this.selectedChildId){var b=this.ownerDocument.getElementById(this.selectedChildId);b&&(b.attached?b!==this._selectedChild&&(this._selectedChild||(this._selectedChild=b),this.show(b)):this._selectedChild=b)}("attached"in a||"_panelList"in a)&&0<this._panelList.length&&!this.allowAllClosed&&this._showOpenPanel();
"openIconClass"in a&&this.getChildren().forEach(function(a){a.attached&&!a.openIconClass&&(a.headerNode.openIconClass=this.openIconClass)}.bind(this));"closedIconClass"in a&&this.getChildren().forEach(function(a){a.attached&&!a.closedIconClass&&(a.headerNode.closedIconClass=this.closedIconClass)}.bind(this));"mode"in a&&"singleOpen"===this.mode&&(this.allowAllClosed||this._showOpenPanel(),this._selectedChild&&this._panelList.forEach(function(a){a.open&&a!==this._selectedChild&&this.hide(a)}.bind(this)))},
_useAnimation:function(){var a;if(a=this.animate){for(a=this;a&&"none"!==a.style.display&&a!==this.ownerDocument.documentElement;)a=a.parentNode;a=a===this.ownerDocument.documentElement;a=!!m("animationEndEvent")&&a&&!m("ie")}return a},_doTransition:function(a,b){var h;b.hide?this._useAnimation()?(f(a).addClass("d-accordion-close-animation").removeClass("d-accordion-open-panel"),a.style.overflow="hidden",h=e(a).then(function(){d(a,a.open);f(a).removeClass("d-accordion-close-animation");a.style.overflow=
""})):(f(a).removeClass("d-accordion-open-panel"),d(a,!1)):this._useAnimation()?(f(a).addClass("d-accordion-open-animation"),d(a,!0),a.style.overflow="hidden",h=e(a).then(function(){f(a).addClass(function(){return a.open?"d-accordion-open-panel":""}).removeClass("d-accordion-open-animation");a.style.overflow="";a.style.minHeight=""})):(f(a).addClass("d-accordion-open-panel"),d(a,!0));return g.resolve(h)},changeDisplay:function(a,b){var d=!0,e=[];if(b.hide)a.open?1<this._numOpenPanels||this.allowAllClosed?
(this._numOpenPanels--,a.open=!1,a.headerNode.open=!1):(a.headerNode.open=!0,d=!1):d=a.headerNode.open=!1;else if(a.open)a.headerNode.open=!0,d=!1;else{this._numOpenPanels++;if("singleOpen"===this.mode){var h=this._selectedChild;this._selectedChild=a;this.selectedChildId=a.id;h&&h!==a&&e.push(this.hide(h))}a.open=!0;a.headerNode.open=!0}d&&(e.push(this._doTransition(a,b)),a.setAttribute("aria-hidden",""+!a.open));return g.all(e)},loadChild:c.superCall(function(a){return function(b,d){var e={setContent:function(a,
b){for(a.innerHTML="";b.firstChild;)a.appendChild(b.firstChild)}};c.mix(e,d);return a.apply(this,[b,e])}}),onAddChild:c.superCall(function(a){return function(b){var d=a.call(this,b);"heading"!==b.getAttribute("role")&&(this._panelList.push(this._setupUpgradedChild(b)),this.notifyCurrentValue("_panelList"));return d}}),_onRemoveChild:function(a){a=a.child;a.headerNode&&a.headerNode.destroy();a=this._panelList.indexOf(a);0<=a&&(this._panelList.splice(a,1),this.notifyCurrentValue("_panelList"))},_getEnclosingHeader:function(a){for(;a&&
a!==this;){if("heading"===a.getAttribute("role"))return a;a=a.parentElement}},_getEnclosingPanel:function(a){for(;a&&a!==this;){if("region"===a.getAttribute("role"))return a;a=a.parentElement}},keyDownHandler:function(a){function b(a,b){a=(e.indexOf(a)+e.length+b)%e.length;return e[a]}function d(a,d){switch((d.ctrlKey||d.metaKey?"Ctrl-":"")+d.key){case "ArrowDown":return b(a,1);case "ArrowUp":return b(a,-1);case "Home":return e[0];case "End":return e[e.length-1];case "Ctrl-PageDown":return b(a,1);
case "Ctrl-PageUp":return b(a,-1)}}var e=this.getHeaders(),h=this._getEnclosingHeader(a.target),c;if(h)c=d(h,a);else if(h=this._getEnclosingPanel(a.target))a:{if(a.ctrlKey||a.metaKey)if("PageUp"===a.key){c=h.headerNode;break a}else if("PageDown"===a.key){c=b(h.headerNode,1);break a}c=void 0}c&&(c.focus(),a.stopPropagation(),a.preventDefault())},focus:function(){this.getHeaders()[0].focus()}})});
define("jquery/src/attributes/classes",["../core","../core/stripAndCollapse","../var/rnothtmlwhite","../data/var/dataPriv","../core/init"],function(c,m,g,k){function f(a){return a.getAttribute&&a.getAttribute("class")||""}c.fn.extend({addClass:function(a){var b,d,e,h,l,n,p=0;if(c.isFunction(a))return this.each(function(b){c(this).addClass(a.call(this,b,f(this)))});if("string"===typeof a&&a)for(b=a.match(g)||[];d=this[p++];)if(h=f(d),e=1===d.nodeType&&" "+m(h)+" "){for(n=0;l=b[n++];)0>e.indexOf(" "+
l+" ")&&(e+=l+" ");e=m(e);h!==e&&d.setAttribute("class",e)}return this},removeClass:function(a){var b,d,e,h,l,n,p=0;if(c.isFunction(a))return this.each(function(b){c(this).removeClass(a.call(this,b,f(this)))});if(!arguments.length)return this.attr("class","");if("string"===typeof a&&a)for(b=a.match(g)||[];d=this[p++];)if(h=f(d),e=1===d.nodeType&&" "+m(h)+" "){for(n=0;l=b[n++];)for(;-1<e.indexOf(" "+l+" ");)e=e.replace(" "+l+" "," ");e=m(e);h!==e&&d.setAttribute("class",e)}return this},toggleClass:function(a,
b){var d=typeof a;return"boolean"===typeof b&&"string"===d?b?this.addClass(a):this.removeClass(a):c.isFunction(a)?this.each(function(d){c(this).toggleClass(a.call(this,d,f(this),b),b)}):this.each(function(){var b,h,l,n;if("string"===d)for(h=0,l=c(this),n=a.match(g)||[];b=n[h++];)l.hasClass(b)?l.removeClass(b):l.addClass(b);else if(void 0===a||"boolean"===d)(b=f(this))&&k.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===a?"":k.get(this,"__className__")||"")})},hasClass:function(a){var b,
d=0;for(a=" "+a+" ";b=this[d++];)if(1===b.nodeType&&-1<(" "+m(f(b))+" ").indexOf(a))return!0;return!1}})});
define("jquery/src/core/init",["../core","../var/document","./var/rsingleTag","../traversing/findFilter"],function(c,m,g){var k,f=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,a=c.fn.init=function(a,d,e){var b;if(!a)return this;e=e||k;if("string"===typeof a){b="<"===a[0]&&">"===a[a.length-1]&&3<=a.length?[null,a,null]:f.exec(a);if(!b||!b[1]&&d)return!d||d.jquery?(d||e).find(a):this.constructor(d).find(a);if(b[1]){if(d=d instanceof c?d[0]:d,c.merge(this,c.parseHTML(b[1],d&&d.nodeType?d.ownerDocument||d:m,
!0)),g.test(b[1])&&c.isPlainObject(d))for(b in d)if(c.isFunction(this[b]))this[b](d[b]);else this.attr(b,d[b])}else if(a=m.getElementById(b[2]))this[0]=a,this.length=1;return this}return a.nodeType?(this[0]=a,this.length=1,this):c.isFunction(a)?void 0!==e.ready?e.ready(a):a(c):c.makeArray(a,this)};a.prototype=c.fn;k=c(m);return a});
define("jquery/src/traversing/findFilter",["../core","../var/indexOf","./var/rneedsContext","../selector"],function(c,m,g){function k(a,b,d){if(c.isFunction(b))return c.grep(a,function(a,h){return!!b.call(a,h,a)!==d});if(b.nodeType)return c.grep(a,function(a){return a===b!==d});if("string"!==typeof b)return c.grep(a,function(a){return-1<m.call(b,a)!==d});if(f.test(b))return c.filter(b,a,d);b=c.filter(b,a);return c.grep(a,function(a){return-1<m.call(b,a)!==d&&1===a.nodeType})}var f=/^.[^:#\[\.,]*$/;
c.filter=function(a,b,d){var e=b[0];d&&(a=":not("+a+")");return 1===b.length&&1===e.nodeType?c.find.matchesSelector(e,a)?[e]:[]:c.find.matches(a,c.grep(b,function(a){return 1===a.nodeType}))};c.fn.extend({find:function(a){var b,d,e=this.length,h=this;if("string"!==typeof a)return this.pushStack(c(a).filter(function(){for(b=0;b<e;b++)if(c.contains(h[b],this))return!0}));d=this.pushStack([]);for(b=0;b<e;b++)c.find(a,h[b],d);return 1<e?c.uniqueSort(d):d},filter:function(a){return this.pushStack(k(this,
a||[],!1))},not:function(a){return this.pushStack(k(this,a||[],!0))},is:function(a){return!!k(this,"string"===typeof a&&g.test(a)?c(a):a||[],!1).length}})});define("jquery/src/selector",["./selector-sizzle"],function(){});define("jquery/src/selector-sizzle",["./core","../external/sizzle/dist/sizzle"],function(c,m){c.find=m;c.expr=m.selectors;c.expr[":"]=c.expr.pseudos;c.uniqueSort=c.unique=m.uniqueSort;c.text=m.getText;c.isXMLDoc=m.isXML;c.contains=m.contains;c.escapeSelector=m.escape});
(function(c){function m(a,b,d,e){var h,c,l,f,p,q=b&&b.ownerDocument,k=b?b.nodeType:9;d=d||[];if("string"!==typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&((b?b.ownerDocument||b:K)!==B&&N(b),b=b||B,O)){if(11!==k&&(f=la.exec(a)))if(h=f[1])if(9===k)if(c=b.getElementById(h)){if(c.id===h)return d.push(c),d}else return d;else{if(q&&(c=q.getElementById(h))&&Q(b,c)&&c.id===h)return d.push(c),d}else{if(f[2])return W.apply(d,b.getElementsByTagName(a)),d;if((h=f[3])&&A.getElementsByClassName&&b.getElementsByClassName)return W.apply(d,
b.getElementsByClassName(h)),d}if(!(!A.qsa||aa[a+" "]||P&&P.test(a))){if(1!==k)q=b,p=a;else if("object"!==b.nodeName.toLowerCase()){(l=b.getAttribute("id"))?l=l.replace(fa,ga):b.setAttribute("id",l=M);c=D(a);for(h=c.length;h--;)c[h]="#"+l+" "+r(c[h]);p=c.join(",");q=da.test(a)&&n(b.parentNode)||b}if(p)try{return W.apply(d,q.querySelectorAll(p)),d}catch(Da){}finally{l===M&&b.removeAttribute("id")}}}return H(a.replace(ba,"$1"),b,d,e)}function g(){function a(d,e){b.push(d+" ")>z.cacheLength&&delete a[b.shift()];
return a[d+" "]=e}var b=[];return a}function k(a){a[M]=!0;return a}function f(a){var b=B.createElement("fieldset");try{return!!a(b)}catch(Ba){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function a(a,b){a=a.split("|");for(var d=a.length;d--;)z.attrHandle[a[d]]=b}function b(a,b){var d=b&&a,e=d&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(e)return e;if(d)for(;d=d.nextSibling;)if(d===b)return-1;return a?1:-1}function d(a){return function(b){return"input"===b.nodeName.toLowerCase()&&
b.type===a}}function e(a){return function(b){var d=b.nodeName.toLowerCase();return("input"===d||"button"===d)&&b.type===a}}function h(a){return function(b){return"form"in b?b.parentNode&&!1===b.disabled?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&ma(b)===a:b.disabled===a:"label"in b?b.disabled===a:!1}}function l(a){return k(function(b){b=+b;return k(function(d,e){for(var h,c=a([],d.length,b),l=c.length;l--;)d[h=c[l]]&&(d[h]=!(e[h]=
d[h]))})})}function n(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function p(){}function r(a){for(var b=0,d=a.length,e="";b<d;b++)e+=a[b].value;return e}function q(a,b,d){var e=b.dir,h=b.next,c=h||e,l=d&&"parentNode"===c,f=na++;return b.first?function(b,d,h){for(;b=b[e];)if(1===b.nodeType||l)return a(b,d,h);return!1}:function(b,d,n){var p,q,r=[R,f];if(n)for(;b=b[e];){if((1===b.nodeType||l)&&a(b,d,n))return!0}else for(;b=b[e];)if(1===b.nodeType||l)if(q=b[M]||(b[M]={}),q=q[b.uniqueID]||
(q[b.uniqueID]={}),h&&h===b.nodeName.toLowerCase())b=b[e]||b;else{if((p=q[c])&&p[0]===R&&p[1]===f)return r[2]=p[2];q[c]=r;if(r[2]=a(b,d,n))return!0}return!1}}function t(a){return 1<a.length?function(b,d,e){for(var h=a.length;h--;)if(!a[h](b,d,e))return!1;return!0}:a[0]}function u(a,b,d,e,h){for(var c,l=[],f=0,n=a.length,p=null!=b;f<n;f++)if(c=a[f])if(!d||d(c,e,h))l.push(c),p&&b.push(f);return l}function v(a,b,d,e,h,c){e&&!e[M]&&(e=v(e));h&&!h[M]&&(h=v(h,c));return k(function(c,l,f,n){var p,q,r=[],
k=[],t=l.length,g;if(!(g=c)){g=b||"*";for(var v=f.nodeType?[f]:f,x=[],y=0,E=v.length;y<E;y++)m(g,v[y],x);g=x}g=!a||!c&&b?g:u(g,r,a,f,n);v=d?h||(c?a:t||e)?[]:l:g;d&&d(g,v,f,n);if(e)for(p=u(v,k),e(p,[],f,n),f=p.length;f--;)if(q=p[f])v[k[f]]=!(g[k[f]]=q);if(c){if(h||a){if(h){p=[];for(f=v.length;f--;)(q=v[f])&&p.push(g[f]=q);h(null,v=[],p,n)}for(f=v.length;f--;)(q=v[f])&&-1<(p=h?X(c,q):r[f])&&(c[p]=!(l[p]=q))}}else v=u(v===l?v.splice(t,v.length):v),h?h(null,l,v,n):W.apply(l,v)})}function x(a){var b,d,
e,h=a.length,c=z.relative[a[0].type];d=c||z.relative[" "];for(var l=c?1:0,f=q(function(a){return a===b},d,!0),n=q(function(a){return-1<X(b,a)},d,!0),p=[function(a,d,e){a=!c&&(e||d!==L)||((b=d).nodeType?f(a,d,e):n(a,d,e));b=null;return a}];l<h;l++)if(d=z.relative[a[l].type])p=[q(t(p),d)];else{d=z.filter[a[l].type].apply(null,a[l].matches);if(d[M]){for(e=++l;e<h&&!z.relative[a[e].type];e++);return v(1<l&&t(p),1<l&&r(a.slice(0,l-1).concat({value:" "===a[l-2].type?"*":""})).replace(ba,"$1"),d,l<e&&x(a.slice(l,
e)),e<h&&x(a=a.slice(e)),e<h&&r(a))}p.push(d)}return t(p)}function w(a,b){var d=0<b.length,e=0<a.length,h=function(h,c,l,f,n){var p,q,r,k=0,t="0",g=h&&[],v=[],x=L,y=h||e&&z.find.TAG("*",n),E=R+=null==x?1:Math.random()||.1,w=y.length;for(n&&(L=c===B||c||n);t!==w&&null!=(p=y[t]);t++){if(e&&p){q=0;c||p.ownerDocument===B||(N(p),l=!O);for(;r=a[q++];)if(r(p,c||B,l)){f.push(p);break}n&&(R=E)}d&&((p=!r&&p)&&k--,h&&g.push(p))}k+=t;if(d&&t!==k){for(q=0;r=b[q++];)r(g,v,c,l);if(h){if(0<k)for(;t--;)g[t]||v[t]||
(v[t]=oa.call(f));v=u(v)}W.apply(f,v);n&&!h&&0<v.length&&1<k+b.length&&m.uniqueSort(f)}n&&(R=E,L=x);return g};return d?k(h):h}var y,A,z,E,C,D,F,H,L,I,G,N,B,J,O,P,T,S,Q,M="sizzle"+1*new Date,K=c.document,R=0,na=0,ha=g(),ia=g(),aa=g(),ea=function(a,b){a===b&&(G=!0);return 0},pa={}.hasOwnProperty,Y=[],oa=Y.pop,qa=Y.push,W=Y.push,ja=Y.slice,X=function(a,b){for(var d=0,e=a.length;d<e;d++)if(a[d]===b)return d;return-1},ra=/[\x20\t\r\n\f]+/g,ba=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,sa=
/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,ta=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,ua=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,va=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,wa=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,ca={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,
CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},xa=/^(?:input|select|textarea|button)$/i,ya=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,
la=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,da=/[+~]/,U=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,V=function(a,b,d){a="0x"+b-65536;return a!==a||d?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)},fa=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ga=function(a,b){return b?"\x00"===a?"\ufffd":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},ka=function(){N()},ma=q(function(a){return!0===a.disabled&&("form"in a||"label"in a)},{dir:"parentNode",
next:"legend"});try{W.apply(Y=ja.call(K.childNodes),K.childNodes),Y[K.childNodes.length].nodeType}catch(Aa){W={apply:Y.length?function(a,b){qa.apply(a,ja.call(b))}:function(a,b){for(var d=a.length,e=0;a[d++]=b[e++];);a.length=d-1}}}A=m.support={};C=m.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};N=m.setDocument=function(a){var d;a=a?a.ownerDocument||a:K;if(a===B||9!==a.nodeType||!a.documentElement)return B;B=a;J=B.documentElement;O=!C(B);K!==B&&(d=B.defaultView)&&
d.top!==d&&(d.addEventListener?d.addEventListener("unload",ka,!1):d.attachEvent&&d.attachEvent("onunload",ka));A.attributes=f(function(a){a.className="i";return!a.getAttribute("className")});A.getElementsByTagName=f(function(a){a.appendChild(B.createComment(""));return!a.getElementsByTagName("*").length});A.getElementsByClassName=Z.test(B.getElementsByClassName);A.getById=f(function(a){J.appendChild(a).id=M;return!B.getElementsByName||!B.getElementsByName(M).length});A.getById?(z.filter.ID=function(a){var b=
a.replace(U,V);return function(a){return a.getAttribute("id")===b}},z.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&O)return(a=b.getElementById(a))?[a]:[]}):(z.filter.ID=function(a){var b=a.replace(U,V);return function(a){return(a="undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}},z.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&O){var d,e,h=b.getElementById(a);if(h){if((d=h.getAttributeNode("id"))&&d.value===a)return[h];e=b.getElementsByName(a);
for(b=0;h=e[b++];)if((d=h.getAttributeNode("id"))&&d.value===a)return[h]}return[]}});z.find.TAG=A.getElementsByTagName?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a);if(A.qsa)return b.querySelectorAll(a)}:function(a,b){var d=[],e=0;b=b.getElementsByTagName(a);if("*"===a){for(;a=b[e++];)1===a.nodeType&&d.push(a);return d}return b};z.find.CLASS=A.getElementsByClassName&&function(a,b){if("undefined"!==typeof b.getElementsByClassName&&O)return b.getElementsByClassName(a)};
T=[];P=[];if(A.qsa=Z.test(B.querySelectorAll))f(function(a){J.appendChild(a).innerHTML="<a id='"+M+"'></a><select id='"+M+"-\r\\' msallowcapture=''><option selected=''></option></select>";a.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||P.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");a.querySelectorAll("[id~="+
M+"-]").length||P.push("~=");a.querySelectorAll(":checked").length||P.push(":checked");a.querySelectorAll("a#"+M+"+*").length||P.push(".#.+[+~]")}),f(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=B.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name=d]").length&&P.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?=");2!==a.querySelectorAll(":enabled").length&&P.push(":enabled",
":disabled");J.appendChild(a).disabled=!0;2!==a.querySelectorAll(":disabled").length&&P.push(":enabled",":disabled");a.querySelectorAll("*,:x");P.push(",.*:")});(A.matchesSelector=Z.test(S=J.matches||J.webkitMatchesSelector||J.mozMatchesSelector||J.oMatchesSelector||J.msMatchesSelector))&&f(function(a){A.disconnectedMatch=S.call(a,"*");S.call(a,"[s!='']:x");T.push("!=",":((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});
P=P.length&&new RegExp(P.join("|"));T=T.length&&new RegExp(T.join("|"));Q=(d=Z.test(J.compareDocumentPosition))||Z.test(J.contains)?function(a,b){var d=9===a.nodeType?a.documentElement:a;b=b&&b.parentNode;return a===b||!!(b&&1===b.nodeType&&(d.contains?d.contains(b):a.compareDocumentPosition&&a.compareDocumentPosition(b)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};ea=d?function(a,b){if(a===b)return G=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;if(d)return d;
d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;return d&1||!A.sortDetached&&b.compareDocumentPosition(a)===d?a===B||a.ownerDocument===K&&Q(K,a)?-1:b===B||b.ownerDocument===K&&Q(K,b)?1:I?X(I,a)-X(I,b):0:d&4?-1:1}:function(a,d){if(a===d)return G=!0,0;var e=0,h=a.parentNode,c=d.parentNode,l=[a],f=[d];if(!h||!c)return a===B?-1:d===B?1:h?-1:c?1:I?X(I,a)-X(I,d):0;if(h===c)return b(a,d);for(;a=a.parentNode;)l.unshift(a);for(a=d;a=a.parentNode;)f.unshift(a);for(;l[e]===f[e];)e++;
return e?b(l[e],f[e]):l[e]===K?-1:f[e]===K?1:0};return B};m.matches=function(a,b){return m(a,null,null,b)};m.matchesSelector=function(a,b){(a.ownerDocument||a)!==B&&N(a);b=b.replace(ua,"='$1']");if(!(!A.matchesSelector||!O||aa[b+" "]||T&&T.test(b)||P&&P.test(b)))try{var d=S.call(a,b);if(d||A.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(Ca){}return 0<m(b,B,null,[a]).length};m.contains=function(a,b){(a.ownerDocument||a)!==B&&N(a);return Q(a,b)};m.attr=function(a,b){(a.ownerDocument||
a)!==B&&N(a);var d=z.attrHandle[b.toLowerCase()],d=d&&pa.call(z.attrHandle,b.toLowerCase())?d(a,b,!O):void 0;return void 0!==d?d:A.attributes||!O?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null};m.escape=function(a){return(a+"").replace(fa,ga)};m.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};m.uniqueSort=function(a){var b,d=[],e=0,h=0;G=!A.detectDuplicates;I=!A.sortStable&&a.slice(0);a.sort(ea);if(G){for(;b=a[h++];)b===a[h]&&(e=d.push(h));for(;e--;)a.splice(d[e],
1)}I=null;return a};E=m.getText=function(a){var b,d="",e=0;b=a.nodeType;if(!b)for(;b=a[e++];)d+=E(b);else if(1===b||9===b||11===b){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)d+=E(a)}else if(3===b||4===b)return a.nodeValue;return d};z=m.selectors={cacheLength:50,createPseudo:k,match:ca,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){a[1]=
a[1].replace(U,V);a[3]=(a[3]||a[4]||a[5]||"").replace(U,V);"~="===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||m.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&m.error(a[0]);return a},PSEUDO:function(a){var b,d=!a[6]&&a[2];if(ca.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":d&&va.test(d)&&(b=D(d,!0))&&(b=d.indexOf(")",d.length-b)-d.length)&&(a[0]=a[0].slice(0,
b),a[2]=d.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(U,V).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=ha[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),ha(a,function(a){return b.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,b,d){return function(e){e=m.attr(e,
a);if(null==e)return"!="===b;if(!b)return!0;e+="";return"="===b?e===d:"!="===b?e!==d:"^="===b?d&&0===e.indexOf(d):"*="===b?d&&-1<e.indexOf(d):"$="===b?d&&e.slice(-d.length)===d:"~="===b?-1<(" "+e.replace(ra," ")+" ").indexOf(d):"|="===b?e===d||e.slice(0,d.length+1)===d+"-":!1}},CHILD:function(a,b,d,e,h){var c="nth"!==a.slice(0,3),l="last"!==a.slice(-4),f="of-type"===b;return 1===e&&0===h?function(a){return!!a.parentNode}:function(b,d,p){var n,q,r,k,t;d=c!==l?"nextSibling":"previousSibling";var g=
b.parentNode,u=f&&b.nodeName.toLowerCase();p=!p&&!f;n=!1;if(g){if(c){for(;d;){for(r=b;r=r[d];)if(f?r.nodeName.toLowerCase()===u:1===r.nodeType)return!1;t=d="only"===a&&!t&&"nextSibling"}return!0}t=[l?g.firstChild:g.lastChild];if(l&&p)for(r=g,q=r[M]||(r[M]={}),q=q[r.uniqueID]||(q[r.uniqueID]={}),n=q[a]||[],n=(k=n[0]===R&&n[1])&&n[2],r=k&&g.childNodes[k];r=++k&&r&&r[d]||(n=k=0)||t.pop();){if(1===r.nodeType&&++n&&r===b){q[a]=[R,k,n];break}}else if(p&&(r=b,q=r[M]||(r[M]={}),q=q[r.uniqueID]||(q[r.uniqueID]=
{}),n=q[a]||[],n=k=n[0]===R&&n[1]),!1===n)for(;(r=++k&&r&&r[d]||(n=k=0)||t.pop())&&((f?r.nodeName.toLowerCase()!==u:1!==r.nodeType)||!++n||(p&&(q=r[M]||(r[M]={}),q=q[r.uniqueID]||(q[r.uniqueID]={}),q[a]=[R,n]),r!==b)););n-=h;return n===e||0===n%e&&0<=n/e}}},PSEUDO:function(a,b){var d,e=z.pseudos[a]||z.setFilters[a.toLowerCase()]||m.error("unsupported pseudo: "+a);return e[M]?e(b):1<e.length?(d=[a,a,"",b],z.setFilters.hasOwnProperty(a.toLowerCase())?k(function(a,d){for(var h,c=e(a,b),l=c.length;l--;)h=
X(a,c[l]),a[h]=!(d[h]=c[l])}):function(a){return e(a,0,d)}):e}},pseudos:{not:k(function(a){var b=[],d=[],e=F(a.replace(ba,"$1"));return e[M]?k(function(a,b,d,h){h=e(a,null,h,[]);for(var c=a.length;c--;)if(d=h[c])a[c]=!(b[c]=d)}):function(a,h,c){b[0]=a;e(b,null,c,d);b[0]=null;return!d.pop()}}),has:k(function(a){return function(b){return 0<m(a,b).length}}),contains:k(function(a){a=a.replace(U,V);return function(b){return-1<(b.textContent||b.innerText||E(b)).indexOf(a)}}),lang:k(function(a){wa.test(a||
"")||m.error("unsupported lang: "+a);a=a.replace(U,V).toLowerCase();return function(b){var d;do if(d=O?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return d=d.toLowerCase(),d===a||0===d.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(a){var b=c.location&&c.location.hash;return b&&b.slice(1)===a.id},root:function(a){return a===J},focus:function(a){return a===B.activeElement&&(!B.hasFocus||B.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:h(!1),
disabled:h(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!z.pseudos.empty(a)},header:function(a){return ya.test(a.nodeName)},input:function(a){return xa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===
b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:l(function(){return[0]}),last:l(function(a,b){return[b-1]}),eq:l(function(a,b,d){return[0>d?d+b:d]}),even:l(function(a,b){for(var d=0;d<b;d+=2)a.push(d);return a}),odd:l(function(a,b){for(var d=1;d<b;d+=2)a.push(d);return a}),lt:l(function(a,b,d){for(b=0>d?d+b:d;0<=--b;)a.push(b);return a}),gt:l(function(a,b,d){for(d=
0>d?d+b:d;++d<b;)a.push(d);return a})}};z.pseudos.nth=z.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})z.pseudos[y]=d(y);for(y in{submit:!0,reset:!0})z.pseudos[y]=e(y);p.prototype=z.filters=z.pseudos;z.setFilters=new p;D=m.tokenize=function(a,b){var d,e,h,c,l,f,n;if(l=ia[a+" "])return b?0:l.slice(0);l=a;f=[];for(n=z.preFilter;l;){if(!d||(e=sa.exec(l)))e&&(l=l.slice(e[0].length)||l),f.push(h=[]);d=!1;if(e=ta.exec(l))d=e.shift(),h.push({value:d,type:e[0].replace(ba," ")}),l=
l.slice(d.length);for(c in z.filter)!(e=ca[c].exec(l))||n[c]&&!(e=n[c](e))||(d=e.shift(),h.push({value:d,type:c,matches:e}),l=l.slice(d.length));if(!d)break}return b?l.length:l?m.error(a):ia(a,f).slice(0)};F=m.compile=function(a,b){var d,e=[],h=[],c=aa[a+" "];if(!c){b||(b=D(a));for(d=b.length;d--;)c=x(b[d]),c[M]?e.push(c):h.push(c);c=aa(a,w(h,e));c.selector=a}return c};H=m.select=function(a,b,d,e){var h,c,l,f,p="function"===typeof a&&a,q=!e&&D(a=p.selector||a);d=d||[];if(1===q.length){c=q[0]=q[0].slice(0);
if(2<c.length&&"ID"===(l=c[0]).type&&9===b.nodeType&&O&&z.relative[c[1].type]){b=(z.find.ID(l.matches[0].replace(U,V),b)||[])[0];if(!b)return d;p&&(b=b.parentNode);a=a.slice(c.shift().value.length)}for(h=ca.needsContext.test(a)?0:c.length;h--;){l=c[h];if(z.relative[f=l.type])break;if(f=z.find[f])if(e=f(l.matches[0].replace(U,V),da.test(c[0].type)&&n(b.parentNode)||b)){c.splice(h,1);a=e.length&&r(c);if(!a)return W.apply(d,e),d;break}}}(p||F(a,q))(e,b,!O,d,!b||da.test(a)&&n(b.parentNode)||b);return d};
A.sortStable=M.split("").sort(ea).join("")===M;A.detectDuplicates=!!G;N();A.sortDetached=f(function(a){return a.compareDocumentPosition(B.createElement("fieldset"))&1});f(function(a){a.innerHTML="<a href='#'></a>";return"#"===a.firstChild.getAttribute("href")})||a("type|href|height|width",function(a,b,d){if(!d)return a.getAttribute(b,"type"===b.toLowerCase()?1:2)});A.attributes&&f(function(a){a.innerHTML="<input/>";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||
a("value",function(a,b,d){if(!d&&"input"===a.nodeName.toLowerCase())return a.defaultValue});f(function(a){return null==a.getAttribute("disabled")})||a("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,d){var e;if(!d)return!0===a[b]?b.toLowerCase():(e=a.getAttributeNode(b))&&e.specified?e.value:null});var za=c.Sizzle;m.noConflict=function(){c.Sizzle===m&&(c.Sizzle=za);return m};"function"===typeof define&&define.amd?
define("jquery/external/sizzle/dist/sizzle",[],function(){return m}):"undefined"!==typeof module&&module.exports?module.exports=m:c.Sizzle=m})(window);define("jquery/src/traversing/var/rneedsContext",["../../core","../../selector"],function(c){return c.expr.match.needsContext});define("jquery/src/var/indexOf",["./arr"],function(c){return c.indexOf});define("jquery/src/var/arr",[],function(){return[]});define("jquery/src/core/var/rsingleTag",[],function(){return/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i});
define("jquery/src/var/document",[],function(){return window.document});define("jquery/src/data/var/dataPriv",["../Data"],function(c){return new c});
define("jquery/src/data/Data",["../core","../var/rnothtmlwhite","./var/acceptData"],function(c,m,g){function k(){this.expando=c.expando+k.uid++}k.uid=1;k.prototype={cache:function(c){var a=c[this.expando];a||(a={},g(c)&&(c.nodeType?c[this.expando]=a:Object.defineProperty(c,this.expando,{value:a,configurable:!0})));return a},set:function(f,a,b){var d;f=this.cache(f);if("string"===typeof a)f[c.camelCase(a)]=b;else for(d in a)f[c.camelCase(d)]=a[d];return f},get:function(f,a){return void 0===a?this.cache(f):
f[this.expando]&&f[this.expando][c.camelCase(a)]},access:function(c,a,b){if(void 0===a||a&&"string"===typeof a&&void 0===b)return this.get(c,a);this.set(c,a,b);return void 0!==b?b:a},remove:function(f,a){var b,d=f[this.expando];if(void 0!==d){if(void 0!==a)for(Array.isArray(a)?a=a.map(c.camelCase):(a=c.camelCase(a),a=a in d?[a]:a.match(m)||[]),b=a.length;b--;)delete d[a[b]];if(void 0===a||c.isEmptyObject(d))f.nodeType?f[this.expando]=void 0:delete f[this.expando]}},hasData:function(f){f=f[this.expando];
return void 0!==f&&!c.isEmptyObject(f)}};return k});define("jquery/src/data/var/acceptData",[],function(){return function(c){return 1===c.nodeType||9===c.nodeType||!+c.nodeType}});define("jquery/src/var/rnothtmlwhite",[],function(){return/[^\x20\t\r\n\f]+/g});define("jquery/src/core/stripAndCollapse",["../var/rnothtmlwhite"],function(c){return function(m){return(m.match(c)||[]).join(" ")}});
define("jquery/src/core","./var/arr ./var/document ./var/getProto ./var/slice ./var/concat ./var/push ./var/indexOf ./var/class2type ./var/toString ./var/hasOwn ./var/fnToString ./var/ObjectFunctionString ./var/support ./core/DOMEval".split(" "),function(c,m,g,k,f,a,b,d,e,h,l,n,p,r){function q(a){var b=!!a&&"length"in a&&a.length,d=t.type(a);return"function"===d||t.isWindow(a)?!1:"array"===d||0===b||"number"===typeof b&&0<b&&b-1 in a}var t=function(a,b){return new t.fn.init(a,b)},u=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
v=/^-ms-/,x=/-([a-z])/g,w=function(a,b){return b.toUpperCase()};t.fn=t.prototype={jquery:"@VERSION",constructor:t,length:0,toArray:function(){return k.call(this)},get:function(a){return null==a?k.call(this):0>a?this[a+this.length]:this[a]},pushStack:function(a){a=t.merge(this.constructor(),a);a.prevObject=this;return a},each:function(a){return t.each(this,a)},map:function(a){return this.pushStack(t.map(this,function(b,d){return a.call(b,d,b)}))},slice:function(){return this.pushStack(k.apply(this,
arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:c.sort,splice:c.splice};t.extend=t.fn.extend=function(){var a,b,d,e,h,c=arguments[0]||{},l=1,f=arguments.length,n=!1;"boolean"===typeof c&&(n=c,c=arguments[l]||{},l++);"object"===typeof c||t.isFunction(c)||(c={});l===f&&(c=this,l--);for(;l<f;l++)if(null!=
(a=arguments[l]))for(b in a)d=c[b],e=a[b],c!==e&&(n&&e&&(t.isPlainObject(e)||(h=Array.isArray(e)))?(h?(h=!1,d=d&&Array.isArray(d)?d:[]):d=d&&t.isPlainObject(d)?d:{},c[b]=t.extend(n,d,e)):void 0!==e&&(c[b]=e));return c};t.extend({expando:"jQuery"+("@VERSION"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===t.type(a)},isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=t.type(a);return("number"===
b||"string"===b)&&!isNaN(a-parseFloat(a))},isPlainObject:function(a){if(!a||"[object Object]"!==e.call(a))return!1;a=g(a);if(!a)return!0;a=h.call(a,"constructor")&&a.constructor;return"function"===typeof a&&l.call(a)===n},isEmptyObject:function(a){for(var b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?d[e.call(a)]||"object":typeof a},globalEval:function(a){r(a)},camelCase:function(a){return a.replace(v,"ms-").replace(x,w)},nodeName:function(a,
b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var d,e=0;if(q(a))for(d=a.length;e<d&&!1!==b.call(a[e],e,a[e]);e++);else for(e in a)if(!1===b.call(a[e],e,a[e]))break;return a},trim:function(a){return null==a?"":(a+"").replace(u,"")},makeArray:function(b,d){d=d||[];null!=b&&(q(Object(b))?t.merge(d,"string"===typeof b?[b]:b):a.call(d,b));return d},inArray:function(a,d,e){return null==d?-1:b.call(d,a,e)},merge:function(a,b){for(var d=+b.length,e=0,h=a.length;e<d;e++)a[h++]=
b[e];a.length=h;return a},grep:function(a,b,d){for(var e=[],h=0,c=a.length,l=!d;h<c;h++)d=!b(a[h],h),d!==l&&e.push(a[h]);return e},map:function(a,b,d){var e,h,c=0,l=[];if(q(a))for(e=a.length;c<e;c++)h=b(a[c],c,d),null!=h&&l.push(h);else for(c in a)h=b(a[c],c,d),null!=h&&l.push(h);return f.apply([],l)},guid:1,proxy:function(a,b){var d,e;"string"===typeof b&&(d=a[b],b=a,a=d);if(t.isFunction(a))return e=k.call(arguments,2),d=function(){return a.apply(b||this,e.concat(k.call(arguments)))},d.guid=a.guid=
a.guid||t.guid++,d},now:Date.now,support:p});$jscomp.initSymbol();"function"===typeof Symbol&&($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.initSymbol(),$jscomp.initSymbolIterator(),t.fn[Symbol.iterator]=c[Symbol.iterator]);t.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){d["[object "+b+"]"]=b.toLowerCase()});return t});
define("jquery/src/core/DOMEval",["../var/document"],function(c){return function(m,g){g=g||c;var k=g.createElement("script");k.text=m;g.head.appendChild(k).parentNode.removeChild(k)}});define("jquery/src/var/support",[],function(){return{}});define("jquery/src/var/ObjectFunctionString",["./fnToString"],function(c){return c.call(Object)});define("jquery/src/var/fnToString",["./hasOwn"],function(c){return c.toString});define("jquery/src/var/hasOwn",["./class2type"],function(c){return c.hasOwnProperty});
define("jquery/src/var/toString",["./class2type"],function(c){return c.toString});define("jquery/src/var/class2type",[],function(){return{}});define("jquery/src/var/push",["./arr"],function(c){return c.push});define("jquery/src/var/concat",["./arr"],function(c){return c.concat});define("jquery/src/var/slice",["./arr"],function(c){return c.slice});define("jquery/src/var/getProto",[],function(){return Object.getPrototypeOf});
define("requirejs-dplugins/jquery",[],function(){function c(c){return["core"].concat(c.split(/, */)).map(function(c){return"jquery/src/"+c})}require.config({map:{jquery:{"jquery/src/selector":"jquery/src/selector-native"}}});return{normalize:function(c){return c},load:function(m,g,k,f){f.isBuild?k():"undefined"!==typeof jQuery?k(jQuery):"undefined"!==typeof $?k($):require(c(m),function(a){k(a)})},addModules:function(m,g,k){k(c(g))}}});
define("requirejs-dplugins/Promise",["require"],function(c){var m;return{load:function(g,k,f,a){a=a||{};a.isBuild?f():"function"===typeof Promise?f(Promise):c(["lie/dist/lie"],function(a){f(a)})},writeFile:function(c,k,f,a){m=a},onLayerEnd:function(){var g=c("fs"),k=c.toUrl("lie/dist/lie.js");m(k,g.readFileSync(k))}}});define("delite/handlebars!deliteful/Accordion/AccordionHeader/AccordionHeader.html",["delite/handlebars"],function(c){return c.compile('<template role="heading" class="{{this.open ? \'d-open\' : \'\'}}">\n\t<button aria-expanded="{{open}}" aria-controls="{{panelId}}" attach-point="focusNode" class="d-header-label-button" aria-labelledby="{{widgetId}}_label">\n\t\t<span role="presentation" attach-point="iconNode" class="d-icon {{this.open ? this.openIconClass : this.closedIconClass}}"></span>\n\t\t<span attach-point="labelNode" id="{{widgetId}}_label" class="d-label">{{label}}</span>\n\t</button>\n</template>')});
define("deliteful/Accordion/AccordionHeader",["delite/register","delite/Widget","delite/handlebars!./AccordionHeader/AccordionHeader.html"],function(c,m,g){return c("d-accordion-header",[HTMLElement,m],{baseClass:"d-accordion-header",label:"",open:!1,openIconClass:"",closedIconClass:"",panelId:"",template:g,focus:function(){this.focusNode.focus()}})});
define("delite/DisplayContainer",["dcl/dcl","requirejs-dplugins/Promise!","./Container"],function(c,m,g){return c(g,{show:function(k,f){var a=this;return this.loadChild(k,f).then(function(b){-1===a.getIndexOfChild(b.child)&&a.addChild(b.child,b.index);var d={dest:k,cancelable:!1};c.mix(d,f);c.mix(d,b);a.emit("delite-before-show",d);return m.resolve(a.changeDisplay(b.child,d)).then(function(){a.emit("delite-after-show",d);return b})})},hide:function(k,f){var a={hide:!0};c.mix(a,f);var b=this;return this.loadChild(k,
a).then(function(a){var d={dest:k,bubbles:!0,cancelable:!1,hide:!0};c.mix(d,f);c.mix(d,a);b.emit("delite-before-hide",d);return m.resolve(b.changeDisplay(a.child,d)).then(function(){b.emit("delite-after-hide",d);return a})})},changeDisplay:function(c,f){!0===f.hide?(c.style.visibility="hidden",c.style.display="none"):(c.style.visibility="visible",c.style.display="")},loadChild:function(k,f){var a,b={dest:k,setChild:function(b){a=b}};c.mix(b,f);this.emit("delite-display-load",b);a||(a={child:"string"===
typeof k?this.ownerDocument.getElementById(k):k});return m.resolve(a)}})});
define("xdeliteful/Script",["dcl/dcl","delite/register","xide/mixins/EventedMixin","delite/theme!xdeliteful/Script.css"],function(c,m,g){c=c([g.dcl],{type:"none",declaredClass:"xblox/Script",_script:null,name:null,hasChildNodes:function(){return!0},getChildrenData:function(){return[this._script]},getContent:function(){return this._script},fromWidgetData:function(c){c&&c.children&&c.children[0]&&this.setScript(c.children[0])},setScript:function(c){c&&(delete this._function,delete this._script,this.innerHTML=
"",this._function=new Function("{"+c+"; }"),this._script=c)},getFunction:function(){return this._function},attachedCallback:function(){this.setScript(this.innerHTML)},createdCallback:function(){this.setScript(this.innerHTML)}});return m("d-script",[HTMLElement,c])});
define("xide/mixins/EventedMixin","dojo/_base/array dcl/dcl xdojo/declare xdojo/has xide/types xide/factory".split(" "),function(c,m,g,k,f,a){k={_didRegisterSubscribers:!1,subscribers:null,subscribes:{},emits:{},__events:null,addPublishFilter:function(a,d){a&&(null!=d?this.emits[a]=d:a in this.emits&&delete this.emits[a])},filterSubscribe:function(a){return this.subscribes?!1!==this.subscribes[a]:!0},filterPublish:function(a){return this.emits?!1!==this.emits[a]:!0},subscribe:function(b,d,e){this.__events||
(this.__events={});b=a.subscribe(b,d,e||this,this.filterSubscribe.bind(this));d=this.__events;e=0;for(var h=b.length;e<h;e++){var c=b[e].type;d[c]||(d[c]=[]);d[c].push(b[e])}return b},publish:function(b,d,e,h){var c=this;0<h?setTimeout(function(){a.publish(b,d,e||c,c.filterPublish.bind(c))}.bind(c),h):a.publish(b,d,e||c,c.filterPublish.bind(c))},_destroyHandle:function(a){},_destroyHandles:function(){if(this.__events){for(var a in this.__events)c.forEach(this.__events[a],function(a){a&&a.remove&&
a.remove()});delete this.__events}},destroy:function(){this._emit("destroy");this.inherited&&this.inherited(arguments);this._destroyHandles()},once:function(a,d){function b(){h.unsubscribe(a,d);return d.apply(h,arguments)}var h=this;b.listener=d;h._on(a,b);return this},_emit:function(a){if(this.__events){if(!this._didRegisterSubscribers&&this.subscribers){for(var b=0;b<this.subscribers.length;b++){var e=this.subscribers[b];this._on(e.event,e.handler,e.owner)}this._didRegisterSubscribers=!0}if(!0===
arguments[2])throw Error("Please use emit.sticky() instead of passing sticky=true for event: "+a);b=this.__events[a];e=1<arguments.length?arguments[2]:null;if(b){var h;if("function"==typeof b)switch(arguments.length){case 1:return b.call(this);case 2:return b.call(this,arguments[1]);case 3:return b.call(this,arguments[1],arguments[2]);default:var c=Array.prototype.slice.call(arguments,1);h=b.apply(this,c)}else if(_.isArray(b))for(var c=Array.prototype.slice.call(arguments,1),f=b.slice(),p,r,q,b=0,
k=f.length;b<k;b++)r=f[b],q=r.owner||this,c&&c[0]&&(c[0].owner=c[0]?c[0].owner||q:null),r.handler&&(p=r.handler.apply(q,c)),void 0!==p&&(h=p),c&&c[0]&&c[0].owner&&(c[0].owner=null);e&&!0===e["public"]&&this.publish(a,c);return h}}},unsubscribe:function(a,d){if(!this.__events||!this.__events[a])return this;if("function"!==typeof d||!d)return c.forEach(this.__events[a],dojo.unsubscribe),delete this.__events[a],this.__events[a]=[],this;var b=this.__events[a];if(_.isArray(b)){var h=[];_.each(b,function(a,
b,e){(a.handler==d?a.handler:a.handler.listener==d&&a.handler.listener)&&h.push(a)});_.each(h,function(a){a.remove()});0===b.length&&delete this.__events[a]}else(this.__events[a].listener||this.__events[a])===d&&delete this.__events[a];return this},listeners:function(a){this.__events||(this.__events={});this.__events[a]||(this.__events[a]=[]);isArray(this.__events[a])||(this.__events[a]=[this.__events[a]]);return this.__events[a]},addHandle:function(a,d){this.__events||(this.__events={});this.__events[a]||
(this.__events[a]=[]);d.type=a;this.__events[a].push(d);return d},__on:function(a,d,e,h){var b=h;"function"!=typeof e||h||(h=e,e=null);a=a.jquery?a:$(a);a.on(d,e,h);this.__events||(this.__events={});this.__events[d]||(this.__events[d]=[]);var c=this.__events[d];a={handler:b,owner:this,type:d,element:a,selector:e,remove:function(){c.remove(this);this.element.off(this.type,this.selector,this.handler)}};c.push(a);return a},_on:function(a,d,e){try{this.__events||(this.__events={});this.__events[a]||(this.__events[a]=
[]);var b=this.__events[a];if(!b)this.__events[a]=d;else if(_.isArray(b)){if(-1!=b.indexOf(d))return console.warn("adding same listener twice",a);d={handler:d,owner:e||this,type:a,remove:function(){b.remove(this);e&&e.__events&&e.__events[a]&&e.__events[a].remove(this);this.handler=this.owner=null;delete this.type}};b.push(d);return d}}catch(l){logError(l)}return this}};g=g(null,k);g.Impl=k;g.dcl=m(null,k);m.chainAfter(g.dcl,"destroy");return g});
define("xide/factory",["dcl/dcl"],function(c){return new c(null,{declaredClass:"xide/factory"})});define("delite/handlebars!xdeliteful/MediaPlayer/template.html",["delite/handlebars","deliteful/ToggleButton","xdeliteful/Button","xblox/RunScript","deliteful/Slider"],function(c){return c.compile('<template attach-point="focusNode" style="position: relative;display: inherit;width: 300px;height: 300px;min-width:300px;min-height:300px">\n\n<button class="mediaPlayerLabel" is="d-button" title="Default Label" label="Position" style="position: absolute; left: 18px; top: 61px;">\n    <d-xscript stop="false" bidirectional="false" mode="1" targetproperty="label" sourceevent="onDriverVariableChanged" sourceeventvaluepath="item.value" sourceeventnamepath="item.name" block="variable://deviceScope=user_devices&amp;device=VLC&amp;driver=9db866a4-bb3e-137b-ae23-793b729c44f8&amp;driverScope=user_drivers&amp;block=2219d68b-862f-92ab-de5d-b7a847930a7a" script="Current Position" style="position: relative;"></d-xscript>\n</button>\n<button class="mediaPlayerLabel" attach-point="btnCurrentTrack" is="d-button" title="Default Label" label="Current Track" style="position: absolute; left: 19px; top: 158px;">\n    <d-xscript stop="false" bidirectional="false" mode="1" targetproperty="label" sourceevent="onDriverVariableChanged" sourceeventvaluepath="item.value" sourceeventnamepath="item.name" block="variable://deviceScope=user_devices&amp;device=VLC&amp;driver=9db866a4-bb3e-137b-ae23-793b729c44f8&amp;driverScope=user_drivers&amp;block=e76f0b30-4443-47ae-0cef-2c4c9e4acffd" style="position: relative;"></d-xscript>\n</button>\n<d-slider class="mediaPlayerSlider" attach-point="slider" max="1" step="0.01" style="position: absolute; width: 202px; height: 3px; left: 14px; top: 106px;" value="0.2">\n    <d-xscript stop="false" bidirectional="false" mode="1" targetproperty="value" sourceevent="onDriverVariableChanged" sourceeventvaluepath="item.value" sourceeventnamepath="item.name" block="variable://deviceScope=user_devices&amp;device=VLC&amp;driver=9db866a4-bb3e-137b-ae23-793b729c44f8&amp;driverScope=user_drivers&amp;block=2219d68b-862f-92ab-de5d-b7a847930a7a" style="position: relative;"></d-xscript>\n</d-slider>\n<button class="mediaPlayerButton" attach-point="btnStop" is="d-button" title="Default Label" label=" " iconclass="fa fa-stop " style="position: absolute; left: 63px; top: 17px;">\n    <d-xscript style="position:relative" targetevent="click" block="command://deviceScope=user_devices&amp;device=VLC&amp;driver=9db866a4-bb3e-137b-ae23-793b729c44f8&amp;driverScope=user_drivers&amp;block=418f48fc-9d4d-9c8c-fc19-4674848fa55c" script="Stop"></d-xscript>\n</button>\n<button class="mediaPlayerButton" attach-point="btnPause" is="d-button" title="Default Label" label="" iconclass="fa fa-pause" style="position: absolute; left: 109.53125px; width: 38px; height: 34px; top: 17px;">\n    <d-xscript style="position:relative" targetevent="click" block="command://deviceScope=user_devices&amp;device=VLC&amp;driver=9db866a4-bb3e-137b-ae23-793b729c44f8&amp;driverScope=user_drivers&amp;block=a3c0e8d7-e517-18a2-1405-0a46e6182aef" script="Pause"></d-xscript>\n</button>\n<button class="mediaPlayerButton" attach-point="btnPlay" is="d-button" title="Default Label" style="position: absolute; left: 155px; width: 38px; height: 34px; top: 17px;" iconclass="fa fa-play">\n    <d-xscript style="position:relative" targetevent="click" block="command://deviceScope=user_devices&amp;device=VLC&amp;driver=9db866a4-bb3e-137b-ae23-793b729c44f8&amp;driverScope=user_drivers&amp;block=450d2c75-29b0-29b7-13c5-be175b2a5749" script="Play Args"></d-xscript>\n</button>\n<button class="mediaPlayerButton" attach-point="btnNext" is="d-button" title="Default Label" label="" iconclass="fa fa-caret-right" style="position: absolute; left: 203px; width: 38px; height: 34px; top: 17px;">\n    <d-xscript style="position:relative" targetevent="click" block="command://deviceScope=user_devices&amp;device=VLC&amp;driver=9db866a4-bb3e-137b-ae23-793b729c44f8&amp;driverScope=user_drivers&amp;block=49936bba-e005-053f-b88d-48ec88688b8b" script="Next"></d-xscript>\n</button>\n<button class="mediaPlayerButton" attach-point="btnPrev" is="d-button" title="Default Label" label="" iconclass="fa fa-caret-left" style="position: absolute; left: 15.015625px; width: 38px; height: 34px; top: 17px;">\n    <d-xscript style="position:relative" targetevent="click" block="command://deviceScope=user_devices&amp;device=VLC&amp;driver=9db866a4-bb3e-137b-ae23-793b729c44f8&amp;driverScope=user_drivers&amp;block=ab927f79-8968-ff46-44a8-e5fbe5bbfdbe" script="Prev"></d-xscript>\n</button>\n<button class="mediaPlayerButton" attach-point="btnOpenFolder" is="d-button" title="Default Label" label="" iconclass="fa fa-folder-open" style="position: absolute; left: 254px; top: 17px;"></button>\n\n<button class="mediaPlayerLabel" is="d-button" label="Default Label" title="Default Label" style="position: absolute; left: 19px; top: 236px;">\n    <d-xscript stop="false" bidirectional="false" mode="1" targetproperty="label" sourceevent="onDriverVariableChanged" sourceeventvaluepath="item.value" sourceeventnamepath="item.name" block="variable://deviceScope=user_devices&amp;device=VLC&amp;driver=9db866a4-bb3e-137b-ae23-793b729c44f8&amp;driverScope=user_drivers&amp;block=9673fd4c-15f5-cebb-82a0-8500ec7b52e6" style="position: relative;"></d-xscript>\n</button>\n\n<d-slider class="mediaPlayerSlider" attach-point="volume" value="100" sliderange="true" vertical="true" style="position: absolute; left: 354px; top: 5px; width: 4px; height: 104px;" id="mediaPlayerVolume">\n    <d-xscript stop="false" bidirectional="false" mode="1" targetproperty="value" sourceevent="onDriverVariableChanged" sourceeventvaluepath="item.value" sourceeventnamepath="item.name" block="variable://deviceScope=user_devices&amp;device=VLC&amp;driver=9db866a4-bb3e-137b-ae23-793b729c44f8&amp;driverScope=user_drivers&amp;block=3879e1cd-7a17-71d2-59d4-6e825658194b" script="Current Volume" style="position: relative;"></d-xscript>\n</d-slider>\n\n<button attach-point="mute" is="d-toggle-button" checkediconclass="fa fa-volume-down" iconclass="fa fa-volume-up" style="position: absolute; left: 203px; top: 61px;display: none" checked="false">\n    <d-xscript stop="false" bidirectional="false" mode="1" targetproperty="checked" sourceevent="onDriverVariableChanged" sourceeventvaluepath="item.value" sourceeventnamepath="item.name" block="variable://deviceScope=user_devices&amp;device=VLC&amp;driver=9db866a4-bb3e-137b-ae23-793b729c44f8&amp;driverScope=user_drivers&amp;block=cabd937b-28b7-3985-6a10-d456dbe74374" script="Muted" style="position: relative;"></d-xscript>\n</button>\n\n</template>')});
define("xdeliteful/MediaPlayer","dcl/dcl delite/register delite/Widget xblox/RunScript xide/mixins/EventedMixin delite/handlebars!./MediaPlayer/template.html requirejs-dplugins/jquery!attributes/classes requirejs-dplugins/has delite/handlebars delite/Template deliteful/ToggleButton xdeliteful/Button xblox/RunScript deliteful/Slider".split(" "),function(c,m,g,k,f,a,b,d,e,h){c=c([g,f.dcl],{baseClass:"d-media-player",template:a,context:null,vlc:null,fileServer:null,declaredClass:"delite/MediaPlayer",
allowAudio:!0,allowVideo:!1,getDriverInstance:function(a){return this.context.getDeviceManager().getInstanceByName(a)},onPickedFolder:function(a){var b=this.vlc;if(b){var d=b.getCommand("Play Args"),e=a[0];if(1<a.length){var e=_.pluck(a,"realPath"),c=[];_.each(e,function(a){c.push(a.replace(/\\/g,"/"))});d.stop();b.setVariable("Current Folder",c.join(";"))}else e=e||{isDir:!0},d=e.realPath,d=(d||"/home/mc007/Music/Sasha/").replace(/\\/g,"/"),e.isDir&&(d+="/+(*.mp3|*.wav|*.m4a|*.wma)"),b.setVariable("Current Folder",
d);b.callCommand("Play Args")}else console.error("can`t get VLC driver, abort")},initFilePicker:function(){var a=this,d=this.btnOpenFolder,e=require;e(["xfile/build/xfiler"],function(){e("xdeliteful/Widgets/Popup xfile/views/FileGridLight xide/utils xfile/data/DriverStore xide/types dojo/Deferred xide/_Popup xfile/views/FilePicker dojo/_base/declare delite/popup deliteful/Combobox deliteful/list/List dstore/Memory requirejs-dplugins/css!../../../build/xfile/xfile.min.css".split(" "),function(e,c,
h,l,f,n,p,k,g,m,E,C,D){function q(b){var d={fields:f.FIELDS.SHOW_ISDIR|f.FIELDS.SHOW_OWNER|f.FIELDS.SHOW_SIZE|f.FIELDS.SHOW_FOLDER_SIZE|f.FIELDS.SHOW_MIME|f.FIELDS.SHOW_PERMISSIONS|f.FIELDS.SHOW_TIME|f.FIELDS.SHOW_MEDIA_INFO},e=a.allowAudio?"(*.m4a)|(*.wav)|(*.mp3)|(*.wma)":"";a.allowVideo&&(a.allowAudio&&(e+="|"),e+="(*.avi)|(*.mp4)|(*.mkv)");return new l({data:[],config:{},mount:"none",options:d,driver:a.fileServer,glob:b,_micromatch:"(*.m4a)|(*.wav)|(*.mp3)|(*.wma)|!(*.*)",micromatch:e+"|!(*.*)"})}
function r(d,e,c){var l,f=new D({idProperty:"label",data:[]}),f=new C({source:f,righttextAttr:"value"}),n=new E({list:f,id:"combo-single",selectionMode:"single"}),p=e.domNode;l=new c({okHandler:function(){this.combobox._validateMultiple(this.combobox.inputNode);this.combobox.closeDropDown();m.close(d.popup);var b=e._selection||[{isDir:!0}];console.log("ok ",b[0]);h.destroy(e);h.destroy(l);a.onPickedFolder(b)},cancelHandler:function(){this.combobox.list.selectedItems=this.combobox._selectedItems;this.combobox.closeDropDown();
m.close(d.popup);h.destroy(e);h.destroy(l)},combobox:n});h.mixin(d,{popup:l,_setLabelAttr:function(a){this.textContent=a;this._set("label",a)},closePopup:function(){this.open&&(m.close(this.popup),this.open=!1)},_deactivatedHandler:function(){},_openPopup:function(){b(n.list).css("height","600px");b(n.list).css("width","800px");b(n.list).empty();b(n.list).append(p);this._openRet=m.open({popup:this.popup,parent:this,around:this,orient:["center"],maxHeight:-1});this.open=!0;e._parent=n.list;e.startup();
b(p).css("height","100%");b(p).css("min-width","100%");e.resize();setTimeout(function(){e.rightGrid.collection._loadPath("/",!0).then(function(){e.rightGrid.refresh();setTimeout(function(){e.leftGrid.select(0,null,!0,{append:!1,focus:!0,delay:10})},200)})},100)}});d.on("delite-deactivated",function(){d._deactivatedHandler()});d._openPopup()}p.setStartIndex(2E3);var t={},u=h.clone(f.DEFAULT_FILE_GRID_PERMISSIONS);b(d).on("click",function(){var l=h.addWidget(k,h.mixin({ctx:a.context,owner:t,selection:".",
resizeToParent:!0,storeOptionsMixin:{includeList:"*,.*",excludeList:""},Module:c,permissions:u,leftStore:q("/*"),rightStore:q("/*")},{}),this,b("BODY")[0],!1);b(l.domNode).addClass("MediaPlayerFilePicker");b(l.domNode).css("height","600px");r(d,l,e)})})})},initVLC:function(){},wireWidgets:function(){var a=this,d=a.vlc;d&&(b(this.slider).on("change",function(b){a._lastPos!==b.target.value&&(a._lastPos=b.target.value,d.callCommand("Position",{override:{args:[b.target.value]}}))}),b(this.mute).on("click",
function(b){b={override:{args:[a.mute.checked?1:0]}};console.log("changed mute : ",b);d.callCommand("Mute",b)}),b(this.volume).on("change",function(b){a._lastVol!==b.target.value&&(a._lastVol=b.target.value,b={override:{args:[b.target.value]}},console.log("changed volume : ",b),d.callCommand("Volume",b))}))},doTemplate:function(){var a=b(this).attr("templateId");a&&(a=b(a),a[0]&&!this._didTemplate&&(a=a[0].outerHTML,a=a.replace("display:none",""),a=a.replace("pointer-events:none",""),a=e.toDom(a),
a.getAttribute("requires")||a.getAttribute("data-requires"),a.removeAttribute("requires"),a.removeAttribute("data-requires"),a.removeAttribute("style"),a=e.parse(a),this.template=(new h(a)).func,this._didTemplate=!0))},attachedCallback:function(){var a=b(this).attr("templateId");a&&(a=b(a),a[0]&&this.doTemplate())},DevicesConnected:function(){var a=this.getDriverInstance("VLC");a&&!this.vlc&&(this.vlc=a,this.initVLC(),this.wireWidgets());(a=this.getDriverInstance("File-Server"))&&!this.fileServer&&
(this.fileServer=a,this.initFilePicker())},onContextReady:function(a){this.context=a;this.subscribe("DevicesConnected")},init:function(){this.subscribe("onContextReady")},createdCallback:function(){this.doTemplate();this.init()}});return m("d-media-player",[HTMLElement,c])});
define("requirejs-dplugins/has",["module"],function(c){function m(a,d,e){var b=a.match(f),c=0,n=function(a){var h=b[c++];if(":"===h)return"";if("?"===b[c++]){h=d(h);if(void 0===h&&e)return;if(!a&&h)return n();n(!0);return n(a)}return h||""};return n()}function g(a,d){for(var b=0;b<a.length;b++)":"!==a[b]&&"?"!==a[b]&&"?"!==a[b+1]&&d(a[b],b)}var k=c.config&&c.config()||{},f=/[\?:]|[^:\?]+/g,a=function(a){var b=function(){return this}();return"function"===typeof k[a]?k[a]=k[a](b):k[a]};a.cache=k;a.add=
function(b,d,e,c){if(!a("builder"))return("undefined"===typeof k[b]||c)&&(k[b]=d),e&&a(b)};a.normalize=function(a,d){var b=a.match(f);g(b,function(a,e){b[e]=d(a)});return b.join("")};a.load=function(b,d,e,c){c=c||{};b?(b=m(b,a,c.isBuild))?d([b],e):e():e()};a.addModules=function(b,d,e){var c=[];(b=m(d,a,!0))?c.push(b):"undefined"===typeof b&&(d=d.match(f),g(d,function(a){c.push(a)}));e(c)};return a});
define("xdeliteful/TabBar","dcl/dcl delite/register ./Bar deliteful/ToggleButton deliteful/Button requirejs-dplugins/jquery!attributes/classes".split(" "),function(c,m,g,k,f,a){return m("d-tab-bar",[HTMLElement,g],{baseClass:"d-tab-bar",viewStack:null,toggle:k,preRender:function(){a(this).addClass(g._ctor.prototype.baseClass)},refreshRendering:function(b){if(!this.viewStack)this.viewStack=a("#"+a(this).attr("viewStack"))[0];else if(_.isString(this.viewStack)){var d=a("#"+a(this).attr("viewStack"))[0];
d&&(this.viewStack=d)}if(this.viewStack&&this.viewStack.children&&"viewStack"in b){for(b=0;b<this.viewStack.children.length;b++)this.renderTabButton(this.viewStack.children[b]);this.viewStack.on("delite-add-child",function(a){console.error("add child");this.renderTabButton(a.child)}.bind(this));this.viewStack.on("delite-after-show",function(){this.getChildren().forEach(function(a){a._update()})}.bind(this))}},createTabButton:function(a){return new this.toggle({label:a.label,iconClass:a.getAttribute("iconClass")})},
renderTabButton:function(a){var b=this.createTabButton(a),e=this;b._update=function(){this.checked=e.viewStack._visibleChild===a};b._update();b.on("click",function(){console.log("show");e.viewStack.show(a)});this.appendChild(b)}})});
define("xdeliteful/Bar",["dcl/dcl","delite/register","delite/Widget","requirejs-dplugins/jquery!attributes/classes","delite/theme!xdeliteful/Bar/themes/Bar.css"],function(c,m,g,k){return m("d-bar",[HTMLElement,g],{baseClass:"d-bar",vertical:!1,render:c.advise({before:function(){for(var c=this._srcDom=this.ownerDocument.createDocumentFragment();this.firstChild;)c.appendChild(this.firstChild)},after:function(){this._childArray=[];for(var c,a=this._srcDom.children||this._srcDom.querySelectorAll("*"),
b=a.length-1;0<=b;b--)c=this._setupHolder(a[b]),this.appendChild(c);k(this).addClass(this.vertical?"d-bar-v":"d-bar-h")}}),_setupHolder:function(c){this._childArray=this._childArray||[];var a=this.ownerDocument.createElement("div");this._childArray.push(c);a.appendChild(c);return a},appendChild:c.superCall(function(c){return function(a){if(this.created){var b=this._setupHolder(a);c.call(this,b);return a}return c.call(this,a)}}),insertBefore:c.superCall(function(c){return function(a,b){if(this.created){b=
this._childArray.indexOf(b);b=this.children[b];var d=this._setupHolder(a);c.call(this,d,b);this.onAddChild(a);return a}return c.call(this,a,b)}}),refreshRendering:function(c){"vertical"in c&&(k(this).toggleClass("d-bar-v",this.vertical),k(this).toggleClass("d-bar-h",!this.vertical))},onAddChild:function(c){this.attached&&c.attachedCallback&&c.attachedCallback()},addChild:function(c,a){this.insertBefore(c,this._childArray[a]||null)},removeChild:function(c){"number"===typeof c&&(c=this.getChildren()[c]);
this.contains(c)?HTMLElement.prototype.removeChild.call(this,c):console.warn("no me")},getChildren:function(){return this._childArray},hasChildren:function(){return 0<this.getChildren().length},getIndexOfChild:function(c){return this.getChildren().indexOf(c)}})});
define("dojo/selector/_loader",["../has","require"],function(c,m){var g=document.createElement("div");c.add("dom-qsa2.1",!!g.querySelectorAll);c.add("dom-qsa3",function(){try{return g.innerHTML="<p class='TEST'></p>",1==g.querySelectorAll(".TEST:empty").length}catch(f){}});var k;return{load:function(f,a,b,d){d=m;f="default"==f?c("config-selectorEngine")||"css3":f;f="css2"==f||"lite"==f?"./lite":"css2.1"==f?c("dom-qsa2.1")?"./lite":"./acme":"css3"==f?c("dom-qsa3")?"./lite":"./acme":"acme"==f?"./acme":
(d=a)&&f;if("?"==f.charAt(f.length-1)){f=f.substring(0,f.length-1);var e=!0}if(e&&(c("dom-compliant-qsa")||k))return b(k);d([f],function(a){"./lite"!=f&&(k=a);b(a)})}}});define("delite/handlebars!deliteful/list/List/List.html",["delite/handlebars","deliteful/ProgressIndicator"],function(c){return c.compile('<template>\n\t<div class="d-list-container" attach-point="containerNode" aria-busy="{{_busy}}" role="{{type}}" d-shown="{{this._displayedPanel === \'list\'}}" on-click="{{handleSelection}}" tabindex="{{tabIndex}}"></div>\n\t<div class="d-list-no-items" d-shown="{{this._displayedPanel === \'no-items\'}}" attach-point="noItemsNode">\n\t\t<div class="d-list-no-item-info">{{noItemsInfo}}</div>\n\t</div>\n\t<div class="d-list-loading-panel" attach-point="loadingIndicatorNode" d-shown="{{this._displayedPanel === \'loading-panel\'}}" aria-hidden="{{!this._busy}}" aria-labelledby="loadingIndicatorLabel-{{widgetId}}">\n\t\t<div class="d-list-loading-panel-info">\n\t\t\t<d-progress-indicator active="{{_busy}}"></d-progress-indicator>\n\t\t\t<div class="d-list-loading-panel-info-label" id="loadingIndicatorLabel-{{widgetId}}" attach-point="loadingIndicatorLabel">{{loadingMessage}}</div>\n\t\t</div>\n\t</div>\n</template>')});
define("deliteful/list/List","dcl/dcl delite/Widget delite/register requirejs-dplugins/jquery!attributes/classes delite/CustomElement delite/Selection delite/KeyNav delite/StoreMap delite/Scrollable ./ItemRenderer ./CategoryRenderer delite/handlebars!./List/List.html requirejs-dplugins/i18n!./List/nls/List delite/theme!./List/themes/{{theme}}/List.css".split(" "),function(c,m,g,k,f,a,b,d,e,h,l,n,p){m=g.dcl(m,{tabIndex:0});return g("d-list",[HTMLElement,a,b,d,e,m],{itemRenderer:h,categoryRenderer:l,
labelAttr:"label",iconclassAttr:"iconclass",righttextAttr:"righttext",righticonclassAttr:"righticonclass",categoryAttr:"",categoryFunc:null,baseClass:"d-list",multiCharSearchDuration:0,showNoItems:!1,noItemsInfo:p["no-items-info"],_busy:!1,type:"grid",_displayedPanel:"",template:n,_setScrollDirectionAttr:function(a){if("vertical"!==a&&"none"!==a)throw new TypeError("'"+a+"' not supported for scrollDirection, keeping the previous value of '"+this.scrollDirection+"'");this._set("scrollDirection",a)},
_setSelectionModeAttr:c.superCall(function(a){return function(b){if("listbox"!==this.type&&"list"!==this.type||"none"!==b)a.apply(this,arguments);else throw new TypeError("selectionMode 'none' is invalid for an aria listbox/list, keeping the previous value of '"+this.selectionMode+"'");}}),setAttribute:c.superCall(function(a){return function(b,d){/^aria-/.test(b)&&this.containerNode?this.containerNode.setAttribute(b,d):a.call(this,b,d)}}),getAttribute:c.superCall(function(a){return function(b){return/^aria-/.test(b)&&
this.containerNode?this.containerNode.getAttribute(b):a.call(this,b)}}),hasAttribute:c.superCall(function(a){return function(b){return/^aria-/.test(b)&&this.containerNode?this.containerNode.hasAttribute(b):a.call(this,b)}}),removeAttribute:c.superCall(function(a){return function(b){/^aria-/.test(b)&&this.containerNode?this.containerNode.removeAttribute(b):a.call(this,b)}}),selectionMode:"none",loadingMessage:"",_cssClasses:{cell:"d-list-cell",selected:"d-selected",selectable:"d-selectable",multiselectable:"d-multiselectable"},
createdCallback:function(){this.on("query-error",function(){this._busy=!1}.bind(this))},queryStoreAndInitItems:c.superCall(function(a){return function(){this._busy=!0;a.apply(this,arguments)}}),refreshRendering:function(a,b){if("selectionMode"in a)if(k(this.containerNode).removeClass(this._cssClasses.selectable),k(this.containerNode).removeClass(this._cssClasses.multiselectable),this.containerNode.removeAttribute("aria-multiselectable"),"none"===this.selectionMode)for(var d=0;d<this.containerNode.children.length;d++){var e=
this.containerNode.children[d];e.renderNode&&e.renderNode.hasAttribute("aria-selected")&&(e.renderNode.removeAttribute("aria-selected"),k(e).removeClass(this._cssClasses.selected))}else if("single"===this.selectionMode||"radio"===this.selectionMode?k(this.containerNode).addClass(this._cssClasses.selectable):(k(this.containerNode).addClass(this._cssClasses.multiselectable),this.containerNode.setAttribute("aria-multiselectable","true")),"grid"===this.type||"listbox"===this.type)for(d=0;d<this.containerNode.children.length;d++)e=
this.containerNode.children[d],e.tagName.toLowerCase()===this.itemRenderer.tag&&e.renderNode&&!e.renderNode.hasAttribute("aria-selected")&&(e.renderNode.setAttribute("aria-selected","false"),k(e).removeClass(this._cssClasses.selected));"type"in a&&(this.getRenderers().forEach(function(a){a.parentRole=this.type;a.deliver&&a.deliver()}.bind(this)),"grid"===this.type?this.containerNode.setAttribute("aria-readonly",!0):this.containerNode.removeAttribute("aria-readonly"));("renderItems"in a&&this.renderItems||
"_displayedPanel"in a)&&!b&&this.emit("delite-size-change")},computeProperties:function(a){("itemRenderer"in a||this._isCategorized()&&("categoryAttr"in a||"categoryFunc"in a||"categoryRenderer"in a))&&this._dataLoaded&&(this._busy=!0,this.notifyCurrentValue("source"));if("renderItems"in a&&this.renderItems||"_busy"in a||"showNoItems"in a)this._displayedPanel=this._busy?"loading-panel":this.containerNode&&0<this.containerNode.children.length?"list":this.showNoItems?"no-items":"none"},postRender:function(){for(var a=
0;a<this.attributes.length;a++)/^aria-/.test(this.attributes[a].name)&&(this.containerNode.setAttribute(this.attributes[a].name,this.attributes[a].value),HTMLElement.prototype.removeAttribute.call(this,this.attributes[a].name))},destroy:function(){this.source&&this.source.list&&(this.source.list=null)},deliver:c.superCall(function(a){return function(){a.apply(this,arguments);this.getRenderers().forEach(function(a){a.deliver&&a.deliver()})}}),getRenderers:function(){return[].slice.call(this.containerNode?
this.containerNode.childNodes:[])},getItemAndCategoryRenderers:function(){return Array.prototype.filter.call(this.containerNode.childNodes,function(a){return a.tagName.toLowerCase()===this.itemRenderer.tag||a.tagName.toLowerCase()===this.categoryRenderer.tag},this)},getItemRenderers:function(){return Array.prototype.filter.call(this.containerNode.childNodes,function(a){return a.tagName.toLowerCase()===this.itemRenderer.tag},this)},getRendererByItemId:function(a){for(var b=this.getItemRenderers(),
d=0;d<b.length;d++){var e=b[d];if(this.getIdentity(e.item)===a)return e}return null},getItemRendererByIndex:function(a){return this.getItemRenderers()[a]||null},getItemRendererIndex:function(a){var b=-1;if(a.item){a=this.getIdentity(a.item);for(var d=this.getItemRenderers(),e=0;e<d.length;e++)if(this.getIdentity(d[e].item)===a){b=e;break}}return b},getEnclosingRenderer:function(a){for(;a&&(!a.parentNode||a.parentNode!==this.containerNode);)a=a.parentNode;return a},updateRenderers:function(a){if("none"!==
this.selectionMode)for(var b=0;b<a.length;b++){var d=a[b],e=this.getRendererByItemId(this.getIdentity(d));e&&(d=!!this.isSelected(d),"grid"!==this.type&&"listbox"!==this.type||e.renderNode.setAttribute("aria-selected",d?"true":"false"),k(e).toggleClass(this._cssClasses.selected,d))}},hasSelectionModifier:function(a){return!0},handleSelection:function(a){var b=this.getEnclosingRenderer(a.target);return b?(this.isCategoryRenderer(b)||this.selectFromEvent(a,b.item,b,!0),!0):!1},_isCategorized:function(){return this.categoryAttr||
this.categoryFunc},_empty:function(){this.findCustomElements(this.containerNode).forEach(function(a){a.destroy&&a.destroy()});this.containerNode.innerHTML="";this._previousFocusedChild=null},_renderNewItems:function(a,b){this.containerNode.firstElementChild?b?(this._isCategorized()&&(b=this._getFirstRenderer(),this.isCategoryRenderer(b)&&a[a.length-1].category===b.item.category&&this._removeRenderer(b)),this.containerNode.insertBefore(this._createRenderers(a,0,a.length,null),this.containerNode.firstElementChild)):
this.containerNode.appendChild(this._createRenderers(a,0,a.length,this._getLastRenderer().item)):this.containerNode.appendChild(this._createRenderers(a,0,a.length,null));this.findCustomElements(this.containerNode).forEach(function(a){a.attachedCallback()})},_createRenderers:function(a,b,d,e){var c=b;d=b+d-1;for(var h=this.ownerDocument.createDocumentFragment();c<=d;c++)b=a[c],!this._isCategorized()||e&&b.category===e.category||h.appendChild(this._createCategoryRenderer(b)),h.appendChild(this._createItemRenderer(b)),
e=b;return h},_addItemRenderer:function(a,b){b=this._getInsertSpec(a,b);if(b.nodeRef){if(this.containerNode.insertBefore(a,b.nodeRef),b.addCategoryAfter){var d=this._createCategoryRenderer(b.nodeRef.item);this.containerNode.insertBefore(d,b.nodeRef);d.attachedCallback()}}else this.containerNode.appendChild(a);b.addCategoryBefore&&(d=this._createCategoryRenderer(a.item),this.containerNode.insertBefore(d,a),d.attachedCallback());a.attachedCallback()},_getInsertSpec:function(a,b){b={nodeRef:0<=b?this.getItemRendererByIndex(b):
null,addCategoryBefore:!1,addCategoryAfter:!1};if(this._isCategorized()){var d=b.nodeRef?this._getNextRenderer(b.nodeRef,-1):this._getLastRenderer();if(!d)b.addCategoryBefore=!0;else if(!this._sameCategory(a,d))if(this.isCategoryRenderer(d)){if(b.nodeRef=d,d=this._getNextRenderer(d,-1),!d||d&&!this._sameCategory(a,d))b.addCategoryBefore=!0}else b.addCategoryBefore=!0;!b.nodeRef||this.isCategoryRenderer(b.nodeRef)||this._sameCategory(b.nodeRef,a)||(b.addCategoryAfter=!0)}return b},_removeRenderer:function(a,
b){if(this._isCategorized()&&!this.isCategoryRenderer(a)){var d=this._getNextRenderer(a,-1);if(d&&this.isCategoryRenderer(d)){var e=this._getNextRenderer(a,1);e&&this._sameCategory(a,e)||this._removeRenderer(d)}}this._getFocusedRenderer()===a&&(d=this._getNextRenderer(a,1)||this._getNextRenderer(a,-1))&&this.navigateTo(d.renderNode);b||this.isCategoryRenderer(a)||!this.isSelected(a.item)||this.selectFromEvent(null,a.item,a,!0);this._previousFocusedChild&&this.getEnclosingRenderer(this._previousFocusedChild)===
a&&(this._previousFocusedChild=null);this.containerNode.removeChild(a);a.destroy()},_createItemRenderer:function(a){var b=new this.itemRenderer({item:a,parentRole:this.type,tabindex:"-1"});"none"===this.selectionMode||"grid"!==this.type&&"listbox"!==this.type||(a=!!this.isSelected(a),b.renderNode.setAttribute("aria-selected",a?"true":"false"),k(b).toggleClass(this._cssClasses.selected,a));return b},_createCategoryRenderer:function(a){return new this.categoryRenderer({item:a,parentRole:this.type,tabindex:"-1"})},
isCategoryRenderer:function(a){return a.tagName.toLowerCase()===this.categoryRenderer.tag},_sameCategory:function(a,b){return a.item.category===b.item.category},_getNextRenderer:function(a,b){return 0<=b?a.nextElementSibling:a.previousElementSibling},_getFirstRenderer:function(){return this.getItemAndCategoryRenderers()[0]||null},_getLastRenderer:function(){var a=this.getItemAndCategoryRenderers();return a[a.length-1]||null},initItems:c.superCall(function(a){return function(b){this._empty();this._renderNewItems(b,
!1);this._busy=!1;this._dataLoaded=!0;return a.call(this,b)}}),itemRemoved:function(a,b,d){(a=this.getItemRendererByIndex(a))&&this._removeRenderer(a,d);this.notifyCurrentValue("renderItems")},itemAdded:function(a,b,d){b=this._createItemRenderer(b);this._addItemRenderer(b,a);this.notifyCurrentValue("renderItems")},itemUpdated:function(a,b,d){if(a=this.getItemRendererByIndex(a))a.item=b},itemMoved:function(a,b,d,e){this.itemRemoved(a,e,!0);this.itemAdded(b,d,e)},getTopDistance:function(a){return Math.round(a.offsetTop-
this.getCurrentScroll().y)},getBottomDistance:function(a){var b=this.getBoundingClientRect();return Math.round(a.offsetTop+a.offsetHeight-this.getCurrentScroll().y-(b.bottom-b.top))},descendantSelector:function(a){var b=this.getEnclosingRenderer(a);return b&&("grid"===this.type||!this.isCategoryRenderer(b))&&(k(a).hasClass(this._cssClasses.cell)||a.hasAttribute("navindex"))},_keynavKeyDownHandler:c.before(function(a){a.defaultPrevented||("Spacebar"!==a.key||this._searchTimer?"grid"===this.type&&this._gridKeydownHandler(a):
this._spaceKeydownHandler(a))}),focus:function(){if(this._previousFocusedChild)this.navigateTo(this._previousFocusedChild);else{var a=this._getFirst();if(a){for(;a&&!(0<=this.getTopDistance(a));)a=(a=a.parentNode.nextElementSibling)?a.renderNode:null;this.navigateTo(a)}}},focusoutHandler:c.superCall(function(a){return function(b){this.contains(b.relatedTarget)||(this._previousFocusedChild=this.navigatedDescendant);a.apply(this,arguments)}}),_getFirst:function(){var a=this.containerNode.childNodes[0],
b=a&&a.renderNode;"grid"!==this.type&&a&&this.isCategoryRenderer(a)&&(b=this.getNext(b,1));return b},_getLast:function(){var a=this.containerNode.childNodes[this.containerNode.childNodes.length-1],b=a&&a.renderNode;"grid"!==this.type&&a&&this.isCategoryRenderer(a)&&(b=this.getNext(b,-1));return b||null},getNext:function(a,b){if(a===this.containerNode)return 0<b?this._getFirst():this._getLast();a=this.getEnclosingRenderer(a);return 0<b?a.nextElementSibling?a.nextElementSibling.renderNode:this._getFirst():
a.previousElementSibling?a.previousElementSibling.renderNode:this._getLast()},downKeyHandler:function(a){if(!this.navigatedDescendant||!this.navigatedDescendant.hasAttribute("navindex")){var b=this._getFocusedRenderer(),d=null;b&&(d=b.nextElementSibling)&&"grid"!==this.type&&this.isCategoryRenderer(d)&&(d=d.nextElementSibling);this.navigateTo(d?d.renderNode:this._getFirst(),!1,a)}},upKeyHandler:function(a){if(!this.navigatedDescendant||!this.navigatedDescendant.hasAttribute("navindex")){var b=this._getFocusedRenderer(),
d=null;b&&(d=b.previousElementSibling)&&"grid"!==this.type&&this.isCategoryRenderer(d)&&(d=d.previousElementSibling);this.navigateTo(d?d.renderNode:this._getLast(),!1,a)}},pageUpKeyHandler:function(a){this.navigateToFirst(a)},pageDownKeyHandler:function(a){this.navigateToLast(a)},_spaceKeydownHandler:function(a){if("none"!==this.selectionMode&&this.getEnclosingRenderer(a.target)){a.preventDefault();var b=this.on("keyup",function(a){b.remove();this.handleSelection(a)}.bind(this))}},_gridKeydownHandler:function(a){if(this.navigatedDescendant&&
this.navigatedDescendant.hasAttribute("navindex"))if("Tab"===a.key){a.preventDefault();a.stopPropagation();for(var b=this._getFocusedRenderer(),d=b[a.shiftKey?"getPrev":"getNext"](this.navigatedDescendant);!d;)b=b[a.shiftKey?"previousElementSibling":"nextElementSibling"]||this[a.shiftKey?"_getLast":"_getFirst"]().parentNode,d=b[a.shiftKey?"getLast":"getFirst"]();this.navigateTo(d)}else"Escape"===a.key&&(a.preventDefault(),a.stopPropagation(),this._leaveActionableMode());else if("Enter"===a.key||"F2"===
a.key)a.preventDefault(),a.stopPropagation(),this._enterActionableMode()},_enterActionableMode:function(){var a=this._getFocusedRenderer();a&&(a=a.getFirst())&&this.navigateTo(a)},_leaveActionableMode:function(){this.navigateTo(this._getFocusedRenderer().renderNode)},_getFocusedRenderer:function(){return this.navigatedDescendant?this.getEnclosingRenderer(this.navigatedDescendant):null}})});
define("requirejs-dplugins/i18n",["./i18n/common","./i18n/build","module"],function(c,m,g){var k,f,a=c.mixin,b=c.eachProp,d=c.parseName,e=c.getMasterMid,h=function(a){var d={};b(a,function(a,b){b.forEach(function(b){d[b]=a})});return d},l=function(b,d){var e={};b._pseudoRoot&&(e[d]={},a(e,b._pseudoRoot),delete b._pseudoRoot,a(e[d],b),b=e);return b},n=function(b,d,h){var f=e(b);d([f],function(e){var f=function(b,l,n,p){var q=function(d){a(p,d);n=c.getParentLocale(n);!d._flattened&&n?f(b,l,n,p):(p._flattened=
!0,h(p))};!0===e[n]||1===e[n]?d([b+n+"/"+l],q):q(e[n]||{})};e=l(e,b.masterLocale);f(b.prefix,b.suffix,b.requestedLocale,{})})},p=function(a,b,d,e,c,h){for(var l=a.requestedLocale,f=d.localesMap[b];l&&0>f.indexOf(l);)l=e(l);l?(a.masterLocale=l,c([b+"_"+l],function(){q(a,d,c,h)})):(console.log("i18n: no relevant layer "+b+" found for locale "+a.requestedLocale+"."),h())},r=function(a,b,d,e,c,h){var l=function(f){f?c(["maybe!"+b+"_"+f],function(b){b?(a.masterLocale=f,q(a,d,c,h)):l(e(f))}):(console.log("i18n: no relevant layer "+
b+" found for locale "+a.requestedLocale+"."),h())};l(a.requestedLocale)},q=function(a,b,d,c){var h=e(a);a.requestedLocale===a.masterLocale||b.layerOnly||!b.enhanceLayer?d([h],function(a){a.root&&(a=a.root);c(a)}):n(a,d,c)};return{load:function(b,l,f,q){if(b){q=q||{};var t={},u;a(t,"function"===typeof g.config?g.config()||{}:{});q.isBuild?(k=t.localesList,f()):(t.enhanceLayer=void 0===t.enhanceLayer?!0:t.enhanceLayer,b=d(b),b.requestedLocale=b.requestedLocale||c.getLocale(t.locale||q.locale),q=e(b),
t.bundlesMap?(t.bundlesMap=h(t.bundlesMap),u=t.bundlesMap[q],!u&&t.layerOnly?(console.log("i18n: module "+q+" not found in layer."),f()):u?t.languagePack?r(b,u,t,c.getParentLocale,l,f):p(b,u,t,c.getParentLocale,l,f):n(b,l,f)):n(b,l,f))}else f()},write:function(a,b,e){var c=d(b),h;c.requestedLocale?(h=m.resolveSync(c.requestedLocale,c),"root"!==c.requestedLocale&&(h._pseudoRoot={},h._flattened=!0),e.asModule(a+"!"+b,"define("+JSON.stringify(h)+")")):m.addBundleToNlsLayer(c)},writeFile:function(a,b,
d,e){f=e},onLayerEnd:function(a,b){if(b.name&&b.path){var d;m.setLocalesList(k);d=m.getLayersContent();m.writeLayers(d,b,f);m.writeConfig(g.id,b,a)}m.reset()}}});
define("requirejs-dplugins/i18n/build",["./common"],function(c){var m=[],g,k,f=c.mixin,a=c.eachProp,b=c.getMasterMid,d=function(a){k||(a=a.name.match(/^(.*\/)?(.*)$/),k=(a[1]||"")+"nls/"+a[2]);return k},e=function(){g=[];m.forEach(function(d){var e=require(b(d));a(e,function(a){e[a]&&0>g.indexOf(a)&&g.push(a)})});return g},h=function(a,b){a.root=!0===a.root||1===a.root?require(b.prefix+"root/"+b.suffix):a.root;return a},l=function(b){var d={};a(b,function(a){for(var b=c.getParentLocale(a);b&&"root"!==
b;)d[b]=d[b]||{},d[b][a]=!0,b=c.getParentLocale(b)});return d},n=function(a,d,e){var l=a,n={},p;2===arguments.length&&(e=h(require(b(d)),d));if("root"!==l){for(;l&&"root"!==l;)e[l]&&(p=require(d.prefix+l+"/"+d.suffix),f(n,p)),l=c.getParentLocale(l);p=e.root;f(n,p)}else f(n,e);return n};return{addBundleToNlsLayer:function(a){m.push(a)},setLocalesList:function(a){g=a?a.slice():e();0>g.indexOf("root")&&g.push("root")},reset:function(){m=[];k=g=void 0},getLayersContent:function(){var a={};m.forEach(function(d){var e=
h(require(b(d)),d),c=l(e);g.forEach(function(b){var h=n(b,d,e);a[b]=a[b]||"";var l;"root"!==b?(l=d.prefix+b+"/"+d.suffix,h._flattened=!0,h._pseudoRoot=c[b]||{}):l=d.prefix+d.suffix;a[b]+='define("'+l+'",'+JSON.stringify(h)+");"})});return a},writeLayers:function(b,e,c){a(b,function(a,b){b+="define('"+d(e)+"_"+a+"', true);";var h=e.path.match(/^(.*\/)?(.*)\.js$/);c((h[1]||"")+"nls/"+h[2]+"_"+a+".js",b)})},writeConfig:function(a,e,c){var h=m.map(b);e=d(e);var l={config:{}};l.config[a]={bundlesMap:{},
localesMap:{}};l.config[a].bundlesMap[e]=h;l.config[a].localesMap[e]=g;c("require.config("+JSON.stringify(l)+");")},resolveSync:n}});
define("requirejs-dplugins/i18n/common",["./parentLocale"],function(c){var m=/(^.*(?:^|\/)nls\/)([^\/]*)\/?([^\/]*)$/;return{eachProp:function(c,k){for(var f in c)c.hasOwnProperty(f)&&k(f,c[f])},getLocale:function(c){c||(c="undefined"===typeof navigator?"root":navigator.language||navigator.userLanguage||"root");return c.toLowerCase()},getParentLocale:function(g){if(g&&"root"!==g){if(c[g])return c[g];g=g.split("-");g.pop();return 0<g.length?g.join("-"):"root"}},mixin:function k(c,a,b){for(var d in a)!a.hasOwnProperty(d)||
c.hasOwnProperty(d)&&!b?"object"===typeof a[d]&&(!c[d]&&a[d]&&(c[d]={}),k(c[d],a[d],b)):c[d]=a[d]},parseName:function(c){c=c.match(m);return{prefix:c[1],masterLocale:"root",requestedLocale:c[3]?c[2]:null,suffix:c[3]||c[2]}},getMasterMid:function(c){return"root"===c.masterLocale?c.prefix+c.suffix:c.prefix+c.masterLocale+"/"+c.suffix}}});
define("requirejs-dplugins/i18n/parentLocale",{"en-ag":"en-001","en-ai":"en-001","en-bb":"en-001","en-bm":"en-001","en-bs":"en-001","en-bw":"en-001","en-bz":"en-001","en-cc":"en-001","en-ck":"en-001","en-cm":"en-001","en-cx":"en-001","en-dm":"en-001","en-er":"en-001","en-fj":"en-001","en-fm":"en-001","en-gb":"en-001","en-gd":"en-001","en-gh":"en-001","en-gm":"en-001","en-gy":"en-001","en-jm":"en-001","en-ke":"en-001","en-ki":"en-001","en-kn":"en-001","en-ky":"en-001","en-lc":"en-001","en-lr":"en-001",
"en-ls":"en-001","en-mg":"en-001","en-ms":"en-001","en-mu":"en-001","en-mw":"en-001","en-na":"en-001","en-nf":"en-001","en-ng":"en-001","en-nr":"en-001","en-nu":"en-001","en-pg":"en-001","en-ph":"en-001","en-pn":"en-001","en-pw":"en-001","en-rw":"en-001","en-sb":"en-001","en-sc":"en-001","en-sd":"en-001","en-sl":"en-001","en-ss":"en-001","en-sx":"en-001","en-sz":"en-001","en-tc":"en-001","en-tk":"en-001","en-to":"en-001","en-tt":"en-001","en-tv":"en-001","en-tz":"en-001","en-ug":"en-001","en-vc":"en-001",
"en-vu":"en-001","en-ws":"en-001","en-za":"en-001","en-zm":"en-001","en-zw":"en-001","en-150":"en-gb","en-au":"en-gb","en-be":"en-gb","en-dg":"en-gb","en-fk":"en-gb","en-gg":"en-gb","en-gi":"en-gb","en-hk":"en-gb","en-ie":"en-gb","en-im":"en-gb","en-in":"en-gb","en-io":"en-gb","en-je":"en-gb","en-mo":"en-gb","en-mt":"en-gb","en-nz":"en-gb","en-pk":"en-gb","en-sg":"en-gb","en-sh":"en-gb","en-vg":"en-gb","es-ar":"es-419","es-bo":"es-419","es-cl":"es-419","es-co":"es-419","es-cr":"es-419","es-cu":"es-419",
"es-do":"es-419","es-ec":"es-419","es-gt":"es-419","es-hn":"es-419","es-mx":"es-419","es-ni":"es-419","es-pa":"es-419","es-pe":"es-419","es-pr":"es-419","es-py":"es-419","es-sv":"es-419","es-us":"es-419","es-uy":"es-419","es-ve":"es-419","pt-ao":"pt-pt","pt-cv":"pt-pt","pt-gw":"pt-pt","pt-mo":"pt-pt","pt-mz":"pt-pt","pt-st":"pt-pt","pt-tl":"pt-pt","az-cyrl":"root","bs-cyrl":"root","en-dsrt":"root","ha-arab":"root","mn-mong":"root","ms-arab":"root","pa-arab":"root","shi-latn":"root","sr-latn":"root",
"uz-arab":"root","uz-cyrl":"root","vai-latn":"root","zh-hant":"root","zh-hant-mo":"zh-hant-hk"});define("delite/handlebars!deliteful/list/List/CategoryRenderer.html",["delite/handlebars"],function(c){return c.compile('<template>\n\t<div attach-point="renderNode">{{item.category}}</div>\n</template>')});
define("deliteful/list/CategoryRenderer",["delite/register","delite/handlebars!./List/CategoryRenderer.html","./Renderer"],function(c,m,g){return c("d-list-category-renderer",[HTMLElement,g],{baseClass:"d-list-category",template:m,refreshRendering:function(c){"parentRole"in c&&("grid"===this.parentRole?(this.setAttribute("role","row"),this.renderNode.setAttribute("role","columnheader")):(this.removeAttribute("role"),this.renderNode.removeAttribute("tabindex"),this.renderNode.setAttribute("role","heading")))}})});
define("deliteful/list/Renderer",["dcl/dcl","requirejs-dplugins/jquery!attributes/classes","delite/register","delite/Widget"],function(c,m,g,k){return c([k],{item:{},_focusableChildren:null,parentRole:"",render:c.after(function(){if(!this.renderNode)throw Error("render must define a renderNode property on the Renderer. Example using attach-point in a template: <template><div attach-point='renderNode'></div></template>");this.renderNode.tabIndex=-1;m(this.renderNode).addClass("d-list-cell");this.updateFocusableChildren()}),
getFirst:function(){return this._focusableChildren&&this._focusableChildren.length?this._focusableChildren[0]:null},getLast:function(){return this._focusableChildren&&this._focusableChildren.length?this._focusableChildren[this._focusableChildren.length-1]:null},getNext:function(c){return this.getNextFocusableChild(c,1)},getPrev:function(c){return this.getNextFocusableChild(c,-1)},updateFocusableChildren:function(){if(this._focusableChildren)for(var c=0;c<this._focusableChildren.length;c++)delete this._focusableChildren[c].tabIndex;
var a=Array.prototype.slice.call(this.renderNode.querySelectorAll("[navindex]"),0);this._focusableChildren=a.slice(0).sort(function(b,d){var e=parseInt(b.getAttribute("navindex"),10),c=parseInt(d.getAttribute("navindex"),10);return e===c?a.indexOf(b)-a.indexOf(d):e-c});for(c=0;c<this._focusableChildren.length;c++)this._focusableChildren[c].tabIndex=-1},getNextFocusableChild:function(c,a){if(this._focusableChildren&&c!==this)return c=(c?this._focusableChildren.indexOf(c):-1)+a,0<=c&&c<this._focusableChildren.length?
this._focusableChildren[c]:null}})});define("delite/handlebars!deliteful/list/List/ItemRenderer.html",["delite/handlebars"],function(c){return c.compile('<template>\n\t<div attach-point="renderNode">\n\t\t<div class="d-list-item-icon {{item.iconclass}}" aria-hidden="true" role="presentation"></div>\n\t\t<div class="d-list-item-label">{{item.label}}</div>\n\t\t<div class="d-spacer"></div>\n\t\t<div class="d-list-item-right-text">{{item.righttext}}</div>\n\t\t<div class="d-list-item-right-icon {{item.righticonclass}}" aria-hidden="true" role="presentation"></div>\n\t</div>\n</template>')});
define("deliteful/list/ItemRenderer",["delite/register","./Renderer","delite/handlebars!./List/ItemRenderer.html"],function(c,m,g){return c("d-list-item-renderer",[HTMLElement,m],{baseClass:"d-list-item",template:g,refreshRendering:function(c){"parentRole"in c&&("grid"===this.parentRole?(this.setAttribute("role","row"),this.renderNode.setAttribute("role","gridcell")):(this.removeAttribute("role"),this.renderNode.setAttribute("role",{listbox:"option",menu:"menuitem",list:"listitem"}[this.parentRole])))}})});
define("delite/Scrollable",["dcl/dcl","requirejs-dplugins/jquery!attributes/classes,effects","./Widget","./theme!./Scrollable/themes/{{theme}}/Scrollable.css"],function(c,m,g){return c(g,{scrollDirection:"vertical",scrollableNode:null,render:c.after(function(){this.scrollableNode||(this.scrollableNode=this)}),refreshRendering:function(c){"scrollDirection"in c&&m(this.scrollableNode).toggleClass("d-scrollable","none"!==this.scrollDirection).toggleClass("d-scrollable-h",/^(both|horizontal)$/.test(this.scrollDirection)).toggleClass("d-scrollable-v",
/^(both|vertical)$/.test(this.scrollDirection))},detachedCallback:function(){this._stopAnimation()},isTopScroll:function(){return 0===this.scrollableNode.scrollTop},isBottomScroll:function(){var c=this.scrollableNode;return c.offsetHeight+c.scrollTop>=c.scrollHeight},isLeftScroll:function(){return 0===this.scrollableNode.scrollLeft},isRightScroll:function(){var c=this.scrollableNode;return c.offsetWidth+c.scrollLeft>=c.scrollWidth},getCurrentScroll:function(){return{x:this.scrollableNode.scrollLeft,
y:this.scrollableNode.scrollTop}},scrollBy:function(c,f){var a={};void 0!==c.x&&(a.x=this.scrollableNode.scrollLeft+c.x);void 0!==c.y&&(a.y=this.scrollableNode.scrollTop+c.y);this.scrollTo(a,f)},scrollTo:function(c,f){var a=this.scrollableNode;this._stopAnimation();if(!f||0>=f)void 0!==c.x&&(a.scrollLeft=c.x),void 0!==c.y&&(a.scrollTop=c.y);else{var b=this;b._animation=m({x:void 0!==c.x?a.scrollLeft:void 0,y:void 0!==c.y?a.scrollTop:void 0}).animate(c,{duration:f,rate:20,step:function(){void 0!==
this.x&&(a.scrollLeft=this.x);void 0!==this.y&&(a.scrollTop=this.y)},complete:function(){void 0!==this.x&&(a.scrollLeft=this.x);void 0!==this.y&&(a.scrollTop=this.y);delete b._animation}})}},_stopAnimation:function(){this._animation&&this._animation.stop()}})});
define("jquery/src/effects","./core ./var/document ./var/rcssNum ./var/rnothtmlwhite ./css/var/cssExpand ./css/var/isHiddenWithinTree ./css/var/swap ./css/adjustCSS ./data/var/dataPriv ./css/showHide ./core/init ./queue ./deferred ./traversing ./manipulation ./css ./effects/Tween".split(" "),function(c,m,g,k,f,a,b,d,e,h){function l(){v&&(window.requestAnimationFrame(l),c.fx.tick())}function n(){window.setTimeout(function(){u=void 0});return u=c.now()}function p(a,b){var d,e=0,c={height:a};for(b=b?
1:0;4>e;e+=2-b)d=f[e],c["margin"+d]=c["padding"+d]=a;b&&(c.opacity=c.width=a);return c}function r(a,b,d){for(var e,c=(t.tweeners[b]||[]).concat(t.tweeners["*"]),h=0,l=c.length;h<l;h++)if(e=c[h].call(d,b,a))return e}function q(a,b){var d,e,h,l,f;for(d in a)if(e=c.camelCase(d),h=b[e],l=a[d],Array.isArray(l)&&(h=l[1],l=a[d]=l[0]),d!==e&&(a[e]=l,delete a[d]),(f=c.cssHooks[e])&&"expand"in f)for(d in l=f.expand(l),delete a[e],l)d in a||(a[d]=l[d],b[d]=h);else b[e]=h}function t(a,b,d){var e,h=0,l=t.prefilters.length,
f=c.Deferred().always(function(){delete p.elem}),p=function(){if(e)return!1;for(var b=u||n(),b=Math.max(0,k.startTime+k.duration-b),d=1-(b/k.duration||0),c=0,h=k.tweens.length;c<h;c++)k.tweens[c].run(d);f.notifyWith(a,[k,d,b]);if(1>d&&h)return b;h||f.notifyWith(a,[k,1,0]);f.resolveWith(a,[k]);return!1},k=f.promise({elem:a,props:c.extend({},b),opts:c.extend(!0,{specialEasing:{},easing:c.easing._default},d),originalProperties:b,originalOptions:d,startTime:u||n(),duration:d.duration,tweens:[],createTween:function(b,
d){b=c.Tween(a,k.opts,b,d,k.opts.specialEasing[b]||k.opts.easing);k.tweens.push(b);return b},stop:function(b){var d=0,c=b?k.tweens.length:0;if(e)return this;for(e=!0;d<c;d++)k.tweens[d].run(1);b?(f.notifyWith(a,[k,1,0]),f.resolveWith(a,[k,b])):f.rejectWith(a,[k,b]);return this}});d=k.props;for(q(d,k.opts.specialEasing);h<l;h++)if(b=t.prefilters[h].call(k,a,d,k.opts))return c.isFunction(b.stop)&&(c._queueHooks(k.elem,k.opts.queue).stop=c.proxy(b.stop,b)),b;c.map(d,r,k);c.isFunction(k.opts.start)&&
k.opts.start.call(a,k);k.progress(k.opts.progress).done(k.opts.done,k.opts.complete).fail(k.opts.fail).always(k.opts.always);c.fx.timer(c.extend(p,{elem:a,anim:k,queue:k.opts.queue}));return k}var u,v,x=/^(?:toggle|show|hide)$/,w=/queueHooks$/;c.Animation=c.extend(t,{tweeners:{"*":[function(a,b){var e=this.createTween(a,b);d(e.elem,a,g.exec(b),e);return e}]},tweener:function(a,b){c.isFunction(a)?(b=a,a=["*"]):a=a.match(k);for(var d,e=0,h=a.length;e<h;e++)d=a[e],t.tweeners[d]=t.tweeners[d]||[],t.tweeners[d].unshift(b)},
prefilters:[function(b,d,l){var f,n,p,q,k,g,t;t="width"in d||"height"in d;var u=this,m={},v=b.style,w=b.nodeType&&a(b),y=e.get(b,"fxshow");l.queue||(q=c._queueHooks(b,"fx"),null==q.unqueued&&(q.unqueued=0,k=q.empty.fire,q.empty.fire=function(){q.unqueued||k()}),q.unqueued++,u.always(function(){u.always(function(){q.unqueued--;c.queue(b,"fx").length||q.empty.fire()})}));for(f in d)if(n=d[f],x.test(n)){delete d[f];p=p||"toggle"===n;if(n===(w?"hide":"show"))if("show"===n&&y&&void 0!==y[f])w=!0;else continue;
m[f]=y&&y[f]||c.style(b,f)}if((d=!c.isEmptyObject(d))||!c.isEmptyObject(m))for(f in t&&1===b.nodeType&&(l.overflow=[v.overflow,v.overflowX,v.overflowY],g=y&&y.display,null==g&&(g=e.get(b,"display")),t=c.css(b,"display"),"none"===t&&(g?t=g:(h([b],!0),g=b.style.display||g,t=c.css(b,"display"),h([b]))),("inline"===t||"inline-block"===t&&null!=g)&&"none"===c.css(b,"float")&&(d||(u.done(function(){v.display=g}),null==g&&(t=v.display,g="none"===t?"":t)),v.display="inline-block")),l.overflow&&(v.overflow=
"hidden",u.always(function(){v.overflow=l.overflow[0];v.overflowX=l.overflow[1];v.overflowY=l.overflow[2]})),d=!1,m)d||(y?"hidden"in y&&(w=y.hidden):y=e.access(b,"fxshow",{display:g}),p&&(y.hidden=!w),w&&h([b],!0),u.done(function(){w||h([b]);e.remove(b,"fxshow");for(f in m)c.style(b,f,m[f])})),d=r(w?y[f]:0,f,u),f in y||(y[f]=d.start,w&&(d.end=d.start,d.start=0))}],prefilter:function(a,b){b?t.prefilters.unshift(a):t.prefilters.push(a)}});c.speed=function(a,b,d){var e=a&&"object"===typeof a?c.extend({},
a):{complete:d||!d&&b||c.isFunction(a)&&a,duration:a,easing:d&&b||b&&!c.isFunction(b)&&b};c.fx.off||m.hidden?e.duration=0:"number"!==typeof e.duration&&(e.duration=e.duration in c.fx.speeds?c.fx.speeds[e.duration]:c.fx.speeds._default);if(null==e.queue||!0===e.queue)e.queue="fx";e.old=e.complete;e.complete=function(){c.isFunction(e.old)&&e.old.call(this);e.queue&&c.dequeue(this,e.queue)};return e};c.fn.extend({fadeTo:function(b,d,e,c){return this.filter(a).css("opacity",0).show().end().animate({opacity:d},
b,e,c)},animate:function(a,b,d,h){var l=c.isEmptyObject(a),f=c.speed(b,d,h);b=function(){var b=t(this,c.extend({},a),f);(l||e.get(this,"finish"))&&b.stop(!0)};b.finish=b;return l||!1===f.queue?this.each(b):this.queue(f.queue,b)},stop:function(a,b,d){var h=function(a){var b=a.stop;delete a.stop;b(d)};"string"!==typeof a&&(d=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,l=null!=a&&a+"queueHooks",f=c.timers,n=e.get(this);if(l)n[l]&&n[l].stop&&h(n[l]);else for(l in n)n[l]&&
n[l].stop&&w.test(l)&&h(n[l]);for(l=f.length;l--;)f[l].elem!==this||null!=a&&f[l].queue!==a||(f[l].anim.stop(d),b=!1,f.splice(l,1));!b&&d||c.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b,d=e.get(this),h=d[a+"queue"];b=d[a+"queueHooks"];var l=c.timers,f=h?h.length:0;d.finish=!0;c.queue(this,a,[]);b&&b.stop&&b.stop.call(this,!0);for(b=l.length;b--;)l[b].elem===this&&l[b].queue===a&&(l[b].anim.stop(!0),l.splice(b,1));for(b=0;b<f;b++)h[b]&&h[b].finish&&h[b].finish.call(this);
delete d.finish})}});c.each(["toggle","show","hide"],function(a,b){var d=c.fn[b];c.fn[b]=function(a,e,c){return null==a||"boolean"===typeof a?d.apply(this,arguments):this.animate(p(b,!0),a,e,c)}});c.each({slideDown:p("show"),slideUp:p("hide"),slideToggle:p("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){c.fn[a]=function(a,d,e){return this.animate(b,a,d,e)}});c.timers=[];c.fx.tick=function(){var a,b=0,d=c.timers;for(u=c.now();b<d.length;b++)a=
d[b],a()||d[b]!==a||d.splice(b--,1);d.length||c.fx.stop();u=void 0};c.fx.timer=function(a){var b=c.timers.push(a)-1,d=c.timers;a()?c.fx.start():d[b]===a&&d.splice(b--,1)};c.fx.interval=13;c.fx.start=function(){v||(v=window.requestAnimationFrame?window.requestAnimationFrame(l):window.setInterval(c.fx.tick,c.fx.interval))};c.fx.stop=function(){window.cancelAnimationFrame?window.cancelAnimationFrame(v):window.clearInterval(v);v=null};c.fx.speeds={slow:600,fast:200,_default:400};return c});
define("jquery/src/effects/Tween",["../core","../css"],function(c){function m(c,k,f,a,b){return new m.prototype.init(c,k,f,a,b)}c.Tween=m;m.prototype={constructor:m,init:function(g,k,f,a,b,d){this.elem=g;this.prop=f;this.easing=b||c.easing._default;this.options=k;this.start=this.now=this.cur();this.end=a;this.unit=d||(c.cssNumber[f]?"":"px")},cur:function(){var c=m.propHooks[this.prop];return c&&c.get?c.get(this):m.propHooks._default.get(this)},run:function(g){var k,f=m.propHooks[this.prop];this.pos=
this.options.duration?k=c.easing[this.easing](g,this.options.duration*g,0,1,this.options.duration):k=g;this.now=(this.end-this.start)*k+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);f&&f.set?f.set(this):m.propHooks._default.set(this);return this}};m.prototype.init.prototype=m.prototype;m.propHooks={_default:{get:function(g){return 1!==g.elem.nodeType||null!=g.elem[g.prop]&&null==g.elem.style[g.prop]?g.elem[g.prop]:(g=c.css(g.elem,g.prop,""))&&"auto"!==g?g:0},set:function(g){if(c.fx.step[g.prop])c.fx.step[g.prop](g);
else 1!==g.elem.nodeType||null==g.elem.style[c.cssProps[g.prop]]&&!c.cssHooks[g.prop]?g.elem[g.prop]=g.now:c.style(g.elem,g.prop,g.now+g.unit)}}};m.propHooks.scrollTop=m.propHooks.scrollLeft={set:function(c){c.elem.nodeType&&c.elem.parentNode&&(c.elem[c.prop]=c.now)}};c.easing={linear:function(c){return c},swing:function(c){return.5-Math.cos(c*Math.PI)/2},_default:"swing"};c.fx=m.prototype.init;c.fx.step={}});
define("jquery/src/css","./core ./var/pnum ./core/access ./css/var/rmargin ./var/document ./var/rcssNum ./css/var/rnumnonpx ./css/var/cssExpand ./css/var/getStyles ./css/var/swap ./css/curCSS ./css/adjustCSS ./css/addGetHookIf ./css/support ./core/init ./core/ready ./selector".split(" "),function(c,m,g,k,f,a,b,d,e,h,l,n,p,r){function q(a){if(a in z)return a;for(var b=a[0].toUpperCase()+a.slice(1),d=A.length;d--;)if(a=A[d]+b,a in z)return a}function t(b,d,e){return(b=a.exec(d))?Math.max(0,b[2]-(e||
0))+(b[3]||"px"):d}function u(a,b,e,h,l){var f=0;for(b=e===(h?"border":"content")?4:"width"===b?1:0;4>b;b+=2)"margin"===e&&(f+=c.css(a,e+d[b],!0,l)),h?("content"===e&&(f-=c.css(a,"padding"+d[b],!0,l)),"margin"!==e&&(f-=c.css(a,"border"+d[b]+"Width",!0,l))):(f+=c.css(a,"padding"+d[b],!0,l),"padding"!==e&&(f+=c.css(a,"border"+d[b]+"Width",!0,l)));return f}function v(a,d,h){var f,n=!0,p=e(a),q="border-box"===c.css(a,"boxSizing",!1,p);a.getClientRects().length&&(f=a.getBoundingClientRect()[d]);if(0>=
f||null==f){f=l(a,d,p);if(0>f||null==f)f=a.style[d];if(b.test(f))return f;n=q&&(r.boxSizingReliable()||f===a.style[d]);f=parseFloat(f)||0}return f+u(a,d,h||(q?"border":"content"),n,p)+"px"}var x=/^(none|table(?!-c[ea]).+)/,w={position:"absolute",visibility:"hidden",display:"block"},y={letterSpacing:"0",fontWeight:"400"},A=["Webkit","Moz","ms"],z=f.createElement("div").style;c.extend({cssHooks:{opacity:{get:function(a,b){if(b)return a=l(a,"opacity"),""===a?"1":a}}},cssNumber:{animationIterationCount:!0,
columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(b,d,e,h){if(b&&3!==b.nodeType&&8!==b.nodeType&&b.style){var l,f,p,k=c.camelCase(d),g=b.style;d=c.cssProps[k]||(c.cssProps[k]=q(k)||k);p=c.cssHooks[d]||c.cssHooks[k];if(void 0!==e)f=typeof e,"string"===f&&(l=a.exec(e))&&l[1]&&(e=n(b,d,l),f="number"),null!=e&&e===e&&("number"===f&&(e+=l&&l[3]||(c.cssNumber[k]?"":
"px")),r.clearCloneStyle||""!==e||0!==d.indexOf("background")||(g[d]="inherit"),p&&"set"in p&&void 0===(e=p.set(b,e,h))||(g[d]=e));else return p&&"get"in p&&void 0!==(l=p.get(b,!1,h))?l:g[d]}},css:function(a,b,d,e){var h,f;f=c.camelCase(b);b=c.cssProps[f]||(c.cssProps[f]=q(f)||f);(f=c.cssHooks[b]||c.cssHooks[f])&&"get"in f&&(h=f.get(a,!0,d));void 0===h&&(h=l(a,b,e));"normal"===h&&b in y&&(h=y[b]);return""===d||d?(a=parseFloat(h),!0===d||isFinite(a)?a||0:h):h}});c.each(["height","width"],function(b,
d){c.cssHooks[d]={get:function(a,b,e){if(b)return!x.test(c.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?v(a,d,e):h(a,w,function(){return v(a,d,e)})},set:function(b,h,l){var f,n=l&&e(b);(l=l&&u(b,d,l,"border-box"===c.css(b,"boxSizing",!1,n),n))&&(f=a.exec(h))&&"px"!==(f[3]||"px")&&(b.style[d]=h,h=c.css(b,d));return t(b,h,l)}}});c.cssHooks.marginLeft=p(r.reliableMarginLeft,function(a,b){if(b)return(parseFloat(l(a,"marginLeft"))||a.getBoundingClientRect().left-h(a,{marginLeft:0},
function(){return a.getBoundingClientRect().left}))+"px"});c.each({margin:"",padding:"",border:"Width"},function(a,b){c.cssHooks[a+b]={expand:function(e){var c=0,h={};for(e="string"===typeof e?e.split(" "):[e];4>c;c++)h[a+d[c]+b]=e[c]||e[c-2]||e[0];return h}};k.test(a)||(c.cssHooks[a+b].set=t)});c.fn.extend({css:function(a,b){return g(this,function(a,b,d){var h,l={},f=0;if(Array.isArray(b)){d=e(a);for(h=b.length;f<h;f++)l[b[f]]=c.css(a,b[f],!1,d);return l}return void 0!==d?c.style(a,b,d):c.css(a,
b)},a,b,1<arguments.length)}});return c});
define("jquery/src/core/ready",["../core","../var/document","../core/readyException","../deferred"],function(c,m){function g(){m.removeEventListener("DOMContentLoaded",g);window.removeEventListener("load",g);c.ready()}var k=c.Deferred();c.fn.ready=function(f){k.then(f).catch(function(a){c.readyException(a)});return this};c.extend({isReady:!1,readyWait:1,holdReady:function(f){f?c.readyWait++:c.ready(!0)},ready:function(f){(!0===f?--c.readyWait:c.isReady)||(c.isReady=!0,!0!==f&&0<--c.readyWait||k.resolveWith(m,
[c]))}});c.ready.then=k.then;"complete"===m.readyState||"loading"!==m.readyState&&!m.documentElement.doScroll?window.setTimeout(c.ready):(m.addEventListener("DOMContentLoaded",g),window.addEventListener("load",g))});define("jquery/src/core/readyException",["../core"],function(c){c.readyException=function(c){window.setTimeout(function(){throw c;})}});
define("jquery/src/css/support",["../core","../var/document","../var/documentElement","../var/support"],function(c,m,g,k){(function(){function f(){if(l){l.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";l.innerHTML="";g.appendChild(h);var c=window.getComputedStyle(l);a="1%"!==c.top;e="2px"===c.marginLeft;b="4px"===c.width;l.style.marginRight="50%";d="4px"===c.marginRight;g.removeChild(h);l=null}}var a,b,d,e,h=m.createElement("div"),
l=m.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===l.style.backgroundClip,h.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",h.appendChild(l),c.extend(k,{pixelPosition:function(){f();return a},boxSizingReliable:function(){f();return b},pixelMarginRight:function(){f();return d},reliableMarginLeft:function(){f();return e}}))})();return k});
define("jquery/src/var/documentElement",["./document"],function(c){return c.documentElement});define("jquery/src/css/addGetHookIf",[],function(){return function(c,m){return{get:function(){if(c())delete this.get;else return(this.get=m).apply(this,arguments)}}}});
define("jquery/src/css/curCSS","../core ./var/rnumnonpx ./var/rmargin ./var/getStyles ./support ../selector".split(" "),function(c,m,g,k,f){return function(a,b,d){var e,h,l=a.style;if(d=d||k(a))h=d.getPropertyValue(b)||d[b],""!==h||c.contains(a.ownerDocument,a)||(h=c.style(a,b)),!f.pixelMarginRight()&&m.test(h)&&g.test(b)&&(a=l.width,b=l.minWidth,e=l.maxWidth,l.minWidth=l.maxWidth=l.width=h,h=d.width,l.width=a,l.minWidth=b,l.maxWidth=e);return void 0!==h?h+"":h}});
define("jquery/src/css/var/getStyles",[],function(){return function(c){var m=c.ownerDocument.defaultView;m&&m.opener||(m=window);return m.getComputedStyle(c)}});define("jquery/src/css/var/rnumnonpx",["../../var/pnum"],function(c){return new RegExp("^("+c+")(?!px)[a-z%]+$","i")});define("jquery/src/css/var/rmargin",[],function(){return/^margin/});
define("jquery/src/core/access",["../core"],function(c){var m=function(g,k,f,a,b,d,e){var h=0,l=g.length,n=null==f;if("object"===c.type(f))for(h in b=!0,f)m(g,k,h,f[h],!0,d,e);else if(void 0!==a&&(b=!0,c.isFunction(a)||(e=!0),n&&(e?(k.call(g,a),k=null):(n=k,k=function(a,b,d){return n.call(c(a),d)})),k))for(;h<l;h++)k(g[h],f,e?a:a.call(g[h],h,k(g[h],f)));return b?g:n?k.call(g):l?k(g[0],f):d};return m});define("jquery/src/var/pnum",[],function(){return/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source});
define("jquery/src/manipulation","./core ./var/concat ./var/push ./var/rcheckableType ./core/access ./manipulation/var/rtagName ./manipulation/var/rscriptType ./manipulation/wrapMap ./manipulation/getAll ./manipulation/setGlobalEval ./manipulation/buildFragment ./manipulation/support ./data/var/dataPriv ./data/var/dataUser ./data/var/acceptData ./core/DOMEval ./core/init ./traversing ./selector ./event".split(" "),function(c,m,g,k,f,a,b,d,e,h,l,n,p,r,q,t){function u(a,b){return c.nodeName(a,"table")&&
c.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?c(">tbody",a)[0]||a:a}function v(a){a.type=(null!==a.getAttribute("type"))+"/"+a.type;return a}function x(a){var b=D.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function w(a,b){var d,e,h,l;if(1===b.nodeType){if(p.hasData(a)&&(l=p.access(a),d=p.set(b,l),l=l.events))for(h in delete d.handle,d.events={},l)for(d=0,e=l[h].length;d<e;d++)c.event.add(b,h,l[h][d]);r.hasData(a)&&(a=r.access(a),a=c.extend({},a),r.set(b,a))}}function y(a,d,h,
f){d=m.apply([],d);var q,k,g,r,u=0,w=a.length,E=w-1,z=d[0],A=c.isFunction(z);if(A||1<w&&"string"===typeof z&&!n.checkClone&&C.test(z))return a.each(function(b){var e=a.eq(b);A&&(d[0]=z.call(this,b,e.html()));y(e,d,h,f)});if(w&&(q=l(d,a[0].ownerDocument,!1,a,f),k=q.firstChild,1===q.childNodes.length&&(q=k),k||f)){k=c.map(e(q,"script"),v);for(g=k.length;u<w;u++)r=q,u!==E&&(r=c.clone(r,!0,!0),g&&c.merge(k,e(r,"script"))),h.call(a[u],r,u);if(g)for(q=k[k.length-1].ownerDocument,c.map(k,x),u=0;u<g;u++)r=
k[u],b.test(r.type||"")&&!p.access(r,"globalEval")&&c.contains(q,r)&&(r.src?c._evalUrl&&c._evalUrl(r.src):t(r.textContent.replace(F,""),q))}return a}function A(a,b,d){for(var l=b?c.filter(b,a):a,f=0;null!=(b=l[f]);f++)d||1!==b.nodeType||c.cleanData(e(b)),b.parentNode&&(d&&c.contains(b.ownerDocument,b)&&h(e(b,"script")),b.parentNode.removeChild(b));return a}var z=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,E=/<script|<style|<link/i,C=/checked\s*(?:[^=]|=\s*.checked.)/i,
D=/^true\/(.*)/,F=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;c.extend({htmlPrefilter:function(a){return a.replace(z,"<$1></$2>")},clone:function(a,b,d){var l,f,p,q,g=a.cloneNode(!0),t=c.contains(a.ownerDocument,a);if(!(n.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||c.isXMLDoc(a)))for(q=e(g),p=e(a),l=0,f=p.length;l<f;l++){var r=p[l],u=q[l],m=u.nodeName.toLowerCase();if("input"===m&&k.test(r.type))u.checked=r.checked;else if("input"===m||"textarea"===m)u.defaultValue=r.defaultValue}if(b)if(d)for(p=
p||e(a),q=q||e(g),l=0,f=p.length;l<f;l++)w(p[l],q[l]);else w(a,g);q=e(g,"script");0<q.length&&h(q,!t&&e(a,"script"));return g},cleanData:function(a){for(var b,d,e,h=c.event.special,l=0;void 0!==(d=a[l]);l++)if(q(d)){if(b=d[p.expando]){if(b.events)for(e in b.events)h[e]?c.event.remove(d,e):c.removeEvent(d,e,b.handle);d[p.expando]=void 0}d[r.expando]&&(d[r.expando]=void 0)}}});c.fn.extend({detach:function(a){return A(this,a,!0)},remove:function(a){return A(this,a)},text:function(a){return f(this,function(a){return void 0===
a?c.text(this):this.empty().each(function(){if(1===this.nodeType||11===this.nodeType||9===this.nodeType)this.textContent=a})},null,a,arguments.length)},append:function(){return y(this,arguments,function(a){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||u(this,a).appendChild(a)})},prepend:function(){return y(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=u(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return y(this,arguments,
function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return y(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(c.cleanData(e(a,!1)),a.textContent="");return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return c.clone(this,a,b)})},html:function(b){return f(this,function(b){var h=this[0]||{},l=0,f=this.length;if(void 0===
b&&1===h.nodeType)return h.innerHTML;if("string"===typeof b&&!E.test(b)&&!d[(a.exec(b)||["",""])[1].toLowerCase()]){b=c.htmlPrefilter(b);try{for(;l<f;l++)h=this[l]||{},1===h.nodeType&&(c.cleanData(e(h,!1)),h.innerHTML=b);h=0}catch(B){}}h&&this.empty().append(b)},null,b,arguments.length)},replaceWith:function(){var a=[];return y(this,arguments,function(b){var d=this.parentNode;0>c.inArray(this,a)&&(c.cleanData(e(this)),d&&d.replaceChild(b,this))},a)}});c.each({appendTo:"append",prependTo:"prepend",
insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){c.fn[a]=function(a){for(var d=[],e=c(a),h=e.length-1,l=0;l<=h;l++)a=l===h?this:this.clone(!0),c(e[l])[b](a),g.apply(d,a.get());return this.pushStack(d)}});return c});
define("jquery/src/event","./core ./var/document ./var/documentElement ./var/rnothtmlwhite ./var/rcheckableType ./var/slice ./data/var/dataPriv ./core/init ./selector".split(" "),function(c,m,g,k,f,a,b){function d(){return!0}function e(){return!1}function h(){try{return m.activeElement}catch(q){}}function l(a,b,d,h,f,n){var p,q;if("object"===typeof b){"string"!==typeof d&&(h=h||d,d=void 0);for(q in b)l(a,q,d,h,b[q],n);return a}null==h&&null==f?(f=d,h=d=void 0):null==f&&("string"===typeof d?(f=h,h=
void 0):(f=h,h=d,d=void 0));if(!1===f)f=e;else if(!f)return a;1===n&&(p=f,f=function(a){c().off(a);return p.apply(this,arguments)},f.guid=p.guid||(p.guid=c.guid++));return a.each(function(){c.event.add(this,b,f,h,d)})}var n=/^key/,p=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,r=/^([^.]*)(?:\.(.+)|)/;c.event={global:{},add:function(a,d,e,h,l){var f,n,p,q,t,u,m,v,x;if(t=b.get(a))for(e.handler&&(f=e,e=f.handler,l=f.selector),l&&c.find.matchesSelector(g,l),e.guid||(e.guid=c.guid++),(q=t.events)||
(q=t.events={}),(n=t.handle)||(n=t.handle=function(b){return"undefined"!==typeof c&&c.event.triggered!==b.type?c.event.dispatch.apply(a,arguments):void 0}),d=(d||"").match(k)||[""],t=d.length;t--;)p=r.exec(d[t])||[],v=u=p[1],x=(p[2]||"").split(".").sort(),v&&(p=c.event.special[v]||{},v=(l?p.delegateType:p.bindType)||v,p=c.event.special[v]||{},u=c.extend({type:v,origType:u,data:h,handler:e,guid:e.guid,selector:l,needsContext:l&&c.expr.match.needsContext.test(l),namespace:x.join(".")},f),(m=q[v])||
(m=q[v]=[],m.delegateCount=0,p.setup&&!1!==p.setup.call(a,h,x,n)||a.addEventListener&&a.addEventListener(v,n)),p.add&&(p.add.call(a,u),u.handler.guid||(u.handler.guid=e.guid)),l?m.splice(m.delegateCount++,0,u):m.push(u),c.event.global[v]=!0)},remove:function(a,d,e,h,l){var f,n,p,q,g,t,u,m,v,x,I,G=b.hasData(a)&&b.get(a);if(G&&(q=G.events)){d=(d||"").match(k)||[""];for(g=d.length;g--;)if(p=r.exec(d[g])||[],v=I=p[1],x=(p[2]||"").split(".").sort(),v){u=c.event.special[v]||{};v=(h?u.delegateType:u.bindType)||
v;m=q[v]||[];p=p[2]&&new RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)");for(n=f=m.length;f--;)t=m[f],!l&&I!==t.origType||e&&e.guid!==t.guid||p&&!p.test(t.namespace)||h&&h!==t.selector&&("**"!==h||!t.selector)||(m.splice(f,1),t.selector&&m.delegateCount--,u.remove&&u.remove.call(a,t));n&&!m.length&&(u.teardown&&!1!==u.teardown.call(a,x,G.handle)||c.removeEvent(a,v,G.handle),delete q[v])}else for(v in q)c.event.remove(a,v+d[g],e,h,!0);c.isEmptyObject(q)&&b.remove(a,"handle events")}},dispatch:function(a){var d=
c.event.fix(a),e,h,l,f,n,p=Array(arguments.length);h=(b.get(this,"events")||{})[d.type]||[];var q=c.event.special[d.type]||{};p[0]=d;for(e=1;e<arguments.length;e++)p[e]=arguments[e];d.delegateTarget=this;if(!q.preDispatch||!1!==q.preDispatch.call(this,d)){n=c.event.handlers.call(this,d,h);for(e=0;(f=n[e++])&&!d.isPropagationStopped();)for(d.currentTarget=f.elem,h=0;(l=f.handlers[h++])&&!d.isImmediatePropagationStopped();)if(!d.rnamespace||d.rnamespace.test(l.namespace))d.handleObj=l,d.data=l.data,
l=((c.event.special[l.origType]||{}).handle||l.handler).apply(f.elem,p),void 0!==l&&!1===(d.result=l)&&(d.preventDefault(),d.stopPropagation());q.postDispatch&&q.postDispatch.call(this,d);return d.result}},handlers:function(a,b){var d,e,h,l,f,n=[],p=b.delegateCount,q=a.target;if(p&&q.nodeType&&!("click"===a.type&&1<=a.button))for(;q!==this;q=q.parentNode||this)if(1===q.nodeType&&("click"!==a.type||!0!==q.disabled)){l=[];f={};for(d=0;d<p;d++)e=b[d],h=e.selector+" ",void 0===f[h]&&(f[h]=e.needsContext?
-1<c(h,this).index(q):c.find(h,this,null,[q]).length),f[h]&&l.push(e);l.length&&n.push({elem:q,handlers:l})}p<b.length&&n.push({elem:this,handlers:b.slice(p)});return n},addProp:function(a,b){Object.defineProperty(c.Event.prototype,a,{enumerable:!0,configurable:!0,get:c.isFunction(b)?function(){if(this.originalEvent)return b(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[a]},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},
fix:function(a){return a[c.expando]?a:new c.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==h()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===h()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(f.test(this.type)&&this.click&&c.nodeName(this,"input"))return this.click(),!1},_default:function(a){return c.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&
a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}};c.removeEvent=function(a,b,d){a.removeEventListener&&a.removeEventListener(b,d)};c.Event=function(a,b){if(!(this instanceof c.Event))return new c.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?d:e,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):
this.type=a;b&&c.extend(this,b);this.timeStamp=a&&a.timeStamp||c.now();this[c.expando]=!0};c.Event.prototype={constructor:c.Event,isDefaultPrevented:e,isPropagationStopped:e,isImmediatePropagationStopped:e,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=d;a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=d;a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=
this.originalEvent;this.isImmediatePropagationStopped=d;a&&!this.isSimulated&&a.stopImmediatePropagation();this.stopPropagation()}};c.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;
return null==a.which&&n.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&p.test(a.type)?b&1?1:b&2?3:b&4?2:0:a.which}},c.event.addProp);c.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){c.event.special[a]={delegateType:b,bindType:b,handle:function(a){var d,e=a.relatedTarget,h=a.handleObj;if(!e||e!==this&&!c.contains(this,e))a.type=h.origType,d=h.handler.apply(this,arguments),a.type=b;return d}}});c.fn.extend({on:function(a,
b,d,e){return l(this,a,b,d,e)},one:function(a,b,d,e){return l(this,a,b,d,e,1)},off:function(a,b,d){var h;if(a&&a.preventDefault&&a.handleObj)return h=a.handleObj,c(a.delegateTarget).off(h.namespace?h.origType+"."+h.namespace:h.origType,h.selector,h.handler),this;if("object"===typeof a){for(h in a)this.off(h,b,a[h]);return this}if(!1===b||"function"===typeof b)d=b,b=void 0;!1===d&&(d=e);return this.each(function(){c.event.remove(this,a,d,b)})}});return c});
define("jquery/src/data/var/dataUser",["../Data"],function(c){return new c});
define("jquery/src/manipulation/support",["../var/document","../var/support"],function(c,m){var g=c.createDocumentFragment().appendChild(c.createElement("div"));c=c.createElement("input");c.setAttribute("type","radio");c.setAttribute("checked","checked");c.setAttribute("name","t");g.appendChild(c);m.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked;g.innerHTML="<textarea>x</textarea>";m.noCloneChecked=!!g.cloneNode(!0).lastChild.defaultValue;return m});
define("jquery/src/manipulation/buildFragment","../core ./var/rtagName ./var/rscriptType ./wrapMap ./getAll ./setGlobalEval".split(" "),function(c,m,g,k,f,a){var b=/<|&#?\w+;/;return function(d,e,h,l,n){for(var p,r,q,t=e.createDocumentFragment(),u=[],v=0,x=d.length;v<x;v++)if((p=d[v])||0===p)if("object"===c.type(p))c.merge(u,p.nodeType?[p]:p);else if(b.test(p)){r=r||t.appendChild(e.createElement("div"));q=(m.exec(p)||["",""])[1].toLowerCase();q=k[q]||k._default;r.innerHTML=q[1]+c.htmlPrefilter(p)+
q[2];for(q=q[0];q--;)r=r.lastChild;c.merge(u,r.childNodes);r=t.firstChild;r.textContent=""}else u.push(e.createTextNode(p));t.textContent="";for(v=0;p=u[v++];)if(l&&-1<c.inArray(p,l))n&&n.push(p);else if(d=c.contains(p.ownerDocument,p),r=f(t.appendChild(p),"script"),d&&a(r),h)for(q=0;p=r[q++];)g.test(p.type||"")&&h.push(p);return t}});
define("jquery/src/manipulation/setGlobalEval",["../data/var/dataPriv"],function(c){return function(m,g){for(var k=0,f=m.length;k<f;k++)c.set(m[k],"globalEval",!g||c.get(g[k],"globalEval"))}});define("jquery/src/manipulation/getAll",["../core"],function(c){return function(m,g){var k;k="undefined"!==typeof m.getElementsByTagName?m.getElementsByTagName(g||"*"):"undefined"!==typeof m.querySelectorAll?m.querySelectorAll(g||"*"):[];return void 0===g||g&&c.nodeName(m,g)?c.merge([m],k):k}});
define("jquery/src/manipulation/wrapMap",[],function(){var c={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};c.optgroup=c.option;c.tbody=c.tfoot=c.colgroup=c.caption=c.thead;c.th=c.td;return c});define("jquery/src/manipulation/var/rscriptType",[],function(){return/^$|\/(?:java|ecma)script/i});
define("jquery/src/manipulation/var/rtagName",[],function(){return/<([a-z][^\/\0>\x20\t\r\n\f]+)/i});define("jquery/src/var/rcheckableType",[],function(){return/^(?:checkbox|radio)$/i});
define("jquery/src/traversing","./core ./var/indexOf ./traversing/var/dir ./traversing/var/siblings ./traversing/var/rneedsContext ./core/init ./traversing/findFilter ./selector".split(" "),function(c,m,g,k,f){function a(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}var b=/^(?:parents|prev(?:Until|All))/,d={children:!0,contents:!0,next:!0,prev:!0};c.fn.extend({has:function(a){var b=c(a,this),d=b.length;return this.filter(function(){for(var a=0;a<d;a++)if(c.contains(this,b[a]))return!0})},closest:function(a,
b){var d,e=0,h=this.length,k=[],q="string"!==typeof a&&c(a);if(!f.test(a))for(;e<h;e++)for(d=this[e];d&&d!==b;d=d.parentNode)if(11>d.nodeType&&(q?-1<q.index(d):1===d.nodeType&&c.find.matchesSelector(d,a))){k.push(d);break}return this.pushStack(1<k.length?c.uniqueSort(k):k)},index:function(a){return a?"string"===typeof a?m.call(c(a),this[0]):m.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(c.uniqueSort(c.merge(this.get(),
c(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});c.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return g(a,"parentNode")},parentsUntil:function(a,b,d){return g(a,"parentNode",d)},next:function(b){return a(b,"nextSibling")},prev:function(b){return a(b,"previousSibling")},nextAll:function(a){return g(a,"nextSibling")},prevAll:function(a){return g(a,"previousSibling")},nextUntil:function(a,b,d){return g(a,
"nextSibling",d)},prevUntil:function(a,b,d){return g(a,"previousSibling",d)},siblings:function(a){return k((a.parentNode||{}).firstChild,a)},children:function(a){return k(a.firstChild)},contents:function(a){if(c.nodeName(a,"iframe"))return a.contentDocument;c.nodeName(a,"template")&&(a=a.content||a);return c.merge([],a.childNodes)}},function(a,h){c.fn[a]=function(e,f){var l=c.map(this,h,e);"Until"!==a.slice(-5)&&(f=e);f&&"string"===typeof f&&(l=c.filter(f,l));1<this.length&&(d[a]||c.uniqueSort(l),
b.test(a)&&l.reverse());return this.pushStack(l)}});return c});define("jquery/src/traversing/var/siblings",[],function(){return function(c,m){for(var g=[];c;c=c.nextSibling)1===c.nodeType&&c!==m&&g.push(c);return g}});define("jquery/src/traversing/var/dir",["../../core"],function(c){return function(m,g,k){for(var f=[],a=void 0!==k;(m=m[g])&&9!==m.nodeType;)if(1===m.nodeType){if(a&&c(m).is(k))break;f.push(m)}return f}});
define("jquery/src/deferred",["./core","./var/slice","./callbacks"],function(c,m){function g(a){return a}function k(a){throw a;}function f(a,b,d,e){var h;try{a&&c.isFunction(h=a.promise)?h.call(a).done(b).fail(d):a&&c.isFunction(h=a.then)?h.call(a,b,d):b.apply(void 0,[a].slice(e))}catch(l){d.apply(void 0,[l])}}c.extend({Deferred:function(a){var b=[["notify","progress",c.Callbacks("memory"),c.Callbacks("memory"),2],["resolve","done",c.Callbacks("once memory"),c.Callbacks("once memory"),0,"resolved"],
["reject","fail",c.Callbacks("once memory"),c.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){h.done(arguments).fail(arguments);return this},"catch":function(a){return e.then(null,a)},pipe:function(){var a=arguments;return c.Deferred(function(d){c.each(b,function(b,e){var l=c.isFunction(a[e[4]])&&a[e[4]];h[e[1]](function(){var a=l&&l.apply(this,arguments);if(a&&c.isFunction(a.promise))a.promise().progress(d.notify).done(d.resolve).fail(d.reject);
else d[e[0]+"With"](this,l?[a]:arguments)})});a=null}).promise()},then:function(a,d,e){function h(a,b,d,e){return function(){var f=this,n=arguments,p=function(){var p,q;if(!(a<l)){p=d.apply(f,n);if(p===b.promise())throw new TypeError("Thenable self-resolution");q=p&&("object"===typeof p||"function"===typeof p)&&p.then;c.isFunction(q)?e?q.call(p,h(l,b,g,e),h(l,b,k,e)):(l++,q.call(p,h(l,b,g,e),h(l,b,k,e),h(l,b,g,b.notifyWith))):(d!==g&&(f=void 0,n=[p]),(e||b.resolveWith)(f,n))}},q=e?p:function(){try{p()}catch(E){c.Deferred.exceptionHook&&
c.Deferred.exceptionHook(E,q.stackTrace),a+1>=l&&(d!==k&&(f=void 0,n=[E]),b.rejectWith(f,n))}};a?q():(c.Deferred.getStackHook&&(q.stackTrace=c.Deferred.getStackHook()),window.setTimeout(q))}}var l=0;return c.Deferred(function(l){b[0][3].add(h(0,l,c.isFunction(e)?e:g,l.notifyWith));b[1][3].add(h(0,l,c.isFunction(a)?a:g));b[2][3].add(h(0,l,c.isFunction(d)?d:k))}).promise()},promise:function(a){return null!=a?c.extend(a,e):e}},h={};c.each(b,function(a,c){var l=c[2],f=c[5];e[c[1]]=l.add;f&&l.add(function(){d=
f},b[3-a][2].disable,b[0][2].lock);l.add(c[3].fire);h[c[0]]=function(){h[c[0]+"With"](this===h?void 0:this,arguments);return this};h[c[0]+"With"]=l.fireWith});e.promise(h);a&&a.call(h,h);return h},when:function(a){var b=arguments.length,d=b,e=Array(d),h=m.call(arguments),l=c.Deferred(),n=function(a){return function(d){e[a]=this;h[a]=1<arguments.length?m.call(arguments):d;--b||l.resolveWith(e,h)}};if(1>=b&&(f(a,l.done(n(d)).resolve,l.reject,!b),"pending"===l.state()||c.isFunction(h[d]&&h[d].then)))return l.then();
for(;d--;)f(h[d],n(d),l.reject);return l.promise()}});return c});
define("jquery/src/callbacks",["./core","./var/rnothtmlwhite"],function(c,m){function g(k){var f={};c.each(k.match(m)||[],function(a,b){f[b]=!0});return f}c.Callbacks=function(k){k="string"===typeof k?g(k):c.extend({},k);var f,a,b,d,e=[],h=[],l=-1,n=function(){d=d||k.once;for(b=f=!0;h.length;l=-1)for(a=h.shift();++l<e.length;)!1===e[l].apply(a[0],a[1])&&k.stopOnFalse&&(l=e.length,a=!1);k.memory||(a=!1);f=!1;d&&(e=a?[]:"")},p={add:function(){e&&(a&&!f&&(l=e.length-1,h.push(a)),function q(a){c.each(a,
function(a,b){c.isFunction(b)?k.unique&&p.has(b)||e.push(b):b&&b.length&&"string"!==c.type(b)&&q(b)})}(arguments),a&&!f&&n());return this},remove:function(){c.each(arguments,function(a,b){for(var d;-1<(d=c.inArray(b,e,d));)e.splice(d,1),d<=l&&l--});return this},has:function(a){return a?-1<c.inArray(a,e):0<e.length},empty:function(){e&&(e=[]);return this},disable:function(){d=h=[];e=a="";return this},disabled:function(){return!e},lock:function(){d=h=[];a||f||(e=a="");return this},locked:function(){return!!d},
fireWith:function(a,b){d||(b=b||[],b=[a,b.slice?b.slice():b],h.push(b),f||n());return this},fire:function(){p.fireWith(this,arguments);return this},fired:function(){return!!b}};return p};return c});
define("jquery/src/queue",["./core","./data/var/dataPriv","./deferred","./callbacks"],function(c,m){c.extend({queue:function(g,k,f){var a;if(g)return k=(k||"fx")+"queue",a=m.get(g,k),f&&(!a||Array.isArray(f)?a=m.access(g,k,c.makeArray(f)):a.push(f)),a||[]},dequeue:function(g,k){k=k||"fx";var f=c.queue(g,k),a=f.length,b=f.shift(),d=c._queueHooks(g,k),e=function(){c.dequeue(g,k)};"inprogress"===b&&(b=f.shift(),a--);b&&("fx"===k&&f.unshift("inprogress"),delete d.stop,b.call(g,e,d));!a&&d&&d.empty.fire()},
_queueHooks:function(g,k){var f=k+"queueHooks";return m.get(g,f)||m.access(g,f,{empty:c.Callbacks("once memory").add(function(){m.remove(g,[k+"queue",f])})})}});c.fn.extend({queue:function(g,k){var f=2;"string"!==typeof g&&(k=g,g="fx",f--);return arguments.length<f?c.queue(this[0],g):void 0===k?this:this.each(function(){var a=c.queue(this,g,k);c._queueHooks(this,g);"fx"===g&&"inprogress"!==a[0]&&c.dequeue(this,g)})},dequeue:function(g){return this.each(function(){c.dequeue(this,g)})},clearQueue:function(c){return this.queue(c||
"fx",[])},promise:function(g,k){var f,a=1,b=c.Deferred(),d=this,e=this.length,h=function(){--a||b.resolveWith(d,[d])};"string"!==typeof g&&(k=g,g=void 0);for(g=g||"fx";e--;)(f=m.get(d[e],g+"queueHooks"))&&f.empty&&(a++,f.empty.add(h));h();return b.promise(k)}});return c});
define("jquery/src/css/showHide",["../core","../data/var/dataPriv","../css/var/isHiddenWithinTree"],function(c,m,g){function k(a,b){for(var d,e,h=[],l=0,n=a.length;l<n;l++)if(e=a[l],e.style)if(d=e.style.display,b){if("none"===d&&(h[l]=m.get(e,"display")||null,h[l]||(e.style.display="")),""===e.style.display&&g(e)){d=l;var p;p=e.ownerDocument;e=e.nodeName;var k=f[e];k||(p=p.body.appendChild(p.createElement(e)),k=c.css(p,"display"),p.parentNode.removeChild(p),"none"===k&&(k="block"),f[e]=k);p=k;h[d]=
p}}else"none"!==d&&(h[l]="none",m.set(e,"display",d));for(l=0;l<n;l++)null!=h[l]&&(a[l].style.display=h[l]);return a}var f={};c.fn.extend({show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){g(this)?c(this).show():c(this).hide()})}});return k});
define("jquery/src/css/adjustCSS",["../core","../var/rcssNum"],function(c,m){return function(g,k,f,a){var b,d=1,e=20,h=a?function(){return a.cur()}:function(){return c.css(g,k,"")},l=h(),n=f&&f[3]||(c.cssNumber[k]?"":"px"),p=(c.cssNumber[k]||"px"!==n&&+l)&&m.exec(c.css(g,k));if(p&&p[3]!==n){n=n||p[3];f=f||[];p=+l||1;do d=d||".5",p/=d,c.style(g,k,p+n);while(d!==(d=h()/l)&&1!==d&&--e)}f&&(p=+p||+l||0,b=f[1]?p+(f[1]+1)*f[2]:+f[2],a&&(a.unit=n,a.start=p,a.end=b));return b}});
define("jquery/src/css/var/swap",[],function(){return function(c,m,g,k){var f,a={};for(f in m)a[f]=c.style[f],c.style[f]=m[f];g=g.apply(c,k||[]);for(f in m)c.style[f]=a[f];return g}});define("jquery/src/css/var/isHiddenWithinTree",["../../core","../../selector"],function(c){return function(m,g){m=g||m;return"none"===m.style.display||""===m.style.display&&c.contains(m.ownerDocument,m)&&"none"===c.css(m,"display")}});
define("jquery/src/css/var/cssExpand",[],function(){return["Top","Right","Bottom","Left"]});define("jquery/src/var/rcssNum",["../var/pnum"],function(c){return new RegExp("^(?:([+-])=|)("+c+")([a-z%]*)$","i")});
define("delite/StoreMap",["dcl/dcl","./Store"],function(c,m){var g=function(a,d,e,c){return a[e+"Func"]?a[e+"Func"](d,c):a[e+"Attr"]?d[a[e+"Attr"]]:d[e]},k=function(a,d,e,c,l){if(a[e+"Func"])a[e+"Func"](d,c,l);else a[e+"Attr"]?d[a[e+"Attr"]]=l:d[e]=l},f=/^(?!_)(\w)+(?=Attr$|Func$)/,a=/f(?=unc$)|a(?=ttr$)/;return c(m,{allowRemap:!1,_mappedKeys:null,copyAllItemProps:!1,parseAttribute:c.superCall(function(b){return function(d,e){return/Attr$|Func$/i.test(d)?(d=d.toLowerCase(),d=this._propCaseMap[d]||
d.replace(a,a.exec(d)[0].toUpperCase()),{prop:d,value:/Attr$/.test(d)?e:this.parseFunctionAttribute(e,["item","store","value"])}):b.apply(this,arguments)}}),queryStoreAndInitItems:c.superCall(function(a){return function(b,e){this._storeMapAttachedOnce||e?a.apply(this,arguments):this._pendingQuery=b}}),attachedCallback:function(){if(!this._storeMapAttachedOnce){var a=[],d;for(d in this){var e=f.exec(d);e&&-1===a.indexOf(e[0])&&a.push(e[0])}if(this.copyAllItemProps)for(this._itemKeys=[],d=0;d<a.length;d++)this._itemKeys.push(this[a[d]+
"Attr"]?this[a[d]+"Attr"]:a[d]);this._mappedKeys=a;this.deliver();this._pendingQuery&&(this.queryStoreAndInitItems(this._pendingQuery,!0),this._pendingQuery=null);this._storeMapAttachedOnce=!0}},renderItemToItem:function(a){var b={},e=this._storeAdapter;e.setIdentity(b,a.id);for(var h in a)k(this,b,h,e,a[h]);return e.get(b.id).then(function(a){c.mix(a,b);return a})},itemToRenderItem:function(a){var b={},e=this._mappedKeys,c=this._storeAdapter;b.__item=a;null==this.getIdentity(a)&&c.setIdentity&&c.setIdentity(a,
Math.random());b.id=this.getIdentity(a);for(var l=0;l<e.length;l++)b[e[l]]=g(this,a,e[l],c);if(this.copyAllItemProps)for(var f in a)-1===this._itemKeys.indexOf(f)&&a.hasOwnProperty(f)&&(b[f]=a[f]);return b},remap:function(){for(var a=this.renderItems,d=this._mappedKeys,e=0;e<a.length;e++)for(var c=0;c<d.length;c++)a[e][d[c]]=g(this,a[e].__item,d[c],this.source)}})});
define("delite/Store","dcl/dcl requirejs-dplugins/has decor/Invalidating requirejs-dplugins/Promise! decor/ObservableArray decor/Observable ./ArrayQueryAdapter ./DstoreQueryAdapter".split(" "),function(c,m,g,k,f,a,b,d){return c(g,{source:null,query:{},processQueryResult:function(a){return a},renderItems:null,renderItemToItem:function(a){return a},itemToRenderItem:function(a){return a},createdCallback:function(){if(this.textContent.trim()){var b=JSON.parse("["+this.textContent+"]");if(b.length){this.source=
new f;for(var d=0;d<b.length;d++)b[d].id||(b[d].id=Math.random()),this.source[d]=new a(b[d])}this.textContent=""}},initItems:function(a){this.renderItems=a;this.emit("query-success",{renderItems:a,cancelable:!1,bubbles:!0});return a},computeProperties:c.after(function(a){var b=a[0];a=a[1];!("source"in b||"query"in b)||!this.source&&a||this.queryStoreAndInitItems(this.processQueryResult)}),queryStoreAndInitItems:function(a){this._untrack();if(null!=this.source)return Array.isArray(this.source)?this._storeAdapter=
new b({source:this.source,query:this.query,processQueryResult:a}):this._storeAdapter=new d({source:this.source,query:this.query,processQueryResult:a}),a=this._storeAdapter,a.track&&(this._addListener=a.on("add",this._itemAdded.bind(this)),this._deleteListener=a.on("delete",this._itemRemoved.bind(this)),this._updateListener=a.on("update",this._itemUpdated.bind(this)),this._newQueryListener=a.on("_new-query-asked",function(a){this.emit("new-query-asked",a)}.bind(this))),this.processCollection(a);this.initItems([])},
deliver:c.superCall(function(a){return function(){a.call();this._storeAdapter&&"function"===typeof this._storeAdapter.deliver&&this._storeAdapter.deliver()}}),discardChanges:c.superCall(function(a){return function(){a.call();this._storeAdapter&&"function"===typeof this._storeAdapter.discardChanges&&this._storeAdapter.discardChanges()}}),processCollection:function(a){return this.fetch(a).then(function(a){return this.initItems(a.map(this.itemToRenderItem.bind(this)))}.bind(this),this._queryError.bind(this))},
fetch:function(a){return a.fetch()},_queryError:function(a){console.log(a);this.emit("query-error",{error:a,cancelable:!1,bubbles:!0})},_untrack:function(){this._storeAdapter&&this._storeAdapter.untrack();this._addListener&&this._addListener.remove(this._addListener);this._deleteListener&&this._deleteListener.remove(this._deleteListener);this._updateListener&&this._updateListener.remove(this._updateListener);this._newQueryListener&&this._newQueryListener.remove(this._newQueryListener)},destroy:function(){this._untrack()},
itemRemoved:function(a,b){b.splice(a,1)},itemAdded:function(a,b,d){d.splice(a,0,b)},itemUpdated:function(a,b,d){c.mix(d[a],b)},itemMoved:function(a,b,d,c){this.itemRemoved(a,c);this.itemAdded(b,d,c)},_refreshHandler:function(){this.queryStoreAndInitItems(this.processQueryResult)},_itemRemoved:function(a){void 0!==a.previousIndex&&(this.itemRemoved(a.previousIndex,this.renderItems),this.notifyCurrentValue("renderItems"))},_itemUpdated:function(a){void 0===a.index?this.itemRemoved(a.previousIndex,this.renderItems):
void 0===a.previousIndex?this.itemAdded(a.index,this.itemToRenderItem(a.target),this.renderItems):a.index!==a.previousIndex?this.itemMoved(a.previousIndex,a.index,this.itemToRenderItem(a.target),this.renderItems):this.itemUpdated(a.index,this.itemToRenderItem(a.target),this.renderItems);this.notifyCurrentValue("renderItems")},_itemAdded:function(a){void 0!==a.index&&(this.itemAdded(a.index,this.itemToRenderItem(a.target),this.renderItems),this.notifyCurrentValue("renderItems"))},getIdentity:function(a){return this._storeAdapter.getIdentity(a)}})});
define("delite/DstoreQueryAdapter",["dcl/dcl"],function(c){return c(null,{constructor:function(c){this.source=c.source;this.data=c.processQueryResult(this.source.filter(c.query));this.data.track&&(this.data=this._tracked=this.data.track(),this.track=!0)},track:!1,untrack:function(){this._tracked&&(this._tracked.tracking.remove(),this._tracked=null)},fetch:function(){return this.data.fetch()},fetchRange:function(c){return this.data.fetchRange(c)},on:function(c,g){return this.data.on(c,g)},setIdentity:function(c,
g){this.source._setIdentity(c,g)},get:function(c){return this.source.get(c)},getIdentity:function(c){return this.source.getIdentity(c)}})});
define("delite/ArrayQueryAdapter",["dcl/dcl","decor/Evented","decor/ObservableArray","decor/Observable","requirejs-dplugins/Promise!"],function(c,m,g,k,f){function a(b){return{then:function(d){return(d=d(b))&&d.then?d:a(d)}}}return c(m,{constructor:function(a){this.source=a.source;this._itemHandles=[];this._observeCallbackArray=this.__observeCallbackArray.bind(this);this._observeCallbackItems=this.__observeCallbackItems.bind(this);for(var b=0;b<this.source.length;b++)this._itemHandles[b]=k.observe(this.source[b],
this._observeCallbackItems);this._arrayHandle=g.observe(this.source,this._observeCallbackArray);this._isQueried=this._compileQuery(a.query);this.data=a.processQueryResult(this.source.filter(this._isQueried));if(this._arrayHandle||this._itemHandles)this.track=!0},track:!1,_addItemToCollection:function(a){for(var b=a.index-1;!this._isQueried(this.source[b]);)b--;b=this.data.indexOf(this.source[b]);this.data.splice(b+1,0,a.obj);return{index:b+1,target:a.obj}},_removeItemFromCollection:function(a){a=
this.data.indexOf(a.obj);this.data.splice(a,1);return{previousIndex:a}},_isAnUpdate:function(a,d){return this._isQueried(a.obj)&&0<=d},_redirectEvt:function(a,d){this._isQueried(a.obj)&&0>d?(a=this._addItemToCollection(a),this.emit("add",a)):!this._isQueried(a.obj)&&0<=d&&(a=this._removeItemFromCollection(a),this.emit("delete",a))},_updateItemInCollection:function(a,d){return{index:d,previousIndex:d,target:a.obj}},__observeCallbackArray:function(a){if(!this._beingDiscarded)for(var b=0;b<a.length;b++)if("splice"===
a[b].type){var e,c;for(e=0;e<a[b].removed.length;e++)this._itemHandles[a[b].index].remove(),this._itemHandles.splice(a[b].index,1),c={previousIndex:a[b].index,obj:a[b].removed[e]},this._isQueried(c.obj)&&(c=this._removeItemFromCollection(c),this.emit("delete",c));for(e=0;e<a[b].addedCount;e++)c={index:a[b].index+e,obj:this.source[a[b].index+e]},null!==this.renderItems&&void 0!==this.renderItems&&(c.index=c.index<=this.renderItems.length?c.index:this.renderItems.length),this._itemHandles.splice(a[b].index+
e,0,k.observe(this.source[a[b].index+e],this._observeCallbackItems)),this._isQueried(c.obj)&&(c=this._addItemToCollection(c),this.emit("add",c))}},__observeCallbackItems:function(a){if(!this._beingDiscarded)for(var b=[],e=0;e<a.length;e++){var c=a[e].object;if(0>b.indexOf(c)&&(b.push(c),"add"===a[e].type||"update"===a[e].type||"delete"===a[e].type||"splice"===a[e].type)){var c={index:this.source.indexOf(c),previousIndex:this.source.indexOf(c),obj:c,oldValue:a[e].oldValue,name:a[e].name},l=this.data.indexOf(c.obj);
this._isAnUpdate(c,l)?(c=this._updateItemInCollection(c,l),this.emit("update",c)):this._redirectEvt(c,l)}}},_compileQuery:function(a){return 0!==Object.getOwnPropertyNames(a).length?"function"===typeof a?a:a.type?this._compileFilterQuery(a):function(b){for(var d in a)if(b[d]!==a[d])return!1;return!0}:function(){return!0}},_compileFilterQuery:function(a){var b=a.args[0],e=a.args[1];switch(a.type){case "eq":return function(a){return a[b]===e};case "ne":return function(a){return a[b]!==e};case "lt":return function(a){return a[b]<
e};case "lte":return function(a){return a[b]<=e};case "gt":return function(a){return a[b]>e};case "gte":return function(a){return a[b]>=e};case "in":return function(a){return-1!==e.indexOf(a[b])};case "match":return function(a){return e.test(a[b])};case "contains":return function(a){return this._arrayContains(a[b],e)}.bind(this);case "and":var c=this._compileFilterQuery(b),l=this._compileFilterQuery(e);return function(a){return c(a)&&l(a)};case "or":return c=this._compileFilterQuery(b),l=this._compileFilterQuery(e),
function(a){return c(a)||l(a)};default:throw Error("Unknown filter operation '"+a.type+"'");}},_arrayContains:function(a,d){for(var b=0;b<d.length;b++)if(-1===a.indexOf(d[b]))return!1;return!0},deliver:function(){this._arrayHandle&&this._arrayHandle.deliver();0!==this._itemHandles.length&&this._observeCallbackItems&&k.deliverChangeRecords(this._observeCallbackItems)},discardChanges:function(){if(this._arrayHandle&&this._itemHandles)return this._beingDiscarded=!0,this._arrayHandle.deliver(),this._observeCallbackItems&&
k.deliverChangeRecords(this._observeCallbackItems),this._beingDiscarded=!1,this},untrack:function(){this._arrayHandle&&this._arrayHandle.remove();if(this._itemHandles)for(var a=0;a<this._itemHandles.length;a++)this._itemHandles[a].remove()},fetch:function(){return a(this.data)},fetchRange:function(b){var d=this.data.slice(b.start,b.end);if(d.length<b.end-b.start){var e;this.emit("_new-query-asked",{start:b.start,end:b.end,resLength:d.length,setPromise:function(a){e=a}});return e||a(d)}return a(d)},
setIdentity:function(a,d){a.id=d},get:function(a){for(var b=0;b<this.data.length;b++){var e=this.data[b];if(e.id===a)return f.resolve(e)}},getIdentity:function(a){return void 0!==a.id?a.id:this.data.indexOf(a)}})});
define("decor/Observable",["./features","./features!object-observe-api?:./schedule"],function(c,m){var g,k=Object.defineProperty,f=Object.getOwnPropertyDescriptor,a={add:1,update:1,"delete":1,reconfigure:1,setPrototype:1,preventExtensions:1};g=function(a){this._observable||k(this,"_observable",{value:1});a&&g.assign(this,a)};g.test=function(a){return a&&a._observable};g.is=c("object-is-api")?Object.is:function(a,b){return a===b&&(0!==a||1/a===1/b)||a!==a&&b!==b};g.assign=function(a){if(null==a)throw new TypeError("Can't convert "+
a+" to object.");a=Object(a);for(var b=1,d=arguments.length;b<d;++b)for(var e=Object(arguments[b]),c=Object.getOwnPropertyNames(e),h=0,l=c.length;h<l;++h){var f=c[h];g.prototype.set.call(a,f,e[f])}return a};c("object-observe-api")?g.canObserve=function(a){return"object"===typeof a&&null!=a}:g.canObserve=g.test;if(c("object-observe-api"))k(g.prototype,"set",{value:function(a,b){return this[a]=b},configurable:!0,writable:!0}),g.observe=function(a,b,d){Object.observe.call(this,a,b,d);return{remove:function(){Object.unobserve(a,
b)}}},g.getNotifier=Object.getNotifier,g.deliverChangeRecords=Object.deliverChangeRecords;else{k(g.prototype,"set",{value:function(a,b){var d=a in this?"update":"add",e=this[a],c=(f(this,a)||{}).set;this[a]=b;g.is(b,e)||void 0!==c||(a={type:d,object:this,name:a+""},"update"===d&&(a.oldValue=e),g.getNotifier(this).notify(a));return b},configurable:!0,writable:!0});var b=0,d={},e=null,h=function(){c("polymer-platform")&&Platform.performMicrotaskCheckpoint();for(var a=!0;a;){var a=!1,b=[],h;for(h in d)b.push(d[h]);
d={};for(var b=b.sort(function(a,b){return a._seq-b._seq}),l=0,f=b.length;l<f;++l)0<b[l]._changeRecords.length&&(g.deliverChangeRecords(b[l]),a=!0)}e=null},l=function(a){this.target=a;this.observers={};this._activeChanges={}};l.prototype={notify:function(a){for(var b in this.observers){var c;a:if(c=this.observers[b].acceptTable,a.type in c){var l=void 0;for(l in c)if(0<this._activeChanges[l]){c=!1;break a}c=!0}else c=void 0;c&&(c=this.observers[b].callback,c._changeRecords.push(a),d[c._seq]=c,e||
(e=m(h)))}},performChange:function(a,b){this._activeChanges[a]=(this._activeChanges[a]||0)+1;b=b.call(void 0);--this._activeChanges[a];if(b){a={type:a,object:this.target};for(var d in b)d in a||(a[d]=b[d]);this.notify(a)}}};g.getNotifier=function(a){f(a,"_notifier")||k(a,"_notifier",{value:new l(a)});return a._notifier};g.observe=function(d,e,c){if(Object(d)!==d)throw new TypeError("Observable.observe() cannot be called on non-object.");"_seq"in e||(e._seq=b++,e._changeRecords=[],e._refCountOfNotifier=
0);c=c?c.reduce(function(a,b){a[b]=1;return a},{}):a;var h=g.getNotifier(d);e._seq in h.observers?h.observers[e._seq].acceptTable=c:(h.observers[e._seq]={acceptTable:c,callback:e},++e._refCountOfNotifier);return{remove:function(){e._seq in h.observers&&(delete h.observers[e._seq],--e._refCountOfNotifier)}}};g.deliverChangeRecords=function(a){var b=a._changeRecords.length;try{a(a._changeRecords.splice(0,b))}catch(r){c("console-api")&&console.error("Error occured in observer callback: "+(r.stack||r))}0===
a._changeRecords.length&&0===a._refCountOfNotifier&&(a._seq=void 0)}}return g});
define("delite/KeyNav",["dcl/dcl","requirejs-dplugins/jquery!attributes/classes","./features","./Widget","dpointer/events"],function(c,m,g,k){function f(a){var b=a.nodeName.toLowerCase();return!a.readOnly&&("textarea"===b||"input"===b&&/^(color|email|number|password|search|tel|text|url|range)$/.test(a.type))}return c(k,{focusDescendants:!0,navigatedDescendant:null,descendantSelector:null,keyNavContainerNode:null,_getTargetElement:function(a){for(a=a.target;a!==this;a=a.parentNode)if(this._selectorFunc(a))return a;
return null},postRender:function(){this.keyNavContainerNode||(this.keyNavContainerNode=this.containerNode||this);this.on("keypress",this._keynavKeyPressHandler.bind(this),this.keyNavContainerNode);this.on("keydown",this._keynavKeyDownHandler.bind(this),this.keyNavContainerNode);this.on("pointerdown",this.pointerdownHandler.bind(this),this.keyNavContainerNode);this.on("focusin",this.focusinHandler.bind(this),this.keyNavContainerNode);this.on("focusout",this.focusoutHandler.bind(this),this.keyNavContainerNode);
if("string"===typeof this.descendantSelector){var a=g("dom-matches");this._selectorFunc=function(b){return b[a](this.descendantSelector)}}else this._selectorFunc=this.descendantSelector?this.descendantSelector:function(a){return a.parentNode===this.containerNode}},attachedCallback:function(){var a=this.keyNavContainerNode;this.focusDescendants&&!a.hasAttribute("tabindex")&&(a.tabIndex="0")},pointerdownHandler:function(a){var b=this._getTargetElement(a);b&&this._descendantNavigateHandler(b,a)},focusinHandler:function(a){var b=
this.keyNavContainerNode;if(this.focusDescendants)if(a.target===this||a.target===b)this.navigatedDescendant||this.defer(this.focus);else if(b.hasAttribute("tabindex")&&(this._savedTabIndex=b.tabIndex,b.removeAttribute("tabindex")),b=this._getTargetElement(a))a.target===b&&(b.tabIndex=this._savedTabIndex),this._descendantNavigateHandler(b,a)},focusoutHandler:function(a){if(this.focusDescendants){var b=this._getTargetElement(a);b&&b!==a.relatedTarget&&(b.tabIndex="-1",m(b).removeClass("d-active-descendant"),
this.navigatedDescendant===b&&(this.navigatedDescendant=null));"_savedTabIndex"in this&&!this.keyNavContainerNode.contains(a.relatedTarget)&&(this.keyNavContainerNode.setAttribute("tabindex",this._savedTabIndex),delete this._savedTabIndex)}},homeKeyHandler:function(a){this.navigateToFirst(a)},endKeyHandler:function(a){this.navigateToLast(a)},focus:function(){this.navigateToFirst()},navigateToFirst:function(a){this.navigateTo(this.getNext(this.keyNavContainerNode,1),a)},navigateToLast:function(a){this.navigateTo(this.getNext(this.keyNavContainerNode,
-1),!1,a)},navigateTo:function(a,b,d){this.focusDescendants?(a.tabIndex="_savedTabIndex"in this?this._savedTabIndex:this.keyNavContainerNode.tabIndex,a.focus(b?"end":"start")):this._descendantNavigateHandler(a,d)},_descendantNavigateHandler:function(a,b){a&&a!==this.navigatedDescendant&&(this.navigatedDescendant&&(m(this.navigatedDescendant).removeClass("d-active-descendant"),this.navigatedDescendant.tabIndex="-1"),this.emit("keynav-child-navigated",{oldValue:this.navigatedDescendant,newValue:a,triggerEvent:b}),
(this.navigatedDescendant=a)&&m(a).addClass("d-active-descendant"))},_searchString:"",multiCharSearchDuration:1E3,_keyboardSearchHandler:function(a,b,d,e){a&&this.navigateTo(a)},_keyboardSearchCompare:function(a,b){a=(a.label||(a.focusNode?a.focusNode.label:"")||a.textContent||"").replace(/^\s+/,"").substr(0,b.length).toLowerCase();return b.length&&a===b?-1:0},_keynavKeyDownHandler:function(a){if(!f(a.target)||"ArrowLeft"!==a.key&&"ArrowRight"!==a.key&&"Home"!==a.key&&"End"!==a.key&&"Spacebar"!==
a.key){var b=a.target;(b.readOnly||!/^(button|a)$/i.test(b.nodeName)||"Enter"!==a.key&&"Spacebar"!==a.key)&&this._processKeyDown(a)}},_processKeyDown:function(a){"Spacebar"!==a.key||!this._searchTimer||a.ctrlKey||a.altKey||a.metaKey?this._applyKeyHandler(a):(a.preventDefault(),this._keyboardSearch(a," "))},_applyKeyHandler:function(a){var b;switch(a.key){case "ArrowLeft":b="rtl"===this.effectiveDir?"nextKeyHandler":"previousKeyHandler";break;case "ArrowRight":b="rtl"===this.effectiveDir?"previousKeyHandler":
"nextKeyHandler";break;case "ArrowUp":case "ArrowDown":b=a.key.charAt(5).toLowerCase()+a.key.substr(6)+"KeyHandler";break;default:b=a.key.charAt(0).toLowerCase()+a.key.substr(1)+"KeyHandler"}if(b=this[b])b.call(this,a,this.navigatedDescendant),a.stopPropagation(),a.preventDefault(),this._searchString=""},_keynavKeyPressHandler:function(a){f(a.target)||32>=a.charCode||a.ctrlKey||a.altKey||a.metaKey||(a.preventDefault(),a.stopPropagation(),this._keyboardSearch(a,a.key.toLowerCase()))},_keyboardSearch:function(a,
b){var d=null,e=0;this._searchTimer&&this._searchTimer.remove();this._searchString+=b;var c=/^(.)\1*$/.test(this._searchString)?1:this._searchString.length;b=this._searchString.substr(0,c);this._searchTimer=this.defer(function(){this._searchTimer=null;this._searchString=""},this.multiCharSearchDuration);var l=this.navigatedDescendant||null;if(1===c||!l)if(l=this.getNext(l,1),!l)return;c=l;do{var f=this._keyboardSearchCompare(l,b);f&&0===e++&&(d=l);if(-1===f){e=-1;break}l=this.getNext(l,1)}while(l!==
c);this._keyboardSearchHandler(d,a,b,e)},getNext:function(a,b){function d(a){if(a.firstElementChild)return a.firstElementChild;for(;a!==l;){if(a.nextElementSibling)return a.nextElementSibling;a=a.parentNode}return l}function e(a){for(;a.lastElementChild;)a=a.lastElementChild;return a}function c(a){return a===l?e(l):a.previousElementSibling&&e(a.previousElementSibling)||a.parentNode}for(var l=this.keyNavContainerNode,f=a;;){a=0<b?d(a):c(a);if(a===f)return null;if(this._selectorFunc(a))return a}}})});
define("delite/features",["requirejs-dplugins/has"],function(c){c.add("config-bgIframe",!1);c.add("bidi",!1);c.add("inherited-dir",!1);"undefined"!==typeof window&&(c.add("dom-matches",function(){var c=document.body;if(c.matches)return"matches";if(c.webkitMatchesSelector)return"webkitMatchesSelector";if(c.mozMatchesSelector)return"mozMatchesSelector";if(c.msMatchesSelector)return"msMatchesSelector"}),c.add("document-register-element",!!document.registerElement),c.add("MutationObserver",window.MutationObserver?
"MutationObserver":window.WebKitMutationObserver?"WebKitMutationObserver":""),c.add("DOMNodeInserted",function(){function c(b){"root"===b.target.id&&(f=!0);"child"===b.target.id&&(a=!0)}var g=document.createElement("div"),k=document.createElement("div"),f,a;g.id="root";k.id="child";g.appendChild(k);document.body.addEventListener("DOMNodeInserted",c);document.body.appendChild(g);document.body.removeChild(g);document.body.removeEventListener("DOMNodeInserted",c);return a?"all":f?"root":""}),c.add("dom-proto-set",
function(){return!!document.createElement("div").__proto__}),c.add("dom-template",!!document.createElement("template").content));return c});
define("delite/Selection",["dcl/dcl","decor/sniff","./Widget"],function(c,m,g){return c(g,{createdCallback:function(){this._set("selectedItems",[])},selectionMode:"single",_setSelectionModeAttr:function(c){if("none"!==c&&"single"!==c&&"multiple"!==c&&"radio"!==c)throw new TypeError("selectionMode invalid value");c!==this.selectionMode&&(this._set("selectionMode",c),"none"===c?this.selectedItems=null:"single"!==c&&"radio"!==c||!this.selectedItem||(this.selectedItems=[this.selectedItem]))},selectedItem:null,
_setSelectedItemAttr:function(c){this.selectedItem!==c&&(this.selectedItems=null==c?null:[c])},selectedItems:null,_setSelectedItemsAttr:function(c){var f=this.selectedItems;this._set("selectedItems",c);null!=f&&0<f.length&&this.updateRenderers(f);this.selectedItems&&0<this.selectedItems.length?(this._set("selectedItem",this.selectedItems[0]),this.updateRenderers(this.selectedItems)):this._set("selectedItem",null)},_getSelectedItemsAttr:function(){return null==this._get("selectedItems")?[]:this._get("selectedItems").concat()},
hasSelectionModifier:function(c){return m("mac")?c.metaKey:c.ctrlKey},isSelected:function(c){if(null==this.selectedItems||0===this.selectedItems.length)return!1;var f=this.getIdentity(c);return this.selectedItems.some(function(a){return this.getIdentity(a)===f},this)},getIdentity:function(c){},updateRenderers:function(c){},setSelected:function(c,f){"none"!==this.selectionMode&&null!=c&&this._setSelected(c,f)},_setSelected:function(c,f){var a=this.selectedItems,b;"single"===this.selectionMode||"radio"===
this.selectionMode?f?this.selectedItem=c:"single"===this.selectionMode&&this.isSelected(c)&&(this.selectedItems=null):f?this.isSelected(c)||(null==a?a=[c]:a.unshift(c),this.selectedItems=a):(b=this.getIdentity(c),c=a?a.filter(function(a){return this.getIdentity(a)!==b},this):[],null!=c&&c.length!==a.length&&(this.selectedItems=c))},selectFromEvent:function(c,f,a,b){return"none"===this.selectionMode?!1:this._selectFromEvent(c,f,a,b)},_selectFromEvent:function(c,f,a,b){var d,e=this.selectedItem,h=null==
f?!1:this.isSelected(f);null==f?"multiple"!==this.selectionMode||this.hasSelectionModifier(c)||null==this.selectedItem||(this.selectedItem=null,d=!0):"multiple"===this.selectionMode?(this.hasSelectionModifier(c)?this.setSelected(f,!h):this.selectedItem=f,d=!0):"single"===this.selectionMode&&this.hasSelectionModifier(c)?(this.selectedItem=h?null:f,d=!0):h||(this.selectedItem=f,d=!0);b&&d&&this.dispatchSelectionChange(e,this.selectedItem,a,c);return d},dispatchSelectionChange:function(c,f,a,b){this.emit("selection-change",
{oldValue:c,newValue:f,renderer:a,triggerEvent:b})}})});
define("delite/CustomElement","dcl/advise dcl/dcl decor/Observable decor/Destroyable decor/Stateful requirejs-dplugins/has ./on ./register".split(" "),function(c,m,g,k,f,a,b,d){function e(a){try{return a.split(".").reduce(function(a,b){return a[b]},this)}catch(n){}}a.add("setter-on-native-prop",function(){var a=!1,b=m(f,{getProps:function(){return{dir:!0}},dir:"",_setDirAttr:function(){a=!0}});(new (d("test-setter-on-native-prop",[HTMLElement,b],{}))).dir="rtl";return a});var h=/^constructor$|^_set$|^_get$|^deliver$|^discardChanges$|^_(.+)Attr$/;
c=m([f,k],{introspect:function(){if(!a("setter-on-native-prop")){var b=this,d=document.createElement(this._extends||"div"),e=this._nativePropSetterMap={};this._nativeAttrs=[];do Object.keys(b).forEach(function(a){var c=a.toLowerCase();a in d&&!e[c]&&(a=Object.getOwnPropertyDescriptor(b,a))&&a.set&&(this._nativeAttrs.push(c),e[c]=a.set)},this),b=Object.getPrototypeOf(b);while(b&&b!==this._baseElement.prototype)}},getProps:function(){var a={},b=this,d=this._propCaseMap={};do Object.keys(b).forEach(function(b){h.test(b)||
(a[b]=!0,d[b.toLowerCase()]=b)}),b=Object.getPrototypeOf(b);while(b&&b!==this._baseElement.prototype);return a},_processNativeProps:function(){a("setter-on-native-prop")||this._nativeAttrs.forEach(function(a){if(this.hasAttribute(a)){var b=this.getAttribute(a);this.removeAttribute(a);null!==b&&this._nativePropSetterMap[a].call(this,b)}},this)},created:!1,createdCallback:m.advise({before:function(){this._observable||g.call(this);this._parsedAttributes=this._mapAttributes()},after:function(){this.created=
!0;this._parsedAttributes.forEach(function(a){if(a.event)this.on(a.event,a.callback);else this[a.prop]=a.value},this);a("setter-on-native-prop")||(this._processNativeProps(),(new (window.MutationObserver||WebKitMutationObserver)(function(a){a.forEach(function(a){a=a.attributeName;var b=this._nativePropSetterMap[a],d=this.getAttribute(a);null!==d&&(this.removeAttribute(a),b.call(this,d))},this)}.bind(this))).observe(this,{subtree:!1,attributeFilter:this._nativeAttrs,attributes:!0}))}}),attached:!1,
attachedCallback:m.advise({before:function(){this.deliver()},after:function(){this.attached=!0;this.emit("customelement-attached",{bubbles:!1,cancelable:!1})}}),detachedCallback:function(){this.attached=!1},_parsePrototypeAttr:function(a,b){function d(a){var b;try{b=eval("("+("{"===a[0]?"":"{")+a+("{"===a[0]?"":"}")+")")}catch(t){throw new SyntaxError("Error in attribute conversion to object: "+t.message+"\nAttribute Value: '"+a+"'");}return b}switch(typeof this[a]){case "string":return b;case "number":return b-
0;case "boolean":return"false"!==b;case "object":return e(b)||(Array.isArray(this[a])?b?b.split(/,\s*/):[]:d(b));case "function":return this.parseFunctionAttribute(b,[])}},parseFunctionAttribute:function(a,b){return e(a)||new (Function.bind.apply(Function,[void 0].concat(b).concat([a])))},parseAttribute:function(a,b){var d=this._propCaseMap;if(a in d)return a=d[a],{prop:a,value:this._parsePrototypeAttr(a,b)};if(/^on-/.test(a))return{event:a.substring(3),callback:this.parseFunctionAttribute(b,["event"])}},
_mapAttributes:function(){for(var a,b=0,d=[],e=[];a=this.attributes[b++];){var c=a.name.toLowerCase();if(c=this.parseAttribute(c,a.value))d.push(c),e.push(a.name)}e.forEach(this.removeAttribute,this);return d},destroy:function(){this.findCustomElements().forEach(function(a){a.destroy&&a.destroy()});this.parentNode&&(this.parentNode.removeChild(this),this.detachedCallback())},emit:function(a,d,e){return b.emit(e||this,a,d)},on:function(a,d,e){return b(e||this,a,d)},getPropsToObserve:function(){return this._ctor._propsToObserve},
deliver:m.before(function(){this._processNativeProps()}),findCustomElements:function(a){function b(a){for(a=a.firstChild;a;a=a.nextSibling)1===a.nodeType&&a.createdCallback?d.push(a):b(a)}var d=[];b(a||this);return d}});m.chainAfter(c,"createdCallback");m.chainAfter(c,"attachedCallback");m.chainBefore(c,"detachedCallback");return c});
define("delite/on",[],function(){var c=function(c,g,k){var f=!1,a="onfocusin"in c?{}:{focusin:"focus",focusout:"blur"};g in a&&(g=a[g],f=!0);if(/^key(down|press|up)$/.test(g)){var b=k;k=function(a){var d=a.key||a.keyIdentifier||String.fromCharCode(a.charCode),c={"U+0020":"Spacebar","U+0008":"Backspace","U+0009":"Tab","U+001B":"Escape"," ":"Spacebar",Apps:"ContextMenu",Left:"ArrowLeft",Down:"ArrowDown",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Esc:"Escape","U+00007F":"Backspace"}[d]||d.replace(/^U\+0*(.*)$/,
function(b,d){b=parseInt(d,16);65<=b&&90>=b&&!a.shiftKey&&(b+=32);return String.fromCharCode(b)});a.key!==c&&Object.defineProperty(a,"key",{get:function(){return c}});b(a)}}c.addEventListener(g,k,f);return{remove:function(){c.removeEventListener(g,k,f)}}};c.emit=function(c,g,k){k=k||{};var f="bubbles"in k?k.bubbles:!0,a="cancelable"in k?k.cancelable:!0,b=c.ownerDocument.createEvent("HTMLEvents");b.initEvent(g,f,a);for(var d in k)d in b||(b[d]=k[d]);return c.dispatchEvent(b)};return c});
define("decor/Stateful",["dcl/advise","dcl/dcl","./features","./Notifier"],function(c,m,g,k){function f(b){if(a[b])return a[b];var d=b.replace(/^[a-z]|-[a-zA-Z]/g,function(a){return a.charAt(a.length-1).toUpperCase()});return a[b]={p:"_shadow"+d+"Attr",s:"_set"+d+"Attr",g:"_get"+d+"Attr"}}var a={},b=/^constructor$|^_set$|^_get$|^deliver$|^discardChanges$|^_(.+)Attr$/;g=m(null,{getProps:function(){var a={},e;for(e in this)b.test(e)||(a[e]=!0);return a},introspect:function(a){Object.keys(a).forEach(function(a){var b=
f(a),d=b.p,e=b.g,c=b.s;d in this||(this[d]=this[a],delete this[a],Object.defineProperty(this,a,{enumerable:!0,set:function(b){c in this?this[c](b):this._set(a,b)},get:function(){return e in this?this[e]():this[d]}}))},this)},constructor:m.advise({before:function(){var a=this.constructor;a._introspected||(a._props=a.prototype.getProps(),a.prototype.introspect(a._props),a._introspected=!0)},after:function(a){this.processConstructorParameters(a)}}),processConstructorParameters:function(a){a.length&&
this.mix(a[0])},mix:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])},_set:function(a,b){var d=f(a).p,e=this[d];this[d]=b;(b!==e||0===b&&1/b!==1/e)&&(b===b||e===e)&&this._notify&&this._notify(a,e)},_get:function(a){return this[f(a).p]},notifyCurrentValue:function(){this._notify&&Array.prototype.forEach.call(arguments,function(a){this._notify(a,this[f(a).p])},this)},getPropsToObserve:function(){return this.constructor._props},observe:function(a){var b=new k(a.bind(this)),d=[c.after(this,
"_notify",function(a){b.notify(a[0],a[1])}),c.after(this,"deliver",b.deliver.bind(b)),c.after(this,"discardChanges",b.discardChanges.bind(b))];return{deliver:b.deliver.bind(b),discardChanges:b.discardChanges.bind(b),remove:function(){this._removed||(b.discardChanges(),d.forEach(function(a){a.destroy()}),d=b=null,this._removed=!0)}}},deliver:function(){},discardChanges:function(){}});m.chainAfter(g,"introspect");return g});
define("decor/Notifier",["dcl/dcl","./schedule"],function(c,m){function g(){for(var b=!0;b;){var b=!1,d=[],e;for(e in f)d.push(f[e]);f={};for(var d=d.sort(function(a,b){return a._seq-b._seq}),c=0,l=d.length;c<l;++c)d[c].deliver(),b=!0}a=null}var k=0,f={},a;c=function(a){this._seq=k++;this.callback=a};c.prototype={notify:function(b,d){this.oldVals||(this.oldVals={});b in this.oldVals||(this.oldVals[b]=d,f[this._seq]=this);a||(a=m(g))},deliver:function(){if(this.oldVals){var a=this.oldVals;delete this.oldVals;
delete f[this._seq];this.callback(a)}},discardChanges:function(){delete this.oldVals;delete f[this._seq]}};return c});
define("decor/Destroyable",["dcl/advise","dcl/dcl"],function(c,m){var g=m(null,{destroy:m.advise({before:function(){this._beingDestroyed=!0;this._releaseHandles&&(this._releaseHandles(),delete this._releaseHandles)},after:function(){this._destroyed=!0}}),own:function(){var k=["destroy","remove","cancel"],f=Array.prototype.slice.call(arguments);f.forEach(function(a){for(var b,d=0;d<k.length;d++)if(k[d]in a){b=k[d];break}if(!b)throw new TypeError("own() called with handle without destroy method");var e=
c.after(this,"_releaseHandles",function(){a[b]()});if(a.then)a.then(e.destroy.bind(e),e.destroy.bind(e));else var h=c.after(a,b,function(){e.destroy();h.destroy()})},this);return f},defer:function(c,f){var a=setTimeout(function(){a&&(a=null,this._destroyed||c.call(this))}.bind(this),f||0);return{remove:function(){a&&(clearTimeout(a),a=null);return null}}}});m.chainBefore(g,"destroy");return g});define("delite/handlebars!deliteful/ProgressBar/ProgressBar.html",["delite/handlebars"],function(c){return c.compile('<template role="progressbar">\n\t<div class="d-progress-bar-background">\n\t\t<div class="d-progress-bar-msg" attach-point="msgNode"></div>\n\t\t<div class="d-progress-bar-indicator" attach-point="indicatorNode">\n\t\t\t<div class="d-progress-bar-msg-invert" attach-point="msgInvertNode"></div>\n\t\t\t<div class="d-progress-bar-a11y"></div>\n\t\t</div>\n\t</div>\n</template>')});
define("deliteful/ProgressBar","dcl/dcl requirejs-dplugins/jquery!attributes/classes ecma402/IntlShim delite/register delite/Widget delite/handlebars!./ProgressBar/ProgressBar.html delite/theme!./ProgressBar/themes/{{theme}}/ProgressBar.css".split(" "),function(c,m,g,k,f,a){return k("d-progress-bar",[HTMLElement,f],{value:NaN,max:1,position:-1,message:"",displayExtMsg:!1,fractionDigits:0,baseClass:"d-progress-bar",template:a,postRender:function(){this.setAttribute("aria-valuemin",0)},computeProperties:function(a){if("max"in
a){var b=this._convert2Float(this.max,1);0>=b&&(b=1);b!==this.max&&(this.max=b)}"value"in a&&!isNaN(this.value)&&(a=this._convert2Float(this.value,0),a=Math.max(0,Math.min(this.max,a)),a!==this.value&&(this.value=a));this.position=isNaN(this.value)?-1:this.value/this.max},refreshRendering:function(a){"max"in a&&this.setAttribute("aria-valuemax",this.max);if("value"in a||"max"in a)-1===this.position?(this.indicatorNode.style.removeProperty("width"),this.removeAttribute("aria-valuenow")):(this.indicatorNode.style.width=
100*this.position+"%",this.msgInvertNode.style.width=window.getComputedStyle(this.msgNode).getPropertyValue("width"),this.setAttribute("aria-valuenow",this.value));this.msgNode.innerHTML=this.msgInvertNode.innerHTML=this.formatMessage(this.position,this.value,this.max);a=this.displayExtMsg&&-1!==this.position;m(this.msgNode).toggleClass(this.baseClass+"-msg-ext",a);a?this.msgNode.setAttribute("msg-ext",this.formatExtMsg(this.position,this.value,this.max)):this.msgNode.removeAttribute("msg-ext");this.message&&
-1===this.position?this.setAttribute("aria-valuetext",this.message):this.removeAttribute("aria-valuetext");m(this).toggleClass(this.baseClass+"-indeterminate",-1===this.position)},formatMessage:function(a,d,e){this._numberFormat&&this._prevLang===this.lang&&this._numberFormat.resolvedOptions().minimumFractionDigits===this.fractionDigits||(this._numberFormat=new g.NumberFormat(this.lang||void 0,{style:"percent",minimumFractionDigits:this.fractionDigits,maximumFractionDigits:this.fractionDigits}),this._prevLang=
this.lang);return this.message?this.message:isNaN(d)?"":this._numberFormat.format(a)},formatExtMsg:function(a,d,e){return d+"/"+e},_convert2Float:function(a,d){a=parseFloat(a);if(isNaN(a)||Infinity===a)a=d;return a}})});define("ecma402/IntlShim",["./features!intl-api?:./Intl"],function(c){return c||Intl});define("requirejs-text/text!ecma402/cldr/supplemental/currencyData.json",[],function(){return'{\n  "supplemental": {\n    "currencyData": {\n      "fractions": {\n        "ADP": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "AFN": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "ALL": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "AMD": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "BHD": {\n          "_rounding": "0",\n          "_digits": "3"\n        },\n        "BIF": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "BYR": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "CAD": {\n          "_rounding": "0",\n          "_digits": "2",\n          "_cashRounding": "5"\n        },\n        "CHF": {\n          "_rounding": "0",\n          "_digits": "2",\n          "_cashRounding": "5"\n        },\n        "CLF": {\n          "_rounding": "0",\n          "_digits": "4"\n        },\n        "CLP": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "COP": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "CRC": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "CZK": {\n          "_rounding": "0",\n          "_digits": "2",\n          "_cashDigits": "0",\n          "_cashRounding": "0"\n        },\n        "DEFAULT": {\n          "_rounding": "0",\n          "_digits": "2"\n        },\n        "DJF": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "ESP": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "GNF": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "GYD": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "HUF": {\n          "_rounding": "0",\n          "_digits": "2",\n          "_cashDigits": "0",\n          "_cashRounding": "0"\n        },\n        "IDR": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "IQD": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "IRR": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "ISK": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "ITL": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "JOD": {\n          "_rounding": "0",\n          "_digits": "3"\n        },\n        "JPY": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "KMF": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "KPW": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "KRW": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "KWD": {\n          "_rounding": "0",\n          "_digits": "3"\n        },\n        "LAK": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "LBP": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "LUF": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "LYD": {\n          "_rounding": "0",\n          "_digits": "3"\n        },\n        "MGA": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "MGF": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "MMK": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "MNT": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "MRO": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "MUR": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "OMR": {\n          "_rounding": "0",\n          "_digits": "3"\n        },\n        "PKR": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "PYG": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "RSD": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "RWF": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "SLL": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "SOS": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "STD": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "SYP": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "TMM": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "TND": {\n          "_rounding": "0",\n          "_digits": "3"\n        },\n        "TRL": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "TWD": {\n          "_rounding": "0",\n          "_digits": "2",\n          "_cashDigits": "0",\n          "_cashRounding": "0"\n        },\n        "TZS": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "UGX": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "UYI": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "UZS": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "VND": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "VUV": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "XAF": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "XOF": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "XPF": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "YER": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "ZMK": {\n          "_rounding": "0",\n          "_digits": "0"\n        },\n        "ZWD": {\n          "_rounding": "0",\n          "_digits": "0"\n        }\n      }\n    }\n  }\n}\n'});
define("requirejs-text/text!ecma402/cldr/supplemental/timeData.json",[],function(){return'{\n  "supplemental": {\n    "timeData": {\n      "001": {\n        "_allowed": "H h",\n        "_preferred": "H"\n      },\n      "AD": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "AE": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "AG": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "AL": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "AM": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "AO": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "AS": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "AT": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "AU": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "AW": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "AX": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "BB": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "BD": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "BE": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "BF": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "BH": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "BJ": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "BL": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "BM": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "BN": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "BQ": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "BR": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "BS": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "BT": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "BW": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "CA": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "CD": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "CG": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "CI": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "CN": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "CO": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "CP": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "CV": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "CY": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "CZ": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "DE": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "DJ": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "DK": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "DM": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "DZ": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "EE": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "EG": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "EH": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "ER": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "ET": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "FI": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "FJ": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "FM": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "FR": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "GA": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "GD": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "GF": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "GH": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "GL": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "GM": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "GN": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "GP": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "GR": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "GU": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "GW": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "GY": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "HK": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "HR": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "ID": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "IL": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "IN": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "IQ": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "IS": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "IT": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "JM": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "JO": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "JP": {\n        "_allowed": "H K h",\n        "_preferred": "H"\n      },\n      "KH": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "KI": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "KN": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "KP": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "KR": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "KW": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "KY": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "LB": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "LC": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "LR": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "LS": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "LY": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "MA": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "MC": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "MD": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "MF": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "MH": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "ML": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "MO": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "MP": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "MQ": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "MR": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "MW": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "MY": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "MZ": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "NA": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "NC": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "NE": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "NG": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "NL": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "NZ": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "OM": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "PG": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "PK": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "PM": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "PR": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "PS": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "PT": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "PW": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "QA": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "RE": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "RO": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "RU": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "SA": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "SB": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "SD": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "SE": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "SG": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "SI": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "SJ": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "SK": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "SL": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "SM": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "SO": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "SR": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "SS": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "ST": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "SY": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "SZ": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "TC": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "TD": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "TG": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "TN": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "TR": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "TT": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "TW": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "UM": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "US": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "VC": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "VG": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "VI": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "VU": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "WF": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "WS": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "YE": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "YT": {\n        "_allowed": "H",\n        "_preferred": "H"\n      },\n      "ZA": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "ZM": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      },\n      "ZW": {\n        "_allowed": "H h",\n        "_preferred": "h"\n      }\n    }\n  }\n}\n'});
define("requirejs-text/text!ecma402/cldr/supplemental/numberingSystems.json",[],function(){return'{\n  "supplemental": {\n    "numberingSystems": {\n      "arab": {\n        "_digits": "\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u0669",\n        "_type": "numeric"\n      },\n      "arabext": {\n        "_digits": "\u06f0\u06f1\u06f2\u06f3\u06f4\u06f5\u06f6\u06f7\u06f8\u06f9",\n        "_type": "numeric"\n      },\n      "bali": {\n        "_digits": "\u1b50\u1b51\u1b52\u1b53\u1b54\u1b55\u1b56\u1b57\u1b58\u1b59",\n        "_type": "numeric"\n      },\n      "beng": {\n        "_digits": "\u09e6\u09e7\u09e8\u09e9\u09ea\u09eb\u09ec\u09ed\u09ee\u09ef",\n        "_type": "numeric"\n      },\n      "cham": {\n        "_digits": "\uaa50\uaa51\uaa52\uaa53\uaa54\uaa55\uaa56\uaa57\uaa58\uaa59",\n        "_type": "numeric"\n      },\n      "deva": {\n        "_digits": "\u0966\u0967\u0968\u0969\u096a\u096b\u096c\u096d\u096e\u096f",\n        "_type": "numeric"\n      },\n      "fullwide": {\n        "_digits": "\uff10\uff11\uff12\uff13\uff14\uff15\uff16\uff17\uff18\uff19",\n        "_type": "numeric"\n      },\n      "gujr": {\n        "_digits": "\u0ae6\u0ae7\u0ae8\u0ae9\u0aea\u0aeb\u0aec\u0aed\u0aee\u0aef",\n        "_type": "numeric"\n      },\n      "guru": {\n        "_digits": "\u0a66\u0a67\u0a68\u0a69\u0a6a\u0a6b\u0a6c\u0a6d\u0a6e\u0a6f",\n        "_type": "numeric"\n      },\n      "hanidec": {\n        "_digits": "\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",\n        "_type": "numeric"\n      },\n      "java": {\n        "_digits": "\ua9d0\ua9d1\ua9d2\ua9d3\ua9d4\ua9d5\ua9d6\ua9d7\ua9d8\ua9d9",\n        "_type": "numeric"\n      },\n      "kali": {\n        "_digits": "\ua900\ua901\ua902\ua903\ua904\ua905\ua906\ua907\ua908\ua909",\n        "_type": "numeric"\n      },\n      "khmr": {\n        "_digits": "\u17e0\u17e1\u17e2\u17e3\u17e4\u17e5\u17e6\u17e7\u17e8\u17e9",\n        "_type": "numeric"\n      },\n      "knda": {\n        "_digits": "\u0ce6\u0ce7\u0ce8\u0ce9\u0cea\u0ceb\u0cec\u0ced\u0cee\u0cef",\n        "_type": "numeric"\n      },\n      "lana": {\n        "_digits": "\u1a80\u1a81\u1a82\u1a83\u1a84\u1a85\u1a86\u1a87\u1a88\u1a89",\n        "_type": "numeric"\n      },\n      "lanatham": {\n        "_digits": "\u1a90\u1a91\u1a92\u1a93\u1a94\u1a95\u1a96\u1a97\u1a98\u1a99",\n        "_type": "numeric"\n      },\n      "laoo": {\n        "_digits": "\u0ed0\u0ed1\u0ed2\u0ed3\u0ed4\u0ed5\u0ed6\u0ed7\u0ed8\u0ed9",\n        "_type": "numeric"\n      },\n      "latn": {\n        "_digits": "0123456789",\n        "_type": "numeric"\n      },\n      "lepc": {\n        "_digits": "\u1c40\u1c41\u1c42\u1c43\u1c44\u1c45\u1c46\u1c47\u1c48\u1c49",\n        "_type": "numeric"\n      },\n      "limb": {\n        "_digits": "\u1946\u1947\u1948\u1949\u194a\u194b\u194c\u194d\u194e\u194f",\n        "_type": "numeric"\n      },\n      "mlym": {\n        "_digits": "\u0d66\u0d67\u0d68\u0d69\u0d6a\u0d6b\u0d6c\u0d6d\u0d6e\u0d6f",\n        "_type": "numeric"\n      },\n      "mong": {\n        "_digits": "\u1810\u1811\u1812\u1813\u1814\u1815\u1816\u1817\u1818\u1819",\n        "_type": "numeric"\n      },\n      "mtei": {\n        "_digits": "\uabf0\uabf1\uabf2\uabf3\uabf4\uabf5\uabf6\uabf7\uabf8\uabf9",\n        "_type": "numeric"\n      },\n      "mymr": {\n        "_digits": "\u1040\u1041\u1042\u1043\u1044\u1045\u1046\u1047\u1048\u1049",\n        "_type": "numeric"\n      },\n      "mymrshan": {\n        "_digits": "\u1090\u1091\u1092\u1093\u1094\u1095\u1096\u1097\u1098\u1099",\n        "_type": "numeric"\n      },\n      "nkoo": {\n        "_digits": "\u07c0\u07c1\u07c2\u07c3\u07c4\u07c5\u07c6\u07c7\u07c8\u07c9",\n        "_type": "numeric"\n      },\n      "olck": {\n        "_digits": "\u1c50\u1c51\u1c52\u1c53\u1c54\u1c55\u1c56\u1c57\u1c58\u1c59",\n        "_type": "numeric"\n      },\n      "orya": {\n        "_digits": "\u0b66\u0b67\u0b68\u0b69\u0b6a\u0b6b\u0b6c\u0b6d\u0b6e\u0b6f",\n        "_type": "numeric"\n      },\n      "saur": {\n        "_digits": "\ua8d0\ua8d1\ua8d2\ua8d3\ua8d4\ua8d5\ua8d6\ua8d7\ua8d8\ua8d9",\n        "_type": "numeric"\n      },\n      "sund": {\n        "_digits": "\u1bb0\u1bb1\u1bb2\u1bb3\u1bb4\u1bb5\u1bb6\u1bb7\u1bb8\u1bb9",\n        "_type": "numeric"\n      },\n      "talu": {\n        "_digits": "\u19d0\u19d1\u19d2\u19d3\u19d4\u19d5\u19d6\u19d7\u19d8\u19d9",\n        "_type": "numeric"\n      },\n      "tamldec": {\n        "_digits": "\u0be6\u0be7\u0be8\u0be9\u0bea\u0beb\u0bec\u0bed\u0bee\u0bef",\n        "_type": "numeric"\n      },\n      "telu": {\n        "_digits": "\u0c66\u0c67\u0c68\u0c69\u0c6a\u0c6b\u0c6c\u0c6d\u0c6e\u0c6f",\n        "_type": "numeric"\n      },\n      "thai": {\n        "_digits": "\u0e50\u0e51\u0e52\u0e53\u0e54\u0e55\u0e56\u0e57\u0e58\u0e59",\n        "_type": "numeric"\n      },\n      "tibt": {\n        "_digits": "\u0f20\u0f21\u0f22\u0f23\u0f24\u0f25\u0f26\u0f27\u0f28\u0f29",\n        "_type": "numeric"\n      },\n      "vaii": {\n        "_digits": "\ua620\ua621\ua622\ua623\ua624\ua625\ua626\ua627\ua628\ua629",\n        "_type": "numeric"\n      },\n      "armn": {\n        "_type": "algorithmic",\n        "_rules": "armenian-upper"\n      },\n      "armnlow": {\n        "_type": "algorithmic",\n        "_rules": "armenian-lower"\n      },\n      "ethi": {\n        "_type": "algorithmic",\n        "_rules": "ethiopic"\n      },\n      "geor": {\n        "_type": "algorithmic",\n        "_rules": "georgian"\n      },\n      "grek": {\n        "_type": "algorithmic",\n        "_rules": "greek-upper"\n      },\n      "greklow": {\n        "_type": "algorithmic",\n        "_rules": "greek-lower"\n      },\n      "hanidays": {\n        "_type": "algorithmic",\n        "_rules": "zh/SpelloutRules/spellout-numbering-days"\n      },\n      "hans": {\n        "_type": "algorithmic",\n        "_rules": "zh/SpelloutRules/spellout-cardinal"\n      },\n      "hansfin": {\n        "_type": "algorithmic",\n        "_rules": "zh/SpelloutRules/spellout-cardinal-financial"\n      },\n      "hant": {\n        "_type": "algorithmic",\n        "_rules": "zh_Hant/SpelloutRules/spellout-cardinal"\n      },\n      "hantfin": {\n        "_type": "algorithmic",\n        "_rules": "zh_Hant/SpelloutRules/spellout-cardinal-financial"\n      },\n      "hebr": {\n        "_type": "algorithmic",\n        "_rules": "hebrew"\n      },\n      "jpan": {\n        "_type": "algorithmic",\n        "_rules": "ja/SpelloutRules/spellout-cardinal"\n      },\n      "jpanfin": {\n        "_type": "algorithmic",\n        "_rules": "ja/SpelloutRules/spellout-cardinal-financial"\n      },\n      "roman": {\n        "_type": "algorithmic",\n        "_rules": "roman-upper"\n      },\n      "romanlow": {\n        "_type": "algorithmic",\n        "_rules": "roman-lower"\n      },\n      "taml": {\n        "_type": "algorithmic",\n        "_rules": "tamil"\n      }\n    }\n  }\n}\n'});
define("ecma402/Intl","./impl/Record ./impl/calendars ./impl/common ./locales! requirejs-text/text!./cldr/supplemental/currencyData.json requirejs-text/text!./cldr/supplemental/timeData.json requirejs-text/text!./cldr/supplemental/numberingSystems.json".split(" "),function(c,m,g,k,f,a,b){function d(a,b,d){if(a.hasOwnProperty("initializedIntlObject")&&a.initializedIntlObject)throw new TypeError("NumberFormat is already initialized.");a.initializedIntlObject=!0;b=g.CanonicalizeLocaleList(b);d=void 0===
d?{}:Object(d);var e=new c,h=g.GetOption(d,"localeMatcher","string",["lookup","best fit"],"best fit");e.set("localeMatcher",h);e=g.ResolveLocale(L.availableLocales,b,e,L.relevantExtensionKeys,L.localeData);a.locale=e.locale;a.dataLocale=e.dataLocale;a.numberingSystem=e.nu;b=g.GetOption(d,"style","string",["decimal","percent","currency"],"decimal");a.style=b;var l=g.GetOption(d,"currency","string");if(void 0!==l&&!g.IsWellFormedCurrencyCode(l))throw new RangeError("Invalid currency code "+l);if("currency"===
b&&void 0===l)throw new TypeError("No currency code specified.");h=2;"currency"===b&&(l=g._toUpperCaseIdentifier(l),a.currency=l,a.currencySymbol=l,a.currencyDisplayName=l,E.supplemental.currencyData.fractions[l]&&(h=E.supplemental.currencyData.fractions[l]._digits));l=g.GetOption(d,"currencyDisplay","string",["code","symbol","name"],"symbol");"currency"===b&&(a.currencyDisplay=l,"symbol"===l||"name"===l)&&(l=k[e.dataLocale].currencies.main[e.dataLocale].numbers.currencies,l[a.currency]&&(a.currencySymbol=
l[a.currency].symbol,a.currencyDisplayName=l[a.currency].displayName));l=g.GetNumberOption(d,"minimumIntegerDigits",1,21,1);a.minimumIntegerDigits=l;l=g.GetNumberOption(d,"minimumFractionDigits",0,20,"currency"===b?h:0);a.minimumFractionDigits=l;h=g.GetNumberOption(d,"maximumFractionDigits",l,20,"currency"===b?Math.max(l,h):"percent"===b?Math.max(l,0):Math.max(l,3));a.maximumFractionDigits=h;h=d.minimumSignificantDigits;l=d.maximumSignificantDigits;if(void 0!==h||void 0!==l)h=g.GetNumberOption(d,
"minimumSignificantDigits",1,21,1),l=g.GetNumberOption(d,"maximumSignificantDigits",h,21,1),a.minimumSignificantDigits=h,a.maximumSignificantDigits=l;d=g.GetOption(d,"useGrouping","boolean",void 0,!0);a.useGrouping=d;d=k[e.dataLocale].numbers.main[e.dataLocale].numbers;e.locale===e.dataLocale&&(a.numberingSystem=d.defaultNumberingSystem);var h=a.numberingSystem,f=/[0-9#.,]+/,p="symbols-numberSystem-"+h,n,e=d[p]?d[p]:d["symbols-numberSystem-latn"],l={},q=["decimal","percent","currency"],t;for(t in q){var r=
q[t],p=r+"Formats-numberSystem-"+h;n=r+"Formats-numberSystem-latn";var p=d[p]?d[p].standard:d[n].standard,u=p.split(";");n=u[0];u=2===u[length]?u[1]:"-"+n;n=n.replace(f,"{number}").replace(/\u00A4/,"{currency}");u=u.replace(f,"{number}").replace(/\u00A4/,"{currency}");l[r]={cldrPattern:p,positivePattern:n,negativePattern:u}}t=l[b];a.positivePattern=t.positivePattern;a.negativePattern=t.negativePattern;a.cldrPattern=t.cldrPattern;a.symbols=e;a.boundFormat=void 0;a.initializedNumberFormat=!0}function e(a,
b){b=/[0-9#.,]+/.exec(b)[0];var d=b.lastIndexOf(".");-1!==d&&(b=b.substring(0,d));b=b.split(",");b.reverse();b.pop();for(var d=b.shift(),e=/^\d+/.exec(a);e&&e[0].length>d.length;)e=e[0].length-d.length,a=a.substr(0,e)+","+a.substring(e),0<b.length&&(d=b.shift()),e=/^\d+/.exec(a);return a}function h(a){var b=!1;"-"===a.charAt(0)&&(b=!0,a=a.substring(1));var d=a.split("e"),e=d[0],d=Number(d[1]);if(0<d)if(a=e.substr(0,1)+e.substr(2),a.length-1<d)for(e=d+1-a.length;0<e;)a+="0",e--;else a.length-1>d&&
(a=a.substr(0,d+1)+"."+a.substr(d+1));else if(0>d){e=e.substr(0,1)+e.substr(2);for(a="0.";-1>d;d++)a+="0";a+=e}b&&(a="-"+a);return a}function l(a,b,d){var e,c="";if(0===a){for(a=0;a<d;a++)c+="0";e=0}else{c=Math.pow(10,d-1);if(a<c)for(e=d-1;a<c;)c/=10,e--;else for(c=Math.pow(10,d),e=d-1;a>=c;)c*=10,e++;c=a.toString();/e/.test(c)&&(c=h(c));/\./.test(c)||(c+=".");for(a=0;a<d;a++)c+="0";a=d-1-e;var l=c.indexOf(".");0<a&&(c=c.substr(0,l)+c.substr(l+1,a)+"."+c.substr(l+1+a,1));0>a&&(c=c.substr(0,d)+"."+
c.substr(d,1));c=Math.round(c).toString()}if(e>=d){for(a=0;a<e-d+1;a++)c+="0";return c}if(e===d-1)return c;if(0<=e)c=c.substr(0,e+1)+"."+c.substr(e+1,d-(e+1));else{l="0.";for(a=0;a<-(e+1);a++)l+="0";c=l+c}if(/\./.test(c)&&d>b){for(b=d-b;0<b&&/0$/.test(c);)c=c.substr(0,c.length-1),b--;/\.$/.test(c)&&(c=c.substr(0,c.length-1))}return c}function n(a,b,d,e){if(Math.abs(a)<Math.pow(10,21))a=a.toFixed(e).toString();else if(a=h(a.toString()),0<e){a+=".";for(var c=0;c<e;c++)a+="0"}for(d=e-d;0<d&&/0$/.test(a);)a=
a.replace(/0$/,""),d--;/\.$/.test(a)&&(a=a.replace(/\.$/,""));d=a.indexOf(".");for(d=0<d?d:a.length;d<b;)a="0"+a,d++;return a}function p(a,b){var d=0>b,c;isFinite(b)?(d&&(b=-b),"percent"===a.style&&(b*=100),c=void 0!==a.minimumSignificantDigits&&void 0!==a.maximumSignificantDigits?l(b,a.minimumSignificantDigits,a.maximumSignificantDigits):n(b,a.minimumIntegerDigits,a.minimumFractionDigits,a.maximumFractionDigits),a.useGrouping&&(c=e(c,a.cldrPattern)),void 0!==a.numberingSystem&&"latn"!==a.numberingSystem&&
(c=c.replace(/\d/g,function(b){return D[a.numberingSystem]._digits.charAt(b)})),c=c.replace(/[.,]/g,function(b){return"."===b?a.symbols.decimal?a.symbols.decimal:b:a.symbols.group?a.symbols.group:b})):c=isNaN(b)?a.symbols.nan:a.symbols.infinity;b=a.positivePattern;d&&(b=a.negativePattern);b&&(b=b.replace("-",a.symbols.minusSign),b=b.replace("%",a.symbols.percentSign),b=b.replace("{number}",c),"currency"===a.style&&(d=a.currency,"symbol"===a.currencyDisplay?d=a.currencySymbol:"name"===a.currencyDisplay&&
(d=a.currencyDisplayName),b=b.replace("{currency}",d)));return b}function r(a,b,d){a=void 0===a?null:Object(a);a=Object.create(a);var e=["weekday","year","month","day"],c=["year","month","day"],h=["hour","minute","second"],l=!0;"date"!==b&&"any"!==b||e.forEach(function(b){void 0!==a[b]&&(l=!1)});"time"!==b&&"any"!==b||h.forEach(function(b){void 0!==a[b]&&(l=!1)});!l||"date"!==d&&"all"!==d||c.forEach(function(b){Object.defineProperty(a,b,{value:"numeric",writable:!0,configurable:!0,enumerable:!0})});
!l||"time"!==d&&"all"!==d||h.forEach(function(b){Object.defineProperty(a,b,{value:"numeric",writable:!0,configurable:!0,enumerable:!0})});return a}function q(a,b){for(var d=Number.NEGATIVE_INFINITY,e,c=0,h=b.length;c<h;){var l=b[c.toString()],f=0;"weekday era year month day hour minute second timeZoneName".split(" ").forEach(function(b){var d=a[b],e;void 0!==Object.getOwnPropertyDescriptor(l,b)&&(e=l[b]);void 0===d&&void 0!==e?f-=20:void 0!==d&&void 0===e?f-=120:(b=["2-digit","numeric","narrow","short",
"long"],d=b.indexOf(d),e=b.indexOf(e),e=Math.max(Math.min(e-d,2),-2),2===e?f-=6:1===e?f-=3:-1===e?f-=6:-2===e&&(f-=8))});f>d&&(d=f,e=l);c++}return e}function t(a,b,d){var e=["weekday","era","year","month","day"],h=["hour","minute","second","timeZoneName"],l="weekday era year month day hour minute second timeZoneName".split(" "),f=!1,p=!1;if(a.hasOwnProperty("initializedIntlObject")&&a.initializedIntlObject)throw new TypeError("DateTimeFormat is already initialized.");a.initializedIntlObject=!0;var n=
g.CanonicalizeLocaleList(b);d=r(d,"any","date");var t=new c;b=g.GetOption(d,"localeMatcher","string",["lookup","best fit"],"best fit");t.set("localeMatcher",b);b=g.ResolveLocale(I.availableLocales,n,t,I.relevantExtensionKeys,I.localeData);a.locale=b.locale;a.numberingSystem=b.nu;a.calendar=b.ca;a.dataLocale=b.dataLocale;n=d.timeZone;if(void 0!==n&&(n=n.toString(),n=g._toUpperCaseIdentifier(n),"UTC"!==n))throw new RangeError("Timezones other than UTC are not supported");a.timeZone=n;var t=new c,u=
new c,m=new c;e.forEach(function(a){var b=g.GetOption(d,a,"string",A(a),void 0);t.set(a,b);b&&(u.set(a,b),f=!0)});h.forEach(function(a){var b=g.GetOption(d,a,"string",A(a),void 0);t.set(a,b);b&&(m.set(a,b),p=!0)});n=a.calendar.replace("gregory","gregorian");a.calData=k[b.dataLocale]["ca-"+n].main[b.dataLocale].dates.calendars[n];var n=a.calData.dateTimeFormats,v=y(n);b=g.GetOption(d,"formatMatcher","string",["basic","best fit"],"best fit");var w;if(f&&p){var E=q(u,v),z=q(m,v);w=E;b="long"===u.weekday&&
"long"===u.month?x(n.full||"{1} {0}"):"long"===u.month?x(n.long||"{1} {0}"):"short"===u.month?x(n.medium||"{1} {0}"):x(n.short||"{1} {0}");b.pattern=b.pattern.replace("{1}",E.pattern);l=b.pattern.replace("{0}",z.pattern);b=b.pattern.replace("{0}",z.pattern12);w.set("hour12",z.hour12);w.set("pattern",l);w.set("pattern12",b);e.forEach(function(b){void 0!==Object.getOwnPropertyDescriptor(E,b)&&(a[b]=E[b])});h.forEach(function(b){void 0!==Object.getOwnPropertyDescriptor(z,b)&&(a[b]=z[b])})}else w=q(t,
v),l.forEach(function(b){void 0!==Object.getOwnPropertyDescriptor(w,b)&&(a[b]=w[b])});e=g.GetOption(d,"hour12","boolean",void 0,void 0);void 0!==a.hour?(void 0===e&&(e=I.localeData[a.dataLocale]&&I.localeData[a.dataLocale].hour12),(a.hour12=e)?(a.hourNo0=I.localeData[a.dataLocale]&&I.localeData[a.dataLocale].hourNo0,a.hour=w.hour12,e=w.pattern12):e=w.pattern):e=w.pattern;a.pattern=e;a.boundFormat=void 0;a.initializedDateTimeFormat=!0}function u(a,b){if(!isFinite(b))throw new RangeError("Attempting to format an invalid date/time.");
var e=a.locale,c={};d(c,e,{useGrouping:!1});var h={};d(h,e,{minimumIntegerDigits:2,useGrouping:!1});var l=m.toLocalTime(b,a.calendar,a.timeZone),f=!1,n=a.pattern;"weekday era year month day hour minute second timeZoneName".split(" ").forEach(function(b){var d=a[b],e=l[b];"month"===b&&e++;"hour"===b&&a.hour12&&(e%=12,f=e!==l[b],0===e&&a.hourNo0&&(e=12));"numeric"===d?d=p(c,e):"2-digit"===d?(d=p(h,e),2<d.length&&(d=d.substr(-2))):d=v(a.calendar,a.calData,l.year,"month"===b&&a.standaloneMonth||"weekday"===
b&&a.standaloneWeekday,b,d,e);n&&(n=n.replace("{"+b+"}",d))});a.hour12&&(b=v(a.calendar,a.calData,l.year,!1,"dayperiod","short",f?"pm":"am"),n&&(n=n.replace("{ampm}",b)));return n}function v(a,b,d,e,c,h,l){var f=null;switch(c){case "weekday":a="sun mon tue wed thu fri sat".split(" ")[l];switch(h){case "narrow":f=e?b.days["stand-alone"].narrow[a]:b.days.format.narrow[a];break;case "short":f=e?b.days["stand-alone"].abbreviated[a]:b.days.format.abbreviated[a];break;case "long":f=e?b.days["stand-alone"].wide[a]:
b.days.format.wide[a]}break;case "era":switch(h){case "narrow":f=b.eras.eraNarrow[l];break;case "short":f=b.eras.eraAbbr[l];break;case "long":f=b.eras.eraNames[l]}break;case "month":c=l;"hebrew"===a&&(c=m.hebrewMonthResource(d,l));switch(h){case "narrow":f=e?b.months["stand-alone"].narrow[c]:b.months.format.narrow[c];break;case "short":f=e?b.months["stand-alone"].abbreviated[c]:b.months.format.abbreviated[c];break;case "long":f=e?b.months["stand-alone"].wide[c]:b.months.format.wide[c]}break;case "dayperiod":switch(h){case "narrow":f=
b.dayPeriods.format.narrow[l];break;case "short":f=b.dayPeriods.format.abbreviated[l];break;case "long":f=b.dayPeriods.format.wide[l]}break;case "timeZoneName":f="local"}return f}function x(a){var b=/G{1,5}|y{1,4}|[ML]{1,5}|[Ec]{1,5}|d{1,2}|a|[Hh]{1,2}|m{1,2}|s{1,2}/g,d=new c;a=a.split("'");for(var e=0;e<a.length;e+=2)a[e]=a[e].replace(b,function(a){switch(a){case "GGGGG":return d.set("era","narrow"),"{era}";case "GGGG":return d.set("era","long"),"{era}";case "GGG":case "GG":case "G":return d.set("era",
"short"),"{era}";case "yy":return d.set("year","2-digit"),"{year}";case "y":case "yyy":case "yyyy":return d.set("year","numeric"),"{year}";case "LLLLL":return d.set("standaloneMonth",!0),d.set("month","narrow"),"{month}";case "MMMMM":return d.set("month","narrow"),"{month}";case "LLLL":return d.set("standaloneMonth",!0),d.set("month","long"),"{month}";case "MMMM":return d.set("month","long"),"{month}";case "LLL":return d.set("standaloneMonth",!0),d.set("month","short"),"{month}";case "MMM":return d.set("month",
"short"),"{month}";case "LL":case "MM":return d.set("month","2-digit"),"{month}";case "L":case "M":return d.set("month","numeric"),"{month}";case "ccccc":return d.set("standaloneWeekday",!0),d.set("weekday","narrow"),"{weekday}";case "EEEEE":return d.set("weekday","narrow"),"{weekday}";case "cccc":return d.set("standaloneWeekday",!0),d.set("weekday","long"),"{weekday}";case "EEEE":return d.set("weekday","long"),"{weekday}";case "ccc":case "cc":case "c":return d.set("standaloneWeekday",!0),d.set("weekday",
"short"),"{weekday}";case "EEE":case "EE":case "E":return d.set("weekday","short"),"{weekday}";case "dd":return d.set("day","2-digit"),"{day}";case "d":return d.set("day","numeric"),"{day}";case "a":return"{ampm}";case "hh":return d.set("hour12","2-digit"),d.set("hour","2-digit"),"{hour}";case "HH":return d.set("hour","2-digit"),"{hour}";case "h":return d.set("hour12","numeric"),d.set("hour","numeric"),"{hour}";case "H":return d.set("hour","numeric"),"{hour}";case "mm":return d.set("minute","2-digit"),
"{minute}";case "m":return d.set("minute","numeric"),"{minute}";case "ss":return d.set("second","2-digit"),"{second}";case "s":return d.set("second","numeric"),"{second}";default:return a}});d.set("pattern",a.join(""));return d}function w(a,b,d,e,c){a=a.replace(b,d).replace(e,c);b=x(a);b.cldrPattern=a;return b}function y(a){a=a.availableFormats;var b=[],d=/^G{0,5}y{0,4}M{0,5}E{0,5}d{0,2}H{0,2}m{0,2}s{0,2}$/,e=/(^|[^M])M{3}([^M]|$)/,c=/(^|[^E])E{1,3}([^E]|$)/,h;for(h in a){var l=a[h.replace("H","h")];
if(d.test(h)&&void 0!==l){var f=x(a[h]);/H/.test(h)&&(l=x(l),f.set("hour12",l.hour12),f.set("pattern12",l.pattern));b.push(f);c.test(h)&&!a[h.replace("E","EEEE")]&&b.push(w(a[h],/E{1,3}/,"EEEE",/c{1,3}/,"cccc"));c.test(h)&&!a[h.replace("E","EEEEE")]&&b.push(w(a[h],/E{1,3}/,"EEEEE",/c{1,3}/,"ccccc"));e.test(h)&&!a[h.replace("MMM","MMMM")]&&(f=h.replace("MMM","MMMM"),l=w(a[h],/M{3}/,"MMMM",/L{3}/,"LLLL"),b.push(l),c.test(f)&&!a[f.replace(c,"EEEE")]&&b.push(w(l.cldrPattern,/E{1,3}/,"EEEE",/c{1,3}/,"cccc")),
c.test(f)&&!a[f.replace(c,"EEEEE")]&&b.push(w(l.cldrPattern,/E{1,3}/,"EEEEE",/c{1,3}/,"ccccc")))}}return b}function A(a){if("weekday"===a||"era"===a)return["narrow","short","long"];if("year"===a||"day"===a||"hour"===a||"minute"===a||"second"===a)return["2-digit","numeric"];if("month"===a)return["2-digit","numeric","narrow","short","long"];if("timeZoneName"===a)return["short","long"]}var z={},E=JSON.parse(f),C=JSON.parse(a).supplemental.timeData,D=JSON.parse(b).supplemental.numberingSystems,F=["latn"],
H;for(H in D)"numeric"===D[H]._type&&"latn"!==H&&F.push(H);var L={};L.availableLocales=Object.keys(k);L.relevantExtensionKeys=["nu"];L.localeData={};L.availableLocales.forEach(function(a){L.localeData[a]={nu:F}});Object.freeze(L);var I={};I.availableLocales=Object.keys(k);I.relevantExtensionKeys=["ca","nu"];I.localeData={};I.availableLocales.forEach(function(a){var b=g._getRegion(a),d;d=C[b]&&/h|K/.test(C[b]._preferred);b=C[b]&&/h|k/.test(C[b]._preferred);I.localeData[a]={nu:F,ca:g._getSupportedCalendars(g._getRegion(a)),
hour12:d,hourNo0:b}});Object.freeze(I);z.Collator=function(){throw new TypeError("Intl.Collator is not supported.");};z.NumberFormat=function(){this.prototype=z.NumberFormat.prototype;this.extensible=!0;var a,b;0<arguments.length&&(a=arguments[0]);1<arguments.length&&(b=arguments[1]);d(this,a,b)};Object.defineProperty(z,"NumberFormat",{writable:!0,configurable:!0,enumerable:!1});z.NumberFormat.call=function(a,b,e){if(a===z||void 0===a)return new z.NumberFormat(b,e);a=Object(a);if(!Object.isExtensible(a))throw new TypeError("Intl.NumberFormat.call: object is not extensible");
d(a,b,e);return a};Object.defineProperty(z.NumberFormat,"supportedLocalesOf",{value:function(a){var b=L.availableLocales,d=g.CanonicalizeLocaleList(a),e;1<arguments.length&&(e=arguments[1]);return g.SupportedLocales(b,d,e)},writable:!0,enumerable:!1,configurable:!0});z.NumberFormat.prototype=z.NumberFormat.call({});Object.defineProperty(z.NumberFormat,"prototype",{writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(z.NumberFormat.prototype,"constructor",{value:z.NumberFormat,writable:!0,
configurable:!0,enumerable:!1});Object.defineProperty(z.NumberFormat.prototype,"format",{get:function(){if(this!==Object(this)||!this.initializedNumberFormat)throw new TypeError("Intl.NumberFormat format getter: 'this' is not a valid Intl.NumberFormat instance");void 0===this.boundFormat&&(this.boundFormat=function(a){return p(this,Number(a))}.bind(this));return this.boundFormat},configurable:!0});Object.defineProperty(z.NumberFormat.prototype,"resolvedOptions",{value:function(){if(this!==Object(this)||
!this.initializedNumberFormat)throw new TypeError("Intl.NumberFormat.resolvedOptions: 'this' is not a valid Intl.NumberFormat instance");var a="locale numberingSystem style currency currencyDisplay minimumIntegerDigits minimumFractionDigits maximumFractionDigits minimumSignificantDigits maximumSignificantDigits useGrouping".split(" "),b=new c,d;for(d in a)this.hasOwnProperty(a[d])&&b.set(a[d],this[a[d]]);return b},writable:!0,enumerable:!1,configurable:!0});z.DateTimeFormat=function(){this.prototype=
z.DateTimeFormat.prototype;this.extensible=!0;var a,b;0<arguments.length&&(a=arguments[0]);1<arguments.length&&(b=arguments[1]);t(this,a,b)};Object.defineProperty(z,"DateTimeFormat",{writable:!0,configurable:!0,enumerable:!1});z.DateTimeFormat.call=function(a,b,d){if(a===z||void 0===a)return new z.DateTimeFormat(b,d);a=Object(a);if(!Object.isExtensible(a))throw new TypeError("Intl.DateTimeFormat.call: object is not extensible");t(a,b,d);return a};Object.defineProperty(z.DateTimeFormat,"supportedLocalesOf",
{value:function(a){var b=I.availableLocales,d=g.CanonicalizeLocaleList(a),e;1<arguments.length&&(e=arguments[1]);return g.SupportedLocales(b,d,e)},writable:!0,enumerable:!1,configurable:!0});z.DateTimeFormat.prototype=z.DateTimeFormat.call({});Object.defineProperty(z.DateTimeFormat,"prototype",{writable:!1,enumerable:!1,configurable:!1});Object.defineProperty(z.DateTimeFormat.prototype,"constructor",{value:z.DateTimeFormat,writable:!0,configurable:!0,enumerable:!1});Object.defineProperty(z.DateTimeFormat.prototype,
"format",{get:function(){if(this!==Object(this)||!this.initializedDateTimeFormat)throw new TypeError("DateTimeFormat format getter: 'this' is not a valid Intl.DateTimeFormat instance");void 0===this.boundFormat&&(this.boundFormat=function(){var a;0<arguments.length&&(a=arguments[0]);a=void 0===a?Date.now():Number(a);return u(this,a)}.bind(this));return this.boundFormat},configurable:!0});Object.defineProperty(z.DateTimeFormat.prototype,"resolvedOptions",{value:function(){if(this!==Object(this)||!this.initializedDateTimeFormat)throw new TypeError("DateTimeFormat.resolvedOptions: 'this' is not a valid Intl.DateTimeFormat instance");
var a="locale calendar numberingSystem timeZone hour12 weekday era year month day hour minute second timeZoneName".split(" "),b=new c,d;for(d in a)this.hasOwnProperty(a[d])&&b.set(a[d],this[a[d]]);return b},writable:!0,enumerable:!1,configurable:!0});Number.prototype.toLocaleString=function(){if(!(this instanceof Number))throw new TypeError("not a valid Number");var a=Number(this),b,e;0<arguments.length&&(b=arguments[0]);1<arguments.length&&(e=arguments[1]);var c={};d(c,b,e);return p(c,a)};Date.prototype.toLocaleString=
function(){if(!(this instanceof Date))throw new TypeError("not a valid Date");var a=this.getTime();if(isNaN(a))return"Invalid Date";var b,d;0<arguments.length&&(b=arguments[0]);1<arguments.length&&(d=arguments[1]);d=r(d,"any","all");var e={};t(e,b,d);return u(e,a)};Date.prototype.toLocaleDateString=function(){if(!(this instanceof Date))throw new TypeError("not a valid Date");var a=this.getTime();if(isNaN(a))return"Invalid Date";var b,d;0<arguments.length&&(b=arguments[0]);1<arguments.length&&(d=arguments[1]);
d=r(d,"date","date");var e={};t(e,b,d);return u(e,a)};Date.prototype.toLocaleTimeString=function(){if(!(this instanceof Date))throw new TypeError("not a valid Date");var a=this.getTime();if(isNaN(a))return"Invalid Date";var b,d;0<arguments.length&&(b=arguments[0]);1<arguments.length&&(d=arguments[1]);d=r(d,"time","time");var e={};t(e,b,d);return u(e,a)};return z});
define("requirejs-text/text",["module"],function(c){function m(a,b){return void 0===a||""===a?b:a}var g,k,f,a,b,d=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],e=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,h=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,l="undefined"!==typeof location&&location.href,n=l&&location.protocol&&location.protocol.replace(/\:/,""),p=l&&location.hostname,r=l&&(location.port||void 0),q={},t=c.config&&c.config()||{};g={version:"2.0.15",strip:function(a){if(a){a=
a.replace(e,"");var b=a.match(h);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:t.createXhr||function(){var a,b,e;if("undefined"!==typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!==typeof ActiveXObject)for(b=0;3>b;b+=1){e=d[b];try{a=new ActiveXObject(e)}catch(w){}if(a){d=
[e];break}}return a},parseName:function(a){var b,d,e=!1,c=a.lastIndexOf(".");b=0===a.indexOf("./")||0===a.indexOf("../");-1!==c&&(!b||1<c)?(b=a.substring(0,c),d=a.substring(c+1)):b=a;a=d||b;c=a.indexOf("!");-1!==c&&(e="strip"===a.substring(c+1),a=a.substring(0,c),d?d=a:b=a);return{moduleName:b,ext:d,strip:e}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,b,d,e){var c,h;h=g.xdRegExp.exec(a);if(!h)return!0;a=h[2];c=h[3];c=c.split(":");h=c[1];c=c[0];if((d=(!a||a===b)&&(!c||c.toLowerCase()===
d.toLowerCase()))&&!(d=!h&&!c))a:if(h===e)d=!0;else{if(a===b)if("http"===a){d=m(h,"80")===m(e,"80");break a}else if("https"===a){d=m(h,"443")===m(e,"443");break a}d=!1}return d},finishLoad:function(a,b,d,e){d=b?g.strip(d):d;t.isBuild&&(q[a]=d);e(d)},load:function(a,b,d,e){if(e&&e.isBuild&&!e.inlineText)d();else{t.isBuild=e&&e.isBuild;var c=g.parseName(a);e=c.moduleName+(c.ext?"."+c.ext:"");var h=b.toUrl(e),f=t.useXhr||g.useXhr;0===h.indexOf("empty:")?d():!l||f(h,n,p,r)||-1!==h.indexOf(".html")?g.get(h,
function(b){g.finishLoad(a,c.strip,b,d)},function(a){d.error&&d.error(a)}):b([e],function(a){g.finishLoad(c.moduleName+"."+c.ext,c.strip,a,d)})}},write:function(a,b,d,e){q.hasOwnProperty(b)&&(e=g.jsEscape(q[b]),d.asModule(a+"!"+b,"define(function () { return '"+e+"';});\n"))},writeFile:function(a,b,d,e,c){b=g.parseName(b);var h=b.ext?"."+b.ext:"",l=b.moduleName+h,f=d.toUrl(b.moduleName+h)+".js";g.load(l,d,function(b){b=function(a){return e(f,a)};b.asModule=function(a,b){return e.asModule(a,f,b)};
g.write(a,l,b,c)},c)}};if("node"===t.env||!t.env&&"undefined"!==typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"])k=require.nodeRequire("fs"),g.get=function(a,b,d){try{var e=k.readFileSync(a,"utf8");"\ufeff"===e[0]&&(e=e.substring(1));b(e)}catch(y){d&&d(y)}};else if("xhr"===t.env||!t.env&&g.createXhr())g.get=function(a,b,d,e){var c=g.createXhr(),h;c.open("GET",a,!0);if(e)for(h in e)e.hasOwnProperty(h)&&c.setRequestHeader(h.toLowerCase(),
e[h]);if(t.onXhr)t.onXhr(c,a);c.onreadystatechange=function(e){if(4===c.readyState&&(e=c.status||0,399<e&&600>e?(e=Error(a+" HTTP status: "+e),e.xhr=c,d&&d(e)):b(c.responseText),t.onXhrComplete))t.onXhrComplete(c,a)};c.send(null)};else if("rhino"===t.env||!t.env&&"undefined"!==typeof Packages&&"undefined"!==typeof java)g.get=function(a,b){var d,e,c=new java.io.File(a);a=java.lang.System.getProperty("line.separator");var c=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(c),
"utf-8")),h="";try{d=new java.lang.StringBuffer;(e=c.readLine())&&e.length()&&65279===e.charAt(0)&&(e=e.substring(1));for(null!==e&&d.append(e);null!==(e=c.readLine());)d.append(a),d.append(e);h=String(d.toString())}finally{c.close()}b(h)};else if("xpconnect"===t.env||!t.env&&"undefined"!==typeof Components&&Components.classes&&Components.interfaces)f=Components.classes,a=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),b="@mozilla.org/windows-registry-key;1"in
f,g.get=function(d,e){var c,h,l={};b&&(d=d.replace(/\//g,"\\"));d=new FileUtils.File(d);try{c=f["@mozilla.org/network/file-input-stream;1"].createInstance(a.nsIFileInputStream),c.init(d,1,0,!1),h=f["@mozilla.org/intl/converter-input-stream;1"].createInstance(a.nsIConverterInputStream),h.init(c,"utf-8",c.available(),a.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),h.readString(c.available(),l),h.close(),c.close(),e(l.value)}catch(A){throw Error((d&&d.path||"")+": "+A);}};return g});
define("ecma402/calendars/rocCalendar",["../impl/Record","../impl/calendarFunctions"],function(c,m){return{toLocalTime:function(g,k){var f=new c;g=new Date(g);f.set("weekday","UTC"===k?g.getUTCDay():g.getDay());var a="UTC"===k?g.getUTCFullYear():g.getFullYear();f.set("era",m.findEra("roc",g,1));var b=m.eraOffset("roc",1);0<=a-b?f.set("year",a-b+1):f.set("year",b-a);f.set("month","UTC"===k?g.getUTCMonth():g.getMonth());f.set("day","UTC"===k?g.getUTCDate():g.getDate());m.setTimeFields(g,k,f);return f}}});
define("requirejs-text/text!ecma402/cldr/supplemental/calendarData.json",[],function(){return'{\n  "supplemental": {\n    "calendarData": {\n      "buddhist": {\n        "calendarSystem": "solar",\n        "eras": {\n          "0": {\n            "_start": "-542-01-01"\n          }\n        }\n      },\n      "chinese": {\n        "calendarSystem": "lunisolar",\n        "eras": {\n          "0": {\n            "_start": "-2636-01-01"\n          }\n        }\n      },\n      "coptic": {\n        "calendarSystem": "other",\n        "eras": {\n          "0": {\n            "_end": "284-08-28"\n          },\n          "1": {\n            "_start": "284-08-29"\n          }\n        }\n      },\n      "dangi": {\n        "calendarSystem": "lunisolar",\n        "eras": {\n          "0": {\n            "_start": "-2332-01-01"\n          }\n        }\n      },\n      "ethiopic": {\n        "calendarSystem": "other",\n        "eras": {\n          "0": {\n            "_end": "8-08-28"\n          },\n          "1": {\n            "_start": "8-08-29"\n          }\n        }\n      },\n      "generic": {},\n      "gregorian": {\n        "calendarSystem": "solar",\n        "eras": {\n          "0": {\n            "_end": "0-12-31"\n          },\n          "1": {\n            "_start": "1-01-01"\n          }\n        }\n      },\n      "hebrew": {\n        "calendarSystem": "lunisolar",\n        "eras": {\n          "0": {\n            "_start": "-3760-10-7"\n          }\n        }\n      },\n      "indian": {\n        "eras": {\n          "0": {\n            "_start": "79-01-01"\n          }\n        }\n      },\n      "islamic": {\n        "calendarSystem": "lunar",\n        "eras": {\n          "0": {\n            "_start": "622-7-15"\n          }\n        }\n      },\n      "islamic-civil": {\n        "calendarSystem": "lunar",\n        "eras": {\n          "0": {\n            "_start": "622-7-16"\n          }\n        }\n      },\n      "islamic-rgsa": {\n        "calendarSystem": "lunar",\n        "eras": {\n          "0": {\n            "_start": "622-7-15"\n          }\n        }\n      },\n      "islamic-tbla": {\n        "calendarSystem": "lunar",\n        "eras": {\n          "0": {\n            "_start": "622-7-15"\n          }\n        }\n      },\n      "islamic-umalqura": {\n        "calendarSystem": "lunar",\n        "eras": {\n          "0": {\n            "_start": "622-7-15"\n          }\n        }\n      },\n      "japanese": {\n        "calendarSystem": "solar",\n        "eras": {\n          "0": {\n            "_start": "645-6-19"\n          },\n          "1": {\n            "_start": "650-2-15"\n          },\n          "10": {\n            "_start": "729-8-5"\n          },\n          "100": {\n            "_start": "1169-4-8"\n          },\n          "101": {\n            "_start": "1171-4-21"\n          },\n          "102": {\n            "_start": "1175-7-28"\n          },\n          "103": {\n            "_start": "1177-8-4"\n          },\n          "104": {\n            "_start": "1181-7-14"\n          },\n          "105": {\n            "_start": "1182-5-27"\n          },\n          "106": {\n            "_start": "1184-4-16"\n          },\n          "107": {\n            "_start": "1185-8-14"\n          },\n          "108": {\n            "_start": "1190-4-11"\n          },\n          "109": {\n            "_start": "1199-4-27"\n          },\n          "11": {\n            "_start": "749-4-14"\n          },\n          "110": {\n            "_start": "1201-2-13"\n          },\n          "111": {\n            "_start": "1204-2-20"\n          },\n          "112": {\n            "_start": "1206-4-27"\n          },\n          "113": {\n            "_start": "1207-10-25"\n          },\n          "114": {\n            "_start": "1211-3-9"\n          },\n          "115": {\n            "_start": "1213-12-6"\n          },\n          "116": {\n            "_start": "1219-4-12"\n          },\n          "117": {\n            "_start": "1222-4-13"\n          },\n          "118": {\n            "_start": "1224-11-20"\n          },\n          "119": {\n            "_start": "1225-4-20"\n          },\n          "12": {\n            "_start": "749-7-2"\n          },\n          "120": {\n            "_start": "1227-12-10"\n          },\n          "121": {\n            "_start": "1229-3-5"\n          },\n          "122": {\n            "_start": "1232-4-2"\n          },\n          "123": {\n            "_start": "1233-4-15"\n          },\n          "124": {\n            "_start": "1234-11-5"\n          },\n          "125": {\n            "_start": "1235-9-19"\n          },\n          "126": {\n            "_start": "1238-11-23"\n          },\n          "127": {\n            "_start": "1239-2-7"\n          },\n          "128": {\n            "_start": "1240-7-16"\n          },\n          "129": {\n            "_start": "1243-2-26"\n          },\n          "13": {\n            "_start": "757-8-18"\n          },\n          "130": {\n            "_start": "1247-2-28"\n          },\n          "131": {\n            "_start": "1249-3-18"\n          },\n          "132": {\n            "_start": "1256-10-5"\n          },\n          "133": {\n            "_start": "1257-3-14"\n          },\n          "134": {\n            "_start": "1259-3-26"\n          },\n          "135": {\n            "_start": "1260-4-13"\n          },\n          "136": {\n            "_start": "1261-2-20"\n          },\n          "137": {\n            "_start": "1264-2-28"\n          },\n          "138": {\n            "_start": "1275-4-25"\n          },\n          "139": {\n            "_start": "1278-2-29"\n          },\n          "14": {\n            "_start": "765-1-7"\n          },\n          "140": {\n            "_start": "1288-4-28"\n          },\n          "141": {\n            "_start": "1293-8-55"\n          },\n          "142": {\n            "_start": "1299-4-25"\n          },\n          "143": {\n            "_start": "1302-11-21"\n          },\n          "144": {\n            "_start": "1303-8-5"\n          },\n          "145": {\n            "_start": "1306-12-14"\n          },\n          "146": {\n            "_start": "1308-10-9"\n          },\n          "147": {\n            "_start": "1311-4-28"\n          },\n          "148": {\n            "_start": "1312-3-20"\n          },\n          "149": {\n            "_start": "1317-2-3"\n          },\n          "15": {\n            "_start": "767-8-16"\n          },\n          "150": {\n            "_start": "1319-4-28"\n          },\n          "151": {\n            "_start": "1321-2-23"\n          },\n          "152": {\n            "_start": "1324-12-9"\n          },\n          "153": {\n            "_start": "1326-4-26"\n          },\n          "154": {\n            "_start": "1329-8-29"\n          },\n          "155": {\n            "_start": "1331-8-9"\n          },\n          "156": {\n            "_start": "1334-1-29"\n          },\n          "157": {\n            "_start": "1336-2-29"\n          },\n          "158": {\n            "_start": "1340-4-28"\n          },\n          "159": {\n            "_start": "1346-12-8"\n          },\n          "16": {\n            "_start": "770-10-1"\n          },\n          "160": {\n            "_start": "1370-7-24"\n          },\n          "161": {\n            "_start": "1372-4-1"\n          },\n          "162": {\n            "_start": "1375-5-27"\n          },\n          "163": {\n            "_start": "1379-3-22"\n          },\n          "164": {\n            "_start": "1381-2-10"\n          },\n          "165": {\n            "_start": "1384-4-28"\n          },\n          "166": {\n            "_start": "1384-2-27"\n          },\n          "167": {\n            "_start": "1387-8-23"\n          },\n          "168": {\n            "_start": "1389-2-9"\n          },\n          "169": {\n            "_start": "1390-3-26"\n          },\n          "17": {\n            "_start": "781-1-1"\n          },\n          "170": {\n            "_start": "1394-7-5"\n          },\n          "171": {\n            "_start": "1428-4-27"\n          },\n          "172": {\n            "_start": "1429-9-5"\n          },\n          "173": {\n            "_start": "1441-2-17"\n          },\n          "174": {\n            "_start": "1444-2-5"\n          },\n          "175": {\n            "_start": "1449-7-28"\n          },\n          "176": {\n            "_start": "1452-7-25"\n          },\n          "177": {\n            "_start": "1455-7-25"\n          },\n          "178": {\n            "_start": "1457-9-28"\n          },\n          "179": {\n            "_start": "1460-12-21"\n          },\n          "18": {\n            "_start": "782-8-19"\n          },\n          "180": {\n            "_start": "1466-2-28"\n          },\n          "181": {\n            "_start": "1467-3-3"\n          },\n          "182": {\n            "_start": "1469-4-28"\n          },\n          "183": {\n            "_start": "1487-7-29"\n          },\n          "184": {\n            "_start": "1489-8-21"\n          },\n          "185": {\n            "_start": "1492-7-19"\n          },\n          "186": {\n            "_start": "1501-2-29"\n          },\n          "187": {\n            "_start": "1504-2-30"\n          },\n          "188": {\n            "_start": "1521-8-23"\n          },\n          "189": {\n            "_start": "1528-8-20"\n          },\n          "19": {\n            "_start": "806-5-18"\n          },\n          "190": {\n            "_start": "1532-7-29"\n          },\n          "191": {\n            "_start": "1555-10-23"\n          },\n          "192": {\n            "_start": "1558-2-28"\n          },\n          "193": {\n            "_start": "1570-4-23"\n          },\n          "194": {\n            "_start": "1573-7-28"\n          },\n          "195": {\n            "_start": "1592-12-8"\n          },\n          "196": {\n            "_start": "1596-10-27"\n          },\n          "197": {\n            "_start": "1615-7-13"\n          },\n          "198": {\n            "_start": "1624-2-30"\n          },\n          "199": {\n            "_start": "1644-12-16"\n          },\n          "2": {\n            "_start": "672-1-1"\n          },\n          "20": {\n            "_start": "810-9-19"\n          },\n          "200": {\n            "_start": "1648-2-15"\n          },\n          "201": {\n            "_start": "1652-9-18"\n          },\n          "202": {\n            "_start": "1655-4-13"\n          },\n          "203": {\n            "_start": "1658-7-23"\n          },\n          "204": {\n            "_start": "1661-4-25"\n          },\n          "205": {\n            "_start": "1673-9-21"\n          },\n          "206": {\n            "_start": "1681-9-29"\n          },\n          "207": {\n            "_start": "1684-2-21"\n          },\n          "208": {\n            "_start": "1688-9-30"\n          },\n          "209": {\n            "_start": "1704-3-13"\n          },\n          "21": {\n            "_start": "824-1-5"\n          },\n          "210": {\n            "_start": "1711-4-25"\n          },\n          "211": {\n            "_start": "1716-6-22"\n          },\n          "212": {\n            "_start": "1736-4-28"\n          },\n          "213": {\n            "_start": "1741-2-27"\n          },\n          "214": {\n            "_start": "1744-2-21"\n          },\n          "215": {\n            "_start": "1748-7-12"\n          },\n          "216": {\n            "_start": "1751-10-27"\n          },\n          "217": {\n            "_start": "1764-6-2"\n          },\n          "218": {\n            "_start": "1772-11-16"\n          },\n          "219": {\n            "_start": "1781-4-2"\n          },\n          "22": {\n            "_start": "834-1-3"\n          },\n          "220": {\n            "_start": "1789-1-25"\n          },\n          "221": {\n            "_start": "1801-2-5"\n          },\n          "222": {\n            "_start": "1804-2-11"\n          },\n          "223": {\n            "_start": "1818-4-22"\n          },\n          "224": {\n            "_start": "1830-12-10"\n          },\n          "225": {\n            "_start": "1844-12-2"\n          },\n          "226": {\n            "_start": "1848-2-28"\n          },\n          "227": {\n            "_start": "1854-11-27"\n          },\n          "228": {\n            "_start": "1860-3-18"\n          },\n          "229": {\n            "_start": "1861-2-19"\n          },\n          "23": {\n            "_start": "848-6-13"\n          },\n          "230": {\n            "_start": "1864-2-20"\n          },\n          "231": {\n            "_start": "1865-4-7"\n          },\n          "232": {\n            "_start": "1868-9-8"\n          },\n          "233": {\n            "_start": "1912-7-30"\n          },\n          "234": {\n            "_start": "1926-12-25"\n          },\n          "235": {\n            "_start": "1989-1-8"\n          },\n          "24": {\n            "_start": "851-4-28"\n          },\n          "25": {\n            "_start": "854-11-30"\n          },\n          "26": {\n            "_start": "857-2-21"\n          },\n          "27": {\n            "_start": "859-4-15"\n          },\n          "28": {\n            "_start": "877-4-16"\n          },\n          "29": {\n            "_start": "885-2-21"\n          },\n          "3": {\n            "_start": "686-7-20"\n          },\n          "30": {\n            "_start": "889-4-27"\n          },\n          "31": {\n            "_start": "898-4-26"\n          },\n          "32": {\n            "_start": "901-7-15"\n          },\n          "33": {\n            "_start": "923-4-11"\n          },\n          "34": {\n            "_start": "931-4-26"\n          },\n          "35": {\n            "_start": "938-5-22"\n          },\n          "36": {\n            "_start": "947-4-22"\n          },\n          "37": {\n            "_start": "957-10-27"\n          },\n          "38": {\n            "_start": "961-2-16"\n          },\n          "39": {\n            "_start": "964-7-10"\n          },\n          "4": {\n            "_start": "701-3-21"\n          },\n          "40": {\n            "_start": "968-8-13"\n          },\n          "41": {\n            "_start": "970-3-25"\n          },\n          "42": {\n            "_start": "973-12-20"\n          },\n          "43": {\n            "_start": "976-7-13"\n          },\n          "44": {\n            "_start": "978-11-29"\n          },\n          "45": {\n            "_start": "983-4-15"\n          },\n          "46": {\n            "_start": "985-4-27"\n          },\n          "47": {\n            "_start": "987-4-5"\n          },\n          "48": {\n            "_start": "989-8-8"\n          },\n          "49": {\n            "_start": "990-11-7"\n          },\n          "5": {\n            "_start": "704-5-10"\n          },\n          "50": {\n            "_start": "995-2-22"\n          },\n          "51": {\n            "_start": "999-1-13"\n          },\n          "52": {\n            "_start": "1004-7-20"\n          },\n          "53": {\n            "_start": "1012-12-25"\n          },\n          "54": {\n            "_start": "1017-4-23"\n          },\n          "55": {\n            "_start": "1021-2-2"\n          },\n          "56": {\n            "_start": "1024-7-13"\n          },\n          "57": {\n            "_start": "1028-7-25"\n          },\n          "58": {\n            "_start": "1037-4-21"\n          },\n          "59": {\n            "_start": "1040-11-10"\n          },\n          "6": {\n            "_start": "708-1-11"\n          },\n          "60": {\n            "_start": "1044-11-24"\n          },\n          "61": {\n            "_start": "1046-4-14"\n          },\n          "62": {\n            "_start": "1053-1-11"\n          },\n          "63": {\n            "_start": "1058-8-29"\n          },\n          "64": {\n            "_start": "1065-8-2"\n          },\n          "65": {\n            "_start": "1069-4-13"\n          },\n          "66": {\n            "_start": "1074-8-23"\n          },\n          "67": {\n            "_start": "1077-11-17"\n          },\n          "68": {\n            "_start": "1081-2-10"\n          },\n          "69": {\n            "_start": "1084-2-7"\n          },\n          "7": {\n            "_start": "715-9-2"\n          },\n          "70": {\n            "_start": "1087-4-7"\n          },\n          "71": {\n            "_start": "1094-12-15"\n          },\n          "72": {\n            "_start": "1096-12-17"\n          },\n          "73": {\n            "_start": "1097-11-21"\n          },\n          "74": {\n            "_start": "1099-8-28"\n          },\n          "75": {\n            "_start": "1104-2-10"\n          },\n          "76": {\n            "_start": "1106-4-9"\n          },\n          "77": {\n            "_start": "1108-8-3"\n          },\n          "78": {\n            "_start": "1110-7-13"\n          },\n          "79": {\n            "_start": "1113-7-13"\n          },\n          "8": {\n            "_start": "717-11-17"\n          },\n          "80": {\n            "_start": "1118-4-3"\n          },\n          "81": {\n            "_start": "1120-4-10"\n          },\n          "82": {\n            "_start": "1124-4-3"\n          },\n          "83": {\n            "_start": "1126-1-22"\n          },\n          "84": {\n            "_start": "1131-1-29"\n          },\n          "85": {\n            "_start": "1132-8-11"\n          },\n          "86": {\n            "_start": "1135-4-27"\n          },\n          "87": {\n            "_start": "1141-7-10"\n          },\n          "88": {\n            "_start": "1142-4-28"\n          },\n          "89": {\n            "_start": "1144-2-23"\n          },\n          "9": {\n            "_start": "724-2-4"\n          },\n          "90": {\n            "_start": "1145-7-22"\n          },\n          "91": {\n            "_start": "1151-1-26"\n          },\n          "92": {\n            "_start": "1154-10-28"\n          },\n          "93": {\n            "_start": "1156-4-27"\n          },\n          "94": {\n            "_start": "1159-4-20"\n          },\n          "95": {\n            "_start": "1160-1-10"\n          },\n          "96": {\n            "_start": "1161-9-4"\n          },\n          "97": {\n            "_start": "1163-3-29"\n          },\n          "98": {\n            "_start": "1165-6-5"\n          },\n          "99": {\n            "_start": "1166-8-27"\n          }\n        }\n      },\n      "persian": {\n        "calendarSystem": "solar",\n        "eras": {\n          "0": {\n            "_start": "622-01-01"\n          }\n        }\n      },\n      "roc": {\n        "eras": {\n          "0": {\n            "_end": "1911-12-31"\n          },\n          "1": {\n            "_start": "1912-01-01"\n          }\n        }\n      }\n    }\n  }\n}\n'});
define("ecma402/impl/calendarFunctions",["./Record","requirejs-text/text!../cldr/supplemental/calendarData.json"],function(c,m){var g=JSON.parse(m).supplemental.calendarData;return{eraOffset:function(c,f){c=g[c].eras[f.toString()]._start;c="-"===c.charAt(0)?-1*Number(c.split("-")[1]):Number(c.split("-")[0]);0>=c&&c--;return c},findEra:function(c,f,a){for(;0<=a;){var b=new Date,d=g[c].eras[a.toString()]._start;if(!d)break;d=d.split("-");b.setFullYear(d[0],d[1]-1,d[2]-1);if(f>=b)break;a--}return a},
setTimeFields:function(c,f,a){a.set("hour","UTC"===f?c.getUTCHours():c.getHours());a.set("minute","UTC"===f?c.getUTCMinutes():c.getMinutes());a.set("second","UTC"===f?c.getUTCSeconds():c.getSeconds());var b=60*c.getHours()+c.getMinutes(),d=60*c.getUTCHours()+c.getUTCMinutes();a.set("inDST","UTC"===f?!1:b+c.getTimezoneOffset()!==d)}}});
define("ecma402/calendars/buddhistCalendar",["../impl/Record","../impl/calendarFunctions"],function(c,m){return{toLocalTime:function(g,k){var f=new c;g=new Date(g);f.set("weekday","UTC"===k?g.getUTCDay():g.getDay());f.set("era",0);var a="UTC"===k?g.getUTCFullYear():g.getFullYear(),a=a-m.eraOffset("buddhist",0);f.set("year",a);f.set("month","UTC"===k?g.getUTCMonth():g.getMonth());f.set("day","UTC"===k?g.getUTCDate():g.getDate());m.setTimeFields(g,k,f);return f}}});
define("ecma402/calendars/japaneseCalendar",["../impl/Record","../impl/calendarFunctions"],function(c,m){return{toLocalTime:function(g,k){var f=new c;g=new Date(g);f.set("weekday","UTC"===k?g.getUTCDay():g.getDay());var a=m.findEra("japanese",g,235),b="UTC"===k?g.getUTCFullYear():g.getFullYear(),d=m.eraOffset("japanese",0<=a?a:0);f.set("era",0<=a?a:0);f.set("year",b-d+1);f.set("month","UTC"===k?g.getUTCMonth():g.getMonth());f.set("day","UTC"===k?g.getUTCDate():g.getDate());m.setTimeFields(g,k,f);
return f}}});
define("ecma402/calendars/hebrewCalendar",["../impl/Record","../impl/calendarFunctions"],function(c,m){function g(c){c=(12*c+17)%19;return c>=(0>c?-7:12)}function k(c){var a=Math.floor((235*c-234)/19),b=13753*a+12084,a=29*a+Math.floor(b/25920),b=b%25920,d=a%7;if(2===d||4===d||6===d)a++,d=a%7;1===d&&16404<b&&!g(c)?a+=2:0===d&&23269<b&&g(c-1)&&a++;return a}return{isLeapYear:g,toLocalTime:function(f,a){var b=new c;f=new Date(f);b.set("weekday","UTC"===a?f.getUTCDay():f.getDay());b.set("era",0);for(var d=
"UTC"===a?f.getTime():f.getTime()-6E4*f.getTimezoneOffset(),e=Math.floor(d/864E5)+2092591,d=Math.floor((19*Math.floor(25920*e/765433)+234)/235)+1,h=k(d),l=e-h;1>l;)d--,h=k(d),l=e-h;e=k(d+1)-h;380<e&&(e-=30);h=e-353;e=g(d)?[30,29,29,29,30,30,29,30,29,30,29,30,29]:[30,29,29,29,30,29,30,29,30,29,30,29];0<h&&e[2]++;1<h&&e[1]++;for(h=0;l>e[h];)l-=e[h],h++;b.set("year",d);b.set("month",h);b.set("day",l);m.setTimeFields(f,a,b);return b}}});
define("ecma402/calendars/umalquraCalendar",["../impl/Record","../impl/calendarFunctions","./gregorianCalendar","./islamicCalendar"],function(c,m,g,k){return{MONTH_LENGTH:"101010101010 110101010100 111011001001 011011010100 011011101010 001101101100 101010101101 010101010101 011010101001 011110010010 101110101001 010111010100 101011011010 010101011100 110100101101 011010010101 011101001010 101101010100 101101101010 010110101101 010010101110 101001001111 010100010111 011010001011 011010100101 101011010101 001011010110 100101011011 010010011101 101001001101 110100100110 110110010101 010110101100 100110110110 001010111010 101001011011 010100101011 101010010101 011011001010 101011101001 001011110100 100101110110 001010110110 100101010110 101011001010 101110100100 101111010010 010111011001 001011011100 100101101101 010101001101 101010100101 101101010010 101110100101 010110110100 100110110110 010101010111 001010010111 010101001011 011010100011 011101010010 101101100101 010101101010 101010101011 010100101011 110010010101 110101001010 110110100101 010111001010 101011010110 100101010111 010010101011 100101001011 101010100101 101101010010 101101101010 010101110101 001001110110 100010110111 010001011011 010101010101 010110101001 010110110100 100111011010 010011011101 001001101110 100100110110 101010101010 110101010100 110110110010 010111010101 001011011010 100101011011 010010101011 101001010101 101101001001 101101100100 101101110001 010110110100 101010110101 101001010101 110100100101 111010010010 111011001001 011011010100 101011101001 100101101011 010010101011 101010010011 110101001001 110110100100 110110110010 101010111001 010010111010 101001011011 010100101011 101010010101 101100101010 101101010101 010101011100 010010111101 001000111101 100100011101 101010010101 101101001010 101101011010 010101101101 001010110110 100100111011 010010011011 011001010101 011010101001 011101010100 101101101010 010101101100 101010101101 010101010101 101100101001 101110010010 101110101001 010111010100 101011011010 010101011010 101010101011 010110010101 011101001001 011101100100 101110101010 010110110101 001010110110 101001010110 111001001101 101100100101 101101010010 101101101010 010110101101 001010101110 100100101111 010010010111 011001001011 011010100101 011010101100 101011010110 010101011101 010010011101 101001001101 110100010110 110110010101 010110101010 010110110101 001011011010 100101011011 010010101101 010110010101 011011001010 011011100100 101011101010 010011110101 001010110110 100101010110 101010101010 101101010100 101111010010 010111011001 001011101010 100101101101 010010101101 101010010101 101101001010 101110100101 010110110010 100110110101 010011010110 101010010111 010101000111 011010010011 011101001001 101101010101 010101101010 101001101011 010100101011 101010001011 110101000110 110110100011 010111001010 101011010110 010011011011 001001101011 100101001011 101010100101 101101010010 101101101001 010101110101 000101110110 100010110111 001001011011 010100101011 010101100101 010110110100 100111011010 010011101101 000101101101 100010110110 101010100110 110101010010 110110101001 010111010100 101011011010 100101011011 010010101011 011001010011 011100101001 011101100010 101110101001 010110110010 101010110101 010101010101 101100100101 110110010010 111011001001 011011010010 101011101001 010101101011 010010101011 101001010101 110100101001 110101010100 110110101010 100110110101 010010111010 101000111011 010010011011 101001001101 101010101010 101011010101 001011011010 100101011101 010001011110 101000101110 110010011010 110101010101 011010110010 011010111001 010010111010 101001011101 010100101101 101010010101 101101010010 101110101000 101110110100 010110111001 001011011010 100101011010 101101001010 110110100100 111011010001 011011101000 101101101010 010101101101 010100110101 011010010101 110101001010 110110101000 110111010100 011011011010 010101011011 001010011101 011000101011 101100010101 101101001010 101110010101 010110101010 101010101110 100100101110 110010001111 010100100111 011010010101 011010101010 101011010110 010101011101 001010011101".split(" "),
getDaysDiff:function(c,a){c=Math.abs(c.getTime()-a.getTime());return Math.round(c/864E5)},fromGregorian:function(c){c=new Date(c);var a=new Date(1882,10,12,0,0,0,0),b=new Date(2174,10,25,23,59,59,999),d=this.getDaysDiff(c,a);if(0<=c-a&&0>=c-b)for(a=1300,b=0;b<this.MONTH_LENGTH.length;b++,a++)for(var e=0;12>e;e++){var h=parseInt(this.MONTH_LENGTH[b][e],10)+29;if(d<=h)return this.date=d+1,this.date>h&&(this.date=1,e++),11<e&&(e=0,a++),this.month=e,this.year=a,this.hours=c.getHours(),this.minutes=c.getMinutes(),
this.seconds=c.getSeconds(),this.milliseconds=c.getMilliseconds(),this.day=c.getDay(),this;d=parseInt(d,10)-h}else c=k.fromGregorian(c),this.date=c.date,this.month=c.month,this.year=c.year,this.hours=c.hours,this.minutes=c.minutes,this.seconds=c.seconds,this.milliseconds=c.milliseconds,this.day=c.day;return this},toLocalTime:function(f,a){var b=this.fromGregorian(f);f=new Date(f);var d=new c;d.set("weekday","UTC"===a?f.getUTCDay():f.getDay());d.set("era",0);d.set("year",b.year);d.set("month",b.month);
d.set("day",b.date);m.setTimeFields(f,a,d);return d}}});
define("ecma402/calendars/gregorianCalendar",["../impl/Record","../impl/calendarFunctions"],function(c,m){return{toLocalTime:function(g,k){var f=new c;g=new Date(g);f.set("weekday","UTC"===k?g.getUTCDay():g.getDay());var a="UTC"===k?g.getUTCFullYear():g.getFullYear();0>=a?(f.set("era",0),a--,a=-a):f.set("era",1);f.set("year",a);f.set("month","UTC"===k?g.getUTCMonth():g.getMonth());f.set("day","UTC"===k?g.getUTCDate():g.getDate());m.setTimeFields(g,k,f);return f}}});
define("ecma402/calendars/civilTabularCalendar",["../impl/Record","../impl/calendarFunctions"],function(c,m){return{CIVIL_EPOC:1948439.5,ASTRONOMICAL_EPOC:1948438.5,GREGORIAN_EPOCH:1721425.5,isGregorianLeapYear:function(c){return 0===c%4&&0!==c%100||0===c%400},getIslamicYearStart:function(c){return 354*(c-1)+Math.floor((3+11*c)/30)},getIslamicMonthStart:function(c,k){return Math.ceil(29.5*k)+354*(c-1)+Math.floor((3+11*c)/30)},fromGregorian:function(c,k){c=new Date(c);var f=c.getFullYear(),a=c.getMonth(),
b=c.getDate(),a=this.GREGORIAN_EPOCH-1+365*(f-1)+Math.floor((f-1)/4)+-Math.floor((f-1)/100)+Math.floor((f-1)/400)+Math.floor((367*(a+1)-362)/12+(2>=a+1?0:this.isGregorianLeapYear(f)?-1:-2)+b),a=Math.floor(a)+.5,f=a-this.CIVIL_EPOC;"tbla"===k&&(f=a-this.ASTRONOMICAL_EPOC);k=Math.floor((30*f+10646)/10631);a=Math.ceil((f-29-this.getIslamicYearStart(k))/29.5);a=Math.min(a,11);this.date=Math.ceil(f-this.getIslamicMonthStart(k,a)+1);this.month=a;this.year=k;this.hours=c.getHours();this.minutes=c.getMinutes();
this.seconds=c.getSeconds();this.milliseconds=c.getMilliseconds();this.day=c.getDay();return this},toLocalTime:function(g,k,f){f=this.fromGregorian(g,f);g=new Date(g);var a=new c;a.set("weekday","UTC"===k?g.getUTCDay():g.getDay());a.set("era",0);a.set("year",f.year);a.set("month",f.month);a.set("day",f.date);m.setTimeFields(g,k,a);return a}}});
define("ecma402/calendars/islamicCalendar",["../impl/Record","../impl/calendarFunctions"],function(c,m){return{SYNODIC_MONTH:29.530588853,TROPICAL_YEAR:365.242191,CIVIL_EPOC:1948440,JD_EPOCH:2447891.5,EPOCH_JULIAN_DAY:2440588,SUN_ETA_G:279.403303*Math.PI/180,SUN_OMEGA_G:282.768422*Math.PI/180,SUN_E:.016713,DAY_MS:864E5,JULIAN_EPOCH_MS:-21086676E7,HIJRA_MS:-425215872E5,MOON_L0:318.351648*Math.PI/180,MOON_P0:36.34041*Math.PI/180,MOON_N0:318.510107*Math.PI/180,MOON_I:5.145366*Math.PI/180,fromGregorian:function(c){c=
new Date(c);var k=c.getTime()-6E4*c.getTimezoneOffset(),k=this._floorDivide(k,this.DAY_MS)+this.EPOCH_JULIAN_DAY-this.CIVIL_EPOC,f=Math.floor(k/this.SYNODIC_MONTH);for(25<=k-Math.floor(f*this.SYNODIC_MONTH-1)&&0<this._moonAge(c.getTime())&&f++;this._trueMonthStart(f)>k;)f--;var a=Math.floor(f/12)+1,f=f%12;this.date=Math.floor(k-this._monthStart(a,f))+1;this.month=f;this.year=a;this.hours=c.getHours();this.minutes=c.getMinutes();this.seconds=c.getSeconds();this.milliseconds=c.getMilliseconds();this.day=
c.getDay();return this},toLocalTime:function(g,k){var f=this.fromGregorian(g);g=new Date(g);var a=new c;a.set("weekday","UTC"===k?g.getUTCDay():g.getDay());a.set("era",0);a.set("year",f.year);a.set("month",f.month);a.set("day",f.date);m.setTimeFields(g,k,a);return a},_floorDivide:function(c,k){return Math.floor(0<=c?c/k:(c+1)/k-1)},_monthStart:function(c,k){return this._trueMonthStart(12*(c+Math.floor(k/12)-1)+k%12)},_trueMonthStart:function(c){c=this.HIJRA_MS+Math.floor(c*this.SYNODIC_MONTH)*this.DAY_MS;
var k;this._moonAge(c);if(0<=this._moonAge(c)){do c-=this.DAY_MS,k=this._moonAge(c);while(0<=k)}else{do c+=this.DAY_MS,k=this._moonAge(c);while(0>k)}return Math.floor((c-this.HIJRA_MS)/this.DAY_MS)+1},_moonAge:function(c){this._time=c;c=this._getMoonAge();c=180*c/Math.PI;180<c&&(c-=360);return c},_getJulianDay:function(){return(this._time-this.JULIAN_EPOCH_MS)/this.DAY_MS},_getSunLongitude:function(c){c=this._norm2PI(2*Math.PI/this.TROPICAL_YEAR*(c-this.JD_EPOCH));c=this._norm2PI(c+this.SUN_ETA_G-
this.SUN_OMEGA_G);return{sunLongitude:this._norm2PI(this._trueAnomaly(c,this.SUN_E)+this.SUN_OMEGA_G),meanAnomalySun:c}},_getMoonAge:function(){var c=this._getSunLongitude(this._getJulianDay()),k=c.sunLongitude,c=c.meanAnomalySun,f=this._getJulianDay()-this.JD_EPOCH,a=this._norm2PI(13.1763966*Math.PI/180*f+this.MOON_L0),b=this._norm2PI(a-.1114041*Math.PI/180*f-this.MOON_P0),d=1.2739*Math.PI/180*Math.sin(2*(a-k)-b),e=.1858*Math.PI/180*Math.sin(c),b=b+(d-e-.37*Math.PI/180*Math.sin(c)),a=a+d+6.2886*
Math.PI/180*Math.sin(b)-e+.214*Math.PI/180*Math.sin(2*b),a=a+.6583*Math.PI/180*Math.sin(2*(a-k)),f=this._norm2PI(this.MOON_N0-.0529539*Math.PI/180*f),f=f-.16*Math.PI/180*Math.sin(c);return this._norm2PI(Math.atan2(Math.sin(a-f)*Math.cos(this.MOON_I),Math.cos(a-f))+f-k)},_norm2PI:function(c){return c-2*Math.PI*Math.floor(c/(2*Math.PI))},_trueAnomaly:function(c,k){var f,a=c;do f=a-k*Math.sin(a)-c,a-=f/(1-k*Math.cos(a));while(1E-5<Math.abs(f));return 2*Math.atan(Math.tan(a/2)*Math.sqrt((1+k)/(1-k)))}}});
define("ecma402/locales",["module","require","./impl/common","./impl/load"],function(c,m,g,k){function f(a){return k.id+"!"+a}var a,b={root:!0};b[g.DefaultLocale()]=!0;var d=c.config();d instanceof RegExp?g.availableLocalesList.forEach(function(a){d.test(a)&&(b[a]=!0)}):("string"===typeof d&&(d=[d]),d instanceof Array&&d.forEach(function(a){(a=g.BestFitAvailableLocale(g.availableLocalesList,a))&&(b[a]=!0)}));var e=Object.keys(b),h={};return{load:function(a,c,p,k){"[object Object]"===Object.prototype.toString.call(d)&&
k.isBuild&&(b={},g.availableLocalesList.forEach(function(a){b[a]=!0}),e=Object.keys(b));a=e.map(f);m(a,function(){var a=arguments;e.forEach(function(b,d){h[b]=a[d]});p(h)})},writeFile:function(b,d,c,e){a=e},addModules:function(a,b,d){var c=[];e.forEach(function(a){a=h[a];var b=a.calendars.map(function(a){return"./calendars/"+a});c=c.concat(b);delete a.calendars});d(c)},onLayerEnd:function(d,c){var l=c.path.match(/^(.*\/)?(.*)\.js$/),f=(l[1]||"")+"cldr/"+l[2]+"_",l=c.name.match(/^(.*\/)?(.*)$/);c=
(l[1]||"")+"cldr/"+l[2];e.forEach(function(b){a(f+b+".js","define("+JSON.stringify(h[b])+")")});b._layerMid=c;d("require.config({config:{'"+k.id+"':"+JSON.stringify(b)+"}});");h={}}}});
define("ecma402/impl/load",["./calendars","./common","require","module","requirejs-text/text"],function(c,m,g,k){return{id:k.id,load:function(f,a,b,d){var e=["currencies","numbers"],h=[];a=m._getRegion(f);m._getSupportedCalendars(a).forEach(function(a){e.push("ca-"+("gregory"===a?"gregorian":a));"gregory"!==a&&h.push(a)});var l=k.config();a=l[f]?e=[l._layerMid+"_"+f]:e.map(function(a){return"requirejs-text/text!../cldr/"+f+"/"+a+".json"});var n=h.map(function(a){return"../calendars/"+c.dependencies[a].calendar});
a=a.concat(n);g(a,function(){var a=arguments,n={};e.forEach(function(b,d){l[f]?n=a[0]:n[b]=JSON.parse(a[d])});h.forEach(function(b,d){c.calendarMap[b]=a[d+e.length]});d.isBuild&&(n.calendars=h.map(function(a){return c.dependencies[a].calendar}));b(n)})}}});define("requirejs-text/text!ecma402/cldr/config/availableLocales.json",[],function(){return'{\n \t"availableLocales": [\n\t\t"af",\n\t\t"af-NA",\n\t\t"am",\n\t\t"ar",\n\t\t"ar-AE",\n\t\t"ar-BH",\n\t\t"ar-DZ",\n\t\t"ar-EG",\n\t\t"ar-IQ",\n\t\t"ar-JO",\n\t\t"ar-KW",\n\t\t"ar-LB",\n\t\t"ar-LY",\n\t\t"ar-MA",\n\t\t"ar-OM",\n\t\t"ar-QA",\n\t\t"ar-SA",\n\t\t"ar-SD",\n\t\t"ar-SY",\n\t\t"ar-TN",\n\t\t"ar-YE",\n\t\t"as",\n\t\t"az",\n\t\t"be",\n\t\t"bg",\n\t\t"bn",\n\t\t"bn-IN",\n\t\t"ca",\n\t\t"cs",\n\t\t"cy",\n\t\t"da",\n\t\t"de",\n\t\t"de-AT",\n\t\t"de-LU",\n\t\t"de-CH",\n\t\t"el",\n\t\t"en",\n\t\t"en-AU",\n\t\t"en-BE",\n\t\t"en-CM",\n\t\t"en-CA",\n\t\t"en-GB",\n\t\t"en-GH",\n\t\t"en-HK",\n\t\t"en-IE",\n\t\t"en-IN",\n\t\t"en-KE",\n\t\t"en-MU",\n\t\t"en-NG",\n\t\t"en-NZ",\n\t\t"en-PH",\n\t\t"en-SG",\n\t\t"en-TT",\n\t\t"en-ZA",\n\t\t"en-ZM",\n\t\t"es",\n\t\t"es-AR",\n\t\t"es-BO",\n\t\t"es-CL",\n\t\t"es-CO",\n\t\t"es-CR",\n\t\t"es-DO",\n\t\t"es-EC",\n\t\t"es-GT",\n\t\t"es-HN",\n\t\t"es-MX",\n\t\t"es-NI",\n\t\t"es-PA",\n\t\t"es-PE",\n\t\t"es-PR",\n\t\t"es-PY",\n\t\t"es-SV",\n\t\t"es-US",\n\t\t"es-UY",\n\t\t"es-VE",\n\t\t"eu",\n\t\t"fil",\n\t\t"fi",\n\t\t"fr",\n\t\t"fr-BE",\n\t\t"fr-CA",\n\t\t"fr-CD",\n\t\t"fr-CH",\n\t\t"fr-CI",\n\t\t"fr-CM",\n\t\t"fr-DZ",\n\t\t"fr-LU",\n\t\t"fr-MR",\n\t\t"fr-MA",\n\t\t"fr-SN",\n\t\t"fr-TN",\n\t\t"gl",\n\t\t"gu",\n\t\t"ha",\n\t\t"he",\n\t\t"hi",\n\t\t"hr",\n\t\t"hu",\n\t\t"hy",\n\t\t"id",\n\t\t"ig",\n\t\t"is",\n\t\t"it",\n\t\t"it-CH",\n\t\t"ja",\n\t\t"ka",\n\t\t"kk",\n\t\t"km",\n\t\t"kn",\n\t\t"ko",\n\t\t"kok",\n\t\t"lg",\n\t\t"lt",\n\t\t"lv",\n\t\t"mk",\n\t\t"ml",\n\t\t"mn",\n\t\t"mr",\n\t\t"ms",\n\t\t"mt",\n\t\t"nb",\n\t\t"ne",\n\t\t"ne-IN",\n\t\t"nl",\n\t\t"nl-BE",\n\t\t"nn",\n\t\t"om",\n\t\t"or",\n\t\t"pa",\n\t\t"pl",\n\t\t"pt",\n\t\t"pt-AO",\n\t\t"pt-MZ",\n\t\t"pt-PT",\n\t\t"ro",\n\t\t"root",\n\t\t"ru",\n\t\t"rw",\n\t\t"si",\n\t\t"sk",\n\t\t"sl",\n\t\t"sr",\n\t\t"sr-Latn",\n\t\t"sq",\n\t\t"sv",\n\t\t"sw",\n\t\t"sw-KE",\n\t\t"ta",\n\t\t"te",\n\t\t"th",\n\t\t"tr",\n\t\t"uk",\n\t\t"ur",\n\t\t"ur-IN",\n\t\t"uz",\n\t\t"uz-Cyrl",\n\t\t"vi",\n\t\t"yo",\n\t\t"zh",\n\t\t"zh-Hans",\n\t\t"zh-Hans-SG",\n\t\t"zh-Hant",\n\t\t"zh-Hant-HK"\n\t]\n}\n'});
define("requirejs-text/text!ecma402/cldr/supplemental/aliases.json",[],function(){return'{\n  "supplemental": {\n    "metadata": {\n      "alias": {\n        "languageAlias": {\n          "aa-SAAHO": {\n            "_replacement": "ssy",\n            "_reason": "deprecated"\n          },\n          "aar": {\n            "_replacement": "aa",\n            "_reason": "overlong"\n          },\n          "abk": {\n            "_replacement": "ab",\n            "_reason": "overlong"\n          },\n          "afr": {\n            "_replacement": "af",\n            "_reason": "overlong"\n          },\n          "aju": {\n            "_replacement": "jrb",\n            "_reason": "macrolanguage"\n          },\n          "aka": {\n            "_replacement": "ak",\n            "_reason": "overlong"\n          },\n          "alb": {\n            "_replacement": "sq",\n            "_reason": "bibliographic"\n          },\n          "als": {\n            "_replacement": "sq",\n            "_reason": "macrolanguage"\n          },\n          "amh": {\n            "_replacement": "am",\n            "_reason": "overlong"\n          },\n          "ara": {\n            "_replacement": "ar",\n            "_reason": "overlong"\n          },\n          "arb": {\n            "_replacement": "ar",\n            "_reason": "macrolanguage"\n          },\n          "arg": {\n            "_replacement": "an",\n            "_reason": "overlong"\n          },\n          "arm": {\n            "_replacement": "hy",\n            "_reason": "bibliographic"\n          },\n          "art-lojban": {\n            "_replacement": "jbo",\n            "_reason": "deprecated"\n          },\n          "asm": {\n            "_replacement": "as",\n            "_reason": "overlong"\n          },\n          "ava": {\n            "_replacement": "av",\n            "_reason": "overlong"\n          },\n          "ave": {\n            "_replacement": "ae",\n            "_reason": "overlong"\n          },\n          "aym": {\n            "_replacement": "ay",\n            "_reason": "overlong"\n          },\n          "ayr": {\n            "_replacement": "ay",\n            "_reason": "macrolanguage"\n          },\n          "az-AZ": {\n            "_replacement": "az-Latn-AZ",\n            "_reason": "legacy"\n          },\n          "aze": {\n            "_replacement": "az",\n            "_reason": "overlong"\n          },\n          "azj": {\n            "_replacement": "az",\n            "_reason": "macrolanguage"\n          },\n          "bak": {\n            "_replacement": "ba",\n            "_reason": "overlong"\n          },\n          "bam": {\n            "_replacement": "bm",\n            "_reason": "overlong"\n          },\n          "baq": {\n            "_replacement": "eu",\n            "_reason": "bibliographic"\n          },\n          "bcc": {\n            "_replacement": "bal",\n            "_reason": "macrolanguage"\n          },\n          "bcl": {\n            "_replacement": "bik",\n            "_reason": "macrolanguage"\n          },\n          "bel": {\n            "_replacement": "be",\n            "_reason": "overlong"\n          },\n          "ben": {\n            "_replacement": "bn",\n            "_reason": "overlong"\n          },\n          "bih": {\n            "_replacement": "bh",\n            "_reason": "overlong"\n          },\n          "bis": {\n            "_replacement": "bi",\n            "_reason": "overlong"\n          },\n          "bod": {\n            "_replacement": "bo",\n            "_reason": "overlong"\n          },\n          "bos": {\n            "_replacement": "bs",\n            "_reason": "overlong"\n          },\n          "bre": {\n            "_replacement": "br",\n            "_reason": "overlong"\n          },\n          "bs-BA": {\n            "_replacement": "bs-Latn-BA",\n            "_reason": "legacy"\n          },\n          "bul": {\n            "_replacement": "bg",\n            "_reason": "overlong"\n          },\n          "bur": {\n            "_replacement": "my",\n            "_reason": "bibliographic"\n          },\n          "bxk": {\n            "_replacement": "luy",\n            "_reason": "macrolanguage"\n          },\n          "bxr": {\n            "_replacement": "bua",\n            "_reason": "macrolanguage"\n          },\n          "cat": {\n            "_replacement": "ca",\n            "_reason": "overlong"\n          },\n          "ces": {\n            "_replacement": "cs",\n            "_reason": "overlong"\n          },\n          "cha": {\n            "_replacement": "ch",\n            "_reason": "overlong"\n          },\n          "che": {\n            "_replacement": "ce",\n            "_reason": "overlong"\n          },\n          "chi": {\n            "_replacement": "zh",\n            "_reason": "bibliographic"\n          },\n          "chu": {\n            "_replacement": "cu",\n            "_reason": "overlong"\n          },\n          "chv": {\n            "_replacement": "cv",\n            "_reason": "overlong"\n          },\n          "cld": {\n            "_replacement": "syr",\n            "_reason": "macrolanguage"\n          },\n          "cmn": {\n            "_replacement": "zh",\n            "_reason": "macrolanguage"\n          },\n          "cor": {\n            "_replacement": "kw",\n            "_reason": "overlong"\n          },\n          "cos": {\n            "_replacement": "co",\n            "_reason": "overlong"\n          },\n          "cre": {\n            "_replacement": "cr",\n            "_reason": "overlong"\n          },\n          "cwd": {\n            "_replacement": "cr",\n            "_reason": "macrolanguage"\n          },\n          "cym": {\n            "_replacement": "cy",\n            "_reason": "overlong"\n          },\n          "cze": {\n            "_replacement": "cs",\n            "_reason": "bibliographic"\n          },\n          "dan": {\n            "_replacement": "da",\n            "_reason": "overlong"\n          },\n          "deu": {\n            "_replacement": "de",\n            "_reason": "overlong"\n          },\n          "dgo": {\n            "_replacement": "doi",\n            "_reason": "macrolanguage"\n          },\n          "dhd": {\n            "_replacement": "mwr",\n            "_reason": "macrolanguage"\n          },\n          "dik": {\n            "_replacement": "din",\n            "_reason": "macrolanguage"\n          },\n          "diq": {\n            "_replacement": "zza",\n            "_reason": "macrolanguage"\n          },\n          "div": {\n            "_replacement": "dv",\n            "_reason": "overlong"\n          },\n          "dut": {\n            "_replacement": "nl",\n            "_reason": "bibliographic"\n          },\n          "dzo": {\n            "_replacement": "dz",\n            "_reason": "overlong"\n          },\n          "ekk": {\n            "_replacement": "et",\n            "_reason": "macrolanguage"\n          },\n          "ell": {\n            "_replacement": "el",\n            "_reason": "overlong"\n          },\n          "emk": {\n            "_replacement": "man",\n            "_reason": "macrolanguage"\n          },\n          "eng": {\n            "_replacement": "en",\n            "_reason": "overlong"\n          },\n          "epo": {\n            "_replacement": "eo",\n            "_reason": "overlong"\n          },\n          "esk": {\n            "_replacement": "ik",\n            "_reason": "macrolanguage"\n          },\n          "est": {\n            "_replacement": "et",\n            "_reason": "overlong"\n          },\n          "eus": {\n            "_replacement": "eu",\n            "_reason": "overlong"\n          },\n          "ewe": {\n            "_replacement": "ee",\n            "_reason": "overlong"\n          },\n          "fao": {\n            "_replacement": "fo",\n            "_reason": "overlong"\n          },\n          "fas": {\n            "_replacement": "fa",\n            "_reason": "overlong"\n          },\n          "fat": {\n            "_replacement": "ak",\n            "_reason": "macrolanguage"\n          },\n          "fij": {\n            "_replacement": "fj",\n            "_reason": "overlong"\n          },\n          "fin": {\n            "_replacement": "fi",\n            "_reason": "overlong"\n          },\n          "fra": {\n            "_replacement": "fr",\n            "_reason": "overlong"\n          },\n          "fre": {\n            "_replacement": "fr",\n            "_reason": "bibliographic"\n          },\n          "fry": {\n            "_replacement": "fy",\n            "_reason": "overlong"\n          },\n          "fuc": {\n            "_replacement": "ff",\n            "_reason": "macrolanguage"\n          },\n          "ful": {\n            "_replacement": "ff",\n            "_reason": "overlong"\n          },\n          "gaz": {\n            "_replacement": "om",\n            "_reason": "macrolanguage"\n          },\n          "gbo": {\n            "_replacement": "grb",\n            "_reason": "macrolanguage"\n          },\n          "geo": {\n            "_replacement": "ka",\n            "_reason": "bibliographic"\n          },\n          "ger": {\n            "_replacement": "de",\n            "_reason": "bibliographic"\n          },\n          "gla": {\n            "_replacement": "gd",\n            "_reason": "overlong"\n          },\n          "gle": {\n            "_replacement": "ga",\n            "_reason": "overlong"\n          },\n          "glg": {\n            "_replacement": "gl",\n            "_reason": "overlong"\n          },\n          "glv": {\n            "_replacement": "gv",\n            "_reason": "overlong"\n          },\n          "gno": {\n            "_replacement": "gon",\n            "_reason": "macrolanguage"\n          },\n          "gre": {\n            "_replacement": "el",\n            "_reason": "bibliographic"\n          },\n          "grn": {\n            "_replacement": "gn",\n            "_reason": "overlong"\n          },\n          "gug": {\n            "_replacement": "gn",\n            "_reason": "macrolanguage"\n          },\n          "guj": {\n            "_replacement": "gu",\n            "_reason": "overlong"\n          },\n          "gya": {\n            "_replacement": "gba",\n            "_reason": "macrolanguage"\n          },\n          "ha-GH": {\n            "_replacement": "ha-Latn-GH",\n            "_reason": "legacy"\n          },\n          "ha-NE": {\n            "_replacement": "ha-Latn-NE",\n            "_reason": "legacy"\n          },\n          "ha-NG": {\n            "_replacement": "ha-Latn-NG",\n            "_reason": "legacy"\n          },\n          "hat": {\n            "_replacement": "ht",\n            "_reason": "overlong"\n          },\n          "hau": {\n            "_replacement": "ha",\n            "_reason": "overlong"\n          },\n          "hbs": {\n            "_replacement": "sr-Latn",\n            "_reason": "overlong"\n          },\n          "hdn": {\n            "_replacement": "hai",\n            "_reason": "macrolanguage"\n          },\n          "hea": {\n            "_replacement": "hmn",\n            "_reason": "macrolanguage"\n          },\n          "heb": {\n            "_replacement": "he",\n            "_reason": "overlong"\n          },\n          "her": {\n            "_replacement": "hz",\n            "_reason": "overlong"\n          },\n          "him": {\n            "_replacement": "srx",\n            "_reason": "macrolanguage"\n          },\n          "hin": {\n            "_replacement": "hi",\n            "_reason": "overlong"\n          },\n          "hmo": {\n            "_replacement": "ho",\n            "_reason": "overlong"\n          },\n          "hrv": {\n            "_replacement": "hr",\n            "_reason": "overlong"\n          },\n          "hun": {\n            "_replacement": "hu",\n            "_reason": "overlong"\n          },\n          "hye": {\n            "_replacement": "hy",\n            "_reason": "overlong"\n          },\n          "i-ami": {\n            "_replacement": "ami",\n            "_reason": "deprecated"\n          },\n          "i-bnn": {\n            "_replacement": "bnn",\n            "_reason": "deprecated"\n          },\n          "i-hak": {\n            "_replacement": "hak",\n            "_reason": "deprecated"\n          },\n          "i-klingon": {\n            "_replacement": "tlh",\n            "_reason": "deprecated"\n          },\n          "i-lux": {\n            "_replacement": "lb",\n            "_reason": "deprecated"\n          },\n          "i-navajo": {\n            "_replacement": "nv",\n            "_reason": "deprecated"\n          },\n          "i-pwn": {\n            "_replacement": "pwn",\n            "_reason": "deprecated"\n          },\n          "i-tao": {\n            "_replacement": "tao",\n            "_reason": "deprecated"\n          },\n          "i-tay": {\n            "_replacement": "tay",\n            "_reason": "deprecated"\n          },\n          "i-tsu": {\n            "_replacement": "tsu",\n            "_reason": "deprecated"\n          },\n          "ibo": {\n            "_replacement": "ig",\n            "_reason": "overlong"\n          },\n          "ice": {\n            "_replacement": "is",\n            "_reason": "bibliographic"\n          },\n          "ido": {\n            "_replacement": "io",\n            "_reason": "overlong"\n          },\n          "iii": {\n            "_replacement": "ii",\n            "_reason": "overlong"\n          },\n          "ike": {\n            "_replacement": "iu",\n            "_reason": "macrolanguage"\n          },\n          "iku": {\n            "_replacement": "iu",\n            "_reason": "overlong"\n          },\n          "ile": {\n            "_replacement": "ie",\n            "_reason": "overlong"\n          },\n          "in": {\n            "_replacement": "id",\n            "_reason": "deprecated"\n          },\n          "ina": {\n            "_replacement": "ia",\n            "_reason": "overlong"\n          },\n          "ind": {\n            "_replacement": "id",\n            "_reason": "overlong"\n          },\n          "ipk": {\n            "_replacement": "ik",\n            "_reason": "overlong"\n          },\n          "isl": {\n            "_replacement": "is",\n            "_reason": "overlong"\n          },\n          "ita": {\n            "_replacement": "it",\n            "_reason": "overlong"\n          },\n          "iw": {\n            "_replacement": "he",\n            "_reason": "deprecated"\n          },\n          "jav": {\n            "_replacement": "jv",\n            "_reason": "overlong"\n          },\n          "ji": {\n            "_replacement": "yi",\n            "_reason": "deprecated"\n          },\n          "jpn": {\n            "_replacement": "ja",\n            "_reason": "overlong"\n          },\n          "jw": {\n            "_replacement": "jv",\n            "_reason": "deprecated"\n          },\n          "kal": {\n            "_replacement": "kl",\n            "_reason": "overlong"\n          },\n          "kan": {\n            "_replacement": "kn",\n            "_reason": "overlong"\n          },\n          "kas": {\n            "_replacement": "ks",\n            "_reason": "overlong"\n          },\n          "kat": {\n            "_replacement": "ka",\n            "_reason": "overlong"\n          },\n          "kau": {\n            "_replacement": "kr",\n            "_reason": "overlong"\n          },\n          "kaz": {\n            "_replacement": "kk",\n            "_reason": "overlong"\n          },\n          "khk": {\n            "_replacement": "mn",\n            "_reason": "macrolanguage"\n          },\n          "khm": {\n            "_replacement": "km",\n            "_reason": "overlong"\n          },\n          "kik": {\n            "_replacement": "ki",\n            "_reason": "overlong"\n          },\n          "kin": {\n            "_replacement": "rw",\n            "_reason": "overlong"\n          },\n          "kir": {\n            "_replacement": "ky",\n            "_reason": "overlong"\n          },\n          "kk-KZ": {\n            "_replacement": "kk-Cyrl-KZ",\n            "_reason": "legacy"\n          },\n          "kmr": {\n            "_replacement": "ku",\n            "_reason": "macrolanguage"\n          },\n          "knc": {\n            "_replacement": "kr",\n            "_reason": "macrolanguage"\n          },\n          "kng": {\n            "_replacement": "kg",\n            "_reason": "macrolanguage"\n          },\n          "knn": {\n            "_replacement": "kok",\n            "_reason": "macrolanguage"\n          },\n          "kom": {\n            "_replacement": "kv",\n            "_reason": "overlong"\n          },\n          "kon": {\n            "_replacement": "kg",\n            "_reason": "overlong"\n          },\n          "kor": {\n            "_replacement": "ko",\n            "_reason": "overlong"\n          },\n          "kpv": {\n            "_replacement": "kv",\n            "_reason": "macrolanguage"\n          },\n          "ks-IN": {\n            "_replacement": "ks-Arab-IN",\n            "_reason": "legacy"\n          },\n          "kua": {\n            "_replacement": "kj",\n            "_reason": "overlong"\n          },\n          "kur": {\n            "_replacement": "ku",\n            "_reason": "overlong"\n          },\n          "ky-KG": {\n            "_replacement": "ky-Cyrl-KG",\n            "_reason": "legacy"\n          },\n          "lao": {\n            "_replacement": "lo",\n            "_reason": "overlong"\n          },\n          "lat": {\n            "_replacement": "la",\n            "_reason": "overlong"\n          },\n          "lav": {\n            "_replacement": "lv",\n            "_reason": "overlong"\n          },\n          "lbk": {\n            "_replacement": "bnc",\n            "_reason": "macrolanguage"\n          },\n          "lim": {\n            "_replacement": "li",\n            "_reason": "overlong"\n          },\n          "lin": {\n            "_replacement": "ln",\n            "_reason": "overlong"\n          },\n          "lit": {\n            "_replacement": "lt",\n            "_reason": "overlong"\n          },\n          "ltz": {\n            "_replacement": "lb",\n            "_reason": "overlong"\n          },\n          "lub": {\n            "_replacement": "lu",\n            "_reason": "overlong"\n          },\n          "lug": {\n            "_replacement": "lg",\n            "_reason": "overlong"\n          },\n          "lvs": {\n            "_replacement": "lv",\n            "_reason": "macrolanguage"\n          },\n          "mac": {\n            "_replacement": "mk",\n            "_reason": "bibliographic"\n          },\n          "mah": {\n            "_replacement": "mh",\n            "_reason": "overlong"\n          },\n          "mal": {\n            "_replacement": "ml",\n            "_reason": "overlong"\n          },\n          "mao": {\n            "_replacement": "mi",\n            "_reason": "bibliographic"\n          },\n          "mar": {\n            "_replacement": "mr",\n            "_reason": "overlong"\n          },\n          "may": {\n            "_replacement": "ms",\n            "_reason": "bibliographic"\n          },\n          "mhr": {\n            "_replacement": "chm",\n            "_reason": "macrolanguage"\n          },\n          "mkd": {\n            "_replacement": "mk",\n            "_reason": "overlong"\n          },\n          "mlg": {\n            "_replacement": "mg",\n            "_reason": "overlong"\n          },\n          "mlt": {\n            "_replacement": "mt",\n            "_reason": "overlong"\n          },\n          "mn-MN": {\n            "_replacement": "mn-Cyrl-MN",\n            "_reason": "legacy"\n          },\n          "mnk": {\n            "_replacement": "man",\n            "_reason": "macrolanguage"\n          },\n          "mo": {\n            "_replacement": "ro-MD",\n            "_reason": "deprecated"\n          },\n          "mol": {\n            "_replacement": "ro-MD",\n            "_reason": "overlong"\n          },\n          "mon": {\n            "_replacement": "mn",\n            "_reason": "overlong"\n          },\n          "mri": {\n            "_replacement": "mi",\n            "_reason": "overlong"\n          },\n          "ms-BN": {\n            "_replacement": "ms-Latn-BN",\n            "_reason": "legacy"\n          },\n          "ms-MY": {\n            "_replacement": "ms-Latn-MY",\n            "_reason": "legacy"\n          },\n          "ms-SG": {\n            "_replacement": "ms-Latn-SG",\n            "_reason": "legacy"\n          },\n          "msa": {\n            "_replacement": "ms",\n            "_reason": "overlong"\n          },\n          "mup": {\n            "_replacement": "raj",\n            "_reason": "macrolanguage"\n          },\n          "mya": {\n            "_replacement": "my",\n            "_reason": "overlong"\n          },\n          "nau": {\n            "_replacement": "na",\n            "_reason": "overlong"\n          },\n          "nav": {\n            "_replacement": "nv",\n            "_reason": "overlong"\n          },\n          "nbl": {\n            "_replacement": "nr",\n            "_reason": "overlong"\n          },\n          "nde": {\n            "_replacement": "nd",\n            "_reason": "overlong"\n          },\n          "ndo": {\n            "_replacement": "ng",\n            "_reason": "overlong"\n          },\n          "nep": {\n            "_replacement": "ne",\n            "_reason": "overlong"\n          },\n          "nld": {\n            "_replacement": "nl",\n            "_reason": "overlong"\n          },\n          "nno": {\n            "_replacement": "nn",\n            "_reason": "overlong"\n          },\n          "no": {\n            "_replacement": "nb",\n            "_reason": "legacy"\n          },\n          "no-BOKMAL": {\n            "_replacement": "nb",\n            "_reason": "deprecated"\n          },\n          "no-NYNORSK": {\n            "_replacement": "nn",\n            "_reason": "deprecated"\n          },\n          "no-bok": {\n            "_replacement": "nb",\n            "_reason": "deprecated"\n          },\n          "no-nyn": {\n            "_replacement": "nn",\n            "_reason": "deprecated"\n          },\n          "nob": {\n            "_replacement": "nb",\n            "_reason": "overlong"\n          },\n          "nor": {\n            "_replacement": "nb",\n            "_reason": "overlong"\n          },\n          "npi": {\n            "_replacement": "ne",\n            "_reason": "macrolanguage"\n          },\n          "nya": {\n            "_replacement": "ny",\n            "_reason": "overlong"\n          },\n          "oci": {\n            "_replacement": "oc",\n            "_reason": "overlong"\n          },\n          "ojg": {\n            "_replacement": "oj",\n            "_reason": "macrolanguage"\n          },\n          "oji": {\n            "_replacement": "oj",\n            "_reason": "overlong"\n          },\n          "ori": {\n            "_replacement": "or",\n            "_reason": "overlong"\n          },\n          "orm": {\n            "_replacement": "om",\n            "_reason": "overlong"\n          },\n          "ory": {\n            "_replacement": "or",\n            "_reason": "macrolanguage"\n          },\n          "oss": {\n            "_replacement": "os",\n            "_reason": "overlong"\n          },\n          "pa-IN": {\n            "_replacement": "pa-Guru-IN",\n            "_reason": "legacy"\n          },\n          "pa-PK": {\n            "_replacement": "pa-Arab-PK",\n            "_reason": "legacy"\n          },\n          "pan": {\n            "_replacement": "pa",\n            "_reason": "overlong"\n          },\n          "pbu": {\n            "_replacement": "ps",\n            "_reason": "macrolanguage"\n          },\n          "per": {\n            "_replacement": "fa",\n            "_reason": "bibliographic"\n          },\n          "pes": {\n            "_replacement": "fa",\n            "_reason": "macrolanguage"\n          },\n          "pli": {\n            "_replacement": "pi",\n            "_reason": "overlong"\n          },\n          "plt": {\n            "_replacement": "mg",\n            "_reason": "macrolanguage"\n          },\n          "pnb": {\n            "_replacement": "lah",\n            "_reason": "macrolanguage"\n          },\n          "pol": {\n            "_replacement": "pl",\n            "_reason": "overlong"\n          },\n          "por": {\n            "_replacement": "pt",\n            "_reason": "overlong"\n          },\n          "pus": {\n            "_replacement": "ps",\n            "_reason": "overlong"\n          },\n          "que": {\n            "_replacement": "qu",\n            "_reason": "overlong"\n          },\n          "quz": {\n            "_replacement": "qu",\n            "_reason": "macrolanguage"\n          },\n          "rmy": {\n            "_replacement": "rom",\n            "_reason": "macrolanguage"\n          },\n          "roh": {\n            "_replacement": "rm",\n            "_reason": "overlong"\n          },\n          "ron": {\n            "_replacement": "ro",\n            "_reason": "overlong"\n          },\n          "rum": {\n            "_replacement": "ro",\n            "_reason": "bibliographic"\n          },\n          "run": {\n            "_replacement": "rn",\n            "_reason": "overlong"\n          },\n          "rus": {\n            "_replacement": "ru",\n            "_reason": "overlong"\n          },\n          "sag": {\n            "_replacement": "sg",\n            "_reason": "overlong"\n          },\n          "san": {\n            "_replacement": "sa",\n            "_reason": "overlong"\n          },\n          "sgn-BE-FR": {\n            "_replacement": "sfb",\n            "_reason": "deprecated"\n          },\n          "sgn-BE-NL": {\n            "_replacement": "vgt",\n            "_reason": "deprecated"\n          },\n          "sgn-CH-DE": {\n            "_replacement": "sgg",\n            "_reason": "deprecated"\n          },\n          "sh": {\n            "_replacement": "sr-Latn",\n            "_reason": "legacy"\n          },\n          "shi-MA": {\n            "_replacement": "shi-Tfng-MA",\n            "_reason": "legacy"\n          },\n          "sin": {\n            "_replacement": "si",\n            "_reason": "overlong"\n          },\n          "slk": {\n            "_replacement": "sk",\n            "_reason": "overlong"\n          },\n          "slo": {\n            "_replacement": "sk",\n            "_reason": "bibliographic"\n          },\n          "slv": {\n            "_replacement": "sl",\n            "_reason": "overlong"\n          },\n          "sme": {\n            "_replacement": "se",\n            "_reason": "overlong"\n          },\n          "smo": {\n            "_replacement": "sm",\n            "_reason": "overlong"\n          },\n          "sna": {\n            "_replacement": "sn",\n            "_reason": "overlong"\n          },\n          "snd": {\n            "_replacement": "sd",\n            "_reason": "overlong"\n          },\n          "som": {\n            "_replacement": "so",\n            "_reason": "overlong"\n          },\n          "sot": {\n            "_replacement": "st",\n            "_reason": "overlong"\n          },\n          "spa": {\n            "_replacement": "es",\n            "_reason": "overlong"\n          },\n          "spy": {\n            "_replacement": "kln",\n            "_reason": "macrolanguage"\n          },\n          "sqi": {\n            "_replacement": "sq",\n            "_reason": "overlong"\n          },\n          "sr-BA": {\n            "_replacement": "sr-Cyrl-BA",\n            "_reason": "legacy"\n          },\n          "sr-ME": {\n            "_replacement": "sr-Latn-ME",\n            "_reason": "legacy"\n          },\n          "sr-RS": {\n            "_replacement": "sr-Cyrl-RS",\n            "_reason": "legacy"\n          },\n          "sr-XK": {\n            "_replacement": "sr-Cyrl-XK",\n            "_reason": "legacy"\n          },\n          "src": {\n            "_replacement": "sc",\n            "_reason": "macrolanguage"\n          },\n          "srd": {\n            "_replacement": "sc",\n            "_reason": "overlong"\n          },\n          "srp": {\n            "_replacement": "sr",\n            "_reason": "overlong"\n          },\n          "ssw": {\n            "_replacement": "ss",\n            "_reason": "overlong"\n          },\n          "sun": {\n            "_replacement": "su",\n            "_reason": "overlong"\n          },\n          "swa": {\n            "_replacement": "sw",\n            "_reason": "overlong"\n          },\n          "swe": {\n            "_replacement": "sv",\n            "_reason": "overlong"\n          },\n          "swh": {\n            "_replacement": "sw",\n            "_reason": "macrolanguage"\n          },\n          "tah": {\n            "_replacement": "ty",\n            "_reason": "overlong"\n          },\n          "tam": {\n            "_replacement": "ta",\n            "_reason": "overlong"\n          },\n          "tat": {\n            "_replacement": "tt",\n            "_reason": "overlong"\n          },\n          "tel": {\n            "_replacement": "te",\n            "_reason": "overlong"\n          },\n          "tgk": {\n            "_replacement": "tg",\n            "_reason": "overlong"\n          },\n          "tgl": {\n            "_replacement": "fil",\n            "_reason": "overlong"\n          },\n          "tha": {\n            "_replacement": "th",\n            "_reason": "overlong"\n          },\n          "tib": {\n            "_replacement": "bo",\n            "_reason": "bibliographic"\n          },\n          "tir": {\n            "_replacement": "ti",\n            "_reason": "overlong"\n          },\n          "tl": {\n            "_replacement": "fil",\n            "_reason": "legacy"\n          },\n          "ton": {\n            "_replacement": "to",\n            "_reason": "overlong"\n          },\n          "tsn": {\n            "_replacement": "tn",\n            "_reason": "overlong"\n          },\n          "tso": {\n            "_replacement": "ts",\n            "_reason": "overlong"\n          },\n          "ttq": {\n            "_replacement": "tmh",\n            "_reason": "macrolanguage"\n          },\n          "tuk": {\n            "_replacement": "tk",\n            "_reason": "overlong"\n          },\n          "tur": {\n            "_replacement": "tr",\n            "_reason": "overlong"\n          },\n          "tw": {\n            "_replacement": "ak",\n            "_reason": "macrolanguage"\n          },\n          "twi": {\n            "_replacement": "ak",\n            "_reason": "overlong"\n          },\n          "tzm-MA": {\n            "_replacement": "tzm-Latn-MA",\n            "_reason": "legacy"\n          },\n          "ug-CN": {\n            "_replacement": "ug-Arab-CN",\n            "_reason": "legacy"\n          },\n          "uig": {\n            "_replacement": "ug",\n            "_reason": "overlong"\n          },\n          "ukr": {\n            "_replacement": "uk",\n            "_reason": "overlong"\n          },\n          "umu": {\n            "_replacement": "del",\n            "_reason": "macrolanguage"\n          },\n          "urd": {\n            "_replacement": "ur",\n            "_reason": "overlong"\n          },\n          "uz-AF": {\n            "_replacement": "uz-Arab-AF",\n            "_reason": "legacy"\n          },\n          "uz-UZ": {\n            "_replacement": "uz-Latn-UZ",\n            "_reason": "legacy"\n          },\n          "uzb": {\n            "_replacement": "uz",\n            "_reason": "overlong"\n          },\n          "uzn": {\n            "_replacement": "uz",\n            "_reason": "macrolanguage"\n          },\n          "vai-LR": {\n            "_replacement": "vai-Vaii-LR",\n            "_reason": "legacy"\n          },\n          "ven": {\n            "_replacement": "ve",\n            "_reason": "overlong"\n          },\n          "vie": {\n            "_replacement": "vi",\n            "_reason": "overlong"\n          },\n          "vol": {\n            "_replacement": "vo",\n            "_reason": "overlong"\n          },\n          "wel": {\n            "_replacement": "cy",\n            "_reason": "bibliographic"\n          },\n          "wln": {\n            "_replacement": "wa",\n            "_reason": "overlong"\n          },\n          "wol": {\n            "_replacement": "wo",\n            "_reason": "overlong"\n          },\n          "xho": {\n            "_replacement": "xh",\n            "_reason": "overlong"\n          },\n          "xpe": {\n            "_replacement": "kpe",\n            "_reason": "macrolanguage"\n          },\n          "xsl": {\n            "_replacement": "den",\n            "_reason": "macrolanguage"\n          },\n          "ydd": {\n            "_replacement": "yi",\n            "_reason": "macrolanguage"\n          },\n          "yid": {\n            "_replacement": "yi",\n            "_reason": "overlong"\n          },\n          "yor": {\n            "_replacement": "yo",\n            "_reason": "overlong"\n          },\n          "zai": {\n            "_replacement": "zap",\n            "_reason": "macrolanguage"\n          },\n          "zh-CN": {\n            "_replacement": "zh-Hans-CN",\n            "_reason": "legacy"\n          },\n          "zh-HK": {\n            "_replacement": "zh-Hant-HK",\n            "_reason": "legacy"\n          },\n          "zh-MO": {\n            "_replacement": "zh-Hant-MO",\n            "_reason": "legacy"\n          },\n          "zh-SG": {\n            "_replacement": "zh-Hans-SG",\n            "_reason": "legacy"\n          },\n          "zh-TW": {\n            "_replacement": "zh-Hant-TW",\n            "_reason": "legacy"\n          },\n          "zh-guoyu": {\n            "_replacement": "zh",\n            "_reason": "deprecated"\n          },\n          "zh-hakka": {\n            "_replacement": "hak",\n            "_reason": "deprecated"\n          },\n          "zh-min": {\n            "_reason": "deprecated"\n          },\n          "zh-min-nan": {\n            "_replacement": "nan",\n            "_reason": "deprecated"\n          },\n          "zh-xiang": {\n            "_replacement": "hsn",\n            "_reason": "deprecated"\n          },\n          "zha": {\n            "_replacement": "za",\n            "_reason": "overlong"\n          },\n          "zho": {\n            "_replacement": "zh",\n            "_reason": "overlong"\n          },\n          "zsm": {\n            "_replacement": "ms",\n            "_reason": "macrolanguage"\n          },\n          "zul": {\n            "_replacement": "zu",\n            "_reason": "overlong"\n          },\n          "zyb": {\n            "_replacement": "za",\n            "_reason": "macrolanguage"\n          }\n        },\n        "scriptAlias": {\n          "Qaai": {\n            "_replacement": "Zinh",\n            "_reason": "deprecated"\n          }\n        },\n        "territoryAlias": {\n          "004": {\n            "_replacement": "AF",\n            "_reason": "overlong"\n          },\n          "008": {\n            "_replacement": "AL",\n            "_reason": "overlong"\n          },\n          "010": {\n            "_replacement": "AQ",\n            "_reason": "overlong"\n          },\n          "012": {\n            "_replacement": "DZ",\n            "_reason": "overlong"\n          },\n          "016": {\n            "_replacement": "AS",\n            "_reason": "overlong"\n          },\n          "020": {\n            "_replacement": "AD",\n            "_reason": "overlong"\n          },\n          "024": {\n            "_replacement": "AO",\n            "_reason": "overlong"\n          },\n          "028": {\n            "_replacement": "AG",\n            "_reason": "overlong"\n          },\n          "031": {\n            "_replacement": "AZ",\n            "_reason": "overlong"\n          },\n          "032": {\n            "_replacement": "AR",\n            "_reason": "overlong"\n          },\n          "036": {\n            "_replacement": "AU",\n            "_reason": "overlong"\n          },\n          "040": {\n            "_replacement": "AT",\n            "_reason": "overlong"\n          },\n          "044": {\n            "_replacement": "BS",\n            "_reason": "overlong"\n          },\n          "048": {\n            "_replacement": "BH",\n            "_reason": "overlong"\n          },\n          "050": {\n            "_replacement": "BD",\n            "_reason": "overlong"\n          },\n          "051": {\n            "_replacement": "AM",\n            "_reason": "overlong"\n          },\n          "052": {\n            "_replacement": "BB",\n            "_reason": "overlong"\n          },\n          "056": {\n            "_replacement": "BE",\n            "_reason": "overlong"\n          },\n          "060": {\n            "_replacement": "BM",\n            "_reason": "overlong"\n          },\n          "062": {\n            "_replacement": "034 143",\n            "_reason": "deprecated"\n          },\n          "064": {\n            "_replacement": "BT",\n            "_reason": "overlong"\n          },\n          "068": {\n            "_replacement": "BO",\n            "_reason": "overlong"\n          },\n          "070": {\n            "_replacement": "BA",\n            "_reason": "overlong"\n          },\n          "072": {\n            "_replacement": "BW",\n            "_reason": "overlong"\n          },\n          "074": {\n            "_replacement": "BV",\n            "_reason": "overlong"\n          },\n          "076": {\n            "_replacement": "BR",\n            "_reason": "overlong"\n          },\n          "084": {\n            "_replacement": "BZ",\n            "_reason": "overlong"\n          },\n          "086": {\n            "_replacement": "IO",\n            "_reason": "overlong"\n          },\n          "090": {\n            "_replacement": "SB",\n            "_reason": "overlong"\n          },\n          "092": {\n            "_replacement": "VG",\n            "_reason": "overlong"\n          },\n          "096": {\n            "_replacement": "BN",\n            "_reason": "overlong"\n          },\n          "100": {\n            "_replacement": "BG",\n            "_reason": "overlong"\n          },\n          "104": {\n            "_replacement": "MM",\n            "_reason": "overlong"\n          },\n          "108": {\n            "_replacement": "BI",\n            "_reason": "overlong"\n          },\n          "112": {\n            "_replacement": "BY",\n            "_reason": "overlong"\n          },\n          "116": {\n            "_replacement": "KH",\n            "_reason": "overlong"\n          },\n          "120": {\n            "_replacement": "CM",\n            "_reason": "overlong"\n          },\n          "124": {\n            "_replacement": "CA",\n            "_reason": "overlong"\n          },\n          "132": {\n            "_replacement": "CV",\n            "_reason": "overlong"\n          },\n          "136": {\n            "_replacement": "KY",\n            "_reason": "overlong"\n          },\n          "140": {\n            "_replacement": "CF",\n            "_reason": "overlong"\n          },\n          "144": {\n            "_replacement": "LK",\n            "_reason": "overlong"\n          },\n          "148": {\n            "_replacement": "TD",\n            "_reason": "overlong"\n          },\n          "152": {\n            "_replacement": "CL",\n            "_reason": "overlong"\n          },\n          "156": {\n            "_replacement": "CN",\n            "_reason": "overlong"\n          },\n          "158": {\n            "_replacement": "TW",\n            "_reason": "overlong"\n          },\n          "162": {\n            "_replacement": "CX",\n            "_reason": "overlong"\n          },\n          "166": {\n            "_replacement": "CC",\n            "_reason": "overlong"\n          },\n          "170": {\n            "_replacement": "CO",\n            "_reason": "overlong"\n          },\n          "172": {\n            "_replacement": "RU AM AZ BY GE KG KZ MD TJ TM UA UZ",\n            "_reason": "deprecated"\n          },\n          "174": {\n            "_replacement": "KM",\n            "_reason": "overlong"\n          },\n          "175": {\n            "_replacement": "YT",\n            "_reason": "overlong"\n          },\n          "178": {\n            "_replacement": "CG",\n            "_reason": "overlong"\n          },\n          "180": {\n            "_replacement": "CD",\n            "_reason": "overlong"\n          },\n          "184": {\n            "_replacement": "CK",\n            "_reason": "overlong"\n          },\n          "188": {\n            "_replacement": "CR",\n            "_reason": "overlong"\n          },\n          "191": {\n            "_replacement": "HR",\n            "_reason": "overlong"\n          },\n          "192": {\n            "_replacement": "CU",\n            "_reason": "overlong"\n          },\n          "196": {\n            "_replacement": "CY",\n            "_reason": "overlong"\n          },\n          "200": {\n            "_replacement": "CZ SK",\n            "_reason": "deprecated"\n          },\n          "203": {\n            "_replacement": "CZ",\n            "_reason": "overlong"\n          },\n          "204": {\n            "_replacement": "BJ",\n            "_reason": "overlong"\n          },\n          "208": {\n            "_replacement": "DK",\n            "_reason": "overlong"\n          },\n          "212": {\n            "_replacement": "DM",\n            "_reason": "overlong"\n          },\n          "214": {\n            "_replacement": "DO",\n            "_reason": "overlong"\n          },\n          "218": {\n            "_replacement": "EC",\n            "_reason": "overlong"\n          },\n          "222": {\n            "_replacement": "SV",\n            "_reason": "overlong"\n          },\n          "226": {\n            "_replacement": "GQ",\n            "_reason": "overlong"\n          },\n          "230": {\n            "_replacement": "ET",\n            "_reason": "deprecated"\n          },\n          "231": {\n            "_replacement": "ET",\n            "_reason": "overlong"\n          },\n          "232": {\n            "_replacement": "ER",\n            "_reason": "overlong"\n          },\n          "233": {\n            "_replacement": "EE",\n            "_reason": "overlong"\n          },\n          "234": {\n            "_replacement": "FO",\n            "_reason": "overlong"\n          },\n          "238": {\n            "_replacement": "FK",\n            "_reason": "overlong"\n          },\n          "239": {\n            "_replacement": "GS",\n            "_reason": "overlong"\n          },\n          "242": {\n            "_replacement": "FJ",\n            "_reason": "overlong"\n          },\n          "246": {\n            "_replacement": "FI",\n            "_reason": "overlong"\n          },\n          "248": {\n            "_replacement": "AX",\n            "_reason": "overlong"\n          },\n          "249": {\n            "_replacement": "FR",\n            "_reason": "overlong"\n          },\n          "250": {\n            "_replacement": "FR",\n            "_reason": "overlong"\n          },\n          "254": {\n            "_replacement": "GF",\n            "_reason": "overlong"\n          },\n          "258": {\n            "_replacement": "PF",\n            "_reason": "overlong"\n          },\n          "260": {\n            "_replacement": "TF",\n            "_reason": "overlong"\n          },\n          "262": {\n            "_replacement": "DJ",\n            "_reason": "overlong"\n          },\n          "266": {\n            "_replacement": "GA",\n            "_reason": "overlong"\n          },\n          "268": {\n            "_replacement": "GE",\n            "_reason": "overlong"\n          },\n          "270": {\n            "_replacement": "GM",\n            "_reason": "overlong"\n          },\n          "275": {\n            "_replacement": "PS",\n            "_reason": "overlong"\n          },\n          "276": {\n            "_replacement": "DE",\n            "_reason": "overlong"\n          },\n          "278": {\n            "_replacement": "DE",\n            "_reason": "overlong"\n          },\n          "280": {\n            "_replacement": "DE",\n            "_reason": "deprecated"\n          },\n          "288": {\n            "_replacement": "GH",\n            "_reason": "overlong"\n          },\n          "292": {\n            "_replacement": "GI",\n            "_reason": "overlong"\n          },\n          "296": {\n            "_replacement": "KI",\n            "_reason": "overlong"\n          },\n          "300": {\n            "_replacement": "GR",\n            "_reason": "overlong"\n          },\n          "304": {\n            "_replacement": "GL",\n            "_reason": "overlong"\n          },\n          "308": {\n            "_replacement": "GD",\n            "_reason": "overlong"\n          },\n          "312": {\n            "_replacement": "GP",\n            "_reason": "overlong"\n          },\n          "316": {\n            "_replacement": "GU",\n            "_reason": "overlong"\n          },\n          "320": {\n            "_replacement": "GT",\n            "_reason": "overlong"\n          },\n          "324": {\n            "_replacement": "GN",\n            "_reason": "overlong"\n          },\n          "328": {\n            "_replacement": "GY",\n            "_reason": "overlong"\n          },\n          "332": {\n            "_replacement": "HT",\n            "_reason": "overlong"\n          },\n          "334": {\n            "_replacement": "HM",\n            "_reason": "overlong"\n          },\n          "336": {\n            "_replacement": "VA",\n            "_reason": "overlong"\n          },\n          "340": {\n            "_replacement": "HN",\n            "_reason": "overlong"\n          },\n          "344": {\n            "_replacement": "HK",\n            "_reason": "overlong"\n          },\n          "348": {\n            "_replacement": "HU",\n            "_reason": "overlong"\n          },\n          "352": {\n            "_replacement": "IS",\n            "_reason": "overlong"\n          },\n          "356": {\n            "_replacement": "IN",\n            "_reason": "overlong"\n          },\n          "360": {\n            "_replacement": "ID",\n            "_reason": "overlong"\n          },\n          "364": {\n            "_replacement": "IR",\n            "_reason": "overlong"\n          },\n          "368": {\n            "_replacement": "IQ",\n            "_reason": "overlong"\n          },\n          "372": {\n            "_replacement": "IE",\n            "_reason": "overlong"\n          },\n          "376": {\n            "_replacement": "IL",\n            "_reason": "overlong"\n          },\n          "380": {\n            "_replacement": "IT",\n            "_reason": "overlong"\n          },\n          "384": {\n            "_replacement": "CI",\n            "_reason": "overlong"\n          },\n          "388": {\n            "_replacement": "JM",\n            "_reason": "overlong"\n          },\n          "392": {\n            "_replacement": "JP",\n            "_reason": "overlong"\n          },\n          "398": {\n            "_replacement": "KZ",\n            "_reason": "overlong"\n          },\n          "400": {\n            "_replacement": "JO",\n            "_reason": "overlong"\n          },\n          "404": {\n            "_replacement": "KE",\n            "_reason": "overlong"\n          },\n          "408": {\n            "_replacement": "KP",\n            "_reason": "overlong"\n          },\n          "410": {\n            "_replacement": "KR",\n            "_reason": "overlong"\n          },\n          "414": {\n            "_replacement": "KW",\n            "_reason": "overlong"\n          },\n          "417": {\n            "_replacement": "KG",\n            "_reason": "overlong"\n          },\n          "418": {\n            "_replacement": "LA",\n            "_reason": "overlong"\n          },\n          "422": {\n            "_replacement": "LB",\n            "_reason": "overlong"\n          },\n          "426": {\n            "_replacement": "LS",\n            "_reason": "overlong"\n          },\n          "428": {\n            "_replacement": "LV",\n            "_reason": "overlong"\n          },\n          "430": {\n            "_replacement": "LR",\n            "_reason": "overlong"\n          },\n          "434": {\n            "_replacement": "LY",\n            "_reason": "overlong"\n          },\n          "438": {\n            "_replacement": "LI",\n            "_reason": "overlong"\n          },\n          "440": {\n            "_replacement": "LT",\n            "_reason": "overlong"\n          },\n          "442": {\n            "_replacement": "LU",\n            "_reason": "overlong"\n          },\n          "446": {\n            "_replacement": "MO",\n            "_reason": "overlong"\n          },\n          "450": {\n            "_replacement": "MG",\n            "_reason": "overlong"\n          },\n          "454": {\n            "_replacement": "MW",\n            "_reason": "overlong"\n          },\n          "458": {\n            "_replacement": "MY",\n            "_reason": "overlong"\n          },\n          "462": {\n            "_replacement": "MV",\n            "_reason": "overlong"\n          },\n          "466": {\n            "_replacement": "ML",\n            "_reason": "overlong"\n          },\n          "470": {\n            "_replacement": "MT",\n            "_reason": "overlong"\n          },\n          "474": {\n            "_replacement": "MQ",\n            "_reason": "overlong"\n          },\n          "478": {\n            "_replacement": "MR",\n            "_reason": "overlong"\n          },\n          "480": {\n            "_replacement": "MU",\n            "_reason": "overlong"\n          },\n          "484": {\n            "_replacement": "MX",\n            "_reason": "overlong"\n          },\n          "492": {\n            "_replacement": "MC",\n            "_reason": "overlong"\n          },\n          "496": {\n            "_replacement": "MN",\n            "_reason": "overlong"\n          },\n          "498": {\n            "_replacement": "MD",\n            "_reason": "overlong"\n          },\n          "499": {\n            "_replacement": "ME",\n            "_reason": "overlong"\n          },\n          "500": {\n            "_replacement": "MS",\n            "_reason": "overlong"\n          },\n          "504": {\n            "_replacement": "MA",\n            "_reason": "overlong"\n          },\n          "508": {\n            "_replacement": "MZ",\n            "_reason": "overlong"\n          },\n          "512": {\n            "_replacement": "OM",\n            "_reason": "overlong"\n          },\n          "516": {\n            "_replacement": "NA",\n            "_reason": "overlong"\n          },\n          "520": {\n            "_replacement": "NR",\n            "_reason": "overlong"\n          },\n          "524": {\n            "_replacement": "NP",\n            "_reason": "overlong"\n          },\n          "528": {\n            "_replacement": "NL",\n            "_reason": "overlong"\n          },\n          "530": {\n            "_replacement": "CW SX BQ",\n            "_reason": "overlong"\n          },\n          "531": {\n            "_replacement": "CW",\n            "_reason": "overlong"\n          },\n          "532": {\n            "_replacement": "CW SX BQ",\n            "_reason": "deprecated"\n          },\n          "533": {\n            "_replacement": "AW",\n            "_reason": "overlong"\n          },\n          "534": {\n            "_replacement": "SX",\n            "_reason": "overlong"\n          },\n          "535": {\n            "_replacement": "BQ",\n            "_reason": "overlong"\n          },\n          "536": {\n            "_replacement": "SA IQ",\n            "_reason": "overlong"\n          },\n          "540": {\n            "_replacement": "NC",\n            "_reason": "overlong"\n          },\n          "548": {\n            "_replacement": "VU",\n            "_reason": "overlong"\n          },\n          "554": {\n            "_replacement": "NZ",\n            "_reason": "overlong"\n          },\n          "558": {\n            "_replacement": "NI",\n            "_reason": "overlong"\n          },\n          "562": {\n            "_replacement": "NE",\n            "_reason": "overlong"\n          },\n          "566": {\n            "_replacement": "NG",\n            "_reason": "overlong"\n          },\n          "570": {\n            "_replacement": "NU",\n            "_reason": "overlong"\n          },\n          "574": {\n            "_replacement": "NF",\n            "_reason": "overlong"\n          },\n          "578": {\n            "_replacement": "NO",\n            "_reason": "overlong"\n          },\n          "580": {\n            "_replacement": "MP",\n            "_reason": "overlong"\n          },\n          "581": {\n            "_replacement": "UM",\n            "_reason": "overlong"\n          },\n          "582": {\n            "_replacement": "FM MH MP PW",\n            "_reason": "deprecated"\n          },\n          "583": {\n            "_replacement": "FM",\n            "_reason": "overlong"\n          },\n          "584": {\n            "_replacement": "MH",\n            "_reason": "overlong"\n          },\n          "585": {\n            "_replacement": "PW",\n            "_reason": "overlong"\n          },\n          "586": {\n            "_replacement": "PK",\n            "_reason": "overlong"\n          },\n          "591": {\n            "_replacement": "PA",\n            "_reason": "overlong"\n          },\n          "598": {\n            "_replacement": "PG",\n            "_reason": "overlong"\n          },\n          "600": {\n            "_replacement": "PY",\n            "_reason": "overlong"\n          },\n          "604": {\n            "_replacement": "PE",\n            "_reason": "overlong"\n          },\n          "608": {\n            "_replacement": "PH",\n            "_reason": "overlong"\n          },\n          "612": {\n            "_replacement": "PN",\n            "_reason": "overlong"\n          },\n          "616": {\n            "_replacement": "PL",\n            "_reason": "overlong"\n          },\n          "620": {\n            "_replacement": "PT",\n            "_reason": "overlong"\n          },\n          "624": {\n            "_replacement": "GW",\n            "_reason": "overlong"\n          },\n          "626": {\n            "_replacement": "TL",\n            "_reason": "overlong"\n          },\n          "630": {\n            "_replacement": "PR",\n            "_reason": "overlong"\n          },\n          "634": {\n            "_replacement": "QA",\n            "_reason": "overlong"\n          },\n          "638": {\n            "_replacement": "RE",\n            "_reason": "overlong"\n          },\n          "642": {\n            "_replacement": "RO",\n            "_reason": "overlong"\n          },\n          "643": {\n            "_replacement": "RU",\n            "_reason": "overlong"\n          },\n          "646": {\n            "_replacement": "RW",\n            "_reason": "overlong"\n          },\n          "652": {\n            "_replacement": "BL",\n            "_reason": "overlong"\n          },\n          "654": {\n            "_replacement": "SH",\n            "_reason": "overlong"\n          },\n          "659": {\n            "_replacement": "KN",\n            "_reason": "overlong"\n          },\n          "660": {\n            "_replacement": "AI",\n            "_reason": "overlong"\n          },\n          "662": {\n            "_replacement": "LC",\n            "_reason": "overlong"\n          },\n          "663": {\n            "_replacement": "MF",\n            "_reason": "overlong"\n          },\n          "666": {\n            "_replacement": "PM",\n            "_reason": "overlong"\n          },\n          "670": {\n            "_replacement": "VC",\n            "_reason": "overlong"\n          },\n          "674": {\n            "_replacement": "SM",\n            "_reason": "overlong"\n          },\n          "678": {\n            "_replacement": "ST",\n            "_reason": "overlong"\n          },\n          "682": {\n            "_replacement": "SA",\n            "_reason": "overlong"\n          },\n          "686": {\n            "_replacement": "SN",\n            "_reason": "overlong"\n          },\n          "688": {\n            "_replacement": "RS",\n            "_reason": "overlong"\n          },\n          "690": {\n            "_replacement": "SC",\n            "_reason": "overlong"\n          },\n          "694": {\n            "_replacement": "SL",\n            "_reason": "overlong"\n          },\n          "702": {\n            "_replacement": "SG",\n            "_reason": "overlong"\n          },\n          "703": {\n            "_replacement": "SK",\n            "_reason": "overlong"\n          },\n          "704": {\n            "_replacement": "VN",\n            "_reason": "overlong"\n          },\n          "705": {\n            "_replacement": "SI",\n            "_reason": "overlong"\n          },\n          "706": {\n            "_replacement": "SO",\n            "_reason": "overlong"\n          },\n          "710": {\n            "_replacement": "ZA",\n            "_reason": "overlong"\n          },\n          "716": {\n            "_replacement": "ZW",\n            "_reason": "overlong"\n          },\n          "720": {\n            "_replacement": "YE",\n            "_reason": "overlong"\n          },\n          "724": {\n            "_replacement": "ES",\n            "_reason": "overlong"\n          },\n          "728": {\n            "_replacement": "SS",\n            "_reason": "overlong"\n          },\n          "729": {\n            "_replacement": "SD",\n            "_reason": "overlong"\n          },\n          "732": {\n            "_replacement": "EH",\n            "_reason": "overlong"\n          },\n          "736": {\n            "_replacement": "SD",\n            "_reason": "deprecated"\n          },\n          "740": {\n            "_replacement": "SR",\n            "_reason": "overlong"\n          },\n          "744": {\n            "_replacement": "SJ",\n            "_reason": "overlong"\n          },\n          "748": {\n            "_replacement": "SZ",\n            "_reason": "overlong"\n          },\n          "752": {\n            "_replacement": "SE",\n            "_reason": "overlong"\n          },\n          "756": {\n            "_replacement": "CH",\n            "_reason": "overlong"\n          },\n          "760": {\n            "_replacement": "SY",\n            "_reason": "overlong"\n          },\n          "762": {\n            "_replacement": "TJ",\n            "_reason": "overlong"\n          },\n          "764": {\n            "_replacement": "TH",\n            "_reason": "overlong"\n          },\n          "768": {\n            "_replacement": "TG",\n            "_reason": "overlong"\n          },\n          "772": {\n            "_replacement": "TK",\n            "_reason": "overlong"\n          },\n          "776": {\n            "_replacement": "TO",\n            "_reason": "overlong"\n          },\n          "780": {\n            "_replacement": "TT",\n            "_reason": "overlong"\n          },\n          "784": {\n            "_replacement": "AE",\n            "_reason": "overlong"\n          },\n          "788": {\n            "_replacement": "TN",\n            "_reason": "overlong"\n          },\n          "792": {\n            "_replacement": "TR",\n            "_reason": "overlong"\n          },\n          "795": {\n            "_replacement": "TM",\n            "_reason": "overlong"\n          },\n          "796": {\n            "_replacement": "TC",\n            "_reason": "overlong"\n          },\n          "798": {\n            "_replacement": "TV",\n            "_reason": "overlong"\n          },\n          "800": {\n            "_replacement": "UG",\n            "_reason": "overlong"\n          },\n          "804": {\n            "_replacement": "UA",\n            "_reason": "overlong"\n          },\n          "807": {\n            "_replacement": "MK",\n            "_reason": "overlong"\n          },\n          "810": {\n            "_replacement": "RU AM AZ BY EE GE KZ KG LV LT MD TJ TM UA UZ",\n            "_reason": "overlong"\n          },\n          "818": {\n            "_replacement": "EG",\n            "_reason": "overlong"\n          },\n          "826": {\n            "_replacement": "GB",\n            "_reason": "overlong"\n          },\n          "830": {\n            "_replacement": "JE GG",\n            "_reason": "deprecated"\n          },\n          "831": {\n            "_replacement": "GG",\n            "_reason": "overlong"\n          },\n          "832": {\n            "_replacement": "JE",\n            "_reason": "overlong"\n          },\n          "833": {\n            "_replacement": "IM",\n            "_reason": "overlong"\n          },\n          "834": {\n            "_replacement": "TZ",\n            "_reason": "overlong"\n          },\n          "840": {\n            "_replacement": "US",\n            "_reason": "overlong"\n          },\n          "850": {\n            "_replacement": "VI",\n            "_reason": "overlong"\n          },\n          "854": {\n            "_replacement": "BF",\n            "_reason": "overlong"\n          },\n          "858": {\n            "_replacement": "UY",\n            "_reason": "overlong"\n          },\n          "860": {\n            "_replacement": "UZ",\n            "_reason": "overlong"\n          },\n          "862": {\n            "_replacement": "VE",\n            "_reason": "overlong"\n          },\n          "876": {\n            "_replacement": "WF",\n            "_reason": "overlong"\n          },\n          "882": {\n            "_replacement": "WS",\n            "_reason": "overlong"\n          },\n          "886": {\n            "_replacement": "YE",\n            "_reason": "deprecated"\n          },\n          "887": {\n            "_replacement": "YE",\n            "_reason": "overlong"\n          },\n          "890": {\n            "_replacement": "RS ME SI HR MK BA",\n            "_reason": "deprecated"\n          },\n          "891": {\n            "_replacement": "RS ME",\n            "_reason": "overlong"\n          },\n          "894": {\n            "_replacement": "ZM",\n            "_reason": "overlong"\n          },\n          "958": {\n            "_replacement": "AA",\n            "_reason": "overlong"\n          },\n          "959": {\n            "_replacement": "QM",\n            "_reason": "overlong"\n          },\n          "960": {\n            "_replacement": "QN",\n            "_reason": "overlong"\n          },\n          "962": {\n            "_replacement": "QP",\n            "_reason": "overlong"\n          },\n          "963": {\n            "_replacement": "QQ",\n            "_reason": "overlong"\n          },\n          "964": {\n            "_replacement": "QR",\n            "_reason": "overlong"\n          },\n          "965": {\n            "_replacement": "QS",\n            "_reason": "overlong"\n          },\n          "966": {\n            "_replacement": "QT",\n            "_reason": "overlong"\n          },\n          "967": {\n            "_replacement": "EU",\n            "_reason": "overlong"\n          },\n          "968": {\n            "_replacement": "QV",\n            "_reason": "overlong"\n          },\n          "969": {\n            "_replacement": "QW",\n            "_reason": "overlong"\n          },\n          "970": {\n            "_replacement": "QX",\n            "_reason": "overlong"\n          },\n          "971": {\n            "_replacement": "QY",\n            "_reason": "overlong"\n          },\n          "972": {\n            "_replacement": "QZ",\n            "_reason": "overlong"\n          },\n          "973": {\n            "_replacement": "XA",\n            "_reason": "overlong"\n          },\n          "974": {\n            "_replacement": "XB",\n            "_reason": "overlong"\n          },\n          "975": {\n            "_replacement": "XC",\n            "_reason": "overlong"\n          },\n          "976": {\n            "_replacement": "XD",\n            "_reason": "overlong"\n          },\n          "977": {\n            "_replacement": "XE",\n            "_reason": "overlong"\n          },\n          "978": {\n            "_replacement": "XF",\n            "_reason": "overlong"\n          },\n          "979": {\n            "_replacement": "XG",\n            "_reason": "overlong"\n          },\n          "980": {\n            "_replacement": "XH",\n            "_reason": "overlong"\n          },\n          "981": {\n            "_replacement": "XI",\n            "_reason": "overlong"\n          },\n          "982": {\n            "_replacement": "XJ",\n            "_reason": "overlong"\n          },\n          "983": {\n            "_replacement": "XK",\n            "_reason": "overlong"\n          },\n          "984": {\n            "_replacement": "XL",\n            "_reason": "overlong"\n          },\n          "985": {\n            "_replacement": "XM",\n            "_reason": "overlong"\n          },\n          "986": {\n            "_replacement": "XN",\n            "_reason": "overlong"\n          },\n          "987": {\n            "_replacement": "XO",\n            "_reason": "overlong"\n          },\n          "988": {\n            "_replacement": "XP",\n            "_reason": "overlong"\n          },\n          "989": {\n            "_replacement": "XQ",\n            "_reason": "overlong"\n          },\n          "990": {\n            "_replacement": "XR",\n            "_reason": "overlong"\n          },\n          "991": {\n            "_replacement": "XS",\n            "_reason": "overlong"\n          },\n          "992": {\n            "_replacement": "XT",\n            "_reason": "overlong"\n          },\n          "993": {\n            "_replacement": "XU",\n            "_reason": "overlong"\n          },\n          "994": {\n            "_replacement": "XV",\n            "_reason": "overlong"\n          },\n          "995": {\n            "_replacement": "XW",\n            "_reason": "overlong"\n          },\n          "996": {\n            "_replacement": "XX",\n            "_reason": "overlong"\n          },\n          "997": {\n            "_replacement": "XY",\n            "_reason": "overlong"\n          },\n          "998": {\n            "_replacement": "XZ",\n            "_reason": "overlong"\n          },\n          "999": {\n            "_replacement": "ZZ",\n            "_reason": "overlong"\n          },\n          "AAA": {\n            "_replacement": "AA",\n            "_reason": "overlong"\n          },\n          "ABW": {\n            "_replacement": "AW",\n            "_reason": "overlong"\n          },\n          "AFG": {\n            "_replacement": "AF",\n            "_reason": "overlong"\n          },\n          "AGO": {\n            "_replacement": "AO",\n            "_reason": "overlong"\n          },\n          "AIA": {\n            "_replacement": "AI",\n            "_reason": "overlong"\n          },\n          "ALA": {\n            "_replacement": "AX",\n            "_reason": "overlong"\n          },\n          "ALB": {\n            "_replacement": "AL",\n            "_reason": "overlong"\n          },\n          "AN": {\n            "_replacement": "CW SX BQ",\n            "_reason": "deprecated"\n          },\n          "AND": {\n            "_replacement": "AD",\n            "_reason": "overlong"\n          },\n          "ANT": {\n            "_replacement": "CW SX BQ",\n            "_reason": "overlong"\n          },\n          "ARE": {\n            "_replacement": "AE",\n            "_reason": "overlong"\n          },\n          "ARG": {\n            "_replacement": "AR",\n            "_reason": "overlong"\n          },\n          "ARM": {\n            "_replacement": "AM",\n            "_reason": "overlong"\n          },\n          "ASC": {\n            "_replacement": "AC",\n            "_reason": "overlong"\n          },\n          "ASM": {\n            "_replacement": "AS",\n            "_reason": "overlong"\n          },\n          "ATA": {\n            "_replacement": "AQ",\n            "_reason": "overlong"\n          },\n          "ATF": {\n            "_replacement": "TF",\n            "_reason": "overlong"\n          },\n          "ATG": {\n            "_replacement": "AG",\n            "_reason": "overlong"\n          },\n          "AUS": {\n            "_replacement": "AU",\n            "_reason": "overlong"\n          },\n          "AUT": {\n            "_replacement": "AT",\n            "_reason": "overlong"\n          },\n          "AZE": {\n            "_replacement": "AZ",\n            "_reason": "overlong"\n          },\n          "BDI": {\n            "_replacement": "BI",\n            "_reason": "overlong"\n          },\n          "BEL": {\n            "_replacement": "BE",\n            "_reason": "overlong"\n          },\n          "BEN": {\n            "_replacement": "BJ",\n            "_reason": "overlong"\n          },\n          "BES": {\n            "_replacement": "BQ",\n            "_reason": "overlong"\n          },\n          "BFA": {\n            "_replacement": "BF",\n            "_reason": "overlong"\n          },\n          "BGD": {\n            "_replacement": "BD",\n            "_reason": "overlong"\n          },\n          "BGR": {\n            "_replacement": "BG",\n            "_reason": "overlong"\n          },\n          "BHR": {\n            "_replacement": "BH",\n            "_reason": "overlong"\n          },\n          "BHS": {\n            "_replacement": "BS",\n            "_reason": "overlong"\n          },\n          "BIH": {\n            "_replacement": "BA",\n            "_reason": "overlong"\n          },\n          "BLM": {\n            "_replacement": "BL",\n            "_reason": "overlong"\n          },\n          "BLR": {\n            "_replacement": "BY",\n            "_reason": "overlong"\n          },\n          "BLZ": {\n            "_replacement": "BZ",\n            "_reason": "overlong"\n          },\n          "BMU": {\n            "_replacement": "BM",\n            "_reason": "overlong"\n          },\n          "BOL": {\n            "_replacement": "BO",\n            "_reason": "overlong"\n          },\n          "BRA": {\n            "_replacement": "BR",\n            "_reason": "overlong"\n          },\n          "BRB": {\n            "_replacement": "BB",\n            "_reason": "overlong"\n          },\n          "BRN": {\n            "_replacement": "BN",\n            "_reason": "overlong"\n          },\n          "BTN": {\n            "_replacement": "BT",\n            "_reason": "overlong"\n          },\n          "BU": {\n            "_replacement": "MM",\n            "_reason": "deprecated"\n          },\n          "BUR": {\n            "_replacement": "MM",\n            "_reason": "overlong"\n          },\n          "BVT": {\n            "_replacement": "BV",\n            "_reason": "overlong"\n          },\n          "BWA": {\n            "_replacement": "BW",\n            "_reason": "overlong"\n          },\n          "CAF": {\n            "_replacement": "CF",\n            "_reason": "overlong"\n          },\n          "CAN": {\n            "_replacement": "CA",\n            "_reason": "overlong"\n          },\n          "CCK": {\n            "_replacement": "CC",\n            "_reason": "overlong"\n          },\n          "CHE": {\n            "_replacement": "CH",\n            "_reason": "overlong"\n          },\n          "CHL": {\n            "_replacement": "CL",\n            "_reason": "overlong"\n          },\n          "CHN": {\n            "_replacement": "CN",\n            "_reason": "overlong"\n          },\n          "CIV": {\n            "_replacement": "CI",\n            "_reason": "overlong"\n          },\n          "CMR": {\n            "_replacement": "CM",\n            "_reason": "overlong"\n          },\n          "COD": {\n            "_replacement": "CD",\n            "_reason": "overlong"\n          },\n          "COG": {\n            "_replacement": "CG",\n            "_reason": "overlong"\n          },\n          "COK": {\n            "_replacement": "CK",\n            "_reason": "overlong"\n          },\n          "COL": {\n            "_replacement": "CO",\n            "_reason": "overlong"\n          },\n          "COM": {\n            "_replacement": "KM",\n            "_reason": "overlong"\n          },\n          "CPT": {\n            "_replacement": "CP",\n            "_reason": "overlong"\n          },\n          "CPV": {\n            "_replacement": "CV",\n            "_reason": "overlong"\n          },\n          "CRI": {\n            "_replacement": "CR",\n            "_reason": "overlong"\n          },\n          "CS": {\n            "_replacement": "RS ME",\n            "_reason": "deprecated"\n          },\n          "CT": {\n            "_replacement": "KI",\n            "_reason": "deprecated"\n          },\n          "CUB": {\n            "_replacement": "CU",\n            "_reason": "overlong"\n          },\n          "CUW": {\n            "_replacement": "CW",\n            "_reason": "overlong"\n          },\n          "CXR": {\n            "_replacement": "CX",\n            "_reason": "overlong"\n          },\n          "CYM": {\n            "_replacement": "KY",\n            "_reason": "overlong"\n          },\n          "CYP": {\n            "_replacement": "CY",\n            "_reason": "overlong"\n          },\n          "CZE": {\n            "_replacement": "CZ",\n            "_reason": "overlong"\n          },\n          "DD": {\n            "_replacement": "DE",\n            "_reason": "deprecated"\n          },\n          "DDR": {\n            "_replacement": "DE",\n            "_reason": "overlong"\n          },\n          "DEU": {\n            "_replacement": "DE",\n            "_reason": "overlong"\n          },\n          "DGA": {\n            "_replacement": "DG",\n            "_reason": "overlong"\n          },\n          "DJI": {\n            "_replacement": "DJ",\n            "_reason": "overlong"\n          },\n          "DMA": {\n            "_replacement": "DM",\n            "_reason": "overlong"\n          },\n          "DNK": {\n            "_replacement": "DK",\n            "_reason": "overlong"\n          },\n          "DOM": {\n            "_replacement": "DO",\n            "_reason": "overlong"\n          },\n          "DY": {\n            "_replacement": "BJ",\n            "_reason": "deprecated"\n          },\n          "DZA": {\n            "_replacement": "DZ",\n            "_reason": "overlong"\n          },\n          "ECU": {\n            "_replacement": "EC",\n            "_reason": "overlong"\n          },\n          "EGY": {\n            "_replacement": "EG",\n            "_reason": "overlong"\n          },\n          "ERI": {\n            "_replacement": "ER",\n            "_reason": "overlong"\n          },\n          "ESH": {\n            "_replacement": "EH",\n            "_reason": "overlong"\n          },\n          "ESP": {\n            "_replacement": "ES",\n            "_reason": "overlong"\n          },\n          "EST": {\n            "_replacement": "EE",\n            "_reason": "overlong"\n          },\n          "ETH": {\n            "_replacement": "ET",\n            "_reason": "overlong"\n          },\n          "FIN": {\n            "_replacement": "FI",\n            "_reason": "overlong"\n          },\n          "FJI": {\n            "_replacement": "FJ",\n            "_reason": "overlong"\n          },\n          "FLK": {\n            "_replacement": "FK",\n            "_reason": "overlong"\n          },\n          "FQ": {\n            "_replacement": "AQ TF",\n            "_reason": "deprecated"\n          },\n          "FRA": {\n            "_replacement": "FR",\n            "_reason": "overlong"\n          },\n          "FRO": {\n            "_replacement": "FO",\n            "_reason": "overlong"\n          },\n          "FSM": {\n            "_replacement": "FM",\n            "_reason": "overlong"\n          },\n          "FX": {\n            "_replacement": "FR",\n            "_reason": "deprecated"\n          },\n          "FXX": {\n            "_replacement": "FR",\n            "_reason": "overlong"\n          },\n          "GAB": {\n            "_replacement": "GA",\n            "_reason": "overlong"\n          },\n          "GBR": {\n            "_replacement": "GB",\n            "_reason": "overlong"\n          },\n          "GEO": {\n            "_replacement": "GE",\n            "_reason": "overlong"\n          },\n          "GGY": {\n            "_replacement": "GG",\n            "_reason": "overlong"\n          },\n          "GHA": {\n            "_replacement": "GH",\n            "_reason": "overlong"\n          },\n          "GIB": {\n            "_replacement": "GI",\n            "_reason": "overlong"\n          },\n          "GIN": {\n            "_replacement": "GN",\n            "_reason": "overlong"\n          },\n          "GLP": {\n            "_replacement": "GP",\n            "_reason": "overlong"\n          },\n          "GMB": {\n            "_replacement": "GM",\n            "_reason": "overlong"\n          },\n          "GNB": {\n            "_replacement": "GW",\n            "_reason": "overlong"\n          },\n          "GNQ": {\n            "_replacement": "GQ",\n            "_reason": "overlong"\n          },\n          "GRC": {\n            "_replacement": "GR",\n            "_reason": "overlong"\n          },\n          "GRD": {\n            "_replacement": "GD",\n            "_reason": "overlong"\n          },\n          "GRL": {\n            "_replacement": "GL",\n            "_reason": "overlong"\n          },\n          "GTM": {\n            "_replacement": "GT",\n            "_reason": "overlong"\n          },\n          "GUF": {\n            "_replacement": "GF",\n            "_reason": "overlong"\n          },\n          "GUM": {\n            "_replacement": "GU",\n            "_reason": "overlong"\n          },\n          "GUY": {\n            "_replacement": "GY",\n            "_reason": "overlong"\n          },\n          "HKG": {\n            "_replacement": "HK",\n            "_reason": "overlong"\n          },\n          "HMD": {\n            "_replacement": "HM",\n            "_reason": "overlong"\n          },\n          "HND": {\n            "_replacement": "HN",\n            "_reason": "overlong"\n          },\n          "HRV": {\n            "_replacement": "HR",\n            "_reason": "overlong"\n          },\n          "HTI": {\n            "_replacement": "HT",\n            "_reason": "overlong"\n          },\n          "HUN": {\n            "_replacement": "HU",\n            "_reason": "overlong"\n          },\n          "HV": {\n            "_replacement": "BF",\n            "_reason": "deprecated"\n          },\n          "IDN": {\n            "_replacement": "ID",\n            "_reason": "overlong"\n          },\n          "IMN": {\n            "_replacement": "IM",\n            "_reason": "overlong"\n          },\n          "IND": {\n            "_replacement": "IN",\n            "_reason": "overlong"\n          },\n          "IOT": {\n            "_replacement": "IO",\n            "_reason": "overlong"\n          },\n          "IRL": {\n            "_replacement": "IE",\n            "_reason": "overlong"\n          },\n          "IRN": {\n            "_replacement": "IR",\n            "_reason": "overlong"\n          },\n          "IRQ": {\n            "_replacement": "IQ",\n            "_reason": "overlong"\n          },\n          "ISL": {\n            "_replacement": "IS",\n            "_reason": "overlong"\n          },\n          "ISR": {\n            "_replacement": "IL",\n            "_reason": "overlong"\n          },\n          "ITA": {\n            "_replacement": "IT",\n            "_reason": "overlong"\n          },\n          "JAM": {\n            "_replacement": "JM",\n            "_reason": "overlong"\n          },\n          "JEY": {\n            "_replacement": "JE",\n            "_reason": "overlong"\n          },\n          "JOR": {\n            "_replacement": "JO",\n            "_reason": "overlong"\n          },\n          "JPN": {\n            "_replacement": "JP",\n            "_reason": "overlong"\n          },\n          "JT": {\n            "_replacement": "UM",\n            "_reason": "deprecated"\n          },\n          "KAZ": {\n            "_replacement": "KZ",\n            "_reason": "overlong"\n          },\n          "KEN": {\n            "_replacement": "KE",\n            "_reason": "overlong"\n          },\n          "KGZ": {\n            "_replacement": "KG",\n            "_reason": "overlong"\n          },\n          "KHM": {\n            "_replacement": "KH",\n            "_reason": "overlong"\n          },\n          "KIR": {\n            "_replacement": "KI",\n            "_reason": "overlong"\n          },\n          "KNA": {\n            "_replacement": "KN",\n            "_reason": "overlong"\n          },\n          "KOR": {\n            "_replacement": "KR",\n            "_reason": "overlong"\n          },\n          "KWT": {\n            "_replacement": "KW",\n            "_reason": "overlong"\n          },\n          "LAO": {\n            "_replacement": "LA",\n            "_reason": "overlong"\n          },\n          "LBN": {\n            "_replacement": "LB",\n            "_reason": "overlong"\n          },\n          "LBR": {\n            "_replacement": "LR",\n            "_reason": "overlong"\n          },\n          "LBY": {\n            "_replacement": "LY",\n            "_reason": "overlong"\n          },\n          "LCA": {\n            "_replacement": "LC",\n            "_reason": "overlong"\n          },\n          "LIE": {\n            "_replacement": "LI",\n            "_reason": "overlong"\n          },\n          "LKA": {\n            "_replacement": "LK",\n            "_reason": "overlong"\n          },\n          "LSO": {\n            "_replacement": "LS",\n            "_reason": "overlong"\n          },\n          "LTU": {\n            "_replacement": "LT",\n            "_reason": "overlong"\n          },\n          "LUX": {\n            "_replacement": "LU",\n            "_reason": "overlong"\n          },\n          "LVA": {\n            "_replacement": "LV",\n            "_reason": "overlong"\n          },\n          "MAC": {\n            "_replacement": "MO",\n            "_reason": "overlong"\n          },\n          "MAF": {\n            "_replacement": "MF",\n            "_reason": "overlong"\n          },\n          "MAR": {\n            "_replacement": "MA",\n            "_reason": "overlong"\n          },\n          "MCO": {\n            "_replacement": "MC",\n            "_reason": "overlong"\n          },\n          "MDA": {\n            "_replacement": "MD",\n            "_reason": "overlong"\n          },\n          "MDG": {\n            "_replacement": "MG",\n            "_reason": "overlong"\n          },\n          "MDV": {\n            "_replacement": "MV",\n            "_reason": "overlong"\n          },\n          "MEX": {\n            "_replacement": "MX",\n            "_reason": "overlong"\n          },\n          "MHL": {\n            "_replacement": "MH",\n            "_reason": "overlong"\n          },\n          "MI": {\n            "_replacement": "UM",\n            "_reason": "deprecated"\n          },\n          "MKD": {\n            "_replacement": "MK",\n            "_reason": "overlong"\n          },\n          "MLI": {\n            "_replacement": "ML",\n            "_reason": "overlong"\n          },\n          "MLT": {\n            "_replacement": "MT",\n            "_reason": "overlong"\n          },\n          "MMR": {\n            "_replacement": "MM",\n            "_reason": "overlong"\n          },\n          "MNE": {\n            "_replacement": "ME",\n            "_reason": "overlong"\n          },\n          "MNG": {\n            "_replacement": "MN",\n            "_reason": "overlong"\n          },\n          "MNP": {\n            "_replacement": "MP",\n            "_reason": "overlong"\n          },\n          "MOZ": {\n            "_replacement": "MZ",\n            "_reason": "overlong"\n          },\n          "MRT": {\n            "_replacement": "MR",\n            "_reason": "overlong"\n          },\n          "MSR": {\n            "_replacement": "MS",\n            "_reason": "overlong"\n          },\n          "MTQ": {\n            "_replacement": "MQ",\n            "_reason": "overlong"\n          },\n          "MUS": {\n            "_replacement": "MU",\n            "_reason": "overlong"\n          },\n          "MWI": {\n            "_replacement": "MW",\n            "_reason": "overlong"\n          },\n          "MYS": {\n            "_replacement": "MY",\n            "_reason": "overlong"\n          },\n          "MYT": {\n            "_replacement": "YT",\n            "_reason": "overlong"\n          },\n          "NAM": {\n            "_replacement": "NA",\n            "_reason": "overlong"\n          },\n          "NCL": {\n            "_replacement": "NC",\n            "_reason": "overlong"\n          },\n          "NER": {\n            "_replacement": "NE",\n            "_reason": "overlong"\n          },\n          "NFK": {\n            "_replacement": "NF",\n            "_reason": "overlong"\n          },\n          "NGA": {\n            "_replacement": "NG",\n            "_reason": "overlong"\n          },\n          "NH": {\n            "_replacement": "VU",\n            "_reason": "deprecated"\n          },\n          "NIC": {\n            "_replacement": "NI",\n            "_reason": "overlong"\n          },\n          "NIU": {\n            "_replacement": "NU",\n            "_reason": "overlong"\n          },\n          "NLD": {\n            "_replacement": "NL",\n            "_reason": "overlong"\n          },\n          "NOR": {\n            "_replacement": "NO",\n            "_reason": "overlong"\n          },\n          "NPL": {\n            "_replacement": "NP",\n            "_reason": "overlong"\n          },\n          "NQ": {\n            "_replacement": "AQ",\n            "_reason": "deprecated"\n          },\n          "NRU": {\n            "_replacement": "NR",\n            "_reason": "overlong"\n          },\n          "NT": {\n            "_replacement": "SA IQ",\n            "_reason": "deprecated"\n          },\n          "NTZ": {\n            "_replacement": "SA IQ",\n            "_reason": "overlong"\n          },\n          "NZL": {\n            "_replacement": "NZ",\n            "_reason": "overlong"\n          },\n          "OMN": {\n            "_replacement": "OM",\n            "_reason": "overlong"\n          },\n          "PAK": {\n            "_replacement": "PK",\n            "_reason": "overlong"\n          },\n          "PAN": {\n            "_replacement": "PA",\n            "_reason": "overlong"\n          },\n          "PC": {\n            "_replacement": "FM MH MP PW",\n            "_reason": "deprecated"\n          },\n          "PCN": {\n            "_replacement": "PN",\n            "_reason": "overlong"\n          },\n          "PER": {\n            "_replacement": "PE",\n            "_reason": "overlong"\n          },\n          "PHL": {\n            "_replacement": "PH",\n            "_reason": "overlong"\n          },\n          "PLW": {\n            "_replacement": "PW",\n            "_reason": "overlong"\n          },\n          "PNG": {\n            "_replacement": "PG",\n            "_reason": "overlong"\n          },\n          "POL": {\n            "_replacement": "PL",\n            "_reason": "overlong"\n          },\n          "PRI": {\n            "_replacement": "PR",\n            "_reason": "overlong"\n          },\n          "PRK": {\n            "_replacement": "KP",\n            "_reason": "overlong"\n          },\n          "PRT": {\n            "_replacement": "PT",\n            "_reason": "overlong"\n          },\n          "PRY": {\n            "_replacement": "PY",\n            "_reason": "overlong"\n          },\n          "PSE": {\n            "_replacement": "PS",\n            "_reason": "overlong"\n          },\n          "PU": {\n            "_replacement": "UM",\n            "_reason": "deprecated"\n          },\n          "PYF": {\n            "_replacement": "PF",\n            "_reason": "overlong"\n          },\n          "PZ": {\n            "_replacement": "PA",\n            "_reason": "deprecated"\n          },\n          "QAT": {\n            "_replacement": "QA",\n            "_reason": "overlong"\n          },\n          "QMM": {\n            "_replacement": "QM",\n            "_reason": "overlong"\n          },\n          "QNN": {\n            "_replacement": "QN",\n            "_reason": "overlong"\n          },\n          "QPP": {\n            "_replacement": "QP",\n            "_reason": "overlong"\n          },\n          "QQQ": {\n            "_replacement": "QQ",\n            "_reason": "overlong"\n          },\n          "QRR": {\n            "_replacement": "QR",\n            "_reason": "overlong"\n          },\n          "QSS": {\n            "_replacement": "QS",\n            "_reason": "overlong"\n          },\n          "QTT": {\n            "_replacement": "QT",\n            "_reason": "overlong"\n          },\n          "QU": {\n            "_replacement": "EU",\n            "_reason": "deprecated"\n          },\n          "QUU": {\n            "_replacement": "EU",\n            "_reason": "overlong"\n          },\n          "QVV": {\n            "_replacement": "QV",\n            "_reason": "overlong"\n          },\n          "QWW": {\n            "_replacement": "QW",\n            "_reason": "overlong"\n          },\n          "QXX": {\n            "_replacement": "QX",\n            "_reason": "overlong"\n          },\n          "QYY": {\n            "_replacement": "QY",\n            "_reason": "overlong"\n          },\n          "QZZ": {\n            "_replacement": "QZ",\n            "_reason": "overlong"\n          },\n          "REU": {\n            "_replacement": "RE",\n            "_reason": "overlong"\n          },\n          "RH": {\n            "_replacement": "ZW",\n            "_reason": "deprecated"\n          },\n          "ROU": {\n            "_replacement": "RO",\n            "_reason": "overlong"\n          },\n          "RUS": {\n            "_replacement": "RU",\n            "_reason": "overlong"\n          },\n          "RWA": {\n            "_replacement": "RW",\n            "_reason": "overlong"\n          },\n          "SAU": {\n            "_replacement": "SA",\n            "_reason": "overlong"\n          },\n          "SCG": {\n            "_replacement": "RS ME",\n            "_reason": "overlong"\n          },\n          "SDN": {\n            "_replacement": "SD",\n            "_reason": "overlong"\n          },\n          "SEN": {\n            "_replacement": "SN",\n            "_reason": "overlong"\n          },\n          "SGP": {\n            "_replacement": "SG",\n            "_reason": "overlong"\n          },\n          "SGS": {\n            "_replacement": "GS",\n            "_reason": "overlong"\n          },\n          "SHN": {\n            "_replacement": "SH",\n            "_reason": "overlong"\n          },\n          "SJM": {\n            "_replacement": "SJ",\n            "_reason": "overlong"\n          },\n          "SLB": {\n            "_replacement": "SB",\n            "_reason": "overlong"\n          },\n          "SLE": {\n            "_replacement": "SL",\n            "_reason": "overlong"\n          },\n          "SLV": {\n            "_replacement": "SV",\n            "_reason": "overlong"\n          },\n          "SMR": {\n            "_replacement": "SM",\n            "_reason": "overlong"\n          },\n          "SOM": {\n            "_replacement": "SO",\n            "_reason": "overlong"\n          },\n          "SPM": {\n            "_replacement": "PM",\n            "_reason": "overlong"\n          },\n          "SRB": {\n            "_replacement": "RS",\n            "_reason": "overlong"\n          },\n          "SSD": {\n            "_replacement": "SS",\n            "_reason": "overlong"\n          },\n          "STP": {\n            "_replacement": "ST",\n            "_reason": "overlong"\n          },\n          "SU": {\n            "_replacement": "RU AM AZ BY EE GE KZ KG LV LT MD TJ TM UA UZ",\n            "_reason": "deprecated"\n          },\n          "SUN": {\n            "_replacement": "RU AM AZ BY EE GE KZ KG LV LT MD TJ TM UA UZ",\n            "_reason": "overlong"\n          },\n          "SUR": {\n            "_replacement": "SR",\n            "_reason": "overlong"\n          },\n          "SVK": {\n            "_replacement": "SK",\n            "_reason": "overlong"\n          },\n          "SVN": {\n            "_replacement": "SI",\n            "_reason": "overlong"\n          },\n          "SWE": {\n            "_replacement": "SE",\n            "_reason": "overlong"\n          },\n          "SWZ": {\n            "_replacement": "SZ",\n            "_reason": "overlong"\n          },\n          "SXM": {\n            "_replacement": "SX",\n            "_reason": "overlong"\n          },\n          "SYC": {\n            "_replacement": "SC",\n            "_reason": "overlong"\n          },\n          "SYR": {\n            "_replacement": "SY",\n            "_reason": "overlong"\n          },\n          "TAA": {\n            "_replacement": "TA",\n            "_reason": "overlong"\n          },\n          "TCA": {\n            "_replacement": "TC",\n            "_reason": "overlong"\n          },\n          "TCD": {\n            "_replacement": "TD",\n            "_reason": "overlong"\n          },\n          "TGO": {\n            "_replacement": "TG",\n            "_reason": "overlong"\n          },\n          "THA": {\n            "_replacement": "TH",\n            "_reason": "overlong"\n          },\n          "TJK": {\n            "_replacement": "TJ",\n            "_reason": "overlong"\n          },\n          "TKL": {\n            "_replacement": "TK",\n            "_reason": "overlong"\n          },\n          "TKM": {\n            "_replacement": "TM",\n            "_reason": "overlong"\n          },\n          "TLS": {\n            "_replacement": "TL",\n            "_reason": "overlong"\n          },\n          "TMP": {\n            "_replacement": "TL",\n            "_reason": "overlong"\n          },\n          "TON": {\n            "_replacement": "TO",\n            "_reason": "overlong"\n          },\n          "TP": {\n            "_replacement": "TL",\n            "_reason": "deprecated"\n          },\n          "TTO": {\n            "_replacement": "TT",\n            "_reason": "overlong"\n          },\n          "TUN": {\n            "_replacement": "TN",\n            "_reason": "overlong"\n          },\n          "TUR": {\n            "_replacement": "TR",\n            "_reason": "overlong"\n          },\n          "TUV": {\n            "_replacement": "TV",\n            "_reason": "overlong"\n          },\n          "TWN": {\n            "_replacement": "TW",\n            "_reason": "overlong"\n          },\n          "TZA": {\n            "_replacement": "TZ",\n            "_reason": "overlong"\n          },\n          "UGA": {\n            "_replacement": "UG",\n            "_reason": "overlong"\n          },\n          "UK": {\n            "_replacement": "GB",\n            "_reason": "deprecated"\n          },\n          "UKR": {\n            "_replacement": "UA",\n            "_reason": "overlong"\n          },\n          "UMI": {\n            "_replacement": "UM",\n            "_reason": "overlong"\n          },\n          "URY": {\n            "_replacement": "UY",\n            "_reason": "overlong"\n          },\n          "USA": {\n            "_replacement": "US",\n            "_reason": "overlong"\n          },\n          "UZB": {\n            "_replacement": "UZ",\n            "_reason": "overlong"\n          },\n          "VAT": {\n            "_replacement": "VA",\n            "_reason": "overlong"\n          },\n          "VCT": {\n            "_replacement": "VC",\n            "_reason": "overlong"\n          },\n          "VD": {\n            "_replacement": "VN",\n            "_reason": "deprecated"\n          },\n          "VEN": {\n            "_replacement": "VE",\n            "_reason": "overlong"\n          },\n          "VGB": {\n            "_replacement": "VG",\n            "_reason": "overlong"\n          },\n          "VIR": {\n            "_replacement": "VI",\n            "_reason": "overlong"\n          },\n          "VNM": {\n            "_replacement": "VN",\n            "_reason": "overlong"\n          },\n          "VUT": {\n            "_replacement": "VU",\n            "_reason": "overlong"\n          },\n          "WK": {\n            "_replacement": "UM",\n            "_reason": "deprecated"\n          },\n          "WLF": {\n            "_replacement": "WF",\n            "_reason": "overlong"\n          },\n          "WSM": {\n            "_replacement": "WS",\n            "_reason": "overlong"\n          },\n          "XAA": {\n            "_replacement": "XA",\n            "_reason": "overlong"\n          },\n          "XBB": {\n            "_replacement": "XB",\n            "_reason": "overlong"\n          },\n          "XCC": {\n            "_replacement": "XC",\n            "_reason": "overlong"\n          },\n          "XDD": {\n            "_replacement": "XD",\n            "_reason": "overlong"\n          },\n          "XEE": {\n            "_replacement": "XE",\n            "_reason": "overlong"\n          },\n          "XFF": {\n            "_replacement": "XF",\n            "_reason": "overlong"\n          },\n          "XGG": {\n            "_replacement": "XG",\n            "_reason": "overlong"\n          },\n          "XHH": {\n            "_replacement": "XH",\n            "_reason": "overlong"\n          },\n          "XII": {\n            "_replacement": "XI",\n            "_reason": "overlong"\n          },\n          "XJJ": {\n            "_replacement": "XJ",\n            "_reason": "overlong"\n          },\n          "XKK": {\n            "_replacement": "XK",\n            "_reason": "overlong"\n          },\n          "XLL": {\n            "_replacement": "XL",\n            "_reason": "overlong"\n          },\n          "XMM": {\n            "_replacement": "XM",\n            "_reason": "overlong"\n          },\n          "XNN": {\n            "_replacement": "XN",\n            "_reason": "overlong"\n          },\n          "XOO": {\n            "_replacement": "XO",\n            "_reason": "overlong"\n          },\n          "XPP": {\n            "_replacement": "XP",\n            "_reason": "overlong"\n          },\n          "XQQ": {\n            "_replacement": "XQ",\n            "_reason": "overlong"\n          },\n          "XRR": {\n            "_replacement": "XR",\n            "_reason": "overlong"\n          },\n          "XSS": {\n            "_replacement": "XS",\n            "_reason": "overlong"\n          },\n          "XTT": {\n            "_replacement": "XT",\n            "_reason": "overlong"\n          },\n          "XUU": {\n            "_replacement": "XU",\n            "_reason": "overlong"\n          },\n          "XVV": {\n            "_replacement": "XV",\n            "_reason": "overlong"\n          },\n          "XWW": {\n            "_replacement": "XW",\n            "_reason": "overlong"\n          },\n          "XXX": {\n            "_replacement": "XX",\n            "_reason": "overlong"\n          },\n          "XYY": {\n            "_replacement": "XY",\n            "_reason": "overlong"\n          },\n          "XZZ": {\n            "_replacement": "XZ",\n            "_reason": "overlong"\n          },\n          "YD": {\n            "_replacement": "YE",\n            "_reason": "deprecated"\n          },\n          "YEM": {\n            "_replacement": "YE",\n            "_reason": "overlong"\n          },\n          "YMD": {\n            "_replacement": "YE",\n            "_reason": "overlong"\n          },\n          "YU": {\n            "_replacement": "RS ME",\n            "_reason": "deprecated"\n          },\n          "YUG": {\n            "_replacement": "RS ME",\n            "_reason": "overlong"\n          },\n          "ZAF": {\n            "_replacement": "ZA",\n            "_reason": "overlong"\n          },\n          "ZAR": {\n            "_replacement": "CD",\n            "_reason": "overlong"\n          },\n          "ZMB": {\n            "_replacement": "ZM",\n            "_reason": "overlong"\n          },\n          "ZR": {\n            "_replacement": "CD",\n            "_reason": "deprecated"\n          },\n          "ZWE": {\n            "_replacement": "ZW",\n            "_reason": "overlong"\n          },\n          "ZZZ": {\n            "_replacement": "ZZ",\n            "_reason": "overlong"\n          }\n        },\n        "variantAlias": {\n          "AALAND": {\n            "_replacement": "AX",\n            "_reason": "deprecated"\n          },\n          "BOKMAL": {\n            "_reason": "deprecated"\n          },\n          "BOONT": {\n            "_reason": "deprecated"\n          },\n          "GAULISH": {\n            "_reason": "deprecated"\n          },\n          "GUOYU": {\n            "_reason": "deprecated"\n          },\n          "HAKKA": {\n            "_reason": "deprecated"\n          },\n          "HEPLOC": {\n            "_replacement": "ALALC97",\n            "_reason": "deprecated"\n          },\n          "LOJBAN": {\n            "_reason": "deprecated"\n          },\n          "NYNORSK": {\n            "_reason": "deprecated"\n          },\n          "POLYTONI": {\n            "_replacement": "POLYTON",\n            "_reason": "deprecated"\n          },\n          "SAAHO": {\n            "_reason": "deprecated"\n          },\n          "SCOUSE": {\n            "_reason": "deprecated"\n          },\n          "XIANG": {\n            "_reason": "deprecated"\n          }\n        },\n        "zoneAlias": {\n          "Africa": {\n            "Timbuktu": {\n              "_replacement": "Africa/Bamako",\n              "_reason": "deprecated"\n            }\n          },\n          "America": {\n            "Montreal": {\n              "_replacement": "America/Toronto",\n              "_reason": "deprecated"\n            },\n            "Shiprock": {\n              "_replacement": "America/Denver",\n              "_reason": "deprecated"\n            }\n          },\n          "Antarctica": {\n            "South_Pole": {\n              "_replacement": "Pacific/Auckland",\n              "_reason": "deprecated"\n            }\n          },\n          "Asia": {\n            "Chongqing": {\n              "_replacement": "Asia/Shanghai",\n              "_reason": "deprecated"\n            },\n            "Harbin": {\n              "_replacement": "Asia/Shanghai",\n              "_reason": "deprecated"\n            },\n            "Kashgar": {\n              "_replacement": "Asia/Urumqi",\n              "_reason": "deprecated"\n            }\n          },\n          "Atlantic": {\n            "Jan_Mayen": {\n              "_replacement": "Europe/Oslo",\n              "_reason": "deprecated"\n            }\n          },\n          "EST": {\n            "_replacement": "America/Indianapolis",\n            "_reason": "deprecated"\n          },\n          "Europe": {\n            "Belfast": {\n              "_replacement": "Europe/London",\n              "_reason": "deprecated"\n            }\n          },\n          "HST": {\n            "_replacement": "Pacific/Honolulu",\n            "_reason": "deprecated"\n          },\n          "MST": {\n            "_replacement": "America/Phoenix",\n            "_reason": "deprecated"\n          },\n          "Pacific": {\n            "Yap": {\n              "_replacement": "Pacific/Truk",\n              "_reason": "deprecated"\n            }\n          },\n          "SystemV": {\n            "AST4": {\n              "_replacement": "America/Puerto_Rico",\n              "_reason": "deprecated"\n            },\n            "AST4ADT": {\n              "_replacement": "America/Halifax",\n              "_reason": "deprecated"\n            },\n            "CST6": {\n              "_replacement": "America/Regina",\n              "_reason": "deprecated"\n            },\n            "CST6CDT": {\n              "_replacement": "America/Chicago",\n              "_reason": "deprecated"\n            },\n            "EST5": {\n              "_replacement": "America/Indianapolis",\n              "_reason": "deprecated"\n            },\n            "EST5EDT": {\n              "_replacement": "America/New_York",\n              "_reason": "deprecated"\n            },\n            "HST10": {\n              "_replacement": "Pacific/Honolulu",\n              "_reason": "deprecated"\n            },\n            "MST7": {\n              "_replacement": "America/Phoenix",\n              "_reason": "deprecated"\n            },\n            "MST7MDT": {\n              "_replacement": "America/Denver",\n              "_reason": "deprecated"\n            },\n            "PST8": {\n              "_replacement": "Pacific/Pitcairn",\n              "_reason": "deprecated"\n            },\n            "PST8PDT": {\n              "_replacement": "America/Los_Angeles",\n              "_reason": "deprecated"\n            },\n            "YST9": {\n              "_replacement": "Pacific/Gambier",\n              "_reason": "deprecated"\n            },\n            "YST9YDT": {\n              "_replacement": "America/Anchorage",\n              "_reason": "deprecated"\n            }\n          }\n        }\n      }\n    }\n  }\n}\n'});
define("requirejs-text/text!ecma402/cldr/supplemental/parentLocales.json",[],function(){return'{\n  "supplemental": {\n    "parentLocales": {\n      "parentLocale": {\n        "en-AG": "en-001",\n        "en-AI": "en-001",\n        "en-BB": "en-001",\n        "en-BM": "en-001",\n        "en-BS": "en-001",\n        "en-BW": "en-001",\n        "en-BZ": "en-001",\n        "en-CC": "en-001",\n        "en-CK": "en-001",\n        "en-CM": "en-001",\n        "en-CX": "en-001",\n        "en-DM": "en-001",\n        "en-ER": "en-001",\n        "en-FJ": "en-001",\n        "en-FM": "en-001",\n        "en-GB": "en-001",\n        "en-GD": "en-001",\n        "en-GH": "en-001",\n        "en-GM": "en-001",\n        "en-GY": "en-001",\n        "en-JM": "en-001",\n        "en-KE": "en-001",\n        "en-KI": "en-001",\n        "en-KN": "en-001",\n        "en-KY": "en-001",\n        "en-LC": "en-001",\n        "en-LR": "en-001",\n        "en-LS": "en-001",\n        "en-MG": "en-001",\n        "en-MS": "en-001",\n        "en-MU": "en-001",\n        "en-MW": "en-001",\n        "en-MY": "en-001",\n        "en-NA": "en-001",\n        "en-NF": "en-001",\n        "en-NG": "en-001",\n        "en-NR": "en-001",\n        "en-NU": "en-001",\n        "en-PG": "en-001",\n        "en-PH": "en-001",\n        "en-PN": "en-001",\n        "en-PW": "en-001",\n        "en-RW": "en-001",\n        "en-SB": "en-001",\n        "en-SC": "en-001",\n        "en-SD": "en-001",\n        "en-SL": "en-001",\n        "en-SS": "en-001",\n        "en-SX": "en-001",\n        "en-SZ": "en-001",\n        "en-TC": "en-001",\n        "en-TK": "en-001",\n        "en-TO": "en-001",\n        "en-TT": "en-001",\n        "en-TV": "en-001",\n        "en-TZ": "en-001",\n        "en-UG": "en-001",\n        "en-VC": "en-001",\n        "en-VU": "en-001",\n        "en-WS": "en-001",\n        "en-ZA": "en-001",\n        "en-ZM": "en-001",\n        "en-ZW": "en-001",\n        "en-150": "en-GB",\n        "en-AU": "en-GB",\n        "en-BE": "en-GB",\n        "en-DG": "en-GB",\n        "en-FK": "en-GB",\n        "en-GG": "en-GB",\n        "en-GI": "en-GB",\n        "en-HK": "en-GB",\n        "en-IE": "en-GB",\n        "en-IM": "en-GB",\n        "en-IN": "en-GB",\n        "en-IO": "en-GB",\n        "en-JE": "en-GB",\n        "en-MO": "en-GB",\n        "en-MT": "en-GB",\n        "en-NZ": "en-GB",\n        "en-PK": "en-GB",\n        "en-SG": "en-GB",\n        "en-SH": "en-GB",\n        "en-VG": "en-GB",\n        "es-AR": "es-419",\n        "es-BO": "es-419",\n        "es-CL": "es-419",\n        "es-CO": "es-419",\n        "es-CR": "es-419",\n        "es-CU": "es-419",\n        "es-DO": "es-419",\n        "es-EC": "es-419",\n        "es-GT": "es-419",\n        "es-HN": "es-419",\n        "es-MX": "es-419",\n        "es-NI": "es-419",\n        "es-PA": "es-419",\n        "es-PE": "es-419",\n        "es-PR": "es-419",\n        "es-PY": "es-419",\n        "es-SV": "es-419",\n        "es-US": "es-419",\n        "es-UY": "es-419",\n        "es-VE": "es-419",\n        "pt-AO": "pt-PT",\n        "pt-CV": "pt-PT",\n        "pt-GW": "pt-PT",\n        "pt-MO": "pt-PT",\n        "pt-MZ": "pt-PT",\n        "pt-ST": "pt-PT",\n        "pt-TL": "pt-PT",\n        "az-Cyrl": "root",\n        "bm-Nkoo": "root",\n        "bs-Cyrl": "root",\n        "en-Dsrt": "root",\n        "ha-Arab": "root",\n        "mn-Mong": "root",\n        "ms-Arab": "root",\n        "pa-Arab": "root",\n        "shi-Latn": "root",\n        "sr-Latn": "root",\n        "uz-Arab": "root",\n        "uz-Cyrl": "root",\n        "vai-Latn": "root",\n        "zh-Hant": "root",\n        "zh-Hant-MO": "zh-Hant-HK"\n      }\n    }\n  }\n}\n'});
define("requirejs-text/text!ecma402/cldr/supplemental/likelySubtags.json",[],function(){return'{\n  "supplemental": {\n    "likelySubtags": {\n      "aa": "aa-Latn-ET",\n      "ab": "ab-Cyrl-GE",\n      "abr": "abr-Latn-GH",\n      "ace": "ace-Latn-ID",\n      "ach": "ach-Latn-UG",\n      "ady": "ady-Cyrl-RU",\n      "ae": "ae-Avst-IR",\n      "aeb": "aeb-Arab-TN",\n      "af": "af-Latn-ZA",\n      "agq": "agq-Latn-CM",\n      "ak": "ak-Latn-GH",\n      "akk": "akk-Xsux-IQ",\n      "aln": "aln-Latn-XK",\n      "alt": "alt-Cyrl-RU",\n      "am": "am-Ethi-ET",\n      "amo": "amo-Latn-NG",\n      "aoz": "aoz-Latn-ID",\n      "ar": "ar-Arab-EG",\n      "arc": "arc-Armi-IR",\n      "arc-Nbat": "arc-Nbat-JO",\n      "arc-Palm": "arc-Palm-SY",\n      "arn": "arn-Latn-CL",\n      "aro": "aro-Latn-BO",\n      "arq": "arq-Arab-DZ",\n      "ary": "ary-Arab-MA",\n      "arz": "arz-Arab-EG",\n      "as": "as-Beng-IN",\n      "asa": "asa-Latn-TZ",\n      "ast": "ast-Latn-ES",\n      "atj": "atj-Latn-CA",\n      "av": "av-Cyrl-RU",\n      "awa": "awa-Deva-IN",\n      "ay": "ay-Latn-BO",\n      "az": "az-Latn-AZ",\n      "az-Arab": "az-Arab-IR",\n      "az-IR": "az-Arab-IR",\n      "az-RU": "az-Cyrl-RU",\n      "azb": "azb-Arab-IR",\n      "ba": "ba-Cyrl-RU",\n      "bal": "bal-Arab-PK",\n      "ban": "ban-Latn-ID",\n      "bap": "bap-Deva-NP",\n      "bar": "bar-Latn-AT",\n      "bas": "bas-Latn-CM",\n      "bax": "bax-Bamu-CM",\n      "bbc": "bbc-Latn-ID",\n      "bbj": "bbj-Latn-CM",\n      "bci": "bci-Latn-CI",\n      "be": "be-Cyrl-BY",\n      "bem": "bem-Latn-ZM",\n      "bew": "bew-Latn-ID",\n      "bez": "bez-Latn-TZ",\n      "bfd": "bfd-Latn-CM",\n      "bfq": "bfq-Taml-IN",\n      "bft": "bft-Arab-PK",\n      "bfy": "bfy-Deva-IN",\n      "bg": "bg-Cyrl-BG",\n      "bgc": "bgc-Deva-IN",\n      "bgx": "bgx-Grek-TR",\n      "bh": "bh-Kthi-IN",\n      "bhb": "bhb-Deva-IN",\n      "bhi": "bhi-Deva-IN",\n      "bhk": "bhk-Latn-PH",\n      "bho": "bho-Deva-IN",\n      "bi": "bi-Latn-VU",\n      "bik": "bik-Latn-PH",\n      "bin": "bin-Latn-NG",\n      "bjj": "bjj-Deva-IN",\n      "bjn": "bjn-Latn-ID",\n      "bkm": "bkm-Latn-CM",\n      "bku": "bku-Latn-PH",\n      "blt": "blt-Tavt-VN",\n      "bm": "bm-Latn-ML",\n      "bmq": "bmq-Latn-ML",\n      "bn": "bn-Beng-BD",\n      "bo": "bo-Tibt-CN",\n      "bpy": "bpy-Beng-IN",\n      "bqi": "bqi-Arab-IR",\n      "bqv": "bqv-Latn-CI",\n      "br": "br-Latn-FR",\n      "bra": "bra-Deva-IN",\n      "brh": "brh-Arab-PK",\n      "brx": "brx-Deva-IN",\n      "bs": "bs-Latn-BA",\n      "bsq": "bsq-Bass-LR",\n      "bss": "bss-Latn-CM",\n      "bto": "bto-Latn-PH",\n      "btv": "btv-Deva-PK",\n      "bua": "bua-Cyrl-RU",\n      "buc": "buc-Latn-YT",\n      "bug": "bug-Latn-ID",\n      "bum": "bum-Latn-CM",\n      "bvb": "bvb-Latn-GQ",\n      "byn": "byn-Ethi-ER",\n      "byv": "byv-Latn-CM",\n      "bze": "bze-Latn-ML",\n      "ca": "ca-Latn-ES",\n      "cch": "cch-Latn-NG",\n      "ccp": "ccp-Beng-IN",\n      "ccp-Cakm": "ccp-Cakm-BD",\n      "ce": "ce-Cyrl-RU",\n      "ceb": "ceb-Latn-PH",\n      "cgg": "cgg-Latn-UG",\n      "ch": "ch-Latn-GU",\n      "chk": "chk-Latn-FM",\n      "chm": "chm-Cyrl-RU",\n      "chp": "chp-Latn-CA",\n      "chr": "chr-Cher-US",\n      "cja": "cja-Arab-KH",\n      "cjm": "cjm-Cham-VN",\n      "ckb": "ckb-Arab-IQ",\n      "co": "co-Latn-FR",\n      "cop": "cop-Copt-EG",\n      "cps": "cps-Latn-PH",\n      "cr": "cr-Cans-CA",\n      "crj": "crj-Cans-CA",\n      "crk": "crk-Cans-CA",\n      "crl": "crl-Cans-CA",\n      "crm": "crm-Cans-CA",\n      "crs": "crs-Latn-SC",\n      "cs": "cs-Latn-CZ",\n      "csb": "csb-Latn-PL",\n      "csw": "csw-Cans-CA",\n      "ctd": "ctd-Pauc-MM",\n      "cu": "cu-Cyrl-RU",\n      "cu-Glag": "cu-Glag-BG",\n      "cv": "cv-Cyrl-RU",\n      "cy": "cy-Latn-GB",\n      "da": "da-Latn-DK",\n      "dar": "dar-Cyrl-RU",\n      "dav": "dav-Latn-KE",\n      "dcc": "dcc-Arab-IN",\n      "de": "de-Latn-DE",\n      "den": "den-Latn-CA",\n      "dgr": "dgr-Latn-CA",\n      "dje": "dje-Latn-NE",\n      "dnj": "dnj-Latn-CI",\n      "doi": "doi-Arab-IN",\n      "dsb": "dsb-Latn-DE",\n      "dtm": "dtm-Latn-ML",\n      "dtp": "dtp-Latn-MY",\n      "dua": "dua-Latn-CM",\n      "dv": "dv-Thaa-MV",\n      "dyo": "dyo-Latn-SN",\n      "dyu": "dyu-Latn-BF",\n      "dz": "dz-Tibt-BT",\n      "ebu": "ebu-Latn-KE",\n      "ee": "ee-Latn-GH",\n      "efi": "efi-Latn-NG",\n      "egl": "egl-Latn-IT",\n      "egy": "egy-Egyp-EG",\n      "eky": "eky-Kali-MM",\n      "el": "el-Grek-GR",\n      "en": "en-Latn-US",\n      "en-Shaw": "en-Shaw-GB",\n      "eo": "eo-Latn-001",\n      "es": "es-Latn-ES",\n      "esu": "esu-Latn-US",\n      "et": "et-Latn-EE",\n      "ett": "ett-Ital-IT",\n      "eu": "eu-Latn-ES",\n      "ewo": "ewo-Latn-CM",\n      "ext": "ext-Latn-ES",\n      "fa": "fa-Arab-IR",\n      "fan": "fan-Latn-GQ",\n      "ff": "ff-Latn-SN",\n      "ffm": "ffm-Latn-ML",\n      "fi": "fi-Latn-FI",\n      "fil": "fil-Latn-PH",\n      "fit": "fit-Latn-SE",\n      "fj": "fj-Latn-FJ",\n      "fo": "fo-Latn-FO",\n      "fon": "fon-Latn-BJ",\n      "fr": "fr-Latn-FR",\n      "frc": "frc-Latn-US",\n      "frp": "frp-Latn-FR",\n      "frr": "frr-Latn-DE",\n      "frs": "frs-Latn-DE",\n      "fud": "fud-Latn-WF",\n      "fuq": "fuq-Latn-NE",\n      "fur": "fur-Latn-IT",\n      "fuv": "fuv-Latn-NG",\n      "fy": "fy-Latn-NL",\n      "ga": "ga-Latn-IE",\n      "gaa": "gaa-Latn-GH",\n      "gag": "gag-Latn-MD",\n      "gan": "gan-Hans-CN",\n      "gbm": "gbm-Deva-IN",\n      "gbz": "gbz-Arab-IR",\n      "gcr": "gcr-Latn-GF",\n      "gd": "gd-Latn-GB",\n      "gez": "gez-Ethi-ET",\n      "ggn": "ggn-Deva-NP",\n      "gil": "gil-Latn-KI",\n      "gjk": "gjk-Arab-PK",\n      "gju": "gju-Arab-PK",\n      "gl": "gl-Latn-ES",\n      "glk": "glk-Arab-IR",\n      "gn": "gn-Latn-PY",\n      "gom": "gom-Deva-IN",\n      "gon": "gon-Telu-IN",\n      "gor": "gor-Latn-ID",\n      "gos": "gos-Latn-NL",\n      "got": "got-Goth-UA",\n      "grc": "grc-Cprt-CY",\n      "grc-Linb": "grc-Linb-GR",\n      "grt": "grt-Beng-IN",\n      "gsw": "gsw-Latn-CH",\n      "gu": "gu-Gujr-IN",\n      "gub": "gub-Latn-BR",\n      "guc": "guc-Latn-CO",\n      "gur": "gur-Latn-GH",\n      "guz": "guz-Latn-KE",\n      "gv": "gv-Latn-IM",\n      "gvr": "gvr-Deva-NP",\n      "gwi": "gwi-Latn-CA",\n      "ha": "ha-Latn-NG",\n      "ha-CM": "ha-Arab-CM",\n      "ha-SD": "ha-Arab-SD",\n      "hak": "hak-Hans-CN",\n      "haw": "haw-Latn-US",\n      "haz": "haz-Arab-AF",\n      "he": "he-Hebr-IL",\n      "hi": "hi-Deva-IN",\n      "hif": "hif-Deva-FJ",\n      "hil": "hil-Latn-PH",\n      "hmd": "hmd-Plrd-CN",\n      "hnd": "hnd-Arab-PK",\n      "hne": "hne-Deva-IN",\n      "hnj": "hnj-Hmng-LA",\n      "hnn": "hnn-Latn-PH",\n      "hno": "hno-Arab-PK",\n      "ho": "ho-Latn-PG",\n      "hoc": "hoc-Deva-IN",\n      "hoj": "hoj-Deva-IN",\n      "hr": "hr-Latn-HR",\n      "hsb": "hsb-Latn-DE",\n      "hsn": "hsn-Hans-CN",\n      "ht": "ht-Latn-HT",\n      "hu": "hu-Latn-HU",\n      "hy": "hy-Armn-AM",\n      "ia": "ia-Latn-FR",\n      "ibb": "ibb-Latn-NG",\n      "id": "id-Latn-ID",\n      "ig": "ig-Latn-NG",\n      "ii": "ii-Yiii-CN",\n      "ik": "ik-Latn-US",\n      "ikt": "ikt-Latn-CA",\n      "ilo": "ilo-Latn-PH",\n      "in": "in-Latn-ID",\n      "inh": "inh-Cyrl-RU",\n      "is": "is-Latn-IS",\n      "it": "it-Latn-IT",\n      "iu": "iu-Cans-CA",\n      "iw": "iw-Hebr-IL",\n      "izh": "izh-Latn-RU",\n      "ja": "ja-Jpan-JP",\n      "jam": "jam-Latn-JM",\n      "jgo": "jgo-Latn-CM",\n      "ji": "ji-Hebr-UA",\n      "jmc": "jmc-Latn-TZ",\n      "jml": "jml-Deva-NP",\n      "jut": "jut-Latn-DK",\n      "jv": "jv-Latn-ID",\n      "jw": "jw-Latn-ID",\n      "ka": "ka-Geor-GE",\n      "kaa": "kaa-Cyrl-UZ",\n      "kab": "kab-Latn-DZ",\n      "kaj": "kaj-Latn-NG",\n      "kam": "kam-Latn-KE",\n      "kao": "kao-Latn-ML",\n      "kbd": "kbd-Cyrl-RU",\n      "kcg": "kcg-Latn-NG",\n      "kck": "kck-Latn-ZW",\n      "kde": "kde-Latn-TZ",\n      "kdt": "kdt-Thai-TH",\n      "kea": "kea-Latn-CV",\n      "ken": "ken-Latn-CM",\n      "kfo": "kfo-Latn-CI",\n      "kfr": "kfr-Deva-IN",\n      "kfy": "kfy-Deva-IN",\n      "kg": "kg-Latn-CD",\n      "kge": "kge-Latn-ID",\n      "kgp": "kgp-Latn-BR",\n      "kha": "kha-Latn-IN",\n      "khb": "khb-Talu-CN",\n      "khn": "khn-Deva-IN",\n      "khq": "khq-Latn-ML",\n      "kht": "kht-Mymr-IN",\n      "khw": "khw-Arab-PK",\n      "ki": "ki-Latn-KE",\n      "kiu": "kiu-Latn-TR",\n      "kj": "kj-Latn-NA",\n      "kjg": "kjg-Laoo-LA",\n      "kk": "kk-Cyrl-KZ",\n      "kk-AF": "kk-Arab-AF",\n      "kk-Arab": "kk-Arab-CN",\n      "kk-CN": "kk-Arab-CN",\n      "kk-IR": "kk-Arab-IR",\n      "kk-MN": "kk-Arab-MN",\n      "kkj": "kkj-Latn-CM",\n      "kl": "kl-Latn-GL",\n      "kln": "kln-Latn-KE",\n      "km": "km-Khmr-KH",\n      "kmb": "kmb-Latn-AO",\n      "kn": "kn-Knda-IN",\n      "ko": "ko-Kore-KR",\n      "koi": "koi-Cyrl-RU",\n      "kok": "kok-Deva-IN",\n      "kos": "kos-Latn-FM",\n      "kpe": "kpe-Latn-LR",\n      "krc": "krc-Cyrl-RU",\n      "kri": "kri-Latn-SL",\n      "krj": "krj-Latn-PH",\n      "krl": "krl-Latn-RU",\n      "kru": "kru-Deva-IN",\n      "ks": "ks-Arab-IN",\n      "ksb": "ksb-Latn-TZ",\n      "ksf": "ksf-Latn-CM",\n      "ksh": "ksh-Latn-DE",\n      "ku": "ku-Latn-TR",\n      "ku-Arab": "ku-Arab-IQ",\n      "ku-LB": "ku-Arab-LB",\n      "kum": "kum-Cyrl-RU",\n      "kv": "kv-Cyrl-RU",\n      "kvr": "kvr-Latn-ID",\n      "kvx": "kvx-Arab-PK",\n      "kw": "kw-Latn-GB",\n      "kxm": "kxm-Thai-TH",\n      "kxp": "kxp-Arab-PK",\n      "ky": "ky-Cyrl-KG",\n      "ky-Arab": "ky-Arab-CN",\n      "ky-CN": "ky-Arab-CN",\n      "ky-Latn": "ky-Latn-TR",\n      "ky-TR": "ky-Latn-TR",\n      "la": "la-Latn-VA",\n      "lab": "lab-Lina-GR",\n      "lad": "lad-Hebr-IL",\n      "lag": "lag-Latn-TZ",\n      "lah": "lah-Arab-PK",\n      "laj": "laj-Latn-UG",\n      "lb": "lb-Latn-LU",\n      "lbe": "lbe-Cyrl-RU",\n      "lbw": "lbw-Latn-ID",\n      "lcp": "lcp-Thai-CN",\n      "lep": "lep-Lepc-IN",\n      "lez": "lez-Cyrl-RU",\n      "lg": "lg-Latn-UG",\n      "li": "li-Latn-NL",\n      "lif": "lif-Deva-NP",\n      "lif-Limb": "lif-Limb-IN",\n      "lij": "lij-Latn-IT",\n      "lis": "lis-Lisu-CN",\n      "ljp": "ljp-Latn-ID",\n      "lki": "lki-Arab-IR",\n      "lkt": "lkt-Latn-US",\n      "lmn": "lmn-Telu-IN",\n      "lmo": "lmo-Latn-IT",\n      "ln": "ln-Latn-CD",\n      "lo": "lo-Laoo-LA",\n      "lol": "lol-Latn-CD",\n      "loz": "loz-Latn-ZM",\n      "lrc": "lrc-Arab-IR",\n      "lt": "lt-Latn-LT",\n      "ltg": "ltg-Latn-LV",\n      "lu": "lu-Latn-CD",\n      "lua": "lua-Latn-CD",\n      "luo": "luo-Latn-KE",\n      "luy": "luy-Latn-KE",\n      "luz": "luz-Arab-IR",\n      "lv": "lv-Latn-LV",\n      "lwl": "lwl-Thai-TH",\n      "lzh": "lzh-Hans-CN",\n      "lzz": "lzz-Latn-TR",\n      "mad": "mad-Latn-ID",\n      "maf": "maf-Latn-CM",\n      "mag": "mag-Deva-IN",\n      "mai": "mai-Deva-IN",\n      "mak": "mak-Latn-ID",\n      "man": "man-Latn-GM",\n      "man-GN": "man-Nkoo-GN",\n      "man-Nkoo": "man-Nkoo-GN",\n      "mas": "mas-Latn-KE",\n      "maz": "maz-Latn-MX",\n      "mdf": "mdf-Cyrl-RU",\n      "mdh": "mdh-Latn-PH",\n      "mdr": "mdr-Latn-ID",\n      "men": "men-Latn-SL",\n      "mer": "mer-Latn-KE",\n      "mfa": "mfa-Arab-TH",\n      "mfe": "mfe-Latn-MU",\n      "mg": "mg-Latn-MG",\n      "mgh": "mgh-Latn-MZ",\n      "mgo": "mgo-Latn-CM",\n      "mgp": "mgp-Deva-NP",\n      "mgy": "mgy-Latn-TZ",\n      "mh": "mh-Latn-MH",\n      "mi": "mi-Latn-NZ",\n      "min": "min-Latn-ID",\n      "mk": "mk-Cyrl-MK",\n      "ml": "ml-Mlym-IN",\n      "mn": "mn-Cyrl-MN",\n      "mn-CN": "mn-Mong-CN",\n      "mn-Mong": "mn-Mong-CN",\n      "mni": "mni-Beng-IN",\n      "mnw": "mnw-Mymr-MM",\n      "moe": "moe-Latn-CA",\n      "moh": "moh-Latn-CA",\n      "mos": "mos-Latn-BF",\n      "mr": "mr-Deva-IN",\n      "mrd": "mrd-Deva-NP",\n      "mrj": "mrj-Cyrl-RU",\n      "mru": "mru-Mroo-BD",\n      "ms": "ms-Latn-MY",\n      "ms-CC": "ms-Arab-CC",\n      "ms-ID": "ms-Arab-ID",\n      "mt": "mt-Latn-MT",\n      "mtr": "mtr-Deva-IN",\n      "mua": "mua-Latn-CM",\n      "mvy": "mvy-Arab-PK",\n      "mwk": "mwk-Latn-ML",\n      "mwr": "mwr-Deva-IN",\n      "mwv": "mwv-Latn-ID",\n      "mxc": "mxc-Latn-ZW",\n      "my": "my-Mymr-MM",\n      "myv": "myv-Cyrl-RU",\n      "myx": "myx-Latn-UG",\n      "myz": "myz-Mand-IR",\n      "mzn": "mzn-Arab-IR",\n      "na": "na-Latn-NR",\n      "nan": "nan-Hans-CN",\n      "nap": "nap-Latn-IT",\n      "naq": "naq-Latn-NA",\n      "nb": "nb-Latn-NO",\n      "nch": "nch-Latn-MX",\n      "nd": "nd-Latn-ZW",\n      "ndc": "ndc-Latn-MZ",\n      "nds": "nds-Latn-DE",\n      "ne": "ne-Deva-NP",\n      "new": "new-Deva-NP",\n      "ng": "ng-Latn-NA",\n      "ngl": "ngl-Latn-MZ",\n      "nhe": "nhe-Latn-MX",\n      "nhw": "nhw-Latn-MX",\n      "nij": "nij-Latn-ID",\n      "niu": "niu-Latn-NU",\n      "njo": "njo-Latn-IN",\n      "nl": "nl-Latn-NL",\n      "nmg": "nmg-Latn-CM",\n      "nn": "nn-Latn-NO",\n      "nnh": "nnh-Latn-CM",\n      "no": "no-Latn-NO",\n      "nod": "nod-Lana-TH",\n      "noe": "noe-Deva-IN",\n      "non": "non-Runr-SE",\n      "nqo": "nqo-Nkoo-GN",\n      "nr": "nr-Latn-ZA",\n      "nsk": "nsk-Cans-CA",\n      "nso": "nso-Latn-ZA",\n      "nus": "nus-Latn-SD",\n      "nv": "nv-Latn-US",\n      "nxq": "nxq-Latn-CN",\n      "ny": "ny-Latn-MW",\n      "nym": "nym-Latn-TZ",\n      "nyn": "nyn-Latn-UG",\n      "oc": "oc-Latn-FR",\n      "om": "om-Latn-ET",\n      "or": "or-Orya-IN",\n      "os": "os-Cyrl-GE",\n      "otk": "otk-Orkh-MN",\n      "pa": "pa-Guru-IN",\n      "pa-Arab": "pa-Arab-PK",\n      "pa-PK": "pa-Arab-PK",\n      "pag": "pag-Latn-PH",\n      "pal": "pal-Phli-IR",\n      "pal-Phlp": "pal-Phlp-CN",\n      "pam": "pam-Latn-PH",\n      "pap": "pap-Latn-AW",\n      "pau": "pau-Latn-PW",\n      "pcd": "pcd-Latn-FR",\n      "pcm": "pcm-Latn-NG",\n      "pdc": "pdc-Latn-US",\n      "pdt": "pdt-Latn-CA",\n      "peo": "peo-Xpeo-IR",\n      "pfl": "pfl-Latn-DE",\n      "phn": "phn-Phnx-LB",\n      "pka": "pka-Brah-IN",\n      "pko": "pko-Latn-KE",\n      "pl": "pl-Latn-PL",\n      "pms": "pms-Latn-IT",\n      "pnt": "pnt-Grek-GR",\n      "pon": "pon-Latn-FM",\n      "pra": "pra-Khar-PK",\n      "prd": "prd-Arab-IR",\n      "prg": "prg-Latn-001",\n      "ps": "ps-Arab-AF",\n      "pt": "pt-Latn-BR",\n      "puu": "puu-Latn-GA",\n      "qu": "qu-Latn-PE",\n      "quc": "quc-Latn-GT",\n      "qug": "qug-Latn-EC",\n      "raj": "raj-Latn-IN",\n      "rcf": "rcf-Latn-RE",\n      "rej": "rej-Latn-ID",\n      "rgn": "rgn-Latn-IT",\n      "ria": "ria-Latn-IN",\n      "rif": "rif-Tfng-MA",\n      "rif-NL": "rif-Latn-NL",\n      "rjs": "rjs-Deva-NP",\n      "rkt": "rkt-Beng-BD",\n      "rm": "rm-Latn-CH",\n      "rmf": "rmf-Latn-FI",\n      "rmo": "rmo-Latn-CH",\n      "rmt": "rmt-Arab-IR",\n      "rmu": "rmu-Latn-SE",\n      "rn": "rn-Latn-BI",\n      "rng": "rng-Latn-MZ",\n      "ro": "ro-Latn-RO",\n      "rob": "rob-Latn-ID",\n      "rof": "rof-Latn-TZ",\n      "rtm": "rtm-Latn-FJ",\n      "ru": "ru-Cyrl-RU",\n      "rue": "rue-Cyrl-UA",\n      "rug": "rug-Latn-SB",\n      "rw": "rw-Latn-RW",\n      "rwk": "rwk-Latn-TZ",\n      "ryu": "ryu-Kana-JP",\n      "sa": "sa-Deva-IN",\n      "saf": "saf-Latn-GH",\n      "sah": "sah-Cyrl-RU",\n      "saq": "saq-Latn-KE",\n      "sas": "sas-Latn-ID",\n      "sat": "sat-Latn-IN",\n      "saz": "saz-Saur-IN",\n      "sbp": "sbp-Latn-TZ",\n      "sc": "sc-Latn-IT",\n      "sck": "sck-Deva-IN",\n      "scn": "scn-Latn-IT",\n      "sco": "sco-Latn-GB",\n      "scs": "scs-Latn-CA",\n      "sd": "sd-Arab-PK",\n      "sd-Deva": "sd-Deva-IN",\n      "sd-Khoj": "sd-Khoj-IN",\n      "sd-Sind": "sd-Sind-IN",\n      "sdc": "sdc-Latn-IT",\n      "se": "se-Latn-NO",\n      "sef": "sef-Latn-CI",\n      "seh": "seh-Latn-MZ",\n      "sei": "sei-Latn-MX",\n      "ses": "ses-Latn-ML",\n      "sg": "sg-Latn-CF",\n      "sga": "sga-Ogam-IE",\n      "sgs": "sgs-Latn-LT",\n      "shi": "shi-Tfng-MA",\n      "shn": "shn-Mymr-MM",\n      "si": "si-Sinh-LK",\n      "sid": "sid-Latn-ET",\n      "sk": "sk-Latn-SK",\n      "skr": "skr-Arab-PK",\n      "sl": "sl-Latn-SI",\n      "sli": "sli-Latn-PL",\n      "sly": "sly-Latn-ID",\n      "sm": "sm-Latn-WS",\n      "sma": "sma-Latn-SE",\n      "smj": "smj-Latn-SE",\n      "smn": "smn-Latn-FI",\n      "smp": "smp-Samr-IL",\n      "sms": "sms-Latn-FI",\n      "sn": "sn-Latn-ZW",\n      "snk": "snk-Latn-ML",\n      "so": "so-Latn-SO",\n      "sou": "sou-Thai-TH",\n      "sq": "sq-Latn-AL",\n      "sr": "sr-Cyrl-RS",\n      "sr-ME": "sr-Latn-ME",\n      "sr-RO": "sr-Latn-RO",\n      "sr-RU": "sr-Latn-RU",\n      "sr-TR": "sr-Latn-TR",\n      "srb": "srb-Sora-IN",\n      "srn": "srn-Latn-SR",\n      "srr": "srr-Latn-SN",\n      "srx": "srx-Deva-IN",\n      "ss": "ss-Latn-ZA",\n      "ssy": "ssy-Latn-ER",\n      "st": "st-Latn-ZA",\n      "stq": "stq-Latn-DE",\n      "su": "su-Latn-ID",\n      "suk": "suk-Latn-TZ",\n      "sus": "sus-Latn-GN",\n      "sv": "sv-Latn-SE",\n      "sw": "sw-Latn-TZ",\n      "swb": "swb-Arab-YT",\n      "swc": "swc-Latn-CD",\n      "swv": "swv-Deva-IN",\n      "sxn": "sxn-Latn-ID",\n      "syl": "syl-Beng-BD",\n      "syr": "syr-Syrc-IQ",\n      "szl": "szl-Latn-PL",\n      "ta": "ta-Taml-IN",\n      "taj": "taj-Deva-NP",\n      "tbw": "tbw-Latn-PH",\n      "tcy": "tcy-Knda-IN",\n      "tdd": "tdd-Tale-CN",\n      "tdg": "tdg-Deva-NP",\n      "tdh": "tdh-Deva-NP",\n      "te": "te-Telu-IN",\n      "tem": "tem-Latn-SL",\n      "teo": "teo-Latn-UG",\n      "tet": "tet-Latn-TL",\n      "tg": "tg-Cyrl-TJ",\n      "tg-Arab": "tg-Arab-PK",\n      "tg-PK": "tg-Arab-PK",\n      "th": "th-Thai-TH",\n      "thl": "thl-Deva-NP",\n      "thq": "thq-Deva-NP",\n      "thr": "thr-Deva-NP",\n      "ti": "ti-Ethi-ET",\n      "tig": "tig-Ethi-ER",\n      "tiv": "tiv-Latn-NG",\n      "tk": "tk-Latn-TM",\n      "tkl": "tkl-Latn-TK",\n      "tkr": "tkr-Latn-AZ",\n      "tkt": "tkt-Deva-NP",\n      "tl": "tl-Latn-PH",\n      "tly": "tly-Latn-AZ",\n      "tmh": "tmh-Latn-NE",\n      "tn": "tn-Latn-ZA",\n      "to": "to-Latn-TO",\n      "tpi": "tpi-Latn-PG",\n      "tr": "tr-Latn-TR",\n      "tru": "tru-Latn-TR",\n      "trv": "trv-Latn-TW",\n      "ts": "ts-Latn-ZA",\n      "tsd": "tsd-Grek-GR",\n      "tsf": "tsf-Deva-NP",\n      "tsg": "tsg-Latn-PH",\n      "tsj": "tsj-Tibt-BT",\n      "tt": "tt-Cyrl-RU",\n      "ttj": "ttj-Latn-UG",\n      "tts": "tts-Thai-TH",\n      "ttt": "ttt-Latn-AZ",\n      "tum": "tum-Latn-MW",\n      "tvl": "tvl-Latn-TV",\n      "twq": "twq-Latn-NE",\n      "ty": "ty-Latn-PF",\n      "tyv": "tyv-Cyrl-RU",\n      "tzm": "tzm-Latn-MA",\n      "udm": "udm-Cyrl-RU",\n      "ug": "ug-Arab-CN",\n      "ug-Cyrl": "ug-Cyrl-KZ",\n      "ug-KZ": "ug-Cyrl-KZ",\n      "ug-MN": "ug-Cyrl-MN",\n      "uga": "uga-Ugar-SY",\n      "uk": "uk-Cyrl-UA",\n      "uli": "uli-Latn-FM",\n      "umb": "umb-Latn-AO",\n      "und": "en-Latn-US",\n      "und-002": "en-Latn-NG",\n      "und-003": "en-Latn-US",\n      "und-005": "pt-Latn-BR",\n      "und-009": "en-Latn-AU",\n      "und-011": "en-Latn-NG",\n      "und-013": "es-Latn-MX",\n      "und-014": "en-Latn-KE",\n      "und-015": "ar-Arab-EG",\n      "und-017": "sw-Latn-CD",\n      "und-018": "en-Latn-ZA",\n      "und-019": "en-Latn-US",\n      "und-021": "en-Latn-US",\n      "und-029": "es-Latn-CU",\n      "und-030": "zh-Hans-CN",\n      "und-034": "hi-Deva-IN",\n      "und-035": "id-Latn-ID",\n      "und-039": "it-Latn-IT",\n      "und-053": "en-Latn-AU",\n      "und-054": "en-Latn-PG",\n      "und-057": "en-Latn-KI",\n      "und-061": "sm-Latn-WS",\n      "und-142": "zh-Hans-CN",\n      "und-143": "uz-Latn-UZ",\n      "und-145": "ar-Arab-SA",\n      "und-150": "ru-Cyrl-RU",\n      "und-151": "ru-Cyrl-RU",\n      "und-154": "en-Latn-GB",\n      "und-155": "de-Latn-DE",\n      "und-419": "es-Latn-419",\n      "und-AD": "ca-Latn-AD",\n      "und-AE": "ar-Arab-AE",\n      "und-AF": "fa-Arab-AF",\n      "und-AL": "sq-Latn-AL",\n      "und-AM": "hy-Armn-AM",\n      "und-AO": "pt-Latn-AO",\n      "und-AQ": "und-Latn-AQ",\n      "und-AR": "es-Latn-AR",\n      "und-AS": "sm-Latn-AS",\n      "und-AT": "de-Latn-AT",\n      "und-AW": "nl-Latn-AW",\n      "und-AX": "sv-Latn-AX",\n      "und-AZ": "az-Latn-AZ",\n      "und-Aghb": "lez-Aghb-RU",\n      "und-Arab": "ar-Arab-EG",\n      "und-Arab-CC": "ms-Arab-CC",\n      "und-Arab-CN": "ug-Arab-CN",\n      "und-Arab-GB": "ks-Arab-GB",\n      "und-Arab-ID": "ms-Arab-ID",\n      "und-Arab-IN": "ur-Arab-IN",\n      "und-Arab-KH": "cja-Arab-KH",\n      "und-Arab-MN": "kk-Arab-MN",\n      "und-Arab-MU": "ur-Arab-MU",\n      "und-Arab-NG": "ha-Arab-NG",\n      "und-Arab-PK": "ur-Arab-PK",\n      "und-Arab-TH": "mfa-Arab-TH",\n      "und-Arab-TJ": "fa-Arab-TJ",\n      "und-Arab-YT": "swb-Arab-YT",\n      "und-Armi": "arc-Armi-IR",\n      "und-Armn": "hy-Armn-AM",\n      "und-Avst": "ae-Avst-IR",\n      "und-BA": "bs-Latn-BA",\n      "und-BD": "bn-Beng-BD",\n      "und-BE": "nl-Latn-BE",\n      "und-BF": "fr-Latn-BF",\n      "und-BG": "bg-Cyrl-BG",\n      "und-BH": "ar-Arab-BH",\n      "und-BI": "rn-Latn-BI",\n      "und-BJ": "fr-Latn-BJ",\n      "und-BL": "fr-Latn-BL",\n      "und-BN": "ms-Latn-BN",\n      "und-BO": "es-Latn-BO",\n      "und-BQ": "pap-Latn-BQ",\n      "und-BR": "pt-Latn-BR",\n      "und-BT": "dz-Tibt-BT",\n      "und-BV": "und-Latn-BV",\n      "und-BY": "be-Cyrl-BY",\n      "und-Bali": "ban-Bali-ID",\n      "und-Bamu": "bax-Bamu-CM",\n      "und-Bass": "bsq-Bass-LR",\n      "und-Batk": "bbc-Batk-ID",\n      "und-Beng": "bn-Beng-BD",\n      "und-Bopo": "zh-Bopo-TW",\n      "und-Brah": "pka-Brah-IN",\n      "und-Brai": "fr-Brai-FR",\n      "und-Bugi": "bug-Bugi-ID",\n      "und-Buhd": "bku-Buhd-PH",\n      "und-CD": "sw-Latn-CD",\n      "und-CF": "fr-Latn-CF",\n      "und-CG": "fr-Latn-CG",\n      "und-CH": "de-Latn-CH",\n      "und-CI": "fr-Latn-CI",\n      "und-CL": "es-Latn-CL",\n      "und-CM": "fr-Latn-CM",\n      "und-CN": "zh-Hans-CN",\n      "und-CO": "es-Latn-CO",\n      "und-CP": "und-Latn-CP",\n      "und-CR": "es-Latn-CR",\n      "und-CU": "es-Latn-CU",\n      "und-CV": "pt-Latn-CV",\n      "und-CW": "pap-Latn-CW",\n      "und-CY": "el-Grek-CY",\n      "und-CZ": "cs-Latn-CZ",\n      "und-Cakm": "ccp-Cakm-BD",\n      "und-Cans": "cr-Cans-CA",\n      "und-Cari": "xcr-Cari-TR",\n      "und-Cham": "cjm-Cham-VN",\n      "und-Cher": "chr-Cher-US",\n      "und-Copt": "cop-Copt-EG",\n      "und-Cprt": "grc-Cprt-CY",\n      "und-Cyrl": "ru-Cyrl-RU",\n      "und-Cyrl-AL": "mk-Cyrl-AL",\n      "und-Cyrl-BA": "sr-Cyrl-BA",\n      "und-Cyrl-GE": "ab-Cyrl-GE",\n      "und-Cyrl-GR": "mk-Cyrl-GR",\n      "und-Cyrl-MD": "uk-Cyrl-MD",\n      "und-Cyrl-PL": "be-Cyrl-PL",\n      "und-Cyrl-RO": "bg-Cyrl-RO",\n      "und-Cyrl-SK": "uk-Cyrl-SK",\n      "und-Cyrl-TR": "kbd-Cyrl-TR",\n      "und-Cyrl-XK": "sr-Cyrl-XK",\n      "und-DE": "de-Latn-DE",\n      "und-DJ": "aa-Latn-DJ",\n      "und-DK": "da-Latn-DK",\n      "und-DO": "es-Latn-DO",\n      "und-DZ": "ar-Arab-DZ",\n      "und-Deva": "hi-Deva-IN",\n      "und-Deva-BT": "ne-Deva-BT",\n      "und-Deva-FJ": "hif-Deva-FJ",\n      "und-Deva-MU": "bho-Deva-MU",\n      "und-Deva-PK": "btv-Deva-PK",\n      "und-Dupl": "fr-Dupl-FR",\n      "und-EA": "es-Latn-EA",\n      "und-EC": "es-Latn-EC",\n      "und-EE": "et-Latn-EE",\n      "und-EG": "ar-Arab-EG",\n      "und-EH": "ar-Arab-EH",\n      "und-ER": "ti-Ethi-ER",\n      "und-ES": "es-Latn-ES",\n      "und-ET": "am-Ethi-ET",\n      "und-EU": "en-Latn-GB",\n      "und-Egyp": "egy-Egyp-EG",\n      "und-Elba": "sq-Elba-AL",\n      "und-Ethi": "am-Ethi-ET",\n      "und-FI": "fi-Latn-FI",\n      "und-FM": "chk-Latn-FM",\n      "und-FO": "fo-Latn-FO",\n      "und-FR": "fr-Latn-FR",\n      "und-GA": "fr-Latn-GA",\n      "und-GE": "ka-Geor-GE",\n      "und-GF": "fr-Latn-GF",\n      "und-GH": "ak-Latn-GH",\n      "und-GL": "kl-Latn-GL",\n      "und-GN": "fr-Latn-GN",\n      "und-GP": "fr-Latn-GP",\n      "und-GQ": "es-Latn-GQ",\n      "und-GR": "el-Grek-GR",\n      "und-GS": "und-Latn-GS",\n      "und-GT": "es-Latn-GT",\n      "und-GW": "pt-Latn-GW",\n      "und-Geor": "ka-Geor-GE",\n      "und-Glag": "cu-Glag-BG",\n      "und-Goth": "got-Goth-UA",\n      "und-Gran": "sa-Gran-IN",\n      "und-Grek": "el-Grek-GR",\n      "und-Grek-TR": "bgx-Grek-TR",\n      "und-Gujr": "gu-Gujr-IN",\n      "und-Guru": "pa-Guru-IN",\n      "und-HK": "zh-Hant-HK",\n      "und-HM": "und-Latn-HM",\n      "und-HN": "es-Latn-HN",\n      "und-HR": "hr-Latn-HR",\n      "und-HT": "ht-Latn-HT",\n      "und-HU": "hu-Latn-HU",\n      "und-Hang": "ko-Hang-KR",\n      "und-Hani": "zh-Hani-CN",\n      "und-Hano": "hnn-Hano-PH",\n      "und-Hans": "zh-Hans-CN",\n      "und-Hant": "zh-Hant-TW",\n      "und-Hebr": "he-Hebr-IL",\n      "und-Hebr-CA": "yi-Hebr-CA",\n      "und-Hebr-GB": "yi-Hebr-GB",\n      "und-Hebr-SE": "yi-Hebr-SE",\n      "und-Hebr-UA": "yi-Hebr-UA",\n      "und-Hebr-US": "yi-Hebr-US",\n      "und-Hira": "ja-Hira-JP",\n      "und-Hmng": "hnj-Hmng-LA",\n      "und-IC": "es-Latn-IC",\n      "und-ID": "id-Latn-ID",\n      "und-IL": "he-Hebr-IL",\n      "und-IN": "hi-Deva-IN",\n      "und-IQ": "ar-Arab-IQ",\n      "und-IR": "fa-Arab-IR",\n      "und-IS": "is-Latn-IS",\n      "und-IT": "it-Latn-IT",\n      "und-Ital": "ett-Ital-IT",\n      "und-JO": "ar-Arab-JO",\n      "und-JP": "ja-Jpan-JP",\n      "und-Java": "jv-Java-ID",\n      "und-Jpan": "ja-Jpan-JP",\n      "und-KG": "ky-Cyrl-KG",\n      "und-KH": "km-Khmr-KH",\n      "und-KM": "ar-Arab-KM",\n      "und-KP": "ko-Kore-KP",\n      "und-KR": "ko-Kore-KR",\n      "und-KW": "ar-Arab-KW",\n      "und-KZ": "ru-Cyrl-KZ",\n      "und-Kali": "eky-Kali-MM",\n      "und-Kana": "ja-Kana-JP",\n      "und-Khar": "pra-Khar-PK",\n      "und-Khmr": "km-Khmr-KH",\n      "und-Khoj": "sd-Khoj-IN",\n      "und-Knda": "kn-Knda-IN",\n      "und-Kore": "ko-Kore-KR",\n      "und-Kthi": "bh-Kthi-IN",\n      "und-LA": "lo-Laoo-LA",\n      "und-LB": "ar-Arab-LB",\n      "und-LI": "de-Latn-LI",\n      "und-LK": "si-Sinh-LK",\n      "und-LS": "st-Latn-LS",\n      "und-LT": "lt-Latn-LT",\n      "und-LU": "fr-Latn-LU",\n      "und-LV": "lv-Latn-LV",\n      "und-LY": "ar-Arab-LY",\n      "und-Lana": "nod-Lana-TH",\n      "und-Laoo": "lo-Laoo-LA",\n      "und-Latn-AF": "tk-Latn-AF",\n      "und-Latn-AM": "ku-Latn-AM",\n      "und-Latn-BG": "tr-Latn-BG",\n      "und-Latn-CN": "za-Latn-CN",\n      "und-Latn-CY": "tr-Latn-CY",\n      "und-Latn-DZ": "fr-Latn-DZ",\n      "und-Latn-ET": "en-Latn-ET",\n      "und-Latn-GE": "ku-Latn-GE",\n      "und-Latn-GR": "tr-Latn-GR",\n      "und-Latn-IL": "ro-Latn-IL",\n      "und-Latn-IR": "tk-Latn-IR",\n      "und-Latn-KM": "fr-Latn-KM",\n      "und-Latn-KZ": "de-Latn-KZ",\n      "und-Latn-LB": "fr-Latn-LB",\n      "und-Latn-MA": "fr-Latn-MA",\n      "und-Latn-MK": "sq-Latn-MK",\n      "und-Latn-MO": "pt-Latn-MO",\n      "und-Latn-MR": "fr-Latn-MR",\n      "und-Latn-RU": "krl-Latn-RU",\n      "und-Latn-SY": "fr-Latn-SY",\n      "und-Latn-TN": "fr-Latn-TN",\n      "und-Latn-TW": "trv-Latn-TW",\n      "und-Latn-UA": "pl-Latn-UA",\n      "und-Lepc": "lep-Lepc-IN",\n      "und-Limb": "lif-Limb-IN",\n      "und-Lina": "lab-Lina-GR",\n      "und-Linb": "grc-Linb-GR",\n      "und-Lisu": "lis-Lisu-CN",\n      "und-Lyci": "xlc-Lyci-TR",\n      "und-Lydi": "xld-Lydi-TR",\n      "und-MA": "ar-Arab-MA",\n      "und-MC": "fr-Latn-MC",\n      "und-MD": "ro-Latn-MD",\n      "und-ME": "sr-Latn-ME",\n      "und-MF": "fr-Latn-MF",\n      "und-MG": "mg-Latn-MG",\n      "und-MK": "mk-Cyrl-MK",\n      "und-ML": "bm-Latn-ML",\n      "und-MM": "my-Mymr-MM",\n      "und-MN": "mn-Cyrl-MN",\n      "und-MO": "zh-Hant-MO",\n      "und-MQ": "fr-Latn-MQ",\n      "und-MR": "ar-Arab-MR",\n      "und-MT": "mt-Latn-MT",\n      "und-MU": "mfe-Latn-MU",\n      "und-MV": "dv-Thaa-MV",\n      "und-MX": "es-Latn-MX",\n      "und-MY": "ms-Latn-MY",\n      "und-MZ": "pt-Latn-MZ",\n      "und-Mahj": "hi-Mahj-IN",\n      "und-Mand": "myz-Mand-IR",\n      "und-Mani": "xmn-Mani-CN",\n      "und-Mend": "men-Mend-SL",\n      "und-Merc": "xmr-Merc-SD",\n      "und-Mero": "xmr-Mero-SD",\n      "und-Mlym": "ml-Mlym-IN",\n      "und-Modi": "mr-Modi-IN",\n      "und-Mong": "mn-Mong-CN",\n      "und-Mroo": "mru-Mroo-BD",\n      "und-Mtei": "mni-Mtei-IN",\n      "und-Mymr": "my-Mymr-MM",\n      "und-Mymr-IN": "kht-Mymr-IN",\n      "und-Mymr-TH": "mnw-Mymr-TH",\n      "und-NA": "af-Latn-NA",\n      "und-NC": "fr-Latn-NC",\n      "und-NE": "ha-Latn-NE",\n      "und-NI": "es-Latn-NI",\n      "und-NL": "nl-Latn-NL",\n      "und-NO": "nb-Latn-NO",\n      "und-NP": "ne-Deva-NP",\n      "und-Narb": "xna-Narb-SA",\n      "und-Nbat": "arc-Nbat-JO",\n      "und-Nkoo": "man-Nkoo-GN",\n      "und-OM": "ar-Arab-OM",\n      "und-Ogam": "sga-Ogam-IE",\n      "und-Olck": "sat-Olck-IN",\n      "und-Orkh": "otk-Orkh-MN",\n      "und-Orya": "or-Orya-IN",\n      "und-Osma": "so-Osma-SO",\n      "und-PA": "es-Latn-PA",\n      "und-PE": "es-Latn-PE",\n      "und-PF": "fr-Latn-PF",\n      "und-PG": "tpi-Latn-PG",\n      "und-PH": "fil-Latn-PH",\n      "und-PK": "ur-Arab-PK",\n      "und-PL": "pl-Latn-PL",\n      "und-PM": "fr-Latn-PM",\n      "und-PR": "es-Latn-PR",\n      "und-PS": "ar-Arab-PS",\n      "und-PT": "pt-Latn-PT",\n      "und-PW": "pau-Latn-PW",\n      "und-PY": "gn-Latn-PY",\n      "und-Palm": "arc-Palm-SY",\n      "und-Pauc": "ctd-Pauc-MM",\n      "und-Perm": "kv-Perm-RU",\n      "und-Phag": "lzh-Phag-CN",\n      "und-Phli": "pal-Phli-IR",\n      "und-Phlp": "pal-Phlp-CN",\n      "und-Phnx": "phn-Phnx-LB",\n      "und-Plrd": "hmd-Plrd-CN",\n      "und-Prti": "xpr-Prti-IR",\n      "und-QA": "ar-Arab-QA",\n      "und-QO": "en-Latn-IO",\n      "und-RE": "fr-Latn-RE",\n      "und-RO": "ro-Latn-RO",\n      "und-RS": "sr-Cyrl-RS",\n      "und-RU": "ru-Cyrl-RU",\n      "und-RW": "rw-Latn-RW",\n      "und-Rjng": "rej-Rjng-ID",\n      "und-Runr": "non-Runr-SE",\n      "und-SA": "ar-Arab-SA",\n      "und-SC": "fr-Latn-SC",\n      "und-SD": "ar-Arab-SD",\n      "und-SE": "sv-Latn-SE",\n      "und-SI": "sl-Latn-SI",\n      "und-SJ": "nb-Latn-SJ",\n      "und-SK": "sk-Latn-SK",\n      "und-SM": "it-Latn-SM",\n      "und-SN": "fr-Latn-SN",\n      "und-SO": "so-Latn-SO",\n      "und-SR": "nl-Latn-SR",\n      "und-ST": "pt-Latn-ST",\n      "und-SV": "es-Latn-SV",\n      "und-SY": "ar-Arab-SY",\n      "und-Samr": "smp-Samr-IL",\n      "und-Sarb": "xsa-Sarb-YE",\n      "und-Saur": "saz-Saur-IN",\n      "und-Shaw": "en-Shaw-GB",\n      "und-Shrd": "sa-Shrd-IN",\n      "und-Sidd": "sa-Sidd-IN",\n      "und-Sind": "sd-Sind-IN",\n      "und-Sinh": "si-Sinh-LK",\n      "und-Sora": "srb-Sora-IN",\n      "und-Sund": "su-Sund-ID",\n      "und-Sylo": "syl-Sylo-BD",\n      "und-Syrc": "syr-Syrc-IQ",\n      "und-TD": "fr-Latn-TD",\n      "und-TF": "fr-Latn-TF",\n      "und-TG": "fr-Latn-TG",\n      "und-TH": "th-Thai-TH",\n      "und-TJ": "tg-Cyrl-TJ",\n      "und-TK": "tkl-Latn-TK",\n      "und-TL": "pt-Latn-TL",\n      "und-TM": "tk-Latn-TM",\n      "und-TN": "ar-Arab-TN",\n      "und-TO": "to-Latn-TO",\n      "und-TR": "tr-Latn-TR",\n      "und-TV": "tvl-Latn-TV",\n      "und-TW": "zh-Hant-TW",\n      "und-TZ": "sw-Latn-TZ",\n      "und-Tagb": "tbw-Tagb-PH",\n      "und-Takr": "doi-Takr-IN",\n      "und-Tale": "tdd-Tale-CN",\n      "und-Talu": "khb-Talu-CN",\n      "und-Taml": "ta-Taml-IN",\n      "und-Tavt": "blt-Tavt-VN",\n      "und-Telu": "te-Telu-IN",\n      "und-Tfng": "zgh-Tfng-MA",\n      "und-Tglg": "fil-Tglg-PH",\n      "und-Thaa": "dv-Thaa-MV",\n      "und-Thai": "th-Thai-TH",\n      "und-Thai-CN": "lcp-Thai-CN",\n      "und-Thai-KH": "kdt-Thai-KH",\n      "und-Thai-LA": "kdt-Thai-LA",\n      "und-Tibt": "bo-Tibt-CN",\n      "und-Tirh": "mai-Tirh-IN",\n      "und-UA": "uk-Cyrl-UA",\n      "und-UG": "sw-Latn-UG",\n      "und-UY": "es-Latn-UY",\n      "und-UZ": "uz-Latn-UZ",\n      "und-Ugar": "uga-Ugar-SY",\n      "und-VA": "it-Latn-VA",\n      "und-VE": "es-Latn-VE",\n      "und-VN": "vi-Latn-VN",\n      "und-VU": "bi-Latn-VU",\n      "und-Vaii": "vai-Vaii-LR",\n      "und-WF": "fr-Latn-WF",\n      "und-WS": "sm-Latn-WS",\n      "und-Wara": "hoc-Wara-IN",\n      "und-XK": "sq-Latn-XK",\n      "und-Xpeo": "peo-Xpeo-IR",\n      "und-Xsux": "akk-Xsux-IQ",\n      "und-YE": "ar-Arab-YE",\n      "und-YT": "fr-Latn-YT",\n      "und-Yiii": "ii-Yiii-CN",\n      "unr": "unr-Beng-IN",\n      "unr-Deva": "unr-Deva-NP",\n      "unr-NP": "unr-Deva-NP",\n      "unx": "unx-Beng-IN",\n      "ur": "ur-Arab-PK",\n      "uz": "uz-Latn-UZ",\n      "uz-AF": "uz-Arab-AF",\n      "uz-Arab": "uz-Arab-AF",\n      "uz-CN": "uz-Cyrl-CN",\n      "vai": "vai-Vaii-LR",\n      "ve": "ve-Latn-ZA",\n      "vec": "vec-Latn-IT",\n      "vep": "vep-Latn-RU",\n      "vi": "vi-Latn-VN",\n      "vic": "vic-Latn-SX",\n      "vls": "vls-Latn-BE",\n      "vmf": "vmf-Latn-DE",\n      "vmw": "vmw-Latn-MZ",\n      "vo": "vo-Latn-001",\n      "vro": "vro-Latn-EE",\n      "vun": "vun-Latn-TZ",\n      "wa": "wa-Latn-BE",\n      "wae": "wae-Latn-CH",\n      "wal": "wal-Ethi-ET",\n      "war": "war-Latn-PH",\n      "wbq": "wbq-Telu-IN",\n      "wbr": "wbr-Deva-IN",\n      "wls": "wls-Latn-WF",\n      "wo": "wo-Latn-SN",\n      "wtm": "wtm-Deva-IN",\n      "wuu": "wuu-Hans-CN",\n      "xav": "xav-Latn-BR",\n      "xcr": "xcr-Cari-TR",\n      "xh": "xh-Latn-ZA",\n      "xlc": "xlc-Lyci-TR",\n      "xld": "xld-Lydi-TR",\n      "xmf": "xmf-Geor-GE",\n      "xmn": "xmn-Mani-CN",\n      "xmr": "xmr-Merc-SD",\n      "xna": "xna-Narb-SA",\n      "xnr": "xnr-Deva-IN",\n      "xog": "xog-Latn-UG",\n      "xpr": "xpr-Prti-IR",\n      "xsa": "xsa-Sarb-YE",\n      "xsr": "xsr-Deva-NP",\n      "yao": "yao-Latn-MZ",\n      "yap": "yap-Latn-FM",\n      "yav": "yav-Latn-CM",\n      "ybb": "ybb-Latn-CM",\n      "yi": "yi-Hebr-001",\n      "yo": "yo-Latn-NG",\n      "yrl": "yrl-Latn-BR",\n      "yua": "yua-Latn-MX",\n      "za": "za-Latn-CN",\n      "zdj": "zdj-Arab-KM",\n      "zea": "zea-Latn-NL",\n      "zgh": "zgh-Tfng-MA",\n      "zh": "zh-Hans-CN",\n      "zh-AU": "zh-Hant-AU",\n      "zh-BN": "zh-Hant-BN",\n      "zh-Bopo": "zh-Bopo-TW",\n      "zh-GB": "zh-Hant-GB",\n      "zh-GF": "zh-Hant-GF",\n      "zh-HK": "zh-Hant-HK",\n      "zh-Hant": "zh-Hant-TW",\n      "zh-ID": "zh-Hant-ID",\n      "zh-MO": "zh-Hant-MO",\n      "zh-MY": "zh-Hant-MY",\n      "zh-PA": "zh-Hant-PA",\n      "zh-PF": "zh-Hant-PF",\n      "zh-PH": "zh-Hant-PH",\n      "zh-SR": "zh-Hant-SR",\n      "zh-TH": "zh-Hant-TH",\n      "zh-TW": "zh-Hant-TW",\n      "zh-US": "zh-Hant-US",\n      "zh-VN": "zh-Hant-VN",\n      "zmi": "zmi-Latn-MY",\n      "zu": "zu-Latn-ZA",\n      "zza": "zza-Latn-TR"\n    }\n  }\n}\n'});
define("requirejs-text/text!ecma402/cldr/supplemental/calendarPreferenceData.json",[],function(){return'{\n  "supplemental": {\n    "calendarPreferenceData": {\n      "001": "gregorian",\n      "AE": "gregorian islamic-umalqura islamic islamic-civil islamic-tbla",\n      "AF": "persian gregorian islamic islamic-civil islamic-tbla",\n      "BH": "gregorian islamic-umalqura islamic islamic-civil islamic-tbla",\n      "CN": "gregorian chinese",\n      "CX": "gregorian chinese",\n      "DJ": "gregorian islamic islamic-civil islamic-tbla",\n      "DZ": "gregorian islamic islamic-civil islamic-tbla",\n      "EG": "gregorian coptic islamic islamic-civil islamic-tbla",\n      "EH": "gregorian islamic islamic-civil islamic-tbla",\n      "ER": "gregorian islamic islamic-civil islamic-tbla",\n      "ET": "gregorian ethiopic",\n      "HK": "gregorian chinese",\n      "IL": "gregorian hebrew islamic islamic-civil islamic-tbla",\n      "IN": "gregorian indian",\n      "IQ": "gregorian islamic islamic-civil islamic-tbla",\n      "IR": "persian gregorian islamic islamic-civil islamic-tbla",\n      "JO": "gregorian islamic islamic-civil islamic-tbla",\n      "JP": "gregorian japanese",\n      "KM": "gregorian islamic islamic-civil islamic-tbla",\n      "KR": "gregorian dangi",\n      "KW": "gregorian islamic-umalqura islamic islamic-civil islamic-tbla",\n      "LB": "gregorian islamic islamic-civil islamic-tbla",\n      "LY": "gregorian islamic islamic-civil islamic-tbla",\n      "MA": "gregorian islamic islamic-civil islamic-tbla",\n      "MO": "gregorian chinese",\n      "MR": "gregorian islamic islamic-civil islamic-tbla",\n      "OM": "gregorian islamic islamic-civil islamic-tbla",\n      "PS": "gregorian islamic islamic-civil islamic-tbla",\n      "QA": "gregorian islamic-umalqura islamic islamic-civil islamic-tbla",\n      "SA": "gregorian islamic-umalqura islamic islamic-rgsa",\n      "SD": "gregorian islamic islamic-civil islamic-tbla",\n      "SG": "gregorian chinese",\n      "SY": "gregorian islamic islamic-civil islamic-tbla",\n      "TD": "gregorian islamic islamic-civil islamic-tbla",\n      "TH": "buddhist gregorian",\n      "TN": "gregorian islamic islamic-civil islamic-tbla",\n      "TW": "gregorian roc chinese",\n      "YE": "gregorian islamic islamic-civil islamic-tbla"\n    }\n  }\n}\n'});
define("ecma402/impl/common","./List ./Record requirejs-text/text!../cldr/config/availableLocales.json requirejs-text/text!../cldr/supplemental/aliases.json requirejs-text/text!../cldr/supplemental/parentLocales.json requirejs-text/text!../cldr/supplemental/likelySubtags.json requirejs-text/text!../cldr/supplemental/calendarPreferenceData.json".split(" "),function(c,m,g,k,f,a,b){var d=JSON.parse(k).supplemental.metadata.alias,e=JSON.parse(f).supplemental.parentLocales.parentLocale,h=JSON.parse(a).supplemental.likelySubtags,
l=JSON.parse(b).supplemental.calendarPreferenceData,n={unicodeLocaleExtensions:/-u(-[a-z0-9]{2,8})+/g,_toUpperCaseIdentifier:function(a){return a.replace(/[a-z]/g,function(a){return a.toUpperCase()})},_toLowerCaseIdentifier:function(a){return a.replace(/[A-Z]/g,function(a){return a.toLowerCase()})},_getRegion:function(a){var b="001",d=a.search(/(?:-)([A-Z]{2})(?=(-|$))/);0<=d?b=a.substr(d+1,2):(a=h[a])&&(b=a.substr(-2));return b},_getSupportedCalendars:function(a){var b="gregory buddhist hebrew japanese roc islamic islamic-civil islamic-tbla islamic-umalqura".split(" "),
d=[];l[a]&&l[a].toString().split(" ").forEach(function(a){a=a.replace("gregorian","gregory");-1!==b.indexOf(a)&&d.push(a)});-1===d.indexOf("gregory")&&d.push("gregory");return d},isStructurallyValidLanguageTag:function(a){function b(a){var b=c.search(/-[a-z0-9]-/);return 0<b?c.indexOf(a)>b||c.indexOf(a)===c.lastIndexOf(a,b):c.indexOf(a)===c.lastIndexOf(a)}function d(a){var b=c.search(/-x-/);return 0<b?c.indexOf(a)===c.lastIndexOf(a,b):c.indexOf(a)===c.lastIndexOf(a)}if("string"!==typeof a)return!1;
var c=this._toLowerCaseIdentifier(a);a=/en-gb-oed|(i-(ami|bnn|default|enochian|hak|klingon|lux|mingo|navajo|pwn|tao|tay|tsu))|sgn-((be-(fr|nl))|(ch-de))/;if(/x(-[a-z0-9]{1,8})+/.test(c)||a.test(c))return!0;if(/^([a-z]{2,3}(-[a-z]{3}){0,3}|[a-z]{4,8})(-[a-z]{4})?(-([a-z]{2}|\d{3}))?(-([a-z0-9]{5,8}|\d[a-z0-9]{3}))*(-[a-wyz0-9](-[a-z0-9]{2,8})+)*(-x(-[a-z0-9]{1,8})+)?$/.test(c)){var e=/-[a-z0-9]{5,8}|\d[a-z0-9]{3}/g.exec(c);a=/-[a-wyz0-9]-/g.exec(c);e=!e||e.every(b);a=!a||a.every(d);return e&&a}return!1},
CanonicalizeLanguageTag:function(a){var b=a.toLowerCase(),c=b.search(/(^|-)[a-z0-9]-/),e=/(?:-)([a-z0-9]{5,8}|\d[a-z0-9]{3})/,b=b.replace(/^([a-z]{2,3}(-[a-z]{3}){0,3}|[a-z]{4,8})(?=(-|$))/,function(a){var b=d.languageAlias[a];b&&"macrolanguage"!==b._reason&&(a=b._replacement?b._replacement:a);return a}),b=b.replace(/(?:-)([a-z]{4})(?=(-|$))/,function(a){if(-1===c||b.indexOf(a)<c){a=a.substring(0,2).toUpperCase()+a.substring(2);var e=a.substring(1);(e=d.scriptAlias[e])&&(a=e._replacement?"-"+e._replacement:
a)}return a}),b=b.replace(/(?:-)([a-z]{2}|\\d{3})(?=(-|$))/g,function(a){if(-1===c||b.indexOf(a)<c){a=a.toUpperCase();var e=a.substring(1);if(e=d.territoryAlias[e])e=e._replacement,0<=e.indexOf(" ")&&(e=e.substring(0,e.indexOf(" "))),a=e?"-"+e:a}return a}),b=b.replace(e,function(a){var b=n._toUpperCaseIdentifier(a.substring(1));if(b=d.variantAlias[b])a=(b=b._replacement)?"-"+n._toLowerCaseIdentifier(b):a;return a}),b=b.replace(b,function(a){var b=d.languageAlias[a];b&&"macrolanguage"!==b._reason?
a=b._replacement?b._replacement:a:e.test(a)&&(b=a.replace(e,""),(b=d.languageAlias[b])&&"macrolanguage"!==b._reason&&(a=b._replacement?b._replacement+a.match(e)[0]:a));return a});/^([a-z]{2,3}(-[a-z]{3}))(?=(-|$))/.test(b)&&(b=b.replace(/^[a-z]{2,3}-/,""));return b},DefaultLocale:function(){var a=null,b=function(){return this}().navigator;if(b&&b.languages)for(var d=b.languages.slice(0);!a&&0<d.length;)a=d.shift(),a=this.BestFitAvailableLocale(this.availableLocalesList,this.CanonicalizeLanguageTag(a));
!a&&b&&this.isStructurallyValidLanguageTag(b.language)&&(a=this.BestFitAvailableLocale(this.availableLocalesList,this.CanonicalizeLanguageTag(b.language)));!a&&b&&this.isStructurallyValidLanguageTag(b.userLanguage)&&(a=this.BestFitAvailableLocale(this.availableLocalesList,this.CanonicalizeLanguageTag(b.userLanguage)));a||(a="root");return a},IsWellFormedCurrencyCode:function(a){return/^[A-Za-z]{3}$/.test(a.toString())},CanonicalizeLocaleList:function(a){if(void 0===a)return new c;if(null===a)throw new TypeError("Locale list can not be null");
var b=new c;"string"===typeof a&&(a=Array(a));a=Object(a);for(var d=a.length>>>0,e=0;e<d;e++){var h=e.toString();if(h in a){h=a[h];if("string"!==typeof h&&"object"!==typeof h)throw new TypeError(h+" must be a string or an object.");h=h.toString();if(!this.isStructurallyValidLanguageTag(h))throw new RangeError(h+" is not a structurally valid language tag.");h=this.CanonicalizeLanguageTag(h);0>b.indexOf(h)&&b.push(h)}}return b},BestAvailableLocale:function(a,b){for(;;){if(0<=a.indexOf(b))return b;var d=
b.lastIndexOf("-");if(0>d)break;2<=d&&"-"===b.charAt(d-2)&&(d-=2);b=b.substring(0,d)}},LookupMatcher:function(a,b){for(var d=0,c=b.length,e=null,h=null,l=null;d<c&&null===e;)h=b[d],l=h.replace(this.unicodeLocaleExtensions,""),e=this.BestAvailableLocale(a,l),d++;a=new m;e?(a.set("locale",e),h!==l&&(a.set("extension",h.match(this.unicodeLocaleExtensions)[0]),a.set("extensionIndex",h.search(this.unicodeLocaleExtensions)))):a.set("locale",this.DefaultLocale());return a},BestFitAvailableLocale:function(a,
b){for(;;){var c=b.substring(0,b.indexOf("-")),h=d.languageAlias[c];h&&"macrolanguage"===h._reason&&(b=b.replace(c,h._replacement));if(h=d.languageAlias[b])b=h._replacement;if(0<=a.indexOf(b))return b;if(c=e[b])b=c;else{c=b.lastIndexOf("-");if(0>c)break;2<=c&&"-"===b.charAt(c-2)&&(c-=2);b=b.substring(0,c)}}},BestFitMatcher:function(a,b){for(var d=0,c=b.length,e=null,h=null,l=null;d<c&&null===e;)h=b[d],l=h.replace(this.unicodeLocaleExtensions,""),e=this.BestFitAvailableLocale(a,l),d++;a=new m;e?(a.set("locale",
e),h!==l&&(a.set("extension",h.match(this.unicodeLocaleExtensions)[0]),a.set("extensionIndex",h.search(this.unicodeLocaleExtensions)))):a.set("locale",this.DefaultLocale());return a},ResolveLocale:function(a,b,d,c,e){var h="lookup"===d.localeMatcher?this.LookupMatcher(a,b):this.BestFitMatcher(a,b);a=h.locale;var l,f=[],n=0;b=0;void 0!==h.extension&&(l=h.extension,b=h.extensionIndex,f=l.split("-"),n=f.length);h=new m;h.set("dataLocale",a);l="-u";for(var p=0,q=c.length;p<q;){var k=c[String(p)],g=e[a][k],
t=g["0"],r="";if("undefined"!==typeof f){var u=f.indexOf(k);if(-1!==u)if(u+1<n&&2<f[String(u+1)].length){var L=f[String(u+1)];"islamic"===L&&f[String(u+2)]&&(L+="-"+f[String(u+2)]);u=g.indexOf(L);-1!==u&&(t=L,r="-"+k+"-"+t)}else u=g.indexOf("true"),-1!==u&&(t="true")}L=d[k];void 0!==L&&-1!==g.indexOf(L)&&L!==t&&(t=L,r="");h.set(k,t);l+=r;p++}2<l.length&&(d=a.substring(0,b),c=a.substring(b),a=d+l+c);h.set("locale",a);return h},LookupSupportedLocales:function(a,b){for(var d=b.length,e=new c,h=0;h<d;){var l=
b[h],f=l.replace(this.unicodeLocaleExtensions,"");void 0!==this.BestAvailableLocale(a,f)&&e.push(l);h++}return e.toArray()},BestFitSupportedLocales:function(a,b){for(var d=b.length,e=new c,h=0;h<d;){var l=b[h],f=l.replace(this.unicodeLocaleExtensions,"");void 0!==this.BestFitAvailableLocale(a,f)&&e.push(l);h++}return e.toArray()},SupportedLocales:function(a,b,d){var c;if(void 0!==d&&(d=Object(d),c=d.localeMatcher,void 0!==c&&(c=String(c),"lookup"!==c&&"best fit"!==c)))throw new RangeError("Matching algorithm must be 'lookup' or 'best fit'.");
a=void 0===c||"best fit"===c?this.BestFitSupportedLocales(a,b):this.LookupSupportedLocales(a,b);for(var e in Object.getOwnPropertyNames(a))b=Object.getOwnPropertyDescriptor(a,e),void 0!==b&&(b.writable=!1,b.configurable=!1,Object.defineProperty(a,e,b));Object.defineProperty(a,"length",{writable:!1,configurable:!1});return a},GetOption:function(a,b,d,c,e){a=a[b];if(void 0!==a){"boolean"===d&&(a=!!a);"string"===d&&(a=String(a));if(void 0!==c){for(var h in c)if(c[h]===a)return a;throw new RangeError("The specified value "+
a+" for property "+b+" is invalid.");}return a}return e},GetNumberOption:function(a,b,d,c,e){a=a[b];if(void 0!==a){a=Number(a);if(isNaN(a)||a<d||a>c)throw new RangeError("The specified number value "+a+" is not in the allowed range");return Math.floor(a)}return e}};n.availableLocalesList=n.CanonicalizeLocaleList(JSON.parse(g).availableLocales);return n});
define("ecma402/impl/List",[],function(){var c=function(){this.length=0};c.prototype.forEach=function(c){for(var g=0;g<this.length;g++)c(this[g])};c.prototype.push=function(c){this[this.length]=c;this.length++};c.prototype.indexOf=function(c){for(var g=0;g<this.length;g++)if(this[g]===c)return g;return-1};c.prototype.toArray=function(){for(var c=0,g=Array(this.length);c<this.length;)g[c]=this[c],c++;return g};return c});
define("requirejs-text/text!ecma402/cldr/config/calendarDependencies.json",[],function(){return'{\n  "buddhist": {\n    "calendar": "buddhistCalendar"\n  },\n  "hebrew": {\n    "calendar": "hebrewCalendar"\n  },\n  "islamic": {\n    "calendar": "islamicCalendar"\n  },\n  "islamic-civil": {\n    "calendar": "civilTabularCalendar",\n    "option": "civil"\n   },\n  "islamic-tbla": {\n    "calendar": "civilTabularCalendar",\n    "option": "tbla"\n  },\n  "islamic-umalqura": {\n    "calendar": "umalquraCalendar"\n  },\n  "japanese": {\n    "calendar": "japaneseCalendar"\n  },\n  "roc": {\n    "calendar": "rocCalendar"\n  }\n}\n'});
define("ecma402/impl/calendars",["./Record","requirejs-text/text!../cldr/config/calendarDependencies.json","../calendars/gregorianCalendar"],function(c,m,g){var k={gregory:g},f=JSON.parse(m);return{calendarMap:k,dependencies:f,toLocalTime:function(a,b,d){return f[b]&&f[b].option?k[b].toLocalTime(a,d,f[b].option):k[b].toLocalTime(a,d)},hebrewMonthResource:function(a,b){return(k.hebrew.isLeapYear(a)?"1 2 3 4 5 6 7-yeartype-leap 8 9 10 11 12 13".split(" "):"1 2 3 4 5 7 8 9 10 11 12 13".split(" "))[b-
1]}}});define("ecma402/impl/Record",[],function(){var c=function(){this.length=0};c.prototype.set=function(c,g){Object.defineProperty(this,c,{value:g,writable:!0,enumerable:!0,configurable:!0})};return c});define("ecma402/features",["requirejs-dplugins/has"],function(c){c.add("intl-api",function(c){return"undefined"!==typeof c.Intl&&c.Intl.NumberFormat&&c.Intl.DateTimeFormat});return c});
define("deliteful/StarRating","dcl/dcl dpointer/events requirejs-dplugins/jquery!attributes/classes delite/register delite/FormValueWidget requirejs-dplugins/i18n!./StarRating/nls/StarRating delite/theme!./StarRating/themes/{{theme}}/StarRating.css".split(" "),function(c,m,g,k,f,a){return k("d-star-rating",[HTMLElement,f],{baseClass:"d-star-rating",max:5,value:0,editHalfValues:!1,allowZero:!0,_hovering:!1,_otherEventsHandles:[],render:function(){this.focusNode=this.ownerDocument.createElement("div");
this.appendChild(this.focusNode);m.setTouchAction(this,"none");this.focusNode.setAttribute("role","slider");this.focusNode.setAttribute("aria-valuemin",0);this.valueNode.style.display="none";this.valueNode.parentNode||this.appendChild(this.valueNode)},refreshRendering:function(b){"disabled"in b&&g(this).toggleClass(this.baseClass+"-disabled",this.disabled);"readOnly"in b&&g(this).toggleClass(this.baseClass+"-readonly",this.readOnly);"max"in b&&this.focusNode.setAttribute("aria-valuemax",this.max);
("max"in b||"value"in b)&&this._refreshStarsRendering();"value"in b&&(this.focusNode.setAttribute("aria-valuenow",this.value),this.focusNode.setAttribute("aria-valuetext",a["aria-valuetext"].replace("${value}",this.value)),this.valueNode.value=this.value);("readOnly"in b||"disabled"in b)&&this._refreshEditionEventHandlers();("readOnly"in b||"disabled"in b||"allowZero"in b)&&this._updateZeroArea()},_refreshStarsRendering:function(){var a=this.focusNode.children.length-1!==2*this.max;a&&(this.focusNode.innerHTML=
"");this._updateStars(this.value,a)},_refreshEditionEventHandlers:function(){var a=this.disabled||this.readOnly;a||this._keyDownHandle?a&&this._keyDownHandle&&(this._keyDownHandle.remove(),this._keyDownHandle=null):this._keyDownHandle=this.on("keydown",this._keyDownHandler.bind(this));if(!a&&!this._startHandles)this._startHandles=[this.on("pointerover",this._pointerOverHandler.bind(this)),this.on("pointerdown",this._wireHandlers.bind(this))];else if(a&&this._startHandles){for(;this._startHandles.length;)this._startHandles.pop().remove();
this._startHandles=null}},_removeEventsHandlers:function(){for(;this._otherEventsHandles.length;)this._otherEventsHandles.pop().remove()},_wireHandlers:function(){this._otherEventsHandles.length||(this._otherEventsHandles.push(this.on("pointerup",this._pointerUpHandler.bind(this))),this._otherEventsHandles.push(this.on("pointerleave",this._pointerLeaveHandler.bind(this))),this._otherEventsHandles.push(this.on("pointercancel",this._pointerLeaveHandler.bind(this))))},_pointerOverHandler:function(a){this._wireHandlers();
this._hovering||"mouse"!==a.pointerType||(this._hovering=!0,g(this).addClass(this.baseClass+"-hovered"));a=a.target.value;void 0!==a&&(this._hovering?a!==this._hoveredValue&&(g(this).addClass(this.baseClass+"-hovered"),this._updateStars(a,!1),this._hoveredValue=a):(this._previousOnChangeValue=this.value,this.handleOnChange(a)))},_pointerUpHandler:function(a){a=a.target.value;void 0!==a&&this.handleOnChange(a);this._hovering?g(this).removeClass(this.baseClass+"-hovered"):this._removeEventsHandlers()},
_pointerLeaveHandler:function(){this._hovering&&(this._hovering=!1,this._hoveredValue=null,g(this).removeClass(this.baseClass+"-hovered"),this._updateStars(this.value,!1));this._removeEventsHandlers()},_keyDownHandler:function(a){var b="ltr"===this.effectiveDir?"ArrowRight":"ArrowLeft",c="ltr"===this.effectiveDir?"ArrowLeft":"ArrowRight";switch(a.key){case b:case "ArrowUp":case "Add":a.preventDefault();this._incrementValue();break;case c:case "ArrowDown":case "Subtract":a.preventDefault(),this._decrementValue()}},
_incrementValue:function(){this.value<this.max&&(this.value+=this.editHalfValues?.5:1)},_decrementValue:function(){this.value>(this.allowZero?0:this.editHalfValues?.5:1)&&(this.value-=this.editHalfValues?.5:1)},_updateStars:function(a,d){var b=this.focusNode.querySelectorAll("div");d&&(this._zeroSettingArea=this.ownerDocument.createElement("div"),this._zeroSettingArea.className=this.baseClass+"-zero",this._zeroSettingArea.value=0,this.focusNode.appendChild(this._zeroSettingArea),this._updateZeroArea());
for(var c=0;c<2*this.max;c++){var l=this.baseClass+(c%2?"-end ":"-start "),l=.5*(c+1)<=a?l+(this.baseClass+"-full"):l+(this.baseClass+"-empty");if(d){var f=this.ownerDocument.createElement("div");f.value=this.editHalfValues?(c+1)/2:Math.ceil((c+1)/2);this.focusNode.appendChild(f)}else f=b[c+1];f.className=this.baseClass+"-star-icon "+l}},_updateZeroArea:function(){this.readOnly||!this.allowZero?(g(this._zeroSettingArea).addClass("d-hidden"),delete this.focusNode.value):(g(this._zeroSettingArea).removeClass("d-hidden"),
this.focusNode.value=0)}})});
define("delite/FormValueWidget",["dcl/dcl","./FormWidget","./activationTracker"],function(c,m){function g(c,f,a){return function(b){this.value=b;this[a]&&this[a].remove();this[a]=this.defer(function(){delete this[a];if(typeof b!==typeof this[f]||0!==this.compare(b,this[f]))this[f]=b,this.deliver(),this.emit(c)})}}return c(m,{readOnly:!1,refreshRendering:function(c){("tabStops"in c||"readOnly"in c)&&this.forEachFocusNode(function(c){c.readOnly=this.readOnly})},compare:function(c,f){return"number"===
typeof c&&"number"===typeof f?isNaN(c)&&isNaN(f)?0:c-f:c>f?1:c<f?-1:0},createdCallback:function(){this.on("delite-activated",function(){this._previousOnInputValue=this._previousOnChangeValue=this.value})},handleOnChange:g("change","_previousOnChangeValue","_onChangeHandle"),handleOnInput:g("input","_previousOnInputValue","_onInputHandle"),afterFormResetCallback:function(){this.value!==this.valueNode.value&&(this.value=this.valueNode.value)}})});
define("delite/activationTracker","dcl/advise dcl/dcl requirejs-dplugins/jquery!attributes/classes decor/Evented ./on dpointer/events requirejs-domready/domReady!".split(" "),function(c,m,g,k,f){var a,b;c=new (m(k,{hoverDelay:500,activeStack:[],hoverStack:[],registerWin:function(d){function c(b){b&&b.target&&null==b.target.parentNode||(a=(new Date).getTime(),k._pointerDownOrFocusHandler(b.target,"mouse"))}function h(a){if(a.target.tagName){var b=a.target.tagName.toLowerCase();"#document"!==b&&"body"!==
b&&k._focusHandler(a.target)}}function l(){b=(new Date).getTime()}function f(a){b&&(new Date).getTime()<b+500||k._mouseOverHandler(a.target)}function p(a){a.forEach(function(a){for(var b,d=0;b=a.removedNodes&&a.removedNodes[d++];)if(1===b.nodeType){var c=k.activeStack.indexOf(b);-1<c&&k._setActiveStack(k.activeStack.slice(0,c));b=k.hoverStack.indexOf(b);-1<b&&k._setHoverStack(k.hoverStack.slice(0,b))}})}var k=this,q=(d=d.document)&&d.body;if(q){q.addEventListener("pointerdown",c,!0);q.addEventListener("focus",
h,!0);q.addEventListener("touchend",l,!0);q.addEventListener("mouseover",f);var g=(new MutationObserver(p)).observe(q,{childList:!0,subtree:!0});return{remove:function(){q.removeEventListener("pointerdown",c,!0);q.removeEventListener("focus",h,!0);q.removeEventListener("mouseover",f);g.disconnect()}}}},_getStack:function(a,b){var d=[];try{for(;a;)if(a._popupParent)a=a._popupParent;else if(a.tagName&&"body"===a.tagName.toLowerCase()){if(a===document.body)break;a=a.ownerDocument.defaultView.frameElement}else a.disabled&&
!b?d=[]:d.unshift(a),a=a.parentNode}catch(l){}return d},_pointerDownOrFocusHandler:function(a,b){a=this._getStack(a,"mouse"!==b);this._setActiveStack(a,b)},_focusHandler:function(b){if(b&&9!==b.nodeType){var d=this.activeStack[this.activeStack.length-1];d&&(new Date).getTime()<a+100&&b.contains(d.parentNode)||(this._clearFocusTimer&&(clearTimeout(this._clearFocusTimer),delete this._clearFocusTimer),this._pointerDownOrFocusHandler(b))}},_setActiveStack:function(a,b){var d=this.activeStack,c=d.length-
1,e=a.length-1;if(a[e]!==d[c]){this.activeStack=a;this.emit("active-stack",a);var p;for(p=c;0<=p&&d[p]!==a[p];p--)c=d[p],f.emit(c,"delite-deactivated",{bubbles:!1,by:b}),this.emit("deactivated",c,b);for(p++;p<=e;p++)c=a[p],f.emit(c,"delite-activated",{bubbles:!1,by:b}),this.emit("activated",c,b)}},_mouseOverHandler:function(a){this._setHoverStack(this._getStack(a))},_setHoverStack:function(a){var b=this.hoverStack,d=b.length-1,c=a.length-1;if(a[c]!==b[d]){this.hoverStack=a;for(this.emit("hover-stack",
a);0<=d&&b[d]!==a[d];d--)this.onNodeLeaveHoverStack(b[d]);for(d++;d<=c;d++)this.onNodeEnterHoverStack(a[d])}},onNodeEnterHoverStack:function(a){a.hoverDeactivateTimer?(clearTimeout(a.hoverDeactivateTimer),delete a.hoverDeactivateTimer):a.hoverActivateTimer=setTimeout(function(){delete a.hoverActivateTimer;f.emit(a,"delite-hover-activated",{bubbles:!1})}.bind(this),this.hoverDelay)},onNodeLeaveHoverStack:function(a){a.hoverActivateTimer?(clearTimeout(a.hoverActivateTimer),delete a.hoverActivateTimer):
a.hoverDeactivateTimer=setTimeout(function(){delete a.hoverDeactivateTimer;a.hoverActivated=!1;f.emit(a,"delite-hover-deactivated",{bubbles:!1})}.bind(this),this.hoverDelay)}}));c.registerWin(window);return c});
define("delite/FormWidget",["dcl/dcl","./Widget"],function(c,m){return c(m,{name:"",alt:"",value:"",tabIndex:0,tabStops:["focusNode"],disabled:!1,required:!1,moveAriaAttributes:!0,_mapAttributes:c.superCall(function(c){return function(){var k=this.querySelector("input");k?(k.value&&this.setAttribute("value",k.value),k.name&&this.setAttribute("name",k.name)):k=this.ownerDocument.createElement("input");this.valueNode=k;return c.call(this)}}),refreshRendering:function(c){"tabStops"in c&&c.tabStops.forEach(function(a){a=
this[a];a.tabIndex="-1";a.removeAttribute("tabindex")},this);if("tabStops"in c||"tabIndex"in c||"disabled"in c||"alt"in c||"required"in c||"id"in c){var k=!0,f;"id"in c&&this.id&&(f=this.id+"-input");this.forEachFocusNode(function(a){this.disabled?(a.tabIndex="-1",a.removeAttribute("tabindex")):a.tabIndex=this._get("tabIndex");a.alt=this.alt;/^(button|fieldset|input|keygen|optgroup|option|select|textarea)$/i.test(a.tagName)||a._ctor&&a._ctor._propsToObserve&&"disabled"in a._ctor._propsToObserve?a.disabled=
this.disabled:a.setAttribute("aria-disabled",""+this.disabled);/^(input|select|textarea)$/i.test(a.tagName)||a._ctor&&a._ctor._propsToObserve&&"required"in a._ctor._propsToObserve?a.required=this.required:/^(combobox|gridcell|listbox|radiogroup|spinbutton|textbox|tree)$/i.test(a.getAttribute("role"))&&a.setAttribute("aria-required",""+this.required);/^(input|textarea|select|button|keygen)$/i.test(a.tagName)&&f&&k&&(k=!1,a.id||(a.id=f))})}var a=this.valueNode!==this&&this.valueNode;a&&("value"in c&&
(a.value=this.value),"disabled"in c&&(a.disabled=this.disabled),"name"in c&&(a.name=this.name),"required"in c&&(a.required=this.required))},focus:function(){var c=this.firstFocusNode();if(!this.disabled&&c.focus)try{c.focus()}catch(k){}},firstFocusNode:function(){return this[this.tabStops[0]]},forEachFocusNode:function(c){this.tabStops.forEach(function(k){k=this[k];k!==this&&c.call(this,k)},this)},setAttribute:c.superCall(function(c){return function(k,f){/^aria-/.test(k)&&this.focusNode&&this.moveAriaAttributes?
this.focusNode.setAttribute(k,f):c.call(this,k,f)}}),getAttribute:c.superCall(function(c){return function(k){return/^aria-/.test(k)&&this.focusNode&&this.moveAriaAttributes?this.focusNode.getAttribute(k):c.call(this,k)}}),hasAttribute:c.superCall(function(c){return function(k){return/^aria-/.test(k)&&this.focusNode&&this.moveAriaAttributes?this.focusNode.hasAttribute(k):c.call(this,k)}}),removeAttribute:c.superCall(function(c){return function(k){/^aria-/.test(k)&&this.focusNode&&this.moveAriaAttributes?
this.focusNode.removeAttribute(k):c.call(this,k)}}),postRender:function(){this._moveAriaAttributes()},attachedCallback:function(){for(var c=this.parentNode;c;c=c.parentNode)if(/^form$/i.test(c.tagName)){this.on("reset",function(){this.defer(function(){this.afterFormResetCallback()})}.bind(this),c);break}},afterFormResetCallback:function(){this.checked!==this.valueNode.checked&&(this.checked=this.valueNode.checked)},_moveAriaAttributes:function(){if(this.focusNode&&this.moveAriaAttributes)for(var c,
k=0;c=this.attributes[k++];)/^aria-/.test(c.name)&&(this.setAttribute(c.name,c.value),HTMLElement.prototype.removeAttribute.call(this,c.name))}})});define("delite/handlebars!xdeliteful/Button/Button.html",["delite/handlebars"],function(c){return c.compile('<template attach-point="focusNode">\n\t<span attach-point="iconNode" class="d-icon {{this.iconClass ? this.iconClass : \'d-hidden\'}}" aria-hidden="true"> </span><span attach-point="labelNode" d-hidden="{{!this.label}}">{{label}}</span>\n</template>')});
define("xdeliteful/Button","dcl/dcl requirejs-dplugins/has delite/register delite/Widget delite/Container requirejs-dplugins/has!bidi?./Button/bidi/Button delite/handlebars!./Button/Button.html delite/theme!./Button/themes/{{theme}}/Button.css".split(" "),function(c,m,g,k,f,a,b){c=c(f,{label:"",iconClass:"",baseClass:"d-button",template:b,createdCallback:function(){this.label||(this.label=this.textContent.trim())},computeProperties:function(a){if("title"in a||"label"in a)this.title=this.title||this.label||
""}});m=g("d-button",m("bidi")?[HTMLButtonElement,c,a]:[HTMLButtonElement,c]);m.Impl=c;return m});
define("xdeliteful/Button/bidi/Button",["dcl/dcl","dpointer/events"],function(c){return c(null,{refreshRendering:function(c){if("textDir"in c||"label"in c)this.labelNode.textContent=this.applyTextDirection(this.label);this.title&&"textDir"in c&&(this.title=this.applyTextDirection(this.title))},postRender:function(){this.on("pointerover",this._pointerOverHandler.bind(this))},_pointerOverHandler:function(){this.title&&(this.title=this.applyTextDirection(this.title))}})});
define("deliteful/LinearLayout",["requirejs-dplugins/jquery!attributes/classes","delite/register","delite/DisplayContainer","delite/theme!./LinearLayout/themes/{{theme}}/LinearLayout.css"],function(c,m,g){return m("d-linear-layout",[HTMLElement,g],{baseClass:"d-linear-layout",vertical:!0,refreshRendering:function(k){"vertical"in k&&(c(this).toggleClass("-d-linear-layout-v",this.vertical),c(this).toggleClass("-d-linear-layout-h",!this.vertical))}})});
define("deliteful/SidePane","dcl/dcl dpointer/events requirejs-dplugins/jquery!attributes/classes decor/sniff delite/register delite/DisplayContainer requirejs-dplugins/Promise! delite/theme!./SidePane/themes/{{theme}}/SidePane.css".split(" "),function(c,m,g,k,f,a,b){function d(a){return"-d-side-pane-"+a}function e(a,b){b?(a.style.visibility="visible",a.style.display="block"):(a.style.visibility="hidden",a.style.display="none")}function h(a){do a=a.nextElementSibling;while(a&&1!==a.nodeType);return a}
return f("d-side-pane",[HTMLElement,a],{baseClass:"d-side-pane",mode:"push",position:"start",animate:!0,swipeClosing:!0,_transitionTiming:{default:0,chrome:50,ios:20,android:100,ff:100},_timing:0,_visible:!1,_opening:!1,_originX:NaN,_originY:NaN,attachedCallback:function(){this.parentNode.style.overflow="hidden"},show:c.superCall(function(a){return function(){return 0<arguments.length?a.apply(this,arguments).then(function(a){return this._open().then(function(){return a})}.bind(this)):this._open()}}),
hide:c.superCall(function(a){return function(){return 0<arguments.length?a.apply(this,arguments).then(function(a){return this._close().then(function(){return a})}.bind(this)):this._close()}}),toggle:function(){return this._visible?this.hide():this.show()},_open:function(){var a,c=h(this),f=this.animate&&9!==k("ie");this._visible||(f&&(g(this).addClass(d("animate")),c&&g(c).addClass(d("animate"))),"reveal"===this.mode?c&&(a=this._setAfterTransitionHandlers(c)):a=this._setAfterTransitionHandlers(this),
e(this,!0),f?this.defer(this._openImpl,this._timing):(this._openImpl(),a=new b(function(a){this.defer(a,this._timing)}.bind(this))));return(a||b.resolve(!0)).then(function(){this.emit("sidepane-after-show")}.bind(this))},_close:function(){var a;if(this._visible){if("reveal"===this.mode){var d=h(this);d&&(a=this._setAfterTransitionHandlers(d))}else a=this._setAfterTransitionHandlers(this);this.animate&&9!==k("ie")?this.defer(function(){this._hideImpl()},this._timing):(this._hideImpl(),e(this,!1))}return a||
b.resolve(!0)},_setAfterTransitionHandlers:function(a){var d=this,c={node:a},e=new b(function(a){c.handle=function(){d._afterTransitionHandle(c,a)}});a.addEventListener("webkitTransitionEnd",c.handle);a.addEventListener("transitionend",c.handle);return e},_afterTransitionHandle:function(a,b){g(this).removeClass(d("under"));this._visible||e(this,!1);a.node.removeEventListener("webkitTransitionEnd",a.handle);a.node.removeEventListener("transitionend",a.handle);b()},preRender:function(){this._transitionTiming=
{default:0,chrome:20,ios:20,android:100,ff:100};for(var a in this._transitionTiming)k(a)&&this._timing<this._transitionTiming[a]&&(this._timing=this._transitionTiming[a])},postRender:function(){m.setTouchAction(this,"pan-y");this._resetInteractions();e(this,!1)},_refreshMode:function(a){g(this).removeClass([d("push"),d("overlay"),d("reveal")].join(" ")).addClass(d(this.mode));a&&this._visible&&g(a).toggleClass(d("translated"),"overlay"!==this.mode);"reveal"!==this.mode||this._visible?"overlay"===
this.mode?g(this).removeClass(d("under")).addClass(d("ontop")):g(this).removeClass([d("under"),d("ontop")].join(" ")):g(this).removeClass(d("ontop")).addClass(d("under"))},_refreshPosition:function(a){g(this).removeClass([d("start"),d("end")].join(" ")).addClass(d(this.position));a&&this._visible&&g(a).removeClass([d("start"),d("end")].join(" ")).addClass(d(this.position))},refreshRendering:function(a){if("mode"in a||"position"in a||"animate"in a){var b=h(this);g(this).removeClass(d("animate"));b&&
(g(b).removeClass(d("animate")),g(b).toggleClass("d-rtl","rtl"===this.effectiveDir));"mode"in a&&this._refreshMode(b);"position"in a&&this._refreshPosition(b);g(this).toggleClass(d("hidden"),!this._visible).toggleClass(d("visible"),this._visible);this.animate&&this.defer(function(){g(this).addClass(d("animate"));b&&g(b).addClass(d("animate"))},this._timing)}},_openImpl:function(){if(!this._visible&&(this._visible=!0,g(this).removeClass(d("hidden")).addClass(d("visible")),"push"===this.mode||"reveal"===
this.mode)){var a=h(this);a&&g(a).removeClass([d("nottranslated"),d("start"),d("end")].join(" ")).addClass([d(this.position),d("translated")].join(" "))}},_hideImpl:function(){if(this._visible&&(this._opening=this._visible=!1,g(this.ownerDocument.body).removeClass(d("no-select")),g(this).removeClass(d("visible")).addClass(d("hidden")),"push"===this.mode||"reveal"===this.mode)){var a=h(this);a&&g(a).removeClass([d("translated"),d("start"),d("end")].join(" ")).addClass([d(this.position),d("nottranslated")].join(" "))}},
_isLeft:function(){return"start"===this.position&&"ltr"===this.effectiveDir||"end"===this.position&&"rtl"===this.effectiveDir},_pointerDownHandler:function(a){this._originX=a.pageX;this._originY=a.pageY;if(this._visible||this._isLeft()&&!this._visible&&10>=this._originX||!this._isLeft()&&!this._visible&&this._originX>=this.ownerDocument.width-10)this._opening=!this._visible,this._pressHandle.remove(),this._moveHandle=this.on("pointermove",this._pointerMoveHandler.bind(this)),this._releaseHandle=this.on("pointerup",
this._pointerUpHandler.bind(this)),g(this.ownerDocument.body).addClass(d("no-select"))},_pointerMoveHandler:function(a){!this._opening&&10<Math.abs(a.pageY-this._originY)?this._resetInteractions():(a=a.pageX,this._isLeft()?this._visible&&(this._originX<a&&(this._originX=a),10<(this.swipeClosing&&this._originX-a)&&(this._close(),this._originX=a)):this._visible&&(this._originX>a&&(this._originX=a),10<(this.swipeClosing&&a-this._originX)&&(this._close(),this._originX=a)))},_pointerUpHandler:function(){this._opening=
!1;g(this.ownerDocument.body).removeClass(d("no-select"));this._resetInteractions()},_resetInteractions:function(){this._releaseHandle&&this._releaseHandle.remove();this._moveHandle&&this._moveHandle.remove();this._pressHandle&&this._pressHandle.remove();this.swipeClosing&&(this._pressHandle=this.on("pointerdown",this._pointerDownHandler.bind(this)));this._originY=this._originX=NaN}})});
define("deliteful/Panel",["dcl/dcl","delite/register","delite/Widget","delite/theme!./Panel/themes/{{theme}}/Panel.css"],function(c,m,g){return m("d-panel",[HTMLElement,g],{baseClass:"d-panel",label:"",openIconClass:"",closedIconClass:""})});
define("deliteful/ViewStack","dcl/dcl decor/sniff requirejs-dplugins/Promise! requirejs-dplugins/jquery!attributes/classes delite/register delite/DisplayContainer delite/theme!./ViewStack/themes/{{theme}}/ViewStack.css requirejs-dplugins/css!./ViewStack/transitions/slide.css requirejs-dplugins/css!./ViewStack/transitions/reveal.css".split(" "),function(c,m,g,k,f,a){function b(a,b){a&&(b?(a.style.visibility="visible",a.style.display=""):(a.style.visibility="hidden",a.style.display="none"))}function d(a){a&&
k(a).addClass("-d-view-stack-reverse")}function e(a){a&&(a.className=a.className.split(/ +/).filter(function(a){return!/^-d-view-stack/.test(a)}).join(" "))}return f("d-view-stack",[HTMLElement,a],{baseClass:"d-view-stack",transition:"slide",reverse:!1,selectedChildId:"",_pendingChild:null,_setSelectedChildIdAttr:function(a){this.ownerDocument.getElementById(a)&&(this.attached?this.show(a):this._pendingChild=a)},_getSelectedChildIdAttr:function(){return this._visibleChild?this._visibleChild.id:""},
createdCallback:function(){this._transitionTiming={default:0,chrome:20,ios:20,android:100,ff:100,ie:20};for(var a in this._transitionTiming)m(a)&&this._timing<this._transitionTiming[a]&&(this._timing=this._transitionTiming[a])},attachedCallback:function(){var a={transition:"none"};this._pendingChild?(this.show(this._pendingChild,a),this._pendingChild=null):!this._visibleChild&&0<this.children.length&&this.show(this.children[0],a)},_timing:0,_setChildrenVisibility:function(){var a=this.children;!this._visibleChild&&
0<a.length&&(this._visibleChild=a[0]);for(var d=0;d<a.length;d++)b(a[d],a[d]===this._visibleChild)},onAddChild:c.superCall(function(a){return function(b){b=a.call(this,b);this._setChildrenVisibility();return b}}),removeChild:c.superCall(function(a){return function(b){a.call(this,b);this._visibleChild===b&&(this._visibleChild=null)}}),postRender:function(){this._setChildrenVisibility()},showNext:function(a){return this._showPreviousNext("nextElementSibling",a)},showPrevious:function(a){var b={reverse:!0};
c.mix(b,a||{});return this._showPreviousNext("previousElementSibling",b)},_showPreviousNext:function(a,b){var d=null;!this._visibleChild&&0<this.children.length&&(this._visibleChild=this.children[0]);this._visibleChild&&(a=this._visibleChild[a])&&(d=this.show(a,b));return d},_doTransition:function(a,c,e,f,r){e=[];k(this).addClass("-d-view-stack-transition");"none"!==f?(a&&(e.push(this._startNodeTransition(a)),k(a).addClass("-d-view-stack-"+f)),c&&(e.push(this._startNodeTransition(c)),k(c).addClass("-d-view-stack-"+
f+" -d-view-stack-in")),r&&(d(a),d(c)),this.defer(function(){c&&k(c).addClass("-d-view-stack-transition");a&&k(a).addClass("-d-view-stack-transition -d-view-stack-out");r&&(d(a),d(c));c&&k(c).addClass("-d-view-stack-in")},this._timing)):a!==c&&b(a,!1);return g.all(e).then(function(){k(this).removeClass("-d-view-stack-transition");k(c).removeClass("-d-view-stack-transition -d-view-stack-in");k(a).removeClass("-d-view-stack-transition -d-view-stack-out")}.bind(this))},changeDisplay:function(a,d){if(!a||
a.parentNode!==this)return g.resolve();var c=this._visibleChild;e(c);e(a);b(a,!0);this._visibleChild=a;return this._doTransition(c,a,d,c===a?"none":d.transition||this.transition,"ltr"===this.effectiveDir?d.reverse:!d.reverse)},show:c.superCall(function(a){return function(b,d){for(var c=this;c&&"none"!==c.style.display&&c!==this.ownerDocument.body;)c=c.parentNode;if(9===m("ie")||c!==this.ownerDocument.body)d||(d={}),d.transition="none";this._visibleChild&&this._visibleChild.parentNode!==this&&(this._visibleChild=
null);!this._visibleChild&&0<this.children.length&&(this._visibleChild=this.children[0]);return a.apply(this,[b,d])}}),_startNodeTransition:function(a){return(new g(function(b){var d=this.defer(b,1E3);a.addEventListener("transitionend",function r(){a.removeEventListener("transitionend",r);d.remove();b()})}.bind(this))).then(this._afterNodeTransitionHandler.bind(this,a))},_afterNodeTransitionHandler:function(a){b(a,this._visibleChild===a);e(a)}})});
define("requirejs-dplugins/css",["./has","./Promise!","module"],function(c,m,g){c.add("event-link-onload-api",function(a){a=a.navigator.userAgent.match(/AppleWebKit\/([\d.]+)/);return!a||535<parseInt(a[1],10)});var k={},f,a=function(a){return new m(function(b){if(c("event-link-onload-api"))a.onreadystatechange=a.onload=function(){a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=a.onload=null,b())};else{var d=function(){var c=a.sheet||a.styleSheet,e=document.styleSheets;c&&-1!==Array.prototype.lastIndexOf.call(e,
c)?b():setTimeout(d,25)};d()}})},b={id:g.id,load:function(b,e,p){if(c("builder"))h.addOnce(d,b),p();else{var l=g.config();l.layersMap&&(b=l.layersMap[b]||b);l=document.head||document.getElementsByTagName("head")[0];e=e.toUrl(b);var n;k[e]||(n=document.createElement("link"),n.rel="stylesheet",n.type="text/css",n.href=e,l.insertBefore(n,f?f.nextSibling:l.firstChild),f=n,k[e]=a(n));k[e].then(function(){p(b)})}}};if(c("builder")){var d=[],e,h={writeConfig:function(a,b,d,c){var e={config:{}};e.config[b]=
{layersMap:{}};c.forEach(function(a){e.config[b].layersMap[a]=d});a("require.config("+JSON.stringify(e)+");")},writeLayer:function(a,b,d){function c(a){var b,d=a.shift();if(d)try{b=require.nodeRequire(d)}catch(A){return c(a)}return b}var e=require.getNodePath(require.toUrl(g.id).replace(/[^\/]*$/,"node_modules/clean-css")),h=c([e,"clean-css"]),f=require.nodeRequire("fs");d=d.map(require.toUrl).filter(function(a){return f.existsSync(a)?!0:(console.log(">> Css file '"+a+"' was not found."),!1)});if(h){var l=
"";d.forEach(function(a){a=(new h({relativeTo:"./",target:b})).minify("@import url("+a+");");l+=a.styles||a});a(b,l);return!0}console.log(">> WARNING: Node module clean-css not found. Skipping CSS inlining. If you want CSS inlining run 'npm install clean-css' in your console.");d.forEach(function(b){a(b,f.readFileSync(b))});return!1},addOnce:function(a,b){-1===a.indexOf(b)&&a.push(b)}};b.writeFile=function(a,b,d,c){e=c};b.onLayerEnd=function(a,b){if(b.name&&b.path){var c=b.path.replace(/\.js$/,".css");
b=b.name+".css";h.writeLayer(e,c,d)&&h.writeConfig(a,g.id,b,d);d=[]}};b.buildFunctions=h}return b});define("delite/handlebars!deliteful/ProgressIndicator/ProgressIndicator.html",["delite/handlebars"],function(c){return c.compile('<template>\n\t<svg xmlns="http://www.w3.org/2000/svg" attach-point="svgNode">\n\t\t<defs>\n\t\t\t<symbol viewBox="0 0 30 30" preserveAspectRatio="none" attach-point="symbolNode">\n\t\t\t\t<text x="48%" y="67%" attach-point="msgNode"></text>\n\t\t\t</symbol>\n\t\t</defs>\n\t\t<g class="d-progress-indicator-lines" attach-point="linesNode">\n\t\t\t<line x1="50.0%" y1="24.0%" x2="50.0%" y2="07.0%"></line>\n\t\t\t<line x1="63.0%" y1="28.0%" x2="72.0%" y2="13.0%"></line>\n\t\t\t<line x1="73.0%" y1="37.0%" x2="88.0%" y2="28.0%"></line>\n\t\t\t<line x1="93.0%" y1="50.0%" x2="76.0%" y2="50.0%"></line>\n\t\t\t<line x1="73.0%" y1="63.0%" x2="88.0%" y2="71.0%"></line>\n\t\t\t<line x1="63.0%" y1="72.0%" x2="71.0%" y2="87.0%"></line>\n\t\t\t<line x1="50.0%" y1="76.0%" x2="50.0%" y2="93.0%"></line>\n\t\t\t<line x1="37.0%" y1="72.0%" x2="28.0%" y2="87.0%"></line>\n\t\t\t<line x1="27.0%" y1="63.0%" x2="13.0%" y2="71.0%"></line>\n\t\t\t<line x1="24.0%" y1="50.0%" x2="07.0%" y2="50.0%"></line>\n\t\t\t<line x1="27.0%" y1="37.0%" x2="13.0%" y2="29.0%"></line>\n\t\t\t<line x1="37.0%" y1="27.0%" x2="29.0%" y2="13.0%"></line>\n\t\t</g>\n\t\t<use x="28.5%" y="28.5%" width="43%" height="43%" attach-point="useNode"></use>\n\t</svg>\n</template>')});
define("deliteful/ProgressIndicator","dcl/dcl delite/hc delite/register delite/Widget delite/handlebars!./ProgressIndicator/ProgressIndicator.html delite/theme!./ProgressIndicator/themes/{{theme}}/ProgressIndicator.css".split(" "),function(c,m,g,k,f){return g("d-progress-indicator",[HTMLElement,k],{active:!1,value:NaN,speed:"normal",baseClass:"d-progress-indicator",_requestId:0,_lapsTime:1E3,_requestAnimationFunction:window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame&&
window.webkitRequestAnimationFrame.bind(window)||function(a){return this.defer(a,1E3/60)},_cancelAnimationFunction:(window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||function(a){a.remove()}).bind(window),_requestRendering:function(a){return this._requestAnimationFunction.call(this,a)},_cancelRequestRendering:function(a){return this._cancelAnimationFunction(a)},_reset:function(){this._requestRendering(function(){this.msgNode.textContent="";for(var a=0;12>a;a++)this.lineNodeList[a].style.opacity=
1/12*(a+1)}.bind(this))},_stopAnimation:function(){this._requestId&&(this._cancelRequestRendering(this._requestId),this._requestId=0)},_startAnimation:function(){if(!this._requestId){this._reset();var a=16.7/this._lapsTime,b=function(){for(var d=0,c;12>d;d++)c=(parseFloat(this.lineNodeList[d].style.opacity)-a)%1,this.lineNodeList[d].style.opacity=0>c?1:c;this._requestId=this._requestRendering(b)}.bind(this);this._requestId=this._requestRendering(b)}},template:f,postRender:function(){this.lineNodeList=
this.linesNode.querySelectorAll("line");var a=this.widgetId+"-symbol";this.symbolNode.id=a;this.useNode.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#"+a);this.svgNode.style.width="100%";this.svgNode.style.height="100%";this.svgNode.style.textAnchor="middle";if(a=m("highcontrast"))this.linesNode.style.stroke=a,this.msgNode.style.fill=a,this.msgNode.textContent=this.msgNode.textContent;this._reset()},computeProperties:function(a){var b;"speed"in a&&(b="fast"===this.speed?500:"slow"===
this.speed?2E3:1E3,this._lapsTime!==b&&(this._lapsTime=b));"value"in a&&!isNaN(this.value)&&(b=Math.max(Math.min(this.value,100),0),this.value!==b&&(this.value=b))},refreshRendering:function(a){"value"in a&&(isNaN(this.value)?this.active&&this._startAnimation():(this._stopAnimation(),this._requestRendering(function(){this.msgNode.textContent=Math.floor(this.value);for(var a=0,d;12>a;a++)d=.8*Math.min(Math.max(.12*this.value-a,0),1),this.lineNodeList[a].style.opacity=.2+d}.bind(this))));"speed"in a&&
this._requestId&&(this._stopAnimation(),this._startAnimation());"active"in a&&(this.active?isNaN(this.value)&&this._startAnimation():this._stopAnimation(),this._requestRendering(function(){this.style.visibility=this.active?"visible":"hidden"}.bind(this)))},destroy:function(){this._stopAnimation()}})});
define("delite/hc",["requirejs-dplugins/has","requirejs-domready/domReady!"],function(c){c.add("highcontrast",function(){if("undefined"===typeof window)return!1;var c=document.createElement("div");try{c.style.cssText="border: 1px solid; border-color:red green; position: absolute; height: 5px; top: -999px;";document.body.appendChild(c);var g=getComputedStyle(c);return g.borderTopColor===g.borderRightColor?g.color:null}catch(k){return console.warn("hccss: exception detecting high-contrast mode, document is likely hidden: "+
k.toString()),null}finally{document.body.removeChild(c)}});c("highcontrast")&&(document.body.className=(document.body.className+" d-hc").trim());return c});
define("deliteful/features",["requirejs-dplugins/has","deliteful/channelBreakpoints"],function(c,m){if("undefined"!==typeof window){var g=window.matchMedia("(min-device-width: "+m.smallScreen+")"),k=window.matchMedia("(min-device-width: "+m.mediumScreen+")");c.add("phone-like-channel",function(){return!g.matches&&!k.matches});c.add("tablet-like-channel",function(){return g.matches&&!k.matches});c.add("desktop-like-channel",function(){return g.matches&&k.matches})}c.add("animationEndEvent",function(){var c=
{animation:"animationend","-webkit-animation":"webkitAnimationEnd","-ms-animation":"MSAnimationEnd"},a=document.createElement("fakeElement"),b;for(b in c)if(void 0!==a.style[b])return c[b];return null});return c});define("deliteful/channelBreakpoints",["module"],function(c){c=c.config();return{smallScreen:c.smallScreen||"480px",mediumScreen:c.mediumScreen||"1024px"}});define("delite/handlebars!deliteful/Switch/Switch.html",["delite/handlebars"],function(c){return c.compile('<template class="d-switch-width d-switch-rounded" role="presentation">\n\t<input type="checkbox" class="-d-switch-input d-switch-width" attach-point="focusNode,valueNode" checked="{{checked}}" value="{{value}}" name="{{name}}">\n\t<div class="-d-switch-push -d-switch-transition {{this.checked ? \'d-switch-width\' : \'\'}}" attach-point="_pushNode"></div><div class="-d-switch-knobglass" attach-point="_knobGlassNode" touch-action="none"></div><div class="-d-switch-inner-wrapper -d-switch-transition" attach-point="_innerWrapperNode">&nbsp;\n\t\t<div class="-d-switch-inner -d-switch-pull -d-switch-transition" attach-point="_innerNode">\n\t\t\t<div class="-d-switch-block d-switch-leading d-switch-width">{{this.checkedLabel}}&nbsp;</div><div class="-d-switch-block -d-switch-knob d-switch-rounded" attach-point="_knobNode">&nbsp;</div><div class="-d-switch-block d-switch-trailing d-switch-width">{{this.uncheckedLabel}}&nbsp;</div>\n\t\t</div>\n\t</div>\n</template>')});
define("deliteful/Switch","requirejs-dplugins/has requirejs-dplugins/jquery!attributes/classes dpointer/events delite/register deliteful/Checkbox delite/handlebars!./Switch/Switch.html requirejs-dplugins/has!bidi?./Switch/bidi/Switch delite/theme!./Switch/themes/{{theme}}/Switch.css".split(" "),function(c,m,g,k,f,a,b){return k("d-switch",c("bidi")?[HTMLElement,f,b]:[HTMLElement,f],{checkedLabel:"",uncheckedLabel:"",baseClass:"d-switch",template:a,postRender:function(){this.on("pointerdown",this._pointerDownHandler.bind(this),
this._knobGlassNode);this.on("click",this._clickPreventer.bind(this),this._knobGlassNode)},destroy:function(){this._cleanHandlers()},_clickPreventer:function(a){a.preventDefault();a.stopPropagation()},_pointerDownHandler:function(a){this.disabled||(this._startX=this._curX=a.clientX,g.setPointerCapture(this._knobGlassNode,a.pointerId),this._pHandlers||(this._pHandlers=[{e:"pointermove",l:this._pointerMoveHandler.bind(this)},{e:"pointerup",l:this._pointerUpHandler.bind(this)},{e:"lostpointercapture",
l:this._lostPointerCaptureHandler.bind(this)}]),this._pHandlers.forEach(function(a){this._knobGlassNode.addEventListener(a.e,a.l)}.bind(this)),a.preventDefault(),a.stopPropagation())},_pointerMoveHandler:function(a){var b=a.clientX-this._curX,d=window.getComputedStyle(this._pushNode),d=parseInt(d.width,10);!this._drag&&4<Math.abs(a.clientX-this._startX)&&(this._drag=!0,m(this._innerNode).removeClass("-d-switch-transition"),m(this._pushNode).removeClass("-d-switch-transition"),m(this._innerWrapperNode).removeClass("-d-switch-transition"));
this._curX=a.clientX;this._drag&&(this._knobWidth=parseInt(window.getComputedStyle(this._knobNode).width,10),this._switchWidth=parseInt(window.getComputedStyle(this).width,10),b="ltr"===this.effectiveDir?d+b:d-b,b=Math.max(this.checked?this._knobWidth:0,Math.min(this.checked?this._switchWidth:this._switchWidth-this._knobWidth,b)),this._pushNode.style.width=b+"px");a.preventDefault();a.stopPropagation()},_pointerUpHandler:function(a){var b=this.checked;if(this._drag){this._drag=!1;var d=parseInt(window.getComputedStyle(this._pushNode).width,
10),c=parseInt(window.getComputedStyle(this._pushNode).marginLeft,10);this.checked=d+c+this._knobWidth/2>=this._switchWidth/2}else this.checked=!this.checked;this.checked!==b&&this.emit("change");a.preventDefault();a.stopPropagation()},_lostPointerCaptureHandler:function(){this._cleanHandlers();this._drag=!1;this._pushNode.style.width="";this._innerNode.style.transform="none";m(this._innerNode).addClass("-d-switch-transition");m(this._pushNode).addClass("-d-switch-transition");m(this._innerWrapperNode).addClass("-d-switch-transition")},
_cleanHandlers:function(){this._pHandlers.forEach(function(a){this._knobGlassNode.removeEventListener(a.e,a.l)}.bind(this))}})});
define("deliteful/Switch/bidi/Switch",["dcl/dcl","dpointer/events"],function(c){return c(null,{refreshRendering:function(c){if("dir"in c||"textDir"in c||"checkedLabel"in c)this._innerNode.firstChild.textContent=this.applyTextDirection(this.checkedLabel);if("dir"in c||"textDir"in c||"uncheckedLabel"in c)this._innerNode.lastChild.textContent=this.applyTextDirection(this.uncheckedLabel);this.title&&"textDir"in c&&(this.title=this.applyTextDirection(this.title))},postRender:function(){this.on("pointerover",
this._pointerOverHandler.bind(this))},_pointerOverHandler:function(){this.title&&(this.title=this.applyTextDirection(this.title))}})});define("delite/handlebars!deliteful/ToggleButton/ToggleButton.html",["delite/handlebars"],function(c){return c.compile('<template role="button" type="button" attach-point="focusNode" aria-pressed="{{this.checked ? \'true\' : \'false\'}}" on-click="{{toggle}}" aria-label="{{this.checked ? this.checkedLabel : this.label}}">\n    <span attach-point="iconNode" aria-hidden="true" class="d-icon {{this.checked &amp;&amp; this.checkedIconClass ? this.checkedIconClass : (this.iconClass ? this.iconClass : \'d-hidden\')}}"></span><span attach-point="labelNode" d-shown="{{this.showLabel}}">{{this.checked &amp;&amp; this.checkedLabel ? this.checkedLabel : this.label}}</span>\n</template>')});
define("deliteful/ToggleButton","dcl/dcl delite/register requirejs-dplugins/has ./Button ./Toggle requirejs-dplugins/has!bidi?./ToggleButton/bidi/ToggleButton delite/handlebars!./ToggleButton/ToggleButton.html delite/theme!./ToggleButton/themes/{{theme}}/ToggleButton.css".split(" "),function(c,m,g,k,f,a,b){c=c([k.Impl,f],{baseClass:"d-toggle-button",checkedLabel:"",checkedIconClass:"",template:b,refreshRendering:function(a){!("label"in a||"checkedLabel"in a||"showLabel"in a||"checked"in a)||this.title&&
this.title!==("label"in a?a.label:this.label)&&this.title!==("checkedLabel"in a?a.checkedLabel:this.checkedLabel)||(this.title=this.showLabel?"":this.checked?this.checkedLabel:this.label)}});return m("d-toggle-button",g("bidi")?[HTMLButtonElement,c,a]:[HTMLButtonElement,c])});
define("deliteful/ToggleButton/bidi/ToggleButton",["dcl/dcl","dpointer/events"],function(c){return c(null,{refreshRendering:function(c){if(this.checked&&this.checkedLabel){if("checked"in c||"textDir"in c||"checkedLabel"in c)this.labelNode.textContent=this.applyTextDirection(this.checkedLabel)}else if("checked"in c||"textDir"in c||"label"in c)this.labelNode.textContent=this.applyTextDirection(this.label);this.title&&"textDir"in c&&(this.title=this.applyTextDirection(this.title))},postRender:function(){this.on("pointerover",
this._pointerOverHandler.bind(this))},_pointerOverHandler:function(){this.title&&(this.title=this.applyTextDirection(this.title))}})});
define("deliteful/Toggle",["dcl/dcl","requirejs-dplugins/jquery!attributes/classes","delite/CssState"],function(c,m,g){return c(g,{checked:!1,value:"on",attachedCallback:function(){this._initState=this.checked},afterFormResetCallback:function(){this.checked=this._initState},postRender:function(){this.on("focus",function(){m(this).addClass("d-focused")}.bind(this),this.focusNode);this.on("blur",function(){m(this).removeClass("d-focused")}.bind(this),this.focusNode)},toggle:function(){this.disabled||
(this.checked=!this.checked)}})});
define("delite/CssState",["dcl/dcl","requirejs-dplugins/jquery!attributes/classes","./Widget"],function(c,m,g){return c(g,{booleanCssProps:["disabled","readOnly","selected","opened"],refreshRendering:function(c){this.booleanCssProps.forEach(function(f){f in c&&m(this).toggleClass("d-"+f.toLowerCase(),this[f])},this);"checked"in c&&(m(this).removeClass("mixed"===c.checked?"d-mixed":"d-checked"),this.checked&&m(this).addClass("mixed"===this.checked?"d-mixed":"d-checked"));"state"in c&&m(this).removeClass("d-"+
c.state.toLowerCase()).addClass("d-"+this.state.toLowerCase())}})});define("delite/handlebars!deliteful/RadioButton/RadioButton.html",["delite/handlebars"],function(c){return c.compile('<template role="presentation">\n\t<span class="d-radio-button-icon" aria-hidden="true"></span>\n\t<input type="radio" attach-point="focusNode,valueNode" checked="{{checked}}" value="{{value}}" name="{{name}}">\n</template>')});
define("deliteful/RadioButton",["delite/register","./Checkbox","delite/handlebars!./RadioButton/RadioButton.html","delite/theme!./RadioButton/themes/{{theme}}/RadioButton.css"],function(c,m,g){return c("d-radio-button",[HTMLElement,m],{baseClass:"d-radio-button",template:g,_inputClickHandler:c.superCall(function(c){return function(f){c.call(this,f);this.deliver()}}),toggle:c.superCall(function(c){return function(){this.checked||c.call(this)}}),refreshRendering:function(c){if("checked"in c&&this.checked){if(!this._related){var f=
(this.valueNode.form||this.ownerDocument).querySelectorAll("input[type='radio'][name='"+this.name+"']");this._related=Array.prototype.filter.call(f,function(a){return a!==this.valueNode&&a.form===this.valueNode.form}.bind(this)).map(this.getEnclosingWidget.bind(this))}this._related.forEach(function(a){a.checked=!this.checked}.bind(this))}"name"in c&&delete this._related}})});define("delite/handlebars!deliteful/Checkbox/Checkbox.html",["delite/handlebars"],function(c){return c.compile('<template class="d-reset d-inline" role="presentation">\n\t<span class="d-checkbox-icon" aria-hidden="true"></span>\n\t<input type="checkbox" attach-point="focusNode,valueNode" checked="{{checked}}" value="{{value}}" name="{{name}}">\n</template>')});
define("deliteful/Checkbox","dcl/dcl delite/register delite/FormWidget ./Toggle delite/handlebars!./Checkbox/Checkbox.html delite/theme!./Checkbox/themes/{{theme}}/Checkbox.css".split(" "),function(c,m,g,k,f){return m("d-checkbox",[HTMLElement,g,k],{baseClass:"d-checkbox",template:f,postRender:function(){this._lbl4=null;this.on("click",this._inputClickHandler.bind(this),this.focusNode);this.on("change",this._inputClickHandler.bind(this),this.focusNode)},_inputClickHandler:function(){this.checked=
this.focusNode.checked}})});define("delite/handlebars!deliteful/Select/Select.html",["delite/handlebars"],function(c){return c.compile('<template role="presentation">\n\t<select class="d-select-inner" attach-point="valueNode,focusNode" value="{{value}}" name="{{name}}" size="{{size}}" multiple="{{this.selectionMode === \'multiple\'}}" disabled="{{disabled}}"></select>\n</template>')});
define("deliteful/Select","dcl/dcl requirejs-dplugins/jquery!attributes/classes decor/sniff delite/register delite/FormWidget delite/StoreMap delite/Selection delite/handlebars!./Select/Select.html delite/theme!./Select/themes/{{theme}}/Select.css".split(" "),function(c,m,g,k,f,a,b,d){return k("d-select",[HTMLElement,f,b,a],{size:0,textAttr:"text",valueAttr:"value",disabledAttr:"disabled",baseClass:"d-select",template:d,afterFormResetCallback:function(){this.valueNode.selectedIndex="single"===this.selectionMode?
0:-1;this.value=this.valueNode.value},postRender:function(){this.on("focus",function(a){m(this).toggleClass("d-select-focus","focus"===a.type)}.bind(this),this.valueNode);this.on("blur",function(a){m(this).toggleClass("d-select-focus","focus"===a.type)}.bind(this),this.valueNode);this.on("change",function(a){this._duringInteractiveSelection=!0;var b=this.selectedItems,d=this.valueNode.selectedOptions,d=void 0===d?Array.prototype.slice.call(this.valueNode.options).filter(function(a){return a.selected}):
Array.prototype.slice.call(d),c=b?b.length:0,e=d?d.length:0,f,k;for(f=0;f<c;f++)k=b[f],-1===d.indexOf(k.__visualItem)&&this.selectFromEvent(a,k,k.__visualItem,!0);for(f=0;f<e;f++)c=d[f],-1===b.indexOf(c.__dataItem)&&this.selectFromEvent(a,c.__dataItem,c,!0);this._set("value",this.valueNode.value);this._duringInteractiveSelection=!1}.bind(this),this.valueNode)},hasSelectionModifier:function(){return"multiple"===this.selectionMode},refreshRendering:function(a){if("renderItems"in a){var b=(a=this.renderItems)?
a.length:0;this.valueNode.innerHTML="";if(0<b){for(var d=this.ownerDocument.createDocumentFragment(),c,e,f=0;f<b;f++)c=a[f],e=this.ownerDocument.createElement("option"),e.__dataItem=c.__item,e.__dataItem.__visualItem=e,this.discardChanges(),void 0!==c.text&&(e.text=c.text),void 0!==c.value?e.setAttribute("value",c.value):g("ie")&&void 0!==c.text&&e.setAttribute("value",c.text),this.isSelected(c.__item)&&e.setAttribute("selected","true"),void 0!==c.disabled&&c.disabled&&"false"!==c.disabled&&e.setAttribute("disabled",
"true"),d.appendChild(e);this.valueNode.appendChild(d);"single"===this.selectionMode&&(this.selectedItem=this.valueNode.options[this.valueNode.selectedIndex].__dataItem);this._set("value",this.valueNode.value)}}},getIdentity:c.superCall(function(a){return function(b){return a.call(this,b)}}),updateRenderers:function(){this._duringInteractiveSelection||this.notifyCurrentValue("renderItems")},_setValueAttr:function(a){this.valueNode&&(this.valueNode.value=a);this._set("value",a)},_setSelectionModeAttr:c.superCall(function(a){return function(b){if("single"!==
b&&"multiple"!==b)throw new TypeError("'"+b+"' not supported for selectionMode; keeping the previous value of '"+this.selectionMode+"'");this._set("selectionMode",b);a.call(this,b)}})})});define("delite/handlebars!deliteful/Combobox/Combobox.html",["delite/handlebars"],function(c){return c.compile('<template role="combobox" aria-expanded="{{opened}}" attach-point="popupStateNode">\n\t<input class="d-combobox-input" attach-point="inputNode,focusNode" autocomplete="off" autocorrect="off" autocapitalize="none" aria-autocomplete="list" type="text" readonly="{{this._inputReadOnly ? \'readonly\' : \'\'}}" placeholder="{{searchPlaceHolder}}" on-click="{{inputClickHandler}}">\n\t<input class="d-hidden" attach-point="valueNode" readonly="" name="{{name}}" value="{{value}}">\n\t<span class="d-combobox-arrow" d-shown="{{hasDownArrow}}" attach-point="buttonNode" aria-hidden="true"></span>\n</template>')});
define("deliteful/Combobox","dcl/dcl dstore/Filter dojo/string decor/ObservableArray decor/Observable delite/register delite/CssState delite/FormValueWidget delite/HasDropDown ./list/List ./features!desktop-like-channel?:./Combobox/ComboPopup delite/handlebars!./Combobox/Combobox.html requirejs-dplugins/i18n!./Combobox/nls/Combobox delite/theme!./Combobox/themes/{{theme}}/Combobox.css".split(" "),function(c,m,g,k,f,a,b,d,e,h,l,n,p){var r=1;return a("d-combobox",[HTMLElement,e,d,b],{baseClass:"d-combobox",
template:n,autoFilter:!1,filterMode:"startsWith",ignoreCase:!0,selectionMode:"single",list:null,_inputReadOnly:!0,searchPlaceHolder:p["search-placeholder"],multipleChoiceMsg:p["multiple-choice"],multipleChoiceNoSelectionMsg:p["multiple-choice-no-selection"],okMsg:p["ok-button-label"],cancelMsg:p["cancel-button-label"],hasDownArrow:!0,source:null,minFilterChars:1,displayedValue:"",_isMobile:!!l,moveAriaAttributes:!1,createdCallback:function(){var a=this.querySelector("d-list");if(a)a.attached?this.list=
a:a.addEventListener("customelement-attached",this._attachedlistener=function(){a.removeEventListener("customelement-attached",this._attachedlistener);this.list=a;this.deliver()}.bind(this));else if(this.textContent.trim()){var b=JSON.parse("["+this.textContent+"]");if(b.length){this.source=new k;for(var d=0;d<b.length;d++)b[d].id||(b[d].id=Math.random()),this.source[d]=new f(b[d])}this.textContent=""}},inputClickHandler:function(a){a.stopPropagation();a.preventDefault();this.disabled||(this._isMobile||
!this.minFilterChars||this._inputReadOnly)&&this.toggleDropDown()},parseAttribute:c.superCall(function(a){return function(b,d){var c=/f(?=unc$)|a(?=ttr$)/;return/Attr$|Func$/i.test(b)?(b=b.toLowerCase(),b=this._propCaseMap[b]||b.replace(c,c.exec(b)[0].toUpperCase()),{prop:b,value:/Attr$/.test(b)?d:this.parseFunctionAttribute(d,["item","store","value"])}):a.apply(this,arguments)}}),attachedCallback:function(){if(!this.list){var a=/^(?!_)(\w)+(?=Attr$|Func$)/,b={showNoItems:!0};this._parsedAttributes.filter(function(b){return a.test(b.prop)}).forEach(function(a){b[a.prop]=
a.value}.bind(this));for(var d in this){var c=a.exec(d);!c||c.input in b||(b[c.input]=this[c.input])}this.list=new h(b);this.deliver()}this.list.id||(this.list.id=this.id?this.id+"-list":this.widgetId+"-list")},postRender:function(){this._prepareInput(this.inputNode)},computeProperties:function(a){"multiple"===this.selectionMode&&"string"===typeof this.value&&(this.value=this.value?this.value.split(","):[],this.discardComputing());this._inputReadOnly=this.readOnly||!this.autoFilter||this._isMobile||
"multiple"===this.selectionMode;"value"in a&&("multiple"===this.selectionMode&&0===this.value.length?this.displayedValue=this.multipleChoiceNoSelectionMsg:"multiple"===this.selectionMode&&1<this.value.length&&(this.displayedValue=g.substitute(this.multipleChoiceMsg,{items:this.value.length})))},refreshRendering:function(a){"list"in a&&this._initList();"selectionMode"in a&&this.list&&(this.list.selectionMode="single"===this.selectionMode?"radio":"multiple");"_inputReadOnly"in a&&(this.inputNode.readOnly=
this._inputReadOnly);"displayedValue"in a&&(this.displayedValue!==this.inputNode.value&&(this.inputNode.value=this.displayedValue),this._popupInput&&this.displayedValue!==this._popupInput.value&&(this._popupInput.value=this.displayedValue))},afterFormResetCallback:function(){this.value!==this.valueNode.value&&("single"===this.selectionMode?this.value=this.valueNode.value||"":"multiple"===this.selectionMode&&(this.value=this.valueNode.value?this.valueNode.value.split(","):[]))},_initList:function(){this.list&&
(this.list.attached||this.list.attachedCallback(),this.list.classList.add("d-combobox-list"),this.list.classList.add("d-hidden"),this.list.type="listbox",this.list.selectionMode="single"===this.selectionMode?"radio":"multiple",this._initHandlers())},_initHandlers:function(){this._ListListeners&&this._ListListeners.forEach(function(a){a.remove()});this._ListListeners=[this.list.on("keynav-child-navigated",function(a){var b=a.newValue,d=this.list.getEnclosingRenderer(b),c=d.item;"single"!==this.selectionMode||
this.list.isSelected(c)||this.list.selectFromEvent(a,c,d,!0);!a.triggerEvent||"keydown"!==a.triggerEvent.type&&"keypress"!==a.triggerEvent.type||this._updateScroll(c,!0);this._setActiveDescendant(b)}.bind(this)),this.list.on("click",function(a){"single"===this.selectionMode&&(a=this.list.getEnclosingRenderer(a.target))&&!this.list.isCategoryRenderer(a)&&this.defer(function(){this.closeDropDown(!0)}.bind(this),100)}.bind(this)),this.list.on("selection-change",function(){this._validateInput();this.handleOnInput(this.value)}.bind(this)),
this.list.on("query-success",this._setSelectedItems.bind(this))]},_getItemRendererLabel:function(a){return this._getItemLabel(a.item)},_getItemRendererValue:function(a){return this._getItemValue(a.item)},_getItemLabel:function(a){return a.label},_getItemValue:function(a){return"value"in a?a.value:a.label},loadDropDown:function(){var a=this._isMobile?this.createCenteredDropDown():this.createAboveBelowDropDown();this.dropDownPosition=this._isMobile?["center"]:["below","above"];var b=this.getAttribute("dir");
b&&a.setAttribute("dir",b);this.dropDown=a;this._isMobile&&this._togglePopupList(a.inputNode);return a},createAboveBelowDropDown:function(){return this.list},createCenteredDropDown:function(){return new l({combobox:this})},_togglePopupList:function(a,b){var d=a.value.length>=this.minFilterChars||this._isMobile&&this.hasDownArrow;this._isMobile?(d&&this.filter(a.value),this.list.setAttribute("d-shown",""+d),this.dropDown&&(this.dropDown.inputNode.setAttribute("aria-expanded",""+d),this.list.emit("delite-size-change"))):
d?this.openDropDown():this.closeDropDown(!0,b)},_valueSetByUserInput:!1,_setValueAttr:function(a){a!==this.value&&(this._set("value",a),this._valueSetByUserInput=!1)},filterDelay:0,_prepareInput:function(a){this.on("input",function(b){this.displayedValue=a.value;this.value="";this._valueSetByUserInput=!0;this.list&&0<this.list.selectedItems.length&&(this.list.selectedItems=[]);this.handleOnInput(this.value);void 0!==this._timeoutHandle&&(this._timeoutHandle.remove(),delete this._timeoutHandle);this._timeoutHandle=
this.defer(function(){this._togglePopupList(a,!0)}.bind(this),this.filterDelay);b.stopPropagation();b.preventDefault()}.bind(this),a);this.on("change",function(a){a.stopPropagation();a.preventDefault()}.bind(this),a);this.on("keydown",function(b){if(a.readOnly&&"Backspace"===b.key)b.stopPropagation(),b.preventDefault();else if("Enter"===b.key)b.stopPropagation(),b.preventDefault(),this.opened&&this.closeDropDown(!0);else if("Spacebar"===b.key&&this.opened){if("multiple"===this.selectionMode){var d=
this.list.getEnclosingRenderer(this.list.navigatedDescendant);d&&this.list.selectFromEvent(b,d.item,d,!0)}"multiple"!==this.selectionMode&&this.autoFilter||(b.stopPropagation(),b.preventDefault())}else if("ArrowDown"===b.key||"ArrowUp"===b.key||"PageDown"===b.key||"PageUp"===b.key||"Home"===b.key||"End"===b.key)this._isMobile&&this.list.emit("keydown",b),b.stopPropagation(),b.preventDefault()}.bind(this),a)},_validateInput:function(){"single"===this.selectionMode?this._validateSingle():this._validateMultiple()},
_validateSingle:function(){var a=this.list.selectedItem;this.displayedValue=a?this._getItemLabel(a):"";this.value=a?this._getItemValue(a):""},_validateMultiple:function(){var a,b=this.list.selectedItems;a=b?b.length:0;var d=[];if(1<a){this.displayedValue=g.substitute(this.multipleChoiceMsg,{items:a});for(var c=0;c<a;c++)d.push(b[c]?this._getItemValue(b[c]):"")}else 1===a?(a=this.list.selectedItem,this.displayedValue=this._getItemLabel(a),d.push(this._getItemValue(a))):this.displayedValue=this.multipleChoiceNoSelectionMsg;
this.value&&this.value.join(",")===d.join(",")||(this.value=d);this.valueNode.value=d.toString();this.handleOnInput(this.value)},filter:function(a){if(this.autoFilter&&0!==a.length&&this._valueSetByUserInput){var b=a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");"startsWith"===this.filterMode?b="^"+b:"is"===this.filterMode&&(b="^"+b+"$");this.list.query=this.getQuery({rexExp:new RegExp(b,this.ignoreCase?"i":""),inputText:a})}else this.list.query=this._getDefaultQuery();this.source&&(this.list.source=
this.source)},getQuery:function(a){return(new m).match(this.list.labelAttr||this.list.labelFunc,a.rexExp)},defaultQuery:{},_getDefaultQuery:function(){return"function"===typeof this.defaultQuery?this.defaultQuery():this.defaultQuery},_setSelectedItems:function(){if(this.list.source&&this.list.renderItems&&""!==this.value){var a=[],b=this.value instanceof Array&&1<=this.value.length?this.value:[this.value],a=this.list.renderItems.filter(function(a){return 0<=b.indexOf(this._getItemValue(a))}.bind(this));
this.list.selectedItems=a;a.length&&this._validateInput()}},openDropDown:c.superCall(function(a){return function(){this._isMobile?this._togglePopupList(this.inputNode):this.filter(this.inputNode.value);this._setSelectedItems();this.opened||(this.focusOnPointerOpen=this.focusOnKeyboardOpen=this._isMobile)||this.defer(function(){this.focusNode.focus()}.bind(this),300);return a.apply(this,arguments).then(function(){this.inputNode.setAttribute("aria-controls",this.dropDown.id);this.dropDown.focusDescendants=
!1;this._isMobile?(this.hasDownArrow&&(this.dropDown.inputNode.value=this.displayedValue),this.dropDown.focus()):(this._updateScroll(void 0,!0),this._setActiveDescendant(this.list.navigatedDescendant))}.bind(this))}}),closeDropDown:c.superCall(function(a){return function(b,d){this.inputNode.removeAttribute("aria-activedescendant");this.inputNode.removeAttribute("aria-controls");d||this.handleOnChange(this.value);a.apply(this,arguments)}}),_dropDownKeyUpHandler:c.superCall(function(a){return function(){this.hasDownArrow&&
a.call(this)}}),_updateScroll:function(a,b){a||(a=(a=this.list.selectedItems)&&0<a.length?a[0]:null);a&&(a=this.list.getIdentity(a),a=this.list.getRendererByItemId(a))&&(this.list.scrollBy({y:this.list.getBottomDistance(a)}),b&&(this.list.navigatedDescendant=a.renderNode))},_setActiveDescendant:function(a){a&&(a.id||(a.id="d-combobox-item-"+r++),this.inputNode.setAttribute("aria-activedescendant",a.id))},destroy:function(){this._ListListeners&&this._ListListeners.forEach(function(a){a.remove()});
this.list=this._ListListeners=null}})});define("delite/handlebars!deliteful/Combobox/ComboPopup.html",["delite/handlebars","deliteful/LinearLayout","deliteful/Button"],function(c){return c.compile('<template role="combobox" aria-expanded="true" aria-owns="{{combobox.list.id}}" aria-haspopup="listbox">\n\t<d-linear-layout style="height: 100%">\n\t\t<label class="d-combo-popup-header" for="{{widgetId}}-input">{{header}}</label>\n\t\t<input id="{{widgetId}}-input" d-hidden="{{!(this.combobox.autoFilter &amp;&amp; this.combobox.selectionMode !== \'multiple\')}}" attach-point="inputNode" class="d-combobox-input" autocomplete="off" autocapitalize="none" autocorrect="off" aria-autocomplete="list" aria-controls="{{combobox.list.id}}" type="text" placeholder="{{combobox.searchPlaceHolder}}">\n\t\t<div attach-point="listNode"></div>\n\t\t<d-linear-layout d-hidden="{{combobox.selectionMode !== \'multiple\'}}" vertical="false">\n\t\t\t<button is="d-button" class="fill d-combo-cancel-button" label="{{combobox.cancelMsg}}" on-click="{{cancelHandler}}"></button>\n\t\t\t<button is="d-button" class="fill d-combo-ok-button" label="{{combobox.okMsg}}" on-click="{{okHandler}}"></button>\n\t\t</d-linear-layout>\n\t</d-linear-layout>\n</template>')});
define("deliteful/Combobox/ComboPopup",["delite/register","requirejs-dplugins/jquery!attributes/classes","delite/Dialog","delite/handlebars!./ComboPopup.html"],function(c,m,g,k){return c("d-combo-popup",[HTMLElement,g],{baseClass:"d-combo-popup",template:k,combobox:null,header:"",computeProperties:function(c){if("combobox"in c){c=this.combobox;var a=c.focusNode.id&&this.ownerDocument.querySelector("label[for="+c.focusNode.id+"]")||c.hasAttribute("aria-labelledby")&&this.ownerDocument.getElementById(c.getAttribute("aria-labelledby"));
this.header=a?a.textContent.trim():c.getAttribute("aria-label")||""}},refreshRendering:function(c){if("combobox"in c&&this.combobox){if(c=this.combobox.list)c.placeAt(this.listNode,"replace"),m(c).addClass("fill").removeClass("d-hidden");this.combobox._prepareInput(this.inputNode)}},okHandler:function(){this.combobox.closeDropDown()},cancelHandler:function(){this.combobox.list.selectedItems=[];this.combobox.closeDropDown();this.combobox._validateMultiple(!0)},focus:function(){if(this.combobox.autoFilter&&
"single"===this.combobox.selectionMode)this.inputNode.focus();else if(!m(this.combobox.list).hasClass("d-hidden")&&this.combobox.list&&0<this.combobox.list.containerNode.children.length){var c=this.combobox.list.getIdentity(0<this.combobox.list.selectedItems.length?this.combobox.list.selectedItems[0]:""),c=c&&-1!==c?this.combobox.list.getRendererByItemId(c):this.combobox.list.getItemRendererByIndex(0);this.combobox.list.navigateTo(c)}}})});
define("delite/Dialog",["dcl/dcl","./a11y","./Widget"],function(c,m,g){return c(g,{createdCallback:function(){this.on("keydown",this._dialogKeyDownHandler.bind(this))},focus:function(){this._getFocusItems();this._firstFocusItem&&this._firstFocusItem!==this&&this._firstFocusItem.focus()},_getFocusItems:function(){var c=m._getTabNavigable(this);this._firstFocusItem=c.lowest||c.first||this.closeButtonNode||this;this._lastFocusItem=c.last||c.highest||this._firstFocusItem},_dialogKeyDownHandler:function(c){if("Tab"===
c.key){this._getFocusItems(this);var f=c.target;this._firstFocusItem===this._lastFocusItem?c.preventDefault():f===this._firstFocusItem&&c.shiftKey?(this._lastFocusItem.focus(),c.preventDefault()):f!==this._lastFocusItem||c.shiftKey||(this._firstFocusItem.focus(),c.preventDefault());c.stopPropagation()}}})});
define("delite/a11y",[],function(){var c={_isElementShown:function(c){var g=getComputedStyle(c);return"hidden"!==g.visibility&&"collapsed"!==g.visibility&&"none"!==g.display&&"hidden"!==c.type},hasDefaultTabStop:function(c){switch(c.nodeName.toLowerCase()){case "a":return c.hasAttribute("href");case "area":case "button":case "input":case "object":case "select":case "textarea":return!0;case "iframe":return c=c.contentDocument,"designMode"in c&&"on"===c.designMode?!0:(c=c.body)&&("true"===c.contentEditable||
c.firstChild&&"true"===c.firstChild.contentEditable);default:return"true"===c.contentEditable}},effectiveTabIndex:function(m){if(!m.disabled)return m.hasAttribute("tabIndex")?+m.getAttribute("tabIndex"):c.hasDefaultTabStop(m)?0:void 0},isTabNavigable:function(m){return 0<=c.effectiveTabIndex(m)},isFocusable:function(m){return-1<=c.effectiveTabIndex(m)},_getTabNavigable:function(m){function g(a){return a&&"input"===a.tagName.toLowerCase()&&a.type&&"radio"===a.type.toLowerCase()&&a.name&&a.name.toLowerCase()}
function k(c){for(c=c.firstChild;c;c=c.nextSibling)if(1===c.nodeType&&p(c)){var f=r(c);if(0<=f){if(0===f)a||(a=c),b=c;else if(0<f){if(!d||f<e)e=f,d=c;if(!h||f>=l)l=f,h=c}f=g(c);c.checked&&f&&(n[f]=c)}"SELECT"!==c.nodeName.toUpperCase()&&k(c)}}function f(a){return n[g(a)]||a}var a,b,d,e,h,l,n={},p=c._isElementShown,r=c.effectiveTabIndex;p(m)&&k(m);return{first:f(a),last:f(b),lowest:f(d),highest:f(h)}},getFirstInTabbingOrder:function(m,g){"string"===typeof m&&(m=(g||document).getElementById(m));m=c._getTabNavigable(m);
return m.lowest?m.lowest:m.first},getLastInTabbingOrder:function(m,g){"string"===typeof m&&(m=(g||document).getElementById(m));m=c._getTabNavigable(m);return m.last?m.last:m.highest}};return c});
define("delite/HasDropDown","dcl/dcl requirejs-dplugins/Promise! ./on ./place ./popup ./register ./Widget ./activationTracker dpointer/events".split(" "),function(c,m,g,k,f,a,b){c=c(b,{behaviorNode:null,buttonNode:null,popupStateNode:null,aroundNode:null,dropDown:null,autoWidth:!0,forceWidth:!1,maxHeight:-1,dropDownPosition:["below","above"],focusOnPointerOpen:!0,focusOnKeyboardOpen:!0,openOnHover:!1,opened:!1,_effectivePopupStateNode:null,_dropDownClickHandler:function(a){a.preventDefault();a.stopPropagation();
this.disabled||this.readOnly||(this.toggleDropDown(),this._openDropDownPromise?this._focusDropDownOnOpen("mouse"===a.pointerType&&!this.hovering):this.focus&&this.defer(this.focus))},_focusDropDownOnOpen:function(a){this._openDropDownPromise.then(function(b){var d=b.dropDown;d.focus&&(a?this.focusOnKeyboardOpen:this.focusOnPointerOpen)&&(this._focusDropDownTimer=this.defer(function(){d.focus();delete this._focusDropDownTimer}))}.bind(this))},computeProperties:function(a){if("popupStateNode"in a||
"focusNode"in a||"buttonNode"in a||"behaviorNode"in a)this._effectivePopupStateNode=this.popupStateNode||this.focusNode||this.buttonNode||this.behaviorNode||this},refreshRendering:function(a){"_effectivePopupStateNode"in a&&(a._effectivePopupStateNode&&a._effectivePopupStateNode.removeAttribute("aria-haspopup"),this._effectivePopupStateNode&&this._effectivePopupStateNode.setAttribute("aria-haspopup","true"));if("behaviorNode"in a||"buttonNode"in a||"focusNode"in a||"openOnHover"in a)this._removeHasDropDownListeners(),
this._setupHasDropDownListeners()},_setupHasDropDownListeners:function(){var a=this.behaviorNode||this,b=this.buttonNode||a,c=this.focusNode||a;this._HasDropDownListeners=[g(b,"click",this._dropDownClickHandler.bind(this)),g(c,"keydown",this._dropDownKeyDownHandler.bind(this)),g(c,"keyup",this._dropDownKeyUpHandler.bind(this)),g(a,"delite-deactivated",this._deactivatedHandler.bind(this)),g(a,"pointerenter",function(){this.hovering=!0}.bind(this)),g(a,"pointerleave",function(){this.hovering=!1}.bind(this))];
this.openOnHover&&this._HasDropDownListeners.push(g(b,"delite-hover-activated",function(){this.openDropDown()}.bind(this)),g(b,"delite-hover-deactivated",function(){this.closeDropDown()}.bind(this)))},_removeHasDropDownListeners:function(){this._HasDropDownListeners&&(this._HasDropDownListeners.forEach(function(a){a.remove()}),delete this._HasDropDownListeners)},detachedCallback:function(){this.opened&&this.closeDropDown(!0);this._previousDropDown&&(f.detach(this._previousDropDown),delete this._previousDropDown)},
destroy:function(){this._removeHasDropDownListeners();this.dropDown&&(this.dropDown._destroyed||this.dropDown.destroy(),delete this.dropDown)},_dropDownKeyDownHandler:function(a){if(!this.disabled&&!this.readOnly){var b=this._currentDropDown,d=a.target;b&&this.opened&&"Escape"===a.key?(this.closeDropDown(),a.stopPropagation(),a.preventDefault()):!this.opened&&("ArrowDown"===a.key||("Enter"===a.key||"Spacebar"===a.key&&(!this._searchTimer||a.ctrlKey||a.altKey||a.metaKey))&&("input"!==(d.tagName||"").toLowerCase()||
d.type&&"text"!==d.type.toLowerCase()))?(this._openOnKeyUp=!0,a.stopPropagation(),a.preventDefault()):b&&this.opened&&!1===b.emit("keydown",a,b.keyNavContainerNode||b.containerNode||b)&&(a.stopPropagation(),a.preventDefault())}},_dropDownKeyUpHandler:function(){this._openOnKeyUp&&(delete this._openOnKeyUp,this.openDropDown(),this._focusDropDownOnOpen(!0))},_deactivatedHandler:function(){this.closeDropDown(!1)},loadDropDown:function(){if(this.dropDown)return this.dropDown;var a;this.emit("delite-display-load",
{setChild:function(b){a=b}});return m.resolve(a).then(function(a){return a.child})},toggleDropDown:function(){if(!this.disabled&&!this.readOnly)return this.opened?this.closeDropDown(!0):this.openDropDown()},openDropDown:function(){if(this._openDropDownPromise)return this._openDropDownPromise;var a,b=this.loadDropDown();this._openDropDownPromise=m.resolve(b).then(function(b){this._previousDropDown&&this._previousDropDown!==b&&(f.detach(this._previousDropDown),delete this._previousDropDown);if(!a){delete this._cancelPendingDisplay;
this._currentDropDown=b;var d=this.behaviorNode||this,c=this.aroundNode||d,e=this;this.emit("delite-before-show",{child:b,cancelable:!1});this.id||(this.id="HasDropDown_"+this.widgetId);b._originalStyle=b.style.cssText;"center"!==this.dropDownPosition[0]&&(this.forceWidth?b.style.width=c.offsetWidth+"px":this.autoWidth&&(b.style.minWidth=c.offsetWidth+"px"));c=f.open({parent:d,popup:b,around:c,orient:this.dropDownPosition,maxHeight:this.maxHeight,onExecute:function(){e.closeDropDown(!0)},onCancel:function(){e.closeDropDown(!0)},
onClose:function(){e._effectivePopupStateNode.classList.remove("d-drop-down-open");this.opened=!1}});this._effectivePopupStateNode.classList.add("d-drop-down-open");this.opened=!0;this._effectivePopupStateNode.setAttribute("aria-owns",b.id);"presentation"===b.getAttribute("role")||b.getAttribute("aria-labelledby")||b.setAttribute("aria-labelledby",d.id);this.emit("delite-after-show",{child:b,cancelable:!1});return{dropDown:b,position:c}}}.bind(this));this._cancelPendingDisplay=function(){b.cancel&&
b.cancel();a=!0;delete this._cancelPendingDisplay;delete this._openDropDownPromise}.bind(this);return this._openDropDownPromise},closeDropDown:function(a){var b=this._currentDropDown;this._cancelPendingDisplay&&this._cancelPendingDisplay();this._openDropDownPromise&&delete this._openDropDownPromise;this._focusDropDownTimer&&(this._focusDropDownTimer.remove(),delete this._focusDropDownTimer);if(this.opened){var d=this.behaviorNode||this;a&&d.focus&&d.focus();this.emit("delite-before-hide",{child:b,
cancelable:!1});f.close(b);this.opened=!1;b.style.cssText=b._originalStyle;"none"===b.style.display&&(b.style.display="");"hidden"===b.style.visibility&&(b.style.visibility="");this.emit("delite-after-hide",{child:b,cancelable:!1})}this._effectivePopupStateNode.removeAttribute("aria-owns");this._previousDropDown=this._currentDropDown;delete this._currentDropDown}});c.HasDropDownCustomElement=a("d-has-drop-down",[HTMLElement,c],{});return c});
define("delite/popup","dcl/advise dcl/dcl requirejs-dplugins/jquery!attributes/classes ./BackgroundIframe ./DialogUnderlay ./features ./on ./place ./Viewport ./theme!".split(" "),function(c,m,g,k,f,a,b,d,e){function h(){this._popupWrapper&&(this._popupWrapper.parentNode.removeChild(this._popupWrapper),delete this._popupWrapper)}document.addEventListener("pointerdown",function(){document.body.scrollTop=document.body.scrollTop},!0);return new (m(null,{_stack:[],_beginZIndex:1E3,_idGen:1,constructor:function(){e.on("resize",
this._repositionAll.bind(this));e.on("scroll",this._viewportScrollHandler.bind(this))},_checkScroll:function(){if(this._firstAroundNode){var a=this._firstAroundPosition,b=d.position(this._firstAroundNode),c=b.x-a.x,a=b.y-a.y;if(c||a)this._firstAroundPosition=b,this._repositionAll();this._aroundMoveListener=setTimeout(this._checkScroll.bind(this),c||a?10:50)}},_repositionAll:function(a){this._stack.forEach(function(d){this._size(d,a);this._position(d);b.emit(d.popup,"delite-repositioned",{args:d})},
this)},_viewportScrollHandler:function(){this._stack.forEach(function(a){"center"!==a.orient[0]&&this._size(a);this._position(a)},this)},_createWrapper:function(a){var b=a._popupWrapper;b||(b=a.ownerDocument.createElement("div"),b.className="d-popup",b.style.display="none",b.setAttribute("role","region"),b.setAttribute("aria-label",a["aria-label"]||a.label||a.name||a.id),a.ownerDocument.body.appendChild(b),b.appendChild(a),a.attachedCallback(),"none"===a.style.display&&(a.style.display=""),"hidden"===
a.style.visibility&&(a.style.visibility=""),g(a).removeClass("d-hidden d-invisible d-offscreen"),a._popupWrapper=b,c.after(a,"destroy",h));return b},moveOffScreen:function(a){a=this._createWrapper(a);a.style.display="";g(a).addClass("d-offscreen");return a},detach:function(a){a._popupWrapper?(a._popupWrapper.parentNode.removeChild(a._popupWrapper),delete a._popupWrapper,a.detachedCallback()):a.parentNode&&(a.parentNode.removeChild(a),a.detachedCallback())},hide:function(a){a.emit("popup-before-hide");
a=this._createWrapper(a);m.mix(a.style,{display:"none",height:"auto"})},getTopPopup:function(){for(var a=this._stack,b=a.length-1;0<b&&a[b].parent===a[b-1].popup;b--);return a[b]},open:function(a){this._prepareToOpen(a);this._size(a,!0);var b=this._position(a);a.popup.emit("popup-after-show",{around:a.around});return b},_prepareToOpen:function(b){var c=this._stack,e=b.popup,h=b.around;e.id||(e.id=b.around&&b.around.id?b.around.id+"_dropdown":"popup_"+this._idGen++);for(;c.length&&(!b.parent||!c[c.length-
1].popup.contains(b.parent));)this.close(c[c.length-1].popup);var f=this.moveOffScreen(e),l=["d-popup"];((e.baseClass||"")+" "+e.className).split(/ +/).forEach(function(a){a&&l.push(a+"-popup")});m.mix(f,{id:e.id+"_wrapper",className:l.join(" ")});f.style.zIndex=this._beginZIndex+c.length;f._popupParent=b.parent?b.parent:null;0===c.length&&h&&(this._firstAroundNode=h,this._firstAroundPosition=d.position(h),this._aroundMoveListener=setTimeout(this._checkScroll.bind(this),50));a("config-bgIframe")&&
!e.bgIframe&&(e.bgIframe=new k(f));f.style.visibility="visible";e.style.visibility="visible";var h=[],g=function(a){"Escape"!==a.key&&"Tab"!==a.key||!b.onCancel||(a.stopPropagation(),a.preventDefault(),b.onCancel())}.bind(this);f.addEventListener("keydown",g);h.push({remove:function(){f.removeEventListener("keydown",g)}});b.onCancel&&h.push(e.on("cancel",b.onCancel));b.onExecute&&(h.push(e.on("execute",b.onExecute)),h.push(e.on("change",function(a){if(a.target===e)b.onExecute()})));h.push(e.on("delite-size-change",
function(){this._repositionAll(!0)}.bind(this)));var v=Object.create(b);v.wrapper=f;v.handlers=h;c.push(v)},_size:function(a,b){var d=a.popup,c=a.around,h=a.orient||["below","below-alt","above","above-alt"],f=e.getEffectiveBox(d.ownerDocument);if(b){d.style.height="auto";"center"===h[0]&&(d.style.width="auto");b=getComputedStyle(d);var l=parseFloat(b.marginTop)+parseFloat(b.marginBottom);b=parseFloat(b.marginLeft)+parseFloat(b.marginRight);a._naturalHeight=d.offsetHeight+l;a._naturalWidth=d.offsetWidth+
b}"center"===h[0]?(d.style.height=a._naturalHeight>.9*f.h?Math.floor(.9*f.h)+"px":"auto",d.style.width=a._naturalWidth>.9*f.w?Math.floor(.9*f.w)+"px":"auto"):("maxHeight"in a&&-1!==a.maxHeight?f=a.maxHeight||Infinity:(c=c?c.getBoundingClientRect():{top:a.y-(a.padding||0),height:2*(a.padding||0)},f=Math.floor(Math.max(c.top,f.h-(c.top+c.height)))),d.style.height=a._naturalHeight>f?f-l+"px":"auto")},_position:function(a){var b=a.popup,c=b._popupWrapper,e=a.around,h=a.orient||["below","below-alt","above",
"above-alt"],l;a.parent?l="rtl"!==a.parent.effectiveDir:(l=b.ownerDocument,l=!/^rtl$/i.test(l.body.dir||l.documentElement.dir));if("center"===h[0])d.center(c),f.showFor(c);else return a=e?d.around(c,e,h,l):d.at(c,a,"R"===h?["TR","BR","TL","BL"]:["TL","BL","TR","BR"],a.padding),e={around:e},m.mix(e,a),b.emit("popup-after-position",e),a},close:function(a){for(var b=this._stack;a&&b.some(function(b){return b.popup===a})||!a&&b.length;){var d=b.pop(),c=d.popup,e=d.onClose;c.bgIframe&&(c.bgIframe.destroy(),
delete c.bgIframe);for(var h;h=d.handlers.pop();)h.remove();this.hide(c);f.hideFor(c._popupWrapper);e&&e()}0===b.length&&this._aroundMoveListener&&(clearTimeout(this._aroundMoveListener),this._firstAroundNode=this._firstAroundPosition=this._aroundMoveListener=null)}}))});
define("delite/Viewport",["decor/Evented","decor/sniff","requirejs-domready/domReady!"],function(c,m){function g(){var b;b=k.getEffectiveBox();b.h!==f.h||b.w!==f.w?(f=b,k.emit("resize",b),b=!0):b=!1;var d;d=k.getEffectiveBox();d.t!==a.t||d.l!==a.l?(a=d,k.emit("scroll",d),d=!0):d=!1;setTimeout(g,b||d?10:50)}var k=new c;k.getEffectiveBox=function(){var a;8>m("ios")?(a=document.body.getBoundingClientRect(),a={w:Math.max(a.width,window.innerWidth),h:Math.max(a.height,window.innerHeight),t:window.pageYOffset,
l:window.pageXOffset}):a={w:window.innerWidth,h:window.innerHeight,t:window.pageYOffset,l:window.pageXOffset};var d=document.activeElement,c=d&&d.tagName&&d.tagName.toLowerCase();m("ios")&&d&&!d.readOnly&&("textarea"===c||"input"===c&&/^(color|email|number|password|search|tel|text|url)$/.test(d.type))&&(m("ipad")?a.h*=0===window.orientation||180===window.orientation?.65:.38:a.h=0===window.orientation||180===window.orientation?a.h*(500<window.screen.height?.54:.42):a.h*(500<window.screen.height&&8<=
m("ios")?.26:.19),8<=m("ios")&&(!d.hasAttribute("autocorrect")||"on"===d.getAttribute("autocorrect"))&&/^(color|number|search|tel|text)$/.test(d.type)&&(a.h-=40));return a};var f=k.getEffectiveBox(),a=f;g();return k});
define("delite/DialogUnderlay",["./register","./Widget","./BackgroundIframe","./Viewport","./theme!./DialogUnderlay/themes/{{theme}}/DialogUnderlay.css"],function(c,m,g,k){var f=c("d-dialog-underlay",[HTMLElement,m],{baseClass:"d-dialog-underlay",createdCallback:c.after(function(){this.ownerDocument.body.appendChild(this);this.attachedCallback()}),attachedCallback:function(){this._resizeListener=k.on("resize",function(){this._open&&this.layout()}.bind(this))},detachedCallback:function(){this._resizeListener.remove()},
layout:function(){var a=this.style;a.display="none";var d=this.ownerDocument.documentElement;a.width=d.clientWidth+"px";a.height=d.clientHeight+"px";a.display=""},show:function(){this._open||(this.style.display="block",this._open=!0,this.layout(),this.bgIframe=new g(this))},hide:function(){this._open&&(this.bgIframe.destroy(),delete this.bgIframe,this.style.display="none",this._open=!1)}});f.show=function(a,d){var b=f._singleton;!b||b._destroyed?b=f._singleton=new f(a):a&&b.mix(a);b.style.zIndex=
d;b.show()};f.hide=function(){var a=f._singleton;a&&!a._destroyed&&a.hide()};var a=[];f.showFor=function(b){if(!(0<=a.indexOf(b))){var d=+getComputedStyle(b).zIndex;f.show(null,d-1);a.push(b)}};f.hideFor=function(b){a[a.length-1]===b?(a.pop(),(b=a[a.length-1])?(b=+getComputedStyle(b).zIndex,f.show(null,b-1)):f.hide()):(b=a.indexOf(b),-1!==b&&a.splice(b,1))};return f});
define("delite/BackgroundIframe",["dcl/dcl","./features"],function(c,m){var g=new function(){var c=[];this.pop=function(){var f;c.length?(f=c.pop(),f.style.display=""):(f=document.createElement("iframe"),f.src="javascript:''",f.className="d-background-iframe",f.setAttribute("role","presentation"),f.tabIndex=-1);return f};this.push=function(f){f.style.display="none";c.push(f)}};return c(null,{constructor:function(c){if(m("config-bgIframe")){var f=this.iframe=g.pop();c.appendChild(f);f.style.width=
"100%";f.style.height="100%"}},destroy:function(){this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),g.push(this.iframe),delete this.iframe)}})});
define("delite/place",["./Viewport"],function(c){function m(f,a){var b=c.getEffectiveBox(f.ownerDocument),d=f.style;f.parentNode&&"body"===String(f.parentNode.tagName).toLowerCase()||f.ownerDocument.body.appendChild(f);var e=null;a.some(function(a){var c=a.corner,h=a.pos,l=0,n={w:{L:b.l+b.w-h.x,R:h.x-b.l,M:b.w}[c.charAt(1)],h:{T:b.t+b.h-h.y,B:h.y-b.t,M:b.h}[c.charAt(0)]};d.left=d.right="auto";var k=d.display,g=d.visibility;"none"===d.display&&(d.visibility="hidden",d.display="");var m=f.getBoundingClientRect();
d.display=k;d.visibility=g;var g={L:h.x,R:h.x-m.width,M:Math.max(b.l,Math.min(b.l+b.w,h.x+(m.width>>1))-m.width)}[c.charAt(1)],w={T:h.y,B:h.y-m.height,M:Math.max(b.t,Math.min(b.t+b.h,h.y+(m.height>>1))-m.height)}[c.charAt(0)],h=Math.max(b.l,g),k=Math.max(b.t,w),g=Math.min(b.l+b.w,g+m.width)-h,w=Math.min(b.t+b.h,w+m.height)-k,l=l+(m.width-g+(m.height-w));if(null==e||l<e.overflow)e={corner:c,aroundCorner:a.aroundCorner,x:h,y:k,w:g,h:w,overflow:l,spaceAvailable:n};return!l});a=e.y;var h=e.x,l=getComputedStyle(f.ownerDocument.body);
/^(relative|absolute)$/.test(l.position)&&(a-=l.marginTop,h-=l.marginLeft);d.top=a+"px";d.left=h+"px";d.right="auto";return e}var g={TL:"BR",TR:"BL",BL:"TR",BR:"TL"},k={at:function(c,a,b,d){b=b.map(function(b){var c={corner:b,aroundCorner:g[b],pos:{x:a.x,y:a.y}};d&&(c.pos.x+="L"===b.charAt(1)?d.x:-d.x,c.pos.y+="T"===b.charAt(0)?d.y:-d.y);return c});return m(c,b)},around:function(c,a,b,d){function e(a,b){w.push({aroundCorner:a,corner:b,pos:{x:{L:t,R:t+v,M:t+(v>>1)}[a.charAt(1)],y:{T:u,B:u+x,M:u+(x>>
1)}[a.charAt(0)]}})}var h;if("string"===typeof a||"offsetWidth"in a||"ownerSVGElement"in a){if(h=k.position(a),/^(above|below)/.test(b[0])){var f=function(a){a=getComputedStyle(a);return{t:parseFloat(a.borderTopWidth),b:parseFloat(a.borderBottomWidth)}},n=f(a),p=a.firstElementChild?f(a.firstElementChild):{t:0,b:0},g=f(c),f=c.firstElementChild?f(c.firstElementChild):{t:0,b:0};h.y+=Math.min(n.t+p.t,g.t+f.t);h.h-=Math.min(n.t+p.t,g.t+f.t)+Math.min(n.b+p.b,g.b+f.b)}}else h=a;if(a.parentNode)for(n="absolute"===
getComputedStyle(a).position,a=a.parentNode;a&&1===a.nodeType&&"BODY"!==a.nodeName;){p=k.position(a);g=getComputedStyle(a);/^(relative|absolute)$/.test(g.position)&&(n=!1);if(!n&&/^(hidden|auto|scroll)$/.test(g.overflow)){var f=Math.min(h.y+h.h,p.y+p.h),q=Math.min(h.x+h.w,p.x+p.w);h.x=Math.max(h.x,p.x);h.y=Math.max(h.y,p.y);h.h=f-h.y;h.w=q-h.x}"absolute"===g.position&&(n=!0);a=a.parentNode}var t=h.x,u=h.y,v=h.w,x=h.h,w=[];b.forEach(function(a){var b=d;switch(a){case "above-centered":e("TM","BM");
break;case "below-centered":e("BM","TM");break;case "after-centered":b=!b;case "before-centered":e(b?"ML":"MR",b?"MR":"ML");break;case "after":b=!b;case "before":e(b?"TL":"TR",b?"TR":"TL");e(b?"BL":"BR",b?"BR":"BL");break;case "below-alt":b=!b;case "below":e(b?"BL":"BR",b?"TL":"TR");e(b?"BR":"BL",b?"TR":"TL");break;case "above-alt":b=!b;case "above":e(b?"TL":"TR",b?"BL":"BR"),e(b?"TR":"TL",b?"BR":"BL")}});c=m(c,w);c.aroundNodePos=h;return c},center:function(f){var a=f.style,b=/^rtl$/i.test(f.dir||
f.ownerDocument.body.dir||f.ownerDocument.documentElement.dir);a.top="-9999px";a[b?"right":"left"]="-9999px";b=c.getEffectiveBox();f=f.getBoundingClientRect();a.top=b.t+(b.h-f.height)/2+"px";a.left=b.l+(b.w-f.width)/2+"px";a.right="auto"},position:function(c){var a=c.getBoundingClientRect();c=c.ownerDocument;var b=c.defaultView;return{x:a.left+(b.pageXOffset||c.documentElement.scrollLeft),y:a.top+(b.pageYOffset||c.documentElement.scrollTop),h:a.height,w:a.width}}};return k});
define("dojo/string",["./_base/kernel","./_base/lang"],function(c,m){var g={};m.setObject("dojo.string",g);g.rep=function(c,f){if(0>=f||!c)return"";for(var a=[];;){f&1&&a.push(c);if(!(f>>=1))break;c+=c}return a.join("")};g.pad=function(c,f,a,b){a||(a="0");c=String(c);f=g.rep(a,Math.ceil((f-c.length)/a.length));return b?c+f:f+c};g.substitute=function(k,f,a,b){b=b||c.global;a=a?m.hitch(b,a):function(a){return a};return k.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(d,c,h){d=m.getObject(c,
!1,f);h&&(d=m.getObject(h,!1,b).call(b,d,c));return a(d,c).toString()})};g.trim=String.prototype.trim?m.trim:function(c){c=c.replace(/^\s+/,"");for(var f=c.length-1;0<=f;f--)if(/\S/.test(c.charAt(f))){c=c.substring(0,f+1);break}return c};return g});define("delite/handlebars!deliteful/Slider/Slider.html",["delite/handlebars"],function(c){return c.compile('<template touch-action="none">\n\t<div attach-point="wrapperNode">\n\t\t<div attach-point="progressBar">\n\t\t\t<div attach-point="handleMin" role="slider"></div>\n\t\t\t<div attach-point="focusNode" role="slider"></div>\n\t\t</div>\n\t</div>\n</template>')});
define("deliteful/Slider","requirejs-dplugins/jquery!attributes/classes dpointer/events delite/register delite/FormValueWidget delite/CssState delite/handlebars!./Slider/Slider.html delite/theme!./Slider/themes/{{theme}}/Slider.css".split(" "),function(c,m,g,k,f,a){function b(a){a=a.getBoundingClientRect();return{x:a.left,y:a.top,w:a.right-a.left,h:a.bottom-a.top}}return g("d-slider",[HTMLElement,k,f],{min:0,max:100,step:1,slideRange:!0,vertical:!1,flip:!1,baseClass:"d-slider",_orientationNames:{false:{start:"x",
size:"w",clientStart:"clientX",progressBarStart:"left",progressBarSize:"width"},true:{start:"y",size:"h",clientStart:"clientY",progressBarStart:"top",progressBarSize:"height"}},_propNames:null,_reversed:!1,template:a,render:g.superCall(function(a){return function(){a.call(this);this.valueNode.parentNode||this.appendChild(this.valueNode);this.handleMin.setAttribute("aria-valuemin",this.min);this.focusNode.setAttribute("aria-valuemax",this.max);this.tabStops=["handleMin","focusNode"];this.handleMin._isActive=
!0;m.setTouchAction(this,"none")}}),_refreshOrientation:function(){this.focusNode.setAttribute("aria-orientation",this.vertical?"vertical":"horizontal");this.handleMin._isActive&&this.handleMin.setAttribute("aria-orientation",this.vertical?"vertical":"horizontal");this._propNames=this._orientationNames[this.vertical]},_refreshCSS:function(){function a(a,b){return a.split(/ /).map(function(a){return a+b}).join(" ")}var b=a(this.baseClass,this.vertical?"-v":"-h"),h=this.baseClass+" "+b;c(this).removeClass(a(this.baseClass+
"-v "+this.baseClass+"-h","-htl")+" "+a(this.baseClass+"-v "+this.baseClass+"-h","-lth")+" "+this.baseClass+"-v "+this.baseClass+"-h");c(this).addClass(b+" "+a(h,this._reversed?"-htl":"-lth"));this.wrapperNode.className=a(h,"-bar")+" "+a(h,"-container");this.progressBar.setAttribute("style","");this.progressBar.className=a(h,"-bar")+" "+a(h,"-progress-bar");this.focusNode.className=a(h,"-handle")+" "+a(h,"-handle-max");this.handleMin._isActive&&(this.handleMin.className=a(h,"-handle")+" "+a(h,"-handle-min"))},
computeProperties:function(a){if("value"in a||"min"in a||"max"in a||"step"in a){var b=this._getValueAsArray(),d=1<b.length,c=this._convert2Float(b[0],this._calculateDefaultValue(d?.25:.5)),b=this._convert2Float(b[b.length-1],this._calculateDefaultValue(d?.75:.5)),f=Math.max(c,b),c=Math.min(c,b),b=f,c=this._adjustValue(c,this.min),b=this._adjustValue(b,c);this.value=d?c+","+b:String(b)}if("vertical"in a||"flip"in a||"effectiveDir"in a)a="ltr"===this.effectiveDir,this._reversed=!(!this.vertical&&a!==
this.flip||this.vertical&&this.flip)},refreshRendering:function(a){"value"in a&&this._refreshValueRendering();"vertical"in a&&this._refreshOrientation();if("name"in a){var b=this.name;this.removeAttribute("name");this.valueNode.setAttribute("name",b)}"max"in a&&this.focusNode.setAttribute("aria-valuemax",this.max);"min"in a&&(this.handleMin._isActive?this.handleMin:this.focusNode).setAttribute("aria-valuemin",this.min);("baseClass"in a||"vertical"in a||"_reversed"in a)&&this._refreshCSS();this._positionHandles()},
_positionHandles:function(){var a=this._getValueAsArray();1===a.length&&(a=[this.min,a[0]]);var b=100*(a[1]-this.min)/(this.max<this.min?this.min:this.max-this.min),a=100*(a[0]-this.min)/(this.max<this.min?this.min:this.max-this.min);this.progressBar.style[this._propNames.progressBarSize]=b-a+"%";this.progressBar.style[this._propNames.progressBarStart]=(this._reversed?100-b:a)+"%"},_refreshValueRendering:function(){var a=this._getValueAsArray();this.handleMin._isActive||2!==a.length||(this.handleMin.className=
"",this.handleMin.setAttribute("aria-valuemin",this.min),this.focusNode.setAttribute("aria-valuemax",this.max),this.tabStops=["handleMin","focusNode"],this.handleMin._isActive=!0);this.handleMin._isActive&&1===a.length&&(this.handleMin.className="d-hidden",this.handleMin.removeAttribute("aria-valuemin"),this.focusNode.setAttribute("aria-valuemin",this.min),this.focusNode.setAttribute("aria-valuemax",this.max),this.handleMin._isActive=!1);this.handleMin._isActive?(this.handleMin.setAttribute("aria-valuenow",
a[0]),this.handleMin.setAttribute("aria-valuemax",a[1]),this.focusNode.setAttribute("aria-valuemin",a[0]),this.focusNode.setAttribute("aria-valuenow",a[1])):this.focusNode.setAttribute("aria-valuenow",a[0]);this.valueNode.value=String(this.value)},createdCallback:function(){this._pointerCtx={target:null,offsetVal:0,containerBox:null};this.on("pointerdown",this.pointerDownHandler.bind(this));this.on("pointermove",this.pointerMoveHandler.bind(this));this.on("lostpointercapture",this.lostCaptureHandler.bind(this));
this.on("keydown",this.keyDownHandler.bind(this));this.on("keyup",this.keyUpHandler.bind(this))},postRender:function(){this.valueNode.value&&(this.value=this.valueNode.value)},attachedCallback:function(){this.onmousedown=function(a){a.preventDefault()}},_setMinAttr:function(a){this._set("min",this._convert2Float(a,0))},_setMaxAttr:function(a){this._set("max",this._convert2Float(a,100))},_setStepAttr:function(a){a=this._convert2Float(a,1);this._set("step",0>=a?1:a)},_convert2Float:function(a,b){a=
parseFloat(a);return isNaN(a)||Infinity===a?b:a},_calculateDefaultValue:function(a){return this.max<this.min?this.min:this.min+(this.max-this.min)*a},_adjustValue:function(a,b){a%this.step&&(a=Math.max(b,Math.round(a/this.step)*this.step),a=this.max>b?Math.min(this.max,a):a);a=Math.max(b,a);return a=Math.min(this.max>this.min?this.max:this.min,a)},_getValueAsArray:function(){return String(this.value).split(/,/g)},pointerDownHandler:function(a){if(!this._ignoreUserInput(a)){this._pointerCtx.target=
null;this._pointerCtx.offsetVal=0;this._pointerCtx.containerBox=b(this.wrapperNode);var d=this._getValueAsArray(),c=this._selectedValue(a,this._pointerCtx.containerBox);if(this._startSlideRange(a))this._pointerCtx.target=this.progressBar,this._pointerCtx.offsetVal=c-d[0];else{var f=Math.abs(c-d[1])-Math.abs(c-d[0]);0!==f||a.target!==this.focusNode&&a.target!==this.handleMin?(0===f&&(f=d[0]-Math.min(this.max-this.step,Math.max(this.min+this.step,c))),this._pointerCtx.target=0<f?this.handleMin:this.focusNode):
this._pointerCtx.target=document.elementFromPoint(a.clientX,a.clientY);this._pointerCtx.target.focus();a.target!==this.focusNode&&a.target!==this.handleMin&&this.handleOnInput(this._formatSelection(c,this._pointerCtx.target))}if(a.target===this.focusNode||a.target===this.handleMin)this._pointerCtx.offsetVal=c-d[this.handleMin._isActive&&this._pointerCtx.target===this.focusNode?1:0];m.setPointerCapture(this._pointerCtx.target,a.pointerId);a.stopPropagation()}},pointerMoveHandler:function(a){a.target===
this._pointerCtx.target&&(this.handleOnInput(this._formatSelection(this._selectedValue(a,this._pointerCtx.containerBox)-this._pointerCtx.offsetVal,a.target)),a.stopPropagation())},lostCaptureHandler:function(){this._pointerCtx.target=null;this.handleOnChange(this.value)},keyDownHandler:function(a){if(!this._ignoreUserInput(a)){var b=this._getValueAsArray(),d=a.target===this.focusNode?b.length-1:0,c=1;switch(a.key){case "Home":b=[this.min,b[0]][d];break;case "End":b=a.target===this.handleMin?b[1]:
this.max;break;case "ArrowRight":c=-1;case "ArrowLeft":b=parseFloat(b[d])+c*(this.flip&&!this.vertical?this.step:-this.step);break;case "ArrowDown":c=-1;case "ArrowUp":b=parseFloat(b[d])+c*(this.flip&&this.vertical?-this.step:this.step);break;default:return}this.handleOnInput(this._formatSelection(b,a.target));a.preventDefault()}},keyUpHandler:function(a){this._ignoreUserInput(a)||a.target!==this.focusNode&&a.target!==this.handleMin||this.handleOnChange(this.value)},_ignoreUserInput:function(a){return this.disabled||
this.readOnly||a.altKey||a.ctrlKey||a.metaKey},_startSlideRange:function(a){if(!this.slideRange||!this.handleMin._isActive||a.target===this.focusNode||a.target===this.handleMin)return!1;var d=b(this.progressBar);a=a[this._propNames.clientStart]-d[this._propNames.start];d=d[this._propNames.size];return 0<=a&&a<=d},_selectedValue:function(a,b){var d=b[this._propNames.size];return Math.round(function(a,b,d,c,e){return(a-b)*(e-c)/(d-b)+c}(a[this._propNames.clientStart]-b[this._propNames.start],this._reversed?
d:0,this._reversed?0:d,this.min,this.max)/this.step)*this.step},_formatSelection:function(a,b){var d=this._getValueAsArray(),c=a;switch(b){case this.focusNode:c=1===d.length?String(a):Math.min(d[0],a)+","+a;break;case this.handleMin:c=a+","+Math.max(d[1],a);break;case this.progressBar:b=d[1]-d[0],a=Math.max(this.min,Math.min(a+b,this.max)-b),c=a+","+(a+b)}return c}})});
define("delite/theme",["require","requirejs-dplugins/has","module","requirejs-dplugins/css"],function(c,m,g,k){var f=g.config(),a={themeMap:f.themeMap||[[/.*/,"bootstrap"]],getTheme:function(){var b=a.theme||f.theme;b||(b=(b=location.search.match(/theme=(\w+)/))&&1<b.length?b[1]:null);if(!b)for(var d=f.userAgent||(location.search.match(/ua=(\w+)/)?RegExp.$1:navigator.userAgent),c=this.themeMap,n=0;n<c.length;n++)if(c[n][0].test(d)){b=c[n][1];break}return a.theme=b},load:function(d,h,l){f=g.config();
h=g.id.replace(/\/.*/,"")+"/themes/{{theme}}/common.css";d=d?[h,d]:[h];m("builder")?(d.forEach(function(a){k.buildFunctions.addOnce(b,a)}),l()):(f.layersMap&&(d=d.map(function(a){return f.layersMap[a]||a})),d=d.map(function(b){return k.id+"!"+b.replace(/{{theme}}/,a.getTheme())}),c(d,function(){l(arguments)}))}};if(m("builder")){var b=[],d;a.writeFile=function(a,b,c,f){d=f};a.onLayerEnd=function(c,h){if(h.name&&h.path){var e=a.themeMap.map(function(a){var c=a[1];a=h.path.replace(/^(?:\.\/)?(([^\/]*\/)*)[^\/]*$/,
"$1themes/layer_"+(c||"{{theme}}")+".css");var e=b.map(function(a){return a.replace(/{{theme}}/g,c)});return k.buildFunctions.writeLayer(d,a,e)}).every(function(a){return a}),f=h.name.replace(/^(([^\/]*\/)*)[^\/]*$/,"$1themes/layer_{{theme}}.css");e&&k.buildFunctions.writeConfig(c,g.id,f,b);b=[]}}}return a});
define("delite/handlebars","module require requirejs-dplugins/has requirejs-dplugins/Promise! requirejs-text/text ./Template".split(" "),function(c,m,g,k,f,a){function b(a,b){for(var d=0,c=a.length,e=!1,h=[];d<c;){var f=a.indexOf(e?"}}":"{{",d),d=a.substring(d,-1===f?c:f);e?(d=d.trim(),/this\./.test(d)?h.push("("+d+")"):h.push(b?"(this."+d+"== null ? '' : this."+d+")":"this."+d)):d&&h.push("'"+d.replace(/(['\\])/g,"\\$1").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"'");d=-1===f?c:f+2;e=!e}return h.join(" + ")}
var d={parse:function(b,c){for(var e=b.hasAttribute("is")?b.getAttribute("is"):b.tagName.replace(/^template-/i,"").toLowerCase(),h=a.getElement(e),f={},l={},n,p=0,k,g=b.attributes;k=g[p++];){var r=k.name.replace("template-","");if((k=k.value)||"boolean"===typeof h[r.toLowerCase()])switch(r){case "xmlns":c=k;break;case "is":break;case "attach-point":case "data-attach-point":n=k.split(/, */);break;default:/^on-/.test(r)?l[r.substring(3)]=k.replace(/\s*({{|}})\s*/g,""):f[r]=this.parseValueAttribute(e,
h,r,k)}}return{tag:e,xmlns:c,attributes:f,connects:l,children:d.parseChildren(b,c),attachPoints:n}},parseValueAttribute:function(d,c,e,h){d=a.getProp(d,e);c=typeof c[d];return d&&"string"!==c&&!/{{/.test(h)&&"style.cssText"!==d?"boolean"===c?"off"===h||"false"===h?"false":"true":h:b(h,"class"===e)},parseChildren:function(a,c){var e=[],h;for(a=a.firstChild;a;a=a.nextSibling){var f=a.nodeType;if(1===f)h=e.length,e.push(d.parse(a,c));else if(3===f){if(/^[ \t\n]*$/.test(a.nodeValue)){if(void 0===h)continue}else h=
e.length;e.push(b(a.nodeValue,!0))}}return e.slice(0,h+1)},neutralizeTags:function(a){a=a.replace(/(<\/? *)([-a-zA-Z0-9]+)/g,"$1template-$2");a=a.replace(/<template-(area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)([^>]*?)\/?>/g,"<template-$1$2></template-$1>");return a=a.replace(/style=/g,"template-style=")},toDom:function(a){a=d.neutralizeTags(a);if(/<template-svg/.test(a))for(a=(new DOMParser).parseFromString(a,"text/xml").firstChild;1!==a.nodeType;)a=a.nextSibling;
else{var b=document.createElement("div");b.innerHTML=a;a=b.firstElementChild}return a},compile:function(b){b=d.toDom(b);b=d.parse(b);return(new a(b)).func},requireAndCompile:function(b,c){var e=d.toDom(b),h=e.getAttribute("requires")||e.getAttribute("data-requires")||"";e.removeAttribute("requires");e.removeAttribute("data-requires");return new k(function(b){c(h.split(/,\s*/),function(){var c=d.parse(e),c=new a(c);b(c.func)})})},load:function(a,b,d){f.load(a,b,function(a){this.requireAndCompile(a,
b).then(d)}.bind(this))}};if(g("builder")){var e=require.nodeRequire("fs"),h=require.nodeRequire("jsdom").jsdom,l,n;d.load=function(a,b,d){l=e.readFileSync(b.toUrl(a),"utf8");d()};d.write=function(a,b,d){var e=h(l).querySelector("template"),f=e.getAttribute("requires")||e.getAttribute("data-requires");n=f?f.split(/,\s*/):[];e.removeAttribute("requires");e.removeAttribute("data-requires");f=[c.id].concat(n);e="define("+JSON.stringify(f)+", function(handlebars){\n\treturn handlebars.compile("+JSON.stringify(e.outerHTML)+
");\n});";d.asModule(a+"!"+b,e)};d.addModules=function(a,b,d){d(n)}}return d});
define("delite/Widget","dcl/dcl requirejs-dplugins/jquery!attributes/classes ./features decor/Invalidating ./CustomElement ./register ./features!bidi?./Bidi".split(" "),function(c,m,g,k,f,a,b){var d=0;k=c([f,k],{baseClass:"",focused:!1,widgetId:0,dir:"",effectiveDir:"",createdCallback:function(){this.widgetId="d-"+ ++d},deliver:c.after(function(){this.initializeInvalidating()}),computeProperties:function(a){"dir"in a&&(/^(ltr|rtl)$/i.test(this._get("dir"))?this.effectiveDir=this._get("dir").toLowerCase():
this.effectiveDir=this.getInheritedDir())},shouldInitializeRendering:function(a){return!this.rendered||"template"in a},initializeRendering:function(){this.rendered=!1;this.preRender();this.render();this.postRender();this.rendered=!0},getInheritedDir:function(){return(this.ownerDocument.body.dir||this.ownerDocument.documentElement.dir||"ltr").toLowerCase()},refreshRendering:function(a,b){this._templateHandle&&!b&&this._templateHandle.refresh(a);"baseClass"in a&&m(this).removeClass(a.baseClass).addClass(this.baseClass);
"effectiveDir"in a&&m(this).toggleClass("d-rtl","rtl"===this.effectiveDir);"dir"in a&&(this.style.direction=this._get("dir"))},attachedCallback:c.after(function(){this._templateHandle&&!g("document-register-element")&&this._templateHandle.attach()}),preRender:function(){},template:null,render:function(){this._templateHandle&&(this._templateHandle.destroy(),delete this._templateHandle);this.template&&(this._templateHandle=this.template(this.ownerDocument,a),this.attached&&!g("document-register-element")&&
this._templateHandle.attach())},setClassComponent:function(a,b,d){d||(d=this);a="_"+a+"Class";m(d).removeClass(d[a]||"").addClass(b);d[a]=b},setOrRemoveAttribute:function(a,b,d){void 0===d?a===this?HTMLElement.prototype.removeAttribute.call(a,b):a.removeAttribute(b):a===this?HTMLElement.prototype.setAttribute.call(a,b,""+d):a.setAttribute(b,""+d)},postRender:function(){},detachedCallback:function(){this._templateHandle&&!g("document-register-element")&&this._templateHandle.detach();this.bgIframe&&
(this.bgIframe.destroy(),delete this.bgIframe)},getParent:function(){return this.parentNode?this.getEnclosingWidget(this.parentNode):null},on:c.superCall(function(a){return function(b,d,c){b={focus:"focusin",blur:"focusout"}[b]||b;return a.call(this,b,d,c)}}),placeAt:function(a,b){"string"===typeof a&&(a=this.ownerDocument.getElementById(a));if("replace"===b)a.parentNode.replaceChild(this,a);else if("only"===b){for(;b=a.lastChild;)a.removeChild(b);a.appendChild(this)}else if(/^(before|after)$/.test(b))a.parentNode.insertBefore(this,
"before"===b?a:a.nextSibling);else{a=a.containerNode||a;var d=a.children||Array.prototype.filter.call(a.childNodes,function(a){return 1===a.nodeType});a.insertBefore(this,d["first"===b?0:b]||null)}this.attached||this.attachedCallback(!0);return this},getEnclosingWidget:function(a){do if(1===a.nodeType&&a.render)return a;while(a=a.parentNode);return null}});g("bidi")&&(k=c(k,b));c.chainAfter(k,"preRender");c.chainAfter(k,"postRender");return k});
define("delite/Bidi",["./features"],function(c){return{textDir:"",getInheritedDir:function(){return this._inheritedDir||this.ownerDocument.body.dir||this.ownerDocument.documentElement.dir||"ltr"},attachedCallback:function(){c("inherited-dir")&&(this._inheritedDir=window.getComputedStyle(this,null).direction,this.notifyCurrentValue("dir"),this.deliver())},getTextDir:function(c){var g=this.textDir;return"auto"===g?this._checkContextual(c):/^(rtl|ltr)$/i.test(g)?g:this.effectiveDir},_checkContextual:function(c){return(c=
/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(c))?"z">=c[0]?"ltr":"rtl":this.effectiveDir},applyTextDir:function(c){if(this.textDir){var g=this.textDir;"auto"===g&&(g=c.tagName.toLowerCase(),g=this._checkContextual("input"===g||"textarea"===g?c.value:c.textContent));c.dir=g}else c.dir=this.effectiveDir},applyTextDirection:function(c){return this.textDir?this.wrapWithUcc(this.removeUcc(c)):this.removeUcc(c)},wrapWithUcc:function(c){return("ltr"===this.getTextDir(c)?
"\u202a":"\u202b")+c+"\u202c"},removeUcc:function(c){return c&&c.replace(/[\u200E\u200F\u202A-\u202C]/g,"")},enforceTextDirWithUcc:function(c){c.originalText=c.text;c.innerHTML=this.applyTextDirection(c.innerHTML)},restoreOriginalText:function(c){c.originalText&&(c.text=c.originalText,delete c.originalText)}}});
define("delite/Template",["./register"],function(c){function m(a){return(a=a.match(/this\.(\w+)/g))?Object.keys(a.reduce(function(a,d){a[d.substring(5)]=!0;return a},{})):[]}var g=c.dcl(null,{constructor:function(a,b,d){this.buildText=[];this.attachText=[];this.detachText=[];this.destroyText=[];this.observeText=[];this.generateNodeCode(b||"this",d,a);this.text=this.buildText.join("\n")+"\nreturn {\n\tattach: function(){\n\t\t"+this.attachText.join("\n\t\t")+"\n\t},\n\tdetach: function(){\n\t\t"+this.detachText.join("\n\t\t")+
"\n\t},\n\trefresh: function(props){\n\t\t"+this.observeText.join("\n\t\t")+"\n\t}.bind(this),\n\tdestroy: function(){\n"+this.destroyText.join("\n\t\t")+"\n\t\twhile(this.firstChild){ this.removeChild(this.firstChild); }\n\t}.bind(this)\n};\n";this.func=new Function("document","register",this.text)},text:"",func:null,generateWatchCode:function(a,b){a.length&&this.observeText.push("if("+a.map(function(a){return"'"+a+"' in props"}).join(" || ")+")","\t"+b+";")},generateNodeChildrenCode:function(a,
b){b.forEach(function(b,c){var d=("this"===a?"":a)+"c"+(c+1);b.tag?(this.generateNodeCode(d,!0,b),this.buildText.push(a+".appendChild("+d+");")):(c=d+"t"+(c+1),d=m(b),this.buildText.push("var "+c+" = document.createTextNode("+b+");",a+".appendChild("+c+");"),this.generateWatchCode(d,c+".nodeValue = "+b))},this)},generateNodeCode:function(a,b,c){var d=(c.attachPoints||[]).map(function(a){return"this."+a+" = "}).join("");b?(this.buildText.push("var "+a+" = "+d+(c.xmlns?"document.createElementNS('"+
c.xmlns+"', '"+c.tag+"');":"register.createElement('"+c.tag+"');")),/-/.test(c.tag)&&(this.attachText.push(a+".attachedCallback();"),this.detachText.push(a+".detachedCallback();"))):d&&this.buildText.push(d+a+";");this.destroyText.push((c.attachPoints||[]).map(function(a){return"delete this."+a+";\n"}).join("").trim());for(var h in c.attributes){d=c.attributes[h];b=m(d);var f=g.getProp(c.tag,h);"class"!==h||c.xmlns?(d=f?a+"."+f+" = "+d:"this.setOrRemoveAttribute("+a+", '"+h+"', "+d+")",this.buildText.push(d),
this.generateWatchCode(b,d)):(this.buildText.push("this.setClassComponent('template'+this.widgetId, "+d+", "+a+");"),this.generateWatchCode(b,"this.setClassComponent('template'+this.widgetId, "+d+", "+a+")"))}/-/.test(c.tag)&&(this.buildText.push(a+".deliver();"),this.observeText.push(a+".deliver();"));for(var n in c.connects)h=c.connects[n],h=/^[a-zA-Z0-9_]+$/.test(h)?"this."+h+".bind(this)":"function(event){"+h+"}","this"===a?(this.buildText.push("var h_"+n+" = this.on('"+n+"', "+h+");"),this.destroyText.push("h_"+
n+".remove();")):this.buildText.push("this.on('"+n+"', "+h+", "+a+");");c.children&&this.generateNodeChildrenCode(a,c.children)}}),k={};g.getElement=function(a){a in k||(k[a]=c.createElement(a));return k[a]};var f={};g.getProp=function(a,b){if(!(a in f)){var c=g.getElement(a),e=f[a]={},h;for(h in c)e[h.toLowerCase()]=h;e.style="style.cssText"}return f[a][b]};return g});
define("dpointer/handlers/utils",[],function(){function c(a,c){c.pressure=c.pressure||(c.buttons?.5:0);var b={};Object.keys(k).forEach(function(b){this[b]=b in a?{get:function(){return c[b]||k[b]}}:{value:c[b]||k[b]}},b);Object.defineProperties(a,b);return a}function m(a,c){if(a.type!==g.GOTCAPTURE&&a.type!==g.LOSTCAPTURE){if(a.bubbles){var b=a.stopPropagation;a.stopPropagation=function(){c.stopPropagation();b.apply(this)};if(a.stopImmediatePropagation){var d=a.stopImmediatePropagation;a.stopImmediatePropagation=
function(){c.stopImmediatePropagation();d.apply(this)}}}if(f[a.type].cancelable){var l=a.preventDefault;a.preventDefault=function(){c.preventDefault();l.apply(this)}}}}var g={events:{DOWN:"pointerdown",UP:"pointerup",CANCEL:"pointercancel",MOVE:"pointermove",OVER:"pointerover",OUT:"pointerout",ENTER:"pointerenter",LEAVE:"pointerleave",GOTCAPTURE:"gotpointercapture",LOSTCAPTURE:"lostpointercapture"},TouchAction:{ATTR_NAME:"touch-action",AUTO:0,PAN_X:1,PAN_Y:2,NONE:3}},k={screenX:0,screenY:0,clientX:0,
clientY:0,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,button:0,relatedTarget:null,which:0,pageX:0,pageY:0,buttons:0,pointerId:0,width:0,height:0,pressure:0,tiltX:0,tiltY:0,pointerType:"",isPrimary:!1},f={pointerover:{bubbles:!0,cancelable:!0},pointerenter:{bubbles:!1,cancelable:!1},pointerdown:{bubbles:!0,cancelable:!0},pointermove:{bubbles:!0,cancelable:!0},pointerup:{bubbles:!0,cancelable:!0},pointercancel:{bubbles:!0,cancelable:!1},pointerout:{bubbles:!0,cancelable:!0},pointerleave:{bubbles:!1,
cancelable:!1},gotpointercapture:{bubbles:!0,cancelable:!1},lostpointercapture:{bubbles:!0,cancelable:!1}},a;try{c(document.createEvent("UIEvent"),{}),a=!0}catch(b){k.view=null,k.detail=0,a=!1}g.Pointer=function(b,d,e){var h;e.bubbles=f[b].bubbles;e.cancelable=f[b].cancelable;a?(h=document.createEvent("UIEvent"),h.initUIEvent(b,e.bubbles,e.cancelable,d.view||null,d.detail||0)):(h=document.createEvent("Event"),h.initEvent(b,e.bubbles,e.cancelable),e.view=d.view||null,e.detail=d.detail||0);c(h,e);m(h,
d);return h};g.createSyntheticClick=function(a,c){var b=document.createEvent("MouseEvents");void 0===b.isTrusted&&Object.defineProperty(b,"isTrusted",{value:!1,enumerable:!0,writable:!1,configurable:!1});b.initMouseEvent(c?"dblclick":"click",!0,!0,a.view,c?2:1,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,0,null);return b};g.isNativeClickEvent=function(a){return void 0===a.isTrusted||a.isTrusted};g.which2buttons=function(a){switch(a){case 0:return 0;case 1:return 1;
case 2:return 4;case 3:return 2;default:return Math.pow(2,a-1)}};g.addEventListener=function(a,c,e,h){a.addEventListener(c,e,h)};g.removeEventListener=function(a,c,e,h){a.removeEventListener(c,e,h)};g.dispatchEvent=function(a,c){if(!a)return!1;if(!a.dispatchEvent)throw Error("dispatchEvent not supported on targetElement");return a.dispatchEvent(c)};g.dispatchLeaveEvents=function(a,c,e){return null==a||null==c||a===c||a.compareDocumentPosition(c)&16?!0:this.dispatchEvent(a,e)&&this.dispatchLeaveEvents(a.parentNode,
c,e)};g.dispatchEnterEvents=function(a,c,e){return null==a||null==c||a===c||a.compareDocumentPosition(c)&16?!0:this.dispatchEnterEvents(a.parentNode,c,e)&&this.dispatchEvent(a,e)};return g});
define("dpointer/handlers/touchTracker",["./utils"],function(c){var m=function(f,a,b){this.touchAction=f;this.lastTargetElement=this.capturedTarget=this.lastTouch=this.lastNativeEvent=null;this.firstMove={startX:a,startY:b};this.enforceTouchAction=f===c.TouchAction.AUTO},g=-1,k={};return{register:function(c,a,b){-1===g&&(g=c);k[c]=new m(a,b.pageX,b.pageY)},unregister:function(c){g===c&&(g=-1);return delete k[c]},update:function(c,a,b){k[c.identifier].lastTouch=c;k[c.identifier].lastNativeEvent=a;
k[c.identifier].lastTargetElement=b},isActive:function(c){return c in k},isPrimary:function(c){return c===g},getTouchAction:function(c){return k[c].touchAction},updateScroll:function(f){if(k[f.identifier].firstMove){var a=k[f.identifier];a.touchAction===c.TouchAction.PAN_Y?a.enforceTouchAction=.7<Math.abs(f.pageY-a.firstMove.startY)/Math.abs(f.pageX-a.firstMove.startX):a.touchAction===c.TouchAction.PAN_X&&(a.enforceTouchAction=.7<Math.abs(f.pageX-a.firstMove.startX)/Math.abs(f.pageY-a.firstMove.startY));
a.firstMove=!1}},isTouchActionEnforced:function(c){return k[c].enforceTouchAction},getLastTouch:function(c){return k[c].lastTouch},getTargetElement:function(c){return k[c].lastTargetElement},getTouchEvent:function(c){return k[c].lastNativeEvent},hasPrimary:function(){return-1!==g},getPrimaryTouchEvent:function(){return k[g].lastNativeEvent},getPrimaryTouch:function(){return k[g].lastTouch},identifyTouchTarget:function(c,a){return k[c]&&k[c].capturedTarget||a},identifyPrimaryTouchTarget:function(c){return this.identifyTouchTarget(g,
c)},hasCapture:function(c){return!!k[c].capturedTarget},setCapture:function(c,a){if(!this.isActive(c))throw Error("InvalidPointerId");k[c].capturedTarget=a},releaseCapture:function(c,a){if(!this.isActive(c))throw Error("InvalidPointerId");return a&&a!==k[c].capturedTarget||!k[c].capturedTarget?!1:(k[c].capturedTarget=null,!0)}}});
define("dpointer/handlers/touch",["./features","./touchTracker","./utils"],function(c,m,g){function k(a){for(var b,c,e=a.changedTouches.length,h=0;h<e;h++)if(b=a.changedTouches.item(h),c=n(b.target),m.hasPrimary()&&c===g.TouchAction.AUTO){c=m.getPrimaryTouchEvent();var f=m.getPrimaryTouch();b=m.identifyPrimaryTouchTarget(f.target);g.dispatchEvent(b,d(g.events.OUT,c,f,{}));g.dispatchEvent(b,d(g.events.CANCEL,c,f,{}));l(f.identifier);m.unregister(f.identifier)}else c!==g.TouchAction.AUTO&&r.isEligible(b.target)&&
a.preventDefault(),m.register(b.identifier,c,b),m.update(b,a,b.target),g.dispatchEvent(b.target,d(g.events.OVER,a,b,{})),g.dispatchEvent(b.target,d(g.events.DOWN,a,b,{}))}function f(a){for(var b,e=a.changedTouches.length,f=0;f<e;f++){b=a.changedTouches.item(f);if(!m.isActive(b.identifier))break;m.updateScroll(b);if(m.isTouchActionEnforced(b.identifier)){switch(m.getTouchEvent(b.identifier).type){case p.touchstart:g.dispatchEvent(b.target,d(g.events.OUT,a,b,{})),g.dispatchEvent(b.target,d(g.events.CANCEL,
a,b,{}))}l(b.identifier);m.unregister(b.identifier)}else{var n=m.identifyTouchTarget(b.identifier,h(b)),k=m.getTargetElement(b.identifier);n!==k?(g.dispatchEvent(k,d(g.events.OUT,a,b,{relatedTarget:n})),g.dispatchLeaveEvents(k,n,d(g.events.LEAVE,a,b,{relatedTarget:n})),g.dispatchEvent(n,d(g.events.MOVE,a,b,{})),g.dispatchEvent(n,d(g.events.OVER,a,b,{relatedTarget:k})),g.dispatchEnterEvents(n,k,d(g.events.ENTER,a,b,{relatedTarget:k}))):g.dispatchEvent(n,d(g.events.MOVE,a,b,{}));m.update(b,a,n);c("css-touch-action")||
a.preventDefault()}}}function a(a){for(var b,c=a.changedTouches.length,f=0;f<c;f++){b=a.changedTouches.item(f);if(!m.isActive(b.identifier))break;var n=m.getTouchEvent(b.identifier).type,k=h(b)||b.target,q=m.identifyTouchTarget(b.identifier,k);if(m.isTouchActionEnforced(b.identifier))switch(n){case p.touchstart:g.dispatchEvent(q,d(g.events.MOVE,a,b,{})),g.dispatchEvent(q,d(g.events.UP,a,b,{})),g.dispatchEvent(q,d(g.events.OUT,a,b,{}))}else switch(n){case p.touchstart:g.dispatchEvent(q,d(g.events.MOVE,
a,b,{}));g.dispatchEvent(q,d(g.events.UP,a,b,{}));a.preventDefault();e(q,b);g.dispatchEvent(q,d(g.events.OUT,a,b,{}));break;case p.touchmove:g.dispatchEvent(q,d(g.events.UP,a,b,{})),k===b.target&&(a.preventDefault(),e(q,b)),g.dispatchEvent(q,d(g.events.OUT,a,b,{}))}l(b.identifier);m.unregister(b.identifier)}}function b(a){for(var b,c=a.changedTouches.length,e=0;e<c;e++){b=a.changedTouches.item(e);if(!m.isActive(b.identifier))break;g.dispatchEvent(m.identifyTouchTarget(b.identifier,h(b)),d(g.events.CANCEL,
a,b,{}));l(b.identifier);m.unregister(b.identifier)}}function d(a,b,c,d){d=d||{};d.screenX=c.screenX;d.screenY=c.screenY;d.clientX=c.clientX;d.clientY=c.clientY;d.ctrlKey=b.ctrlKey;d.altKey=b.altKey;d.shiftKey=b.shiftKey;d.metaKey=b.metaKey;d.pageX=c.pageX;d.pageY=c.pageY;m.hasCapture(c.identifier)&&(d.relatedTarget=null);d.button=a===g.events.MOVE?-1:0;d.buttons=1;d.which=d.button+1;d.pointerId=c.identifier+2;d.pointerType="touch";d.isPrimary=m.isPrimary(c.identifier);return new g.Pointer(a,b,d)}
function e(a,b){m.isPrimary(b.identifier)&&(g.dispatchEvent(a,g.createSyntheticClick(b)),r.isEligible(a)?(g.dispatchEvent(a,g.createSyntheticClick(b,!0)),r.hasFirstClick=!1):(r.hasFirstClick=!0,r.lastClickTS=(new Date).getTime(),r.targetElement=a))}function h(a){return a.target.ownerDocument.elementFromPoint(a.clientX,a.clientY)}function l(a,b){return m.releaseCapture(a,b)?(g.dispatchEvent(m.getLastTouch(a).target,d(g.events.LOSTCAPTURE,m.getTouchEvent(a),m.getLastTouch(a),{})),!0):!1}function n(a){var b=
g.TouchAction.AUTO;do switch(a.getAttribute&&a.getAttribute(g.TouchAction.ATTR_NAME)){case "auto":b|=g.TouchAction.AUTO;break;case "pan-x":b|=g.TouchAction.PAN_X;break;case "pan-y":b|=g.TouchAction.PAN_Y;break;case "none":b|=g.TouchAction.NONE}while(b!==g.TouchAction.NONE&&(a=a.parentNode));return b}var p={touchstart:"touchstart",touchmove:"touchmove",touchend:"touchend",touchcancel:"touchcancel"},r={TAP_DELAY:250,lastClickTS:0,hasFirstClick:!1,targetElement:null,isEligible:function(a){return this.hasFirstClick&&
this.targetElement===a&&(new Date).getTime()-this.lastClickTS<this.TAP_DELAY}};return{registerHandlers:function(c){c=c||window.document;g.addEventListener(c,p.touchstart,k,!0);g.addEventListener(c,p.touchmove,f,!0);g.addEventListener(c,p.touchend,a,!0);g.addEventListener(c,p.touchcancel,b,!0)},deregisterHandlers:function(c){g.removeEventListener(c,p.touchstart,k,!0);g.removeEventListener(c,p.touchmove,f,!0);g.removeEventListener(c,p.touchend,a,!0);g.removeEventListener(c,p.touchcancel,b,!0)},setPointerCapture:function(a,
b){b-=2;m.setCapture(b,a);g.dispatchEvent(m.getLastTouch(b).target,d(g.events.GOTCAPTURE,m.getTouchEvent(b),m.getLastTouch(b),{}));return!0},releasePointerCapture:function(a,b){return l(b-2,a)},determineTouchAction:function(a){return n(a)}}});
define("dpointer/handlers/mouse",["./utils"],function(c){function m(a){e.update(a);c.dispatchEvent(a.target,b(c.events.DOWN,a,{}));var h=window.getComputedStyle(a.target).overflow;!h||"auto"!==h&&"scroll"!==h||(d=!0,c.dispatchEvent(a.target,b(c.events.CANCEL,a,{})))}function g(a){d||(c.dispatchEvent(e.identifyTarget(a.target),b(c.events.MOVE,a,{})),e.update(a))}function k(a){d||e.hasCapture()||(a.relatedTarget&&(c.dispatchEvent(a.target,b(c.events.OUT,a,{})),c.dispatchLeaveEvents(a.target,a.relatedTarget,
b(c.events.LEAVE,a))),e.update(a))}function f(a){d||e.hasCapture()||(a.relatedTarget&&(c.dispatchEvent(a.target,b(c.events.OVER,a,{})),c.dispatchEnterEvents(a.target,a.relatedTarget,b(c.events.ENTER,a))),e.update(a))}function a(a){d?d=!1:(c.dispatchEvent(e.identifyTarget(a.target),b(c.events.UP,a,{})),e.implicitReleaseCapture(),e.update(a))}function b(a,b,d){d=d||{};d.screenX=b.screenX;d.screenY=b.screenY;d.clientX=b.clientX;d.clientY=b.clientY;d.ctrlKey=b.ctrlKey;d.altKey=b.altKey;d.shiftKey=b.shiftKey;
d.metaKey=b.metaKey;d.pageX=b.pageX;d.pageY=b.pageY;var h=b.button,f=void 0!==b.buttons?b.buttons:c.which2buttons(b.which);"mousemove"===b.type&&(h=-1);d.button=h;d.buttons=f;d.which=h+1;e.hasCapture()?d.relatedTarget=null:d.relatedTarget=b.relatedTarget;d.pointerId=1;d.pointerType="mouse";d.isPrimary=!0;return new c.Pointer(a,b,d)}var d=!1,e={_lastNativeEvent:null,_captureTarget:null,register:function(){},update:function(a){this._lastNativeEvent=a},setCapture:function(a){if(!this._lastNativeEvent)throw"InvalidPointerId";
if(0===this._lastNativeEvent.buttons)return!1;this._captureTarget=a;c.dispatchEvent(this._lastNativeEvent.target,b(c.events.GOTCAPTURE,this._lastNativeEvent,{}));return!0},hasCapture:function(){return!!this._captureTarget},identifyTarget:function(a){return this._captureTarget||a},releaseCapture:function(a,d){if(!this._lastNativeEvent)throw"InvalidPointerId";if(!d&&this._captureTarget!==a)return!1;this._captureTarget&&(c.dispatchEvent(this._captureTarget,b(c.events.LOSTCAPTURE,this._lastNativeEvent,
{})),this._captureTarget=null);return!0},implicitReleaseCapture:function(){return this.releaseCapture(null,!0)}};return{registerHandlers:function(b){b=b||window.document;c.addEventListener(b,"mousedown",m,!0);c.addEventListener(b,"mousemove",g,!0);c.addEventListener(b,"mouseout",k,!0);c.addEventListener(b,"mouseover",f,!0);c.addEventListener(b,"mouseup",a,!0)},deregisterHandlers:function(b){c.removeEventListener(b,"mousedown",m,!0);c.removeEventListener(b,"mousemove",g,!0);c.removeEventListener(b,
"mouseout",k,!0);c.removeEventListener(b,"mouseover",f,!0);c.removeEventListener(b,"mouseup",a,!0)},setPointerCapture:function(a){return e.setCapture(a)},releasePointerCapture:function(a){return e.releaseCapture(a,!1)}}});
define("dpointer/handlers/features",["requirejs-dplugins/has"],function(c){"undefined"!==typeof document&&(c.add("touch-events","ontouchstart"in document),c.add("pointer-events","onpointerdown"in document),c.add("mspointer-events","onmspointerdown"in document),c.add("touch-device",/(mobile)|(android)/i.test(navigator.userAgent)),c.add("css-touch-action","touchAction"in document.body.style),c.add("css-ms-touch-action","msTouchAction"in document.body.style));return c});
define("dpointer/events",["./handlers/features","./handlers/utils","./handlers/touch","./handlers/mouse","./handlers/features!mspointer-events?./handlers/mspointer"],function(c,m,g,k,f){function a(a){var b=document.createElement("style"),c=m.TouchAction.ATTR_NAME;b.textContent="["+c+"='none']  { "+a+": none; }["+c+"='auto']  { "+a+": auto; }["+c+"='pan-x'] { "+a+": pan-x; }["+c+"='pan-y'] { "+a+": pan-y; }["+c+"='pan-x pan-y'],["+a+"='pan-y pan-x'] { "+a+": pan-x pan-y; }";document.head.insertBefore(b,
document.head.firstChild)}var b={_targetElement:null,enable:function(a){a=a||window.document;this._targetElement||(c("pointer-events")||(c("mspointer-events")?f.registerHandlers(a):c("touch-events")&&c("touch-device")?g.registerHandlers(a):k.registerHandlers(a)),this._targetElement=a)},disable:function(){this._targetElement&&(g.deregisterHandlers(this._targetElement),k.deregisterHandlers(this._targetElement),f&&f.deregisterHandlers(this._targetElement));this._targetElement=null},setTouchAction:function(a,
b){a.setAttribute(m.TouchAction.ATTR_NAME,b)},setPointerCapture:function(a,b){return this._targetElement?c("pointer-events")?a.setPointerCapture(b):c("mspointer-events")?a.msSetPointerCapture(b):1===b?k.setPointerCapture(a):g.setPointerCapture(a,b):!1},releasePointerCapture:function(a,b){return this._targetElement?c("pointer-events")?a.releasePointerCapture(b):c("mspointer-events")?a.msReleasePointerCapture(b):1===b?k.releasePointerCapture(a):g.releasePointerCapture(a,b):!1}};c("pointer-events")&&
a("touch-action");c("mspointer-events")&&a("-ms-touch-action");c("css-touch-action")?a("touch-action"):c("css-ms-touch-action")&&a("-ms-touch-action");b.enable();return b});
define("dpointer/handlers/mspointer",["./utils"],function(c){function m(a){c.dispatchEvent(a.target,h(c.events.DOWN,a,{}))}function g(a){c.dispatchEvent(a.target,h(c.events.MOVE,a,{}))}function k(a){c.dispatchEvent(a.target,h(c.events.UP,a,{}))}function f(a){c.dispatchEvent(a.target,h(c.events.OUT,a,{}));c.dispatchLeaveEvents(a.target,a.relatedTarget,h(c.events.LEAVE,a))}function a(a){c.dispatchEvent(a.target,h(c.events.OVER,a,{}));c.dispatchEnterEvents(a.target,a.relatedTarget,h(c.events.ENTER,a))}
function b(a){c.dispatchEvent(a.target,h(c.events.CANCEL,a,{}))}function d(a){c.dispatchEvent(a.target,h(c.events.GOTCAPTURE,a,{}))}function e(a){c.dispatchEvent(a.target,h(c.events.LOSTCAPTURE,a,{}))}function h(a,b,d){d=d||{};d.detail=b.detail;d.screenX=b.screenX;d.screenY=b.screenY;d.clientX=b.clientX;d.clientY=b.clientY;d.ctrlKey=b.ctrlKey;d.altKey=b.altKey;d.shiftKey=b.shiftKey;d.metaKey=b.metaKey;d.button=b.button;d.buttons=b.buttons;d.relatedTarget=b.relatedTarget;d.pointerId=b.pointerId;d.width=
b.width;d.height=b.height;d.pressure=b.pressure;d.tiltX=b.tiltX;d.tiltY=b.tiltY;d.pointerType=l(b.pointerType);d.hwTimestamp=b.hwTimestamp;d.isPrimary=b.isPrimary;-1===d.button&&"touch"===d.pointerType&&(d.buttons=1);return new c.Pointer(a,b,d)}function l(a){switch(a){case 2:return"touch";case 3:return"pen";case 4:return"mouse";default:return a}}return{registerHandlers:function(h){h=h||window.document;c.addEventListener(h,"MSPointerDown",m,!0);c.addEventListener(h,"MSPointerMove",g,!0);c.addEventListener(h,
"MSPointerUp",k,!0);c.addEventListener(h,"MSPointerOut",f,!0);c.addEventListener(h,"MSPointerOver",a,!0);c.addEventListener(h,"MSPointerCancel",b,!0);c.addEventListener(h,"MSGotPointerCapture",d,!0);c.addEventListener(h,"MSLostPointerCapture",e,!0)},deregisterHandlers:function(h){c.removeEventListener(h,"MSPointerDown",m,!0);c.removeEventListener(h,"MSPointerMove",g,!0);c.removeEventListener(h,"MSPointerUp",k,!0);c.removeEventListener(h,"MSPointerOut",f,!0);c.removeEventListener(h,"MSPointerOver",
a,!0);c.removeEventListener(h,"MSPointerCancel",b,!0);c.removeEventListener(h,"MSGotPointerCapture",d,!0);c.removeEventListener(h,"MSLostPointerCapture",e,!0)}}});
define("decor/sniff",["./features"],function(c){if(c("host-browser")){var m=navigator,g=m.userAgent,m=m.appVersion;c.add("mac",/Macintosh/.test(m));if(g.match(/(iPhone|iPod|iPad)/)){var k=RegExp.$1.replace(/P/,"p"),f=g.match(/OS ([\d_]+)/)?RegExp.$1:"1",f=parseFloat(f.replace(/_/,".").replace(/_/g,""));c.add(k,f);c.add("ios",f)}c.add("android",parseFloat(g.split("Android ")[1])||void 0);c.add("msapp",parseFloat(g.split("MSAppHost/")[1])||void 0);c.add("wp",parseFloat(g.split("Windows Phone ")[1])||
void 0);(k=parseFloat(g.split("Edge/")[1]))?c.add("edge",k):(k=parseFloat(g.split("WebKit/")[1]))?(c.add("webkit",k),c.add("chrome",parseFloat(g.split("Chrome/")[1])||void 0),c.add("safari",!/Safari/.test(m)||c("chrome")||c("android")?void 0:parseFloat(m.split("Version/")[1]))):/Trident/.test(m)?c.add("ie",document.documentMode||parseFloat(m.split("rv:")[1])):(k=parseFloat(g.split("Firefox/")[1]))&&c.add("ff",k)}return c});
define("decor/schedule",["./features"],function(c){function m(){for(var b=!0;b;){var b=!1,c;for(c in a)b=a[c],delete a[c],b(),b=!0}g=!1}var g,k=0,f=Math.random()+"",a={},b=c("mutation-observer-api")&&document.createElement("div");c("mutation-observer-api")?(b.id=0,(new MutationObserver(m)).observe(b,{attributes:!0})):!c("setimmediate-api")&&c("host-browser")&&window.addEventListener("message",function(a){a.data===f&&m()});return function(d){var e="_schedule"+k++;a[e]=d;g||(c("mutation-observer-api")?
++b.id:c("setimmediate-api")?setImmediate(m):window.postMessage(f,"*"),g=!0);return{remove:function(){delete a[e]}}}});
define("decor/features",["requirejs-dplugins/has"],function(c){c.add("console-api","undefined"!==typeof console);c.add("host-browser","undefined"!==typeof window);c.add("object-observe-api","function"===typeof Object.observe&&"function"===typeof Array.observe);c.add("object-is-api",!!Object.is);c.add("setimmediate-api","function"===typeof setImmediate);c.add("mutation-observer-api","undefined"!==typeof MutationObserver&&(/\[\s*native\s+code\s*\]/i.test(MutationObserver)||!/^\s*function/.test(MutationObserver)));
c.add("polymer-platform","undefined"!==typeof Platform);return c});
define("decor/ObservableArray",["requirejs-dplugins/has","./Observable"],function(c,m){var g,k,f=Object.defineProperty,a=[],b=/\[\s*object\s+global\s*\]/i;(function(){g=c("object-observe-api")?function(b){var c=[];m.call(c);f(c,"_observableArray",{value:1});f(c,"set",Object.getOwnPropertyDescriptor(m.prototype,"set"));"number"===typeof b&&1===arguments.length?c.length=b:a.push.apply(c,arguments);return c}:function(c){var d=this&&!b.test(this)&&!this.hasOwnProperty("length"),h=d?[]:new g;if(d){m.call(h);
f(h,"_observableArray",{value:1});for(var l in k)f(h,l,{value:k[l],configurable:!0,writable:!0})}"number"===typeof c&&1===arguments.length?h.length=c:a.push.apply(h,arguments);return h};g.test=function(a){return a&&a._observableArray}})();c("object-observe-api")?g.canObserve=function(a){return"function"===typeof(a||{}).splice}:g.canObserve=g.test;c("object-observe-api")||function(){function b(b,c){0>b&&(b=this.length+b);var d=this.length,e={index:b,removed:this.slice(b,b+c),addedCount:arguments.length-
2},h=a.splice.apply(this,arguments),f=d!==this.length&&{type:"update",object:this,name:"length",oldValue:d},k=m.getNotifier(this);k.performChange("splice",function(){f&&k.notify(f);return e});return h}k={splice:b,set:function(a,c){"length"===a?(a=Array(Math.max(c-this.length,0)),a.unshift(Math.min(this.length,c),Math.max(this.length-c,0)),b.apply(this,a)):!isNaN(a)&&+a>=this.length?(a=Array(a-this.length),a.push(c),a.unshift(this.length,0),b.apply(this,a)):m.prototype.set.call(this,a,c);return c},
pop:function(){return b.call(this,-1,1)[0]},push:function(){var c=[this.length,0];a.push.apply(c,arguments);b.apply(this,c);return this.length},reverse:function(){var b={type:"splice",object:this,index:0,removed:this.slice(),addedCount:this.length},c=a.reverse.apply(this,arguments);m.getNotifier(this).notify(b);return c},shift:function(){return b.call(this,0,1)[0]},sort:function(){var b={type:"splice",object:this,index:0,removed:this.slice(),addedCount:this.length},c=a.sort.apply(this,arguments);
m.getNotifier(this).notify(b);return c},unshift:function(){var c=[0,0];a.push.apply(c,arguments);b.apply(this,c);return this.length}}}();g.observe=function(){function b(b,d){var e=[];d.forEach(function(b){b="add"!==b.type&&"update"!==b.type?b:{type:"splice",object:b.object,index:+b.name,removed:[b.oldValue],addedCount:1};for(var d=!1,h=0,f=0;f<e.length;++f){var l;c("object-observe-api")&&Object.isFrozen(e[f])?l=e[f]={type:"splice",object:e[f].object,index:e[f].index+h,removed:e[f].removed,addedCount:e[f].addedCount}:
(l=e[f],l.index+=h);var n,k=l.index;n=l.index+l.addedCount;var g=b.index,m=b.index+b.removed.length;n=n<=g?n-g:m<=k?m-k:Math.min(n,m)-Math.max(k,g);0<=n?(e.splice(f--,1),k=l.addedCount-n+b.addedCount,l.index<b.index?(n=b.removed.slice(Math.max(n,0)),a.unshift.apply(n,l.removed)):(n=b.removed.slice(0,0<n?l.index-b.index:b.length),a.push.apply(n,l.removed),a.push.apply(n,b.removed.slice(l.index+l.addedCount-b.index))),0===n.length&&0===k?d=!0:b={type:"splice",object:l.object,index:Math.min(l.index,
b.index),removed:n,addedCount:k},h-=l.addedCount-l.removed.length):b.index<l.index&&(d=b.addedCount-b.removed.length,l.index+=d,h+=d,e.splice(f++,0,b),d=!0)}d||e.push(b)});0<e.length&&b(e)}return c("object-observe-api")?function(a,c){Array.observe(a,c=b.bind(a,c));return{deliver:Object.deliverChangeRecords.bind(Object,c),remove:Array.unobserve.bind(Array,a,c)}}:function(a,c){a=Object.create(m.observe(a,c=b.bind(a,c),["add","update","delete","splice"]));a.deliver=m.deliverChangeRecords.bind(m,c);return a}}();
return g});
define("decor/Invalidating",["dcl/dcl","./Stateful","./Destroyable"],function(c,m,g){m=c([m,g],{constructor:c.after(function(){this.initializeInvalidating()}),initializeInvalidating:function(){this._hComputing||this._hRendering||(this.own(this._hComputing=this.observe(function(c){this.computeProperties(c);this.deliverComputing()})),this.computeProperties(this,!0),this.initializeRendering(this),this.refreshRendering(this,!0),this.own(this._hRendering=this.observe(function(c){this.shouldInitializeRendering(c)?(this.initializeRendering(c),
this.refreshRendering(this,!0)):this.refreshRendering(c)})))},deliverComputing:function(){this._hComputing&&this._hComputing.deliver();return this._hComputing},discardComputing:function(){this._hComputing&&this._hComputing.discardChanges();return this._hComputing},destroy:function(){this._hRendering=this._hComputing=null},shouldInitializeRendering:function(){},computeProperties:function(){},initializeRendering:function(){},refreshRendering:function(){}});c.chainAfter(m,"computeProperties");c.chainAfter(m,
"refreshRendering");return m});define("decor/Evented",["dcl/dcl","dcl/advise"],function(c,m){return c(null,{on:function(c,k){return m.before(this,"on"+c,k)},emit:function(c){var k="on"+c;if(this[k]){var f=Array.prototype.slice.call(arguments,1);this[k].apply(this,f)}}})});
define("xnode/manager/NodeServiceManager","dcl/dcl xide/manager/ServerActionBase xide/manager/BeanManager xide/types xide/factory xide/data/Memory xide/client/WebSocket xdojo/has xide/factory/Clients dojo/Deferred xdojo/has!xnode-ui?./NodeServiceManagerUI".split(" "),function(c,m,g,k,f,a,b,d,e,h,l){m=[m,g];l&&m.push(l);return c(m,{declaredClass:"xnode.manager.NodeServiceManager",serviceClass:"XIDE_NodeJS_Service",cookiePrefix:"nodeJSServices",singleton:!0,serviceView:null,clients:null,beanNamespace:"serviceConsoleView",
consoles:{},createClient:function(a){if(a.info){!this.clients&&(this.clients={});var c=this.getViewId(a);if(this.clients[c])return this.clients[c];var d=new b({});this.clients[c]=d;d.init({options:{host:a.info.host,port:a.info.port,debug:{all:!1,protocol_connection:!0,protocol_messages:!0,socket_server:!0,socket_client:!0,socket_messages:!0,main:!0}}});d.connect();return d}console.error("NodeJs service has no host info")},getStore:function(){return this.store},isValid:function(){return null!=this.store},
initStore:function(b){return this.store=new a({data:{identifier:"name",label:"Name",items:b},idProperty:"name"})},init:function(){var a=new h,b=this;if(this.serviceObject&&this.serviceObject.__init)this.serviceObject.__init.then(function(){b.ls().then(function(){a.resolve()})});else if(this.services)return this.ls();return a},getDefaults:function(a){return this.callMethodEx(null,"getDefaults",null,a,!0)},checkServer:function(a,b){return this.callMethodEx(null,"checkServer",[a],b,!0)},runServer:function(a,
b){return this.callMethodEx(null,"runDebugServer",[a],b,!0)},runDebug:function(a,b){return this.callMethodEx(null,"run",[a],b,!0)},stopServer:function(a,b){return this.callMethodEx(null,"stop",[a],b,!0)},startServer:function(a,b){return this.callMethodEx(null,"start",[a],b,!0)},ls:function(a,b,c){function d(b){e.rawData=b;e.initStore(b);!1!==c&&e.publish(k.EVENTS.ON_NODE_SERVICE_STORE_READY,{store:e.store});a&&a(b)}var e=this;b=null;if(this.services)return b=new h,d(this.services),b.resolve(),b;b=
this.runDeferred(null,"ls");try{b.then(function(a){d(a)})}catch(u){logError(u,"error loading store")}return b}})});
define("xide/factory/Clients",["xide/factory","xide/utils","xide/types","xide/client/WebSocket"],function(c,m,g,k){c.createClient=function(c,a,b,d){};c.createClientWithStore=function(c,a,b,d){c=m.queryStoreEx(c,{name:a},!0,!0);var e={};m.mixin(e,b);if(c&&0!==c.length){a="http://"+c.host;b=c.port;d=d||k;c.info&&(a=c.info.host,b=c.info.port);try{var h=new d(e);m.mixin(h,e);h.init({options:{host:a,port:b,channel:"",debug:{all:!1,protocol_connection:!0,protocol_messages:!0,socket_server:!0,socket_client:!0,
socket_messages:!0,main:!0}}});h.connect();return h}catch(l){}}else console.error("create client with : failed, no such service :  "+a)};return c});
define("xide/client/WebSocket",["dcl/dcl","xide/utils","xide/utils/_LogMixin","xide/client/ClientBase","xdojo/has"],function(c,m,g,k,f){return c([k,g],{declaredClass:"xide.client.WebSocket",_socket:null,debugConnect:!0,autoReconnect:!0,reconnect:function(){},close:function(){this.destroy()},onLostConnection:function(){},onConnected:function(){},connect_sock_js:function(a){this.options=m.mixin(this.options,a);var b=this.options.host,c=this.options.port;this.options.debug&&this.initLogger(this.options.debug);
if(b){a=new SockJS(b+":"+c,null,{debug:!1,devel:!0,noCredentials:!0,nullOrigin:!0,transports:"websocket xdr-streaming xhr-streaming iframe-eventsource iframe-htmlfile xdr-polling xhr-polling iframe-xhr-polling jsonp-polling".split(" ")});var e=this;a.onopen=function(){e.onConnected();if(e.delegate.onConnected)e.delegate.onConnected()};a.onmessage=function(a){if(e.delegate.onServerResponse)e.delegate.onServerResponse(a)};a.onerror=function(){console.error("error")};a.onclose=function(a){if(e.autoReconnect){if(e.delegate.onLostConnection)e.delegate.onLostConnection(a);
e.reconnect()}};this._socket=a}else console.error("something wrong with data!",a)},connect_socket_io:function(a){this.options=m.mixin(this.options,a);var b=this.options.host,c=this.options.port;this.options.debug&&this.initLogger(this.options.debug);if(b){a=new SockJS(b+":"+c,null,{debug:!1,devel:!0,noCredentials:!0,nullOrigin:!0,transports:"websocket xdr-streaming xhr-streaming iframe-eventsource iframe-htmlfile xdr-polling xhr-polling iframe-xhr-polling jsonp-polling".split(" ")});var e=this;a.onopen=
function(){e.onConnected();if(e.delegate.onConnected)e.delegate.onConnected()};a.onmessage=function(a){if(e.delegate.onServerResponse)e.delegate.onServerResponse(a)};a.onerror=function(){console.error("error")};a.onclose=function(a){if(e.autoReconnect){if(e.delegate.onLostConnection)e.delegate.onLostConnection(a);e.reconnect()}};this._socket=a}else console.error("something wrong with data!",a)},connect:function(a){return this.connect_sock_js(a)},emit:function(a,b,c){b.tag=c||"notag";a=JSON.stringify(b);
this._socket.send(a)},onSignal:function(a,b){this._socket.on("data",b)}})});
define("xide/client/ClientBase",["dcl/dcl","xide/mixins/EventedMixin","xide/model/Base","dojo/_base/unload","xide/utils"],function(c,m,g,k,f){m=c([g.dcl,m.dcl],{declaredClass:"xide.client.ClientBase",options:null,_socket:null,onConnectionReady:function(){},onClosed:function(){},destroy:function(){this._socket&&this._socket.close&&(this._socket.close(),this.onClosed())},_defaultOptions:function(){return{}},init:function(a){this.options=f.mixin(this._defaultOptions(),a.options);k.addOnUnload(function(){this.pageUnloaded=
!0;this.destroy()}.bind(this))}});c.chainAfter(m,"destroy");return m});define("dojo/_base/unload",["./kernel","./lang","../on"],function(c,m,g){var k=window,f={addOnWindowUnload:function(a,b){c.windowUnloaded||g(k,"unload",c.windowUnloaded=function(){});g(k,"unload",m.hitch(a,b))},addOnUnload:function(a,b){g(k,"beforeunload",m.hitch(a,b))}};c.addOnWindowUnload=f.addOnWindowUnload;c.addOnUnload=f.addOnUnload;return f});
define("xide/model/Base",["dcl/dcl","dojo/_base/declare","xide/utils"],function(c,m,g){var k={declaredClass:"xide/model/Base",constructor:function(c){g.mixin(this,c)},getLabel:function(){return null},getID:function(){return null}};m=m("xide/model/Base",null,k);m.dcl=c(null,k);return m});
define("xide/utils/_LogMixin",["dcl/dcl","xide/utils","xide/model/Base"],function(c,m,g){return c(g.dcl,{declaredClass:"xide.utils._LogMixin",debug_conf:null,initLogger:function(c){this.debug_conf=c},log:function(c,f){f||(f=this._debugContext().main);this.showDebugMsg(f)&&console.log(c)},showDebugMsg:function(c){if(null!=this.debug_conf)return this.debug_conf.all?!0:this.debug_conf[c]?!0:!1;console.log("No debug config, showing all.");this.debug_conf={all:!0};return!0}})});
define("xide/data/Memory",["dojo/_base/declare","dstore/Memory","xide/data/_Base"],function(c,m,g){return c("xide.data.Memory",[m,g],{silent:function(c){if(void 0===c)return this._ignoreChangeEvents;if(!0===c||!1===c&&c!==this._ignoreChangeEvents)this._ignoreChangeEvents=c},putSync:function(c){var f=this;(c=this.inherited(arguments))&&!c._store&&Object.defineProperty(c,"_store",{get:function(){return f}});return c}})});
define("xide/data/_Base","dojo/_base/declare dstore/QueryResults xide/mixins/EventedMixin xide/encoding/MD5 xdojo/has xide/lodash dojo/when dojo/Deferred".split(" "),function(c,m,g,k,f,a,b,d){return c("xide/data/_Base",g,{__all:null,allowCache:!0,_find:function(b){b=a.filter(this.data,b);return a.isArray(b)?b:a.isObject(b)?[b]:[]},notify:function(){},_query:function(a){var c=new d;a=this.filter(a);b(a.fetch(),function(a){c.resolve(a)});return c},constructor:function(){var a=this;if(a._getQuerierFactory("filter")||
a._getQuerierFactory("sort"))this.queryEngine=function(b,c){c=c||{};var d=a._getQuerierFactory("filter"),e=d?d(b):passthrough;b=a._getQuerierFactory("sort");var h=passthrough;b&&(h=b(arrayUtil.map(c.sort,function(a){return{property:a.attribute,descending:a.descending}})));var f=passthrough;isNaN(c.start)&&isNaN(c.count)||(f=function(a){var b=c.start||0,b=a.slice(b,b+(c.count||Infinity));b.total=a.length;return b});return function(a){return f(h(e(a)))}};var b=this;a.on("add,update,delete",function(c){var d=
c.type,e=c.target;b.notify("add"===d||"update"===d?e:void 0,"delete"===d||"update"===d?"id"in c?c.id:a.getIdentity(e):void 0)})},destroy:function(){this._emit("destroy",this);_.each(this.query(),function(a){!0===a.destroyOnRemove&&a.destroy&&a.destroy()});delete this._queryCache;this._queryCache=null},refreshItem:function(a,b){this.emit("update",{target:a,property:b})},query:function(b,c,d){if(a.isEmpty(b)){var e=this;return _.map(this.data,function(a){return e.getSync(a[e.idProperty])},this)}_.some(b,
function(a){return null==a});var h=b?k(JSON.stringify(b),1):null;if(f("xcf-ui")&&h&&!f("host-node")&&!1!==d&&(!this._queryCache&&(this._queryCache={}),this._queryCache[h]))return this._queryCache[h];c=c||{};b=b||{};var l=this.filter(b),g;if(b=c.sort)if("[object Array]"===Object.prototype.toString.call(b))for(var t;t=b.pop();)l=l.sort(t.attribute,t.descending);else l=l.sort(b);"start"in c&&(g=c.start||0,g=l[l.fetchRangeSync?"fetchRangeSync":"fetchRange"]({start:g,end:c.count?g+c.count:Infinity}),g.total=
g.totalLength);g=g||new m(l[l.fetchSync?"fetchSync":"fetch"]());g.observe=function(a,b){var c=l.on("add",function(b){a(b.target,-1,b.index)}),d=l.on("update",function(c){!b&&c.previousIndex===c.index&&isFinite(c.index)||a(c.target,c.previousIndex,c.index)}),e=l.on("delete",function(b){a(b.target,b.previousIndex,-1)}),h={remove:function(){c.remove();d.remove();e.remove()}};h.cancel=h.remove;return h};f("xcf-ui")||!h||f("host-node")||!1===d||(!this._queryCache&&(this._queryCache={}),this._queryCache[h]=
g);return g}})});define("xide/lodash",[],function(){if("undefined"!==typeof _)return _;console.error("error loading lodash",global._)});
define("xide/encoding/MD5",["./_base"],function(c){function m(a,b){return a<<b|a>>>32-b}function g(a,b,h,f,n,k){return c.addWords(m(c.addWords(c.addWords(b,a),c.addWords(f,k)),n),h)}function k(a,b,c,f,n,k,r){return g(b&c|~b&f,a,b,n,k,r)}function f(a,b,c,f,n,k,r){return g(b&f|c&~f,a,b,n,k,r)}function a(a,b,c,f,n,k,r){return g(c^(b|~f),a,b,n,k,r)}function b(b,e){b[e>>5]|=128<<e%32;b[(e+64>>>9<<4)+14]=e;e=1732584193;for(var d=-271733879,l=-1732584194,n=271733878,p=0;p<b.length;p+=16){var r=e,q=d,t=l,
m=n;e=k(e,d,l,n,b[p+0],7,-680876936);n=k(n,e,d,l,b[p+1],12,-389564586);l=k(l,n,e,d,b[p+2],17,606105819);d=k(d,l,n,e,b[p+3],22,-1044525330);e=k(e,d,l,n,b[p+4],7,-176418897);n=k(n,e,d,l,b[p+5],12,1200080426);l=k(l,n,e,d,b[p+6],17,-1473231341);d=k(d,l,n,e,b[p+7],22,-45705983);e=k(e,d,l,n,b[p+8],7,1770035416);n=k(n,e,d,l,b[p+9],12,-1958414417);l=k(l,n,e,d,b[p+10],17,-42063);d=k(d,l,n,e,b[p+11],22,-1990404162);e=k(e,d,l,n,b[p+12],7,1804603682);n=k(n,e,d,l,b[p+13],12,-40341101);l=k(l,n,e,d,b[p+14],17,-1502002290);
d=k(d,l,n,e,b[p+15],22,1236535329);e=f(e,d,l,n,b[p+1],5,-165796510);n=f(n,e,d,l,b[p+6],9,-1069501632);l=f(l,n,e,d,b[p+11],14,643717713);d=f(d,l,n,e,b[p+0],20,-373897302);e=f(e,d,l,n,b[p+5],5,-701558691);n=f(n,e,d,l,b[p+10],9,38016083);l=f(l,n,e,d,b[p+15],14,-660478335);d=f(d,l,n,e,b[p+4],20,-405537848);e=f(e,d,l,n,b[p+9],5,568446438);n=f(n,e,d,l,b[p+14],9,-1019803690);l=f(l,n,e,d,b[p+3],14,-187363961);d=f(d,l,n,e,b[p+8],20,1163531501);e=f(e,d,l,n,b[p+13],5,-1444681467);n=f(n,e,d,l,b[p+2],9,-51403784);
l=f(l,n,e,d,b[p+7],14,1735328473);d=f(d,l,n,e,b[p+12],20,-1926607734);e=g(d^l^n,e,d,b[p+5],4,-378558);n=g(e^d^l,n,e,b[p+8],11,-2022574463);l=g(n^e^d,l,n,b[p+11],16,1839030562);d=g(l^n^e,d,l,b[p+14],23,-35309556);e=g(d^l^n,e,d,b[p+1],4,-1530992060);n=g(e^d^l,n,e,b[p+4],11,1272893353);l=g(n^e^d,l,n,b[p+7],16,-155497632);d=g(l^n^e,d,l,b[p+10],23,-1094730640);e=g(d^l^n,e,d,b[p+13],4,681279174);n=g(e^d^l,n,e,b[p+0],11,-358537222);l=g(n^e^d,l,n,b[p+3],16,-722521979);d=g(l^n^e,d,l,b[p+6],23,76029189);e=
g(d^l^n,e,d,b[p+9],4,-640364487);n=g(e^d^l,n,e,b[p+12],11,-421815835);l=g(n^e^d,l,n,b[p+15],16,530742520);d=g(l^n^e,d,l,b[p+2],23,-995338651);e=a(e,d,l,n,b[p+0],6,-198630844);n=a(n,e,d,l,b[p+7],10,1126891415);l=a(l,n,e,d,b[p+14],15,-1416354905);d=a(d,l,n,e,b[p+5],21,-57434055);e=a(e,d,l,n,b[p+12],6,1700485571);n=a(n,e,d,l,b[p+3],10,-1894986606);l=a(l,n,e,d,b[p+10],15,-1051523);d=a(d,l,n,e,b[p+1],21,-2054922799);e=a(e,d,l,n,b[p+8],6,1873313359);n=a(n,e,d,l,b[p+15],10,-30611744);l=a(l,n,e,d,b[p+6],
15,-1560198380);d=a(d,l,n,e,b[p+13],21,1309151649);e=a(e,d,l,n,b[p+4],6,-145523070);n=a(n,e,d,l,b[p+11],10,-1120210379);l=a(l,n,e,d,b[p+2],15,718787259);d=a(d,l,n,e,b[p+9],21,-343485551);e=c.addWords(e,r);d=c.addWords(d,q);l=c.addWords(l,t);n=c.addWords(n,m)}return[e,d,l,n]}c.MD5=function(a,e){e=e||c.outputTypes.Base64;a=b(c.stringToWord(a),8*a.length);switch(e){case c.outputTypes.Raw:return a;case c.outputTypes.Hex:return c.wordToHex(a);case c.outputTypes.String:return c.wordToString(a);default:return c.wordToBase64(a)}};
c.MD5._hmac=function(a,e,h){h=h||c.outputTypes.Base64;var d=c.stringToWord(e);16<d.length&&(d=b(d,8*e.length));var f=[];e=[];for(var k=0;16>k;k++)f[k]=d[k]^909522486,e[k]=d[k]^1549556828;a=b(f.concat(c.stringToWord(a)),512+8*a.length);a=b(e.concat(a),640);switch(h){case c.outputTypes.Raw:return a;case c.outputTypes.Hex:return c.wordToHex(a);case c.outputTypes.String:return c.wordToString(a);default:return c.wordToBase64(a)}};return c.MD5});
define("xide/encoding/_base",["dojo/_base/lang"],function(c){return{outputTypes:{Base64:0,Hex:1,String:2,Raw:3},addWords:function(c,g){var k=(c&65535)+(g&65535);return(c>>16)+(g>>16)+(k>>16)<<16|k&65535},stringToWord:function(c){for(var g=[],k=0,f=8*c.length;k<f;k+=8)g[k>>5]|=(c.charCodeAt(k/8)&255)<<k%32;return g},wordToString:function(c){for(var g=[],k=0,f=32*c.length;k<f;k+=8)g.push(String.fromCharCode(c[k>>5]>>>k%32&255));return g.join("")},wordToHex:function(c){for(var g=[],k=0,f=4*c.length;k<
f;k++)g.push("0123456789abcdef".charAt(c[k>>2]>>k%4*8+4&15)+"0123456789abcdef".charAt(c[k>>2]>>k%4*8&15));return g.join("")},wordToBase64:function(c){for(var g=[],k=0,f=4*c.length;k<f;k+=3)for(var a=(c[k>>2]>>k%4*8&255)<<16|(c[k+1>>2]>>(k+1)%4*8&255)<<8|c[k+2>>2]>>(k+2)%4*8&255,b=0;4>b;b++)8*k+6*b>32*c.length?g.push("="):g.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(a>>6*(3-b)&63));return g.join("")},stringToUtf8:function(c){for(var g="",k=-1,f,a;++k<c.length;)f=
c.charCodeAt(k),a=k+1<c.length?c.charCodeAt(k+1):0,55296<=f&&56319>=f&&56320<=a&&57343>=a&&(f=65536+((f&1023)<<10)+(a&1023),k++),127>=f?g+=String.fromCharCode(f):2047>=f?g+=String.fromCharCode(192|f>>>6&31,128|f&63):65535>=f?g+=String.fromCharCode(224|f>>>12&15,128|f>>>6&63,128|f&63):2097151>=f&&(g+=String.fromCharCode(240|f>>>18&7,128|f>>>12&63,128|f>>>6&63,128|f&63));return g}}});
define("dstore/QueryResults",["dojo/_base/lang","dojo/when"],function(c,m){function g(c,f){return m(this,function(a){for(var b=0,d=a.length;b<d;b++)c.call(f,a[b],b,a)})}return function(k,f){var a=f&&"totalLength"in f;if(k.then){k=c.delegate(k);var b=k.then(function(b){var c=a?f.totalLength:b.totalLength||b.length;b.totalLength=c;return!a&&c});k.totalLength=a?f.totalLength:b;k.response=f&&f.response}else k.totalLength=a?f.totalLength:k.length;k.forEach=g;return k}});
define("dstore/Memory","dojo/_base/declare dojo/_base/array ./Store ./Promised ./SimpleQuery ./QueryResults".split(" "),function(c,m,g,k,f,a){return c([g,k,f],{constructor:function(){this.storage.version=0},postscript:function(){this.inherited(arguments);this.setData(this.data||[])},data:null,autoEmitEvents:!1,getSync:function(a){return this.storage.fullData[this.storage.index[a]]},putSync:function(a,c){c=c||{};var b=this.storage,d=b.index,f=b.fullData,n=this.Model;!n||a instanceof n||(a=this._restore(a));
var k=this.getIdentity(a);null==k&&(this._setIdentity(a,"id"in c?c.id:Math.random()),k=this.getIdentity(a));b.version++;var b=k in d?"update":"add",n={target:a},g;if("update"===b){if(!1===c.overwrite)throw Error("Object already exists");f.splice(g=d[k],1);k=g}else k=this.defaultNewToStart?0:f.length;if("beforeId"in c){var q=c.beforeId;null===q?c=f.length:(c=d[q],g<c&&--c);void 0!==c?n.beforeId=q:(console.error("options.beforeId was specified but no corresponding index was found"),c=k)}else c=k;f.splice(c,
0,a);g=isFinite(g)?Math.min(g,c):c;for(c=f.length;g<c;++g)d[this.getIdentity(f[g])]=g;this.emit(b,n);return a},addSync:function(a,c){(c=c||{}).overwrite=!1;return this.putSync(a,c)},removeSync:function(a){var b=this.storage,c=b.index,b=b.fullData;if(a in c)return c=b.splice(c[a],1)[0],this._reindex(),!0!==this._ignoreChangeEvents&&this.emit("delete",{id:a,target:c}),!0},setData:function(a){this.parse&&(a=this.parse(a));a.items&&(this.idProperty=a.identifier||this.idProperty,a=a.items);this.storage.fullData=
this.data=a;this._reindex()},_reindex:function(){for(var a=this.storage,c=a.index={},e=a.fullData,h=this.Model,f=Object.prototype,n=0,k=e.length;n<k;n++){var g=e[n];if(h&&!(g instanceof h)){var q=this._restore(g,g.__proto__===f);g!==q&&(e[n]=g=q)}c[this.getIdentity(g)]=n}a.version++},fetchSync:function(){var b=this.data;if(!b||b._version!==this.storage.version){for(var b=this.storage.fullData,c=this.queryLog,e=0,h=c.length;e<h;e++)b=c[e].querier(b);b._version=this.storage.version;this.data=b}return new a(b)},
fetchRangeSync:function(b){var c=this.fetchSync();return new a(c.slice(b.start,b.end),{totalLength:c.length})},_includePropertyInSubCollection:function(a){return"data"!==a&&this.inherited(arguments)}})});
define("dstore/SimpleQuery",["dojo/_base/declare","dojo/_base/array"],function(c,m){function g(c,a){if(-1<c.indexOf(".")){var b=c.split("."),d=b.length;return function(c){for(var e=0;e<d;e++)c=c&&(a&&c.get?c.get(b[e]):c[b[e]]);return c}}return function(a){return a.get?a.get(c):a[c]}}var k={eq:function(c,a){return c===a},"in":function(c,a){return-1<m.indexOf(a.data||a,c)},ne:function(c,a){return c!==a},lt:function(c,a){return c<a},lte:function(c,a){return c<=a},gt:function(c,a){return c>a},gte:function(c,
a){return c>=a},match:function(c,a,b){return a.test(c,b)},contains:function(c,a,b,d){var e=this;return m.every(a.data||a,function(a){if("object"===typeof a&&a.type){var h=e._getFilterComparator(a.type);return m.some(c,function(c){return h.call(e,c,a.args[1],b,d)})}return-1<m.indexOf(c,a)})}};return c(null,{_createFilterQuerier:function(c){function a(c){var h=c.type;c=c.args;var f=d._getFilterComparator(h);if(f){var k=c[0],r=g(k,b),q=c[1];q&&q.fetchSync&&(q=q.fetchSync());return function(a){return f.call(d,
r(a),q,a,k)}}switch(h){case "and":case "or":for(var t=0,m=c.length;t<m;t++){var v=a(c[t]);e=e?function(a,b){return"and"===h?function(c){return a(c)&&b(c)}:function(c){return a(c)||b(c)}}(e,v):v}return e;case "function":return c[0];case "string":t=d[c[0]];if(!t)throw Error("No filter function "+c[0]+" was found in the collection");return t;case void 0:return function(){return!0};default:throw Error('Unknown filter operation "'+h+'"');}}var b=this.queryAccessors,d=this,e=a(c);return function(a){return m.filter(a,
e)}},_getFilterComparator:function(c){return k[c]||this.inherited(arguments)},_createSelectQuerier:function(c){return function(a){var b=c.length;return m.map(a,c instanceof Array?function(a){for(var d={},h=0;h<b;h++){var f=c[h];d[f]=a[f]}return d}:function(a){return a[c]})}},_createSortQuerier:function(c){var a=this.queryAccessors;return function(b){b=b.slice();b.sort("function"==typeof c?c:function(b,e){for(var d=0;d<c.length;d++){var f,n=c[d];if("function"==typeof n)f=n(b,e);else{f=n.get||(n.get=
g(n.property,a));var n=n.descending,k=f(b);f=f(e);null!=k&&(k=k.valueOf());null!=f&&(f=f.valueOf());f=k===f?0:!!n===(null===k||k>f&&null!==f)?-1:1}if(0!==f)return f}return 0});return b}}})});
define("dstore/Promised",["dojo/_base/declare","dojo/Deferred","./QueryResults","dojo/when"],function(c,m,g,k){function f(a,b){return function(){var c=new m;try{c.resolve(this[a].apply(this,arguments))}catch(e){c.reject(e)}return b?(c=new g(c.promise),c.totalLength=k(c.totalLength),c):c.promise}}return c(null,{get:f("getSync"),put:f("putSync"),add:f("addSync"),remove:f("removeSync"),fetch:f("fetchSync",!0),fetchRange:f("fetchRangeSync",!0)})});
define("dstore/Store","dojo/_base/lang dojo/_base/array dojo/aspect dojo/has dojo/when dojo/_base/declare dstore/QueryMethod dstore/Filter dojo/Evented".split(" "),function(c,m,g,k,f,a,b,d,e){function h(a){return function(b,c){var d=this;f(b,function(b){b={target:b};var e=c[1]||{};"beforeId"in e&&(b.beforeId=e.beforeId);d.emit(a,b)});return b}}k.add("object-proto",!!{}.__proto__&&!{}.watch);var l=k("object-proto");return a(e,{constructor:function(b){b&&a.safeMixin(this,b);this.Model&&this.Model.createSubclass&&
(this.Model=this.Model.createSubclass([],{}).extend({_store:this}));this.storage=new e;var c=this;this.autoEmitEvents&&(g.after(this,"add",h("add")),g.after(this,"put",h("update")),g.after(this,"remove",function(a,b){f(a,function(){c.emit("delete",{id:b[0]})});return a}))},autoEmitEvents:!0,idProperty:"id",queryAccessors:!0,getIdentity:function(a){return a.get?a.get(this.idProperty):a[this.idProperty]},_setIdentity:function(a,b){a.set?a.set(this.idProperty,b):a[this.idProperty]=b},forEach:function(a,
b){var c=this;return f(this.fetch(),function(d){for(var e=0,h;void 0!==(h=d[e]);e++)a.call(b,h,e,c);return d})},on:function(a,b){return this.storage.on(a,b)},emit:function(a,b){b=b||{};b.type=a;try{return this.storage.emit(a,b)}finally{return b.cancelable}},parse:null,stringify:null,Model:null,_restore:function(a,b){var d=this.Model;if(d&&a){var e=d.prototype,h=e._restore;h?a=h.call(a,d,b):l&&b?a.__proto__=e:a=c.delegate(e,a)}return a},create:function(a){return new this.Model(a)},_createSubCollection:function(b){var d=
c.delegate(this.constructor.prototype),e;for(e in this)this._includePropertyInSubCollection(e,d)&&(d[e]=this[e]);return a.safeMixin(d,b)},_includePropertyInSubCollection:function(a,b){return!(a in b)||b[a]!==this[a]},queryLog:[],filter:new b({type:"filter",normalizeArguments:function(a){var b=this.Filter;return a instanceof b?[a]:[new b(a)]}}),Filter:d,sort:new b({type:"sort",normalizeArguments:function(a,b){var d;"function"===typeof a?d=[a]:(d=a instanceof Array?a.slice():"object"===typeof a?[].slice.call(arguments):
[{property:a,descending:b}],d=m.map(d,function(a){a=c.mixin({},a);a.descending=!!a.descending;return a}),d=[d]);return d}}),select:new b({type:"select"}),_getQuerierFactory:function(a){return this["_create"+(a[0].toUpperCase()+a.substr(1))+"Querier"]}})});
define("dstore/QueryMethod",[],function(){return function(c){var m=c.type,g=c.normalizeArguments,k=c.applyQuery,f=c.querierFactory;return function(){var a=Array.prototype.slice.call(arguments),b=g?g.apply(this,a):a,a={type:m,arguments:a,normalizedArguments:b},c=this._getQuerierFactory(m)||f;c&&(a.querier=c.apply(this,b));b=this._createSubCollection({queryLog:this.queryLog.concat(a)});return k?k.call(this,b,a):b}}});
define("xide/manager/BeanManager","dcl/dcl dojo/_base/lang xdojo/has xide/utils xide/encoding/MD5 xide/registry xide/data/TreeMemory".split(" "),function(c,m,g,k,f,a,b){var d=c(null,{declaredClass:"xide.manager.BeanManager",beanNamespace:"beanNS",beanName:"beanName",beanPriority:-1,createItemStruct:function(a,b,c,d,f,k){return{name:a,isDir:f,parentId:c,path:d,beanType:k,scope:b}},getMetaValue:function(a,b){return k.getCIInputValueByName(k.getAt(a,this.itemMetaPath||"user"),b)},getStore:function(){return this.store},
isValid:function(){return null!=this.store},initStore:function(a){this.store=new b({data:a.items,idProperty:"path"});this.onStoreReady(this.store);return this.store},onStoreReady:function(){},_onReloaded:function(a){this.mergeNewModule(a.prototype);a=this.declaredClass;(a=m.getObject(k.replaceAll("/",".",a))||m.getObject(a))&&a.prototype&&a.prototype.solve&&this.mergeNewModule(a.prototype)}});return g("host-browser")?c(d,{getViewTarget:function(){return this.ctx.getApplication().mainView.getNewAlternateTarget()},
getRightTopTarget:function(a,b,c,d){return this.ctx.getApplication().mainView.getRightTopTarget(a,b,c,d)},getLayoutRightMain:function(a,b){return this.ctx.getApplication().mainView.getLayoutRightMain(a,b)},getRightBottomTarget:function(a,b){return this.ctx.getApplication().mainView.getRightBottomTarget(a,b)},getViewId:function(a,b){return this.beanNamespace+f(k.toString(a.scope)+k.toString(a.path),1)+(null!=b?b:"")},getView:function(b,c){b=this.getViewId(b,c);return a.byId(b)},createGroup:function(a,
b,c){return this.callMethodEx(null,"createGroup",[a,b],c,!0)},removeGroup:function(a,b,c,d){return this.callMethodEx(null,"removeGroup",[a,b,c],d,!0)},removeItem:function(a,b,c,d){return this.callMethodEx(null,"removeItem",[a,b,c],d,!0)},updateCI:function(a,b,c,d){a&&d&&this.updateItemMetaData(k.toString(d.scope),k.toString(d.path),this.itemMetaStorePath||"/inputs",{id:k.toString(a.id)},{value:b})},updateItemMetaData:function(a,b,c,d,f,k,g){return this.callMethodEx(null,"updateItemMetaData",[a,b,
c,d,f],k,!1)},mergeNewModule:function(a){for(var b in a){var c=a[b];c&&_.isFunction(c)&&(this[b]=c)}}}):d});
define("xide/data/TreeMemory",["dojo/_base/declare","xide/data/Memory","dstore/Tree","dojo/Deferred","dstore/QueryResults"],function(c,m,g,k,f){return c("xide.data.TreeMemory",[m,g],{_state:{filter:null},parentProperty:"parentId",reset:function(){this._state.filter=null;this.resetQueryLog()},resetQueryLog:function(){this.queryLog=[]},fetchRange:function(){var a=this._fetchRange(arguments);return new f(a.then(function(a){return a}),{totalLength:a.then(function(a){return a.length})})},filter:function(a){var b=
this.inherited(arguments);this._state.filter=a;return b},_fetchRange:function(a){var b=new k;a=this.fetchRangeSync(a);if(this._state.filter){if(this._state.filter.parent){var c=this.getSync(this._state.filter[this.parentProperty]);c&&(this.reset(),a={},this.getChildrenSync?a=this.getChildrenSync(c):(a[this.parentProperty]=c[this.idProperty],a=this.root.query(a)))}this._state&&this._state.filter&&this._state.filter.group&&(this.getSync(this._state.filter.parent),c&&(this.reset(),a=c.items))}b.resolve(a);
return b},getChildren:function(a){var b={};b[this.parentProperty]=this.getIdentity(a);return this.root.filter(b)},children:function(a){for(var b=this.root.data,c=[],e=0;e<b.length;e++){var f=b[e];f[this.parentProperty]==a[this.idProperty]&&c.push(f)}return b},mayHaveChildren:function(a){return!1===a._mayHaveChildren?!1:!0}})});
define("dstore/Tree",["dojo/_base/declare"],function(c){return c(null,{constructor:function(){this.root=this},mayHaveChildren:function(c){return"hasChildren"in c?c.hasChildren:!0},getRootCollection:function(){return this.root.filter({parent:null})},getChildren:function(c){return this.root.filter({parent:this.getIdentity(c)})}})});
define("xide/registry",["dojo/_base/array","dojo/_base/window","xdojo/has"],function(c,m,g){var k={},f={},a={length:0,add:function(a){if(this._hash[a.id])if(g("xblox"))this.remove(a.id),this.add(a);else throw Error("Tried to register widget with id=="+a.id+" but that id is already registered");f[a.id]=a;this.length++},remove:function(a){f[a]&&(delete f[a],this.length--)},byId:function(a){return"string"==typeof a?f[a]:a},byNode:function(a){return f[a.getAttribute("widgetId")]},toArray:function(){return _.values(_.mapKeys(f,
function(a,c){a.id=c;return a}))},getUniqueId:function(a){var b;do b=a+"_"+(a in k?++k[a]:k[a]=0);while(f[b]);return b},findWidgets:function(a,c){function b(a){for(a=a.firstChild;a;a=a.nextSibling)if(1==a.nodeType){var e=a.getAttribute("widgetId");e?(e=f[e])&&d.push(e):a!==c&&b(a)}}var d=[];b(a);return d},_destroyAll:function(){_.each(a.findWidgets(m.body()),function(a){a._destroyed||(a.destroyRecursive?a.destroyRecursive():a.destroy&&a.destroy())})},getEnclosingWidget:function(a){for(;a;){var b=
1==a.nodeType&&a.getAttribute("widgetId");if(b)return f[b];a=a.parentNode}return null},_hash:f};return a});
define("xide/manager/ServerActionBase","dcl/dcl dojo/_base/declare xdojo/has dojo/Deferred xide/manager/RPCService xide/manager/ManagerBase xide/types xide/utils".split(" "),function(c,m,g,k,f,a,b,d){var e=null,h={declaredClass:"xide.manager.ServerActionBase",serviceObject:null,serviceUrl:null,singleton:!0,serviceClass:null,defaultOptions:{omit:!0,checkMessages:!0,checkErrors:!0},base64_encode:function(a){var b,c,d,e,f=0,h=0,l=[];if(!a)return a;do b=a.charCodeAt(f++),c=a.charCodeAt(f++),d=a.charCodeAt(f++),
e=b<<16|c<<8|d,b=e>>18&63,c=e>>12&63,d=e>>6&63,e&=63,l[h++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e);while(f<a.length);f=l.join("");a=a.length%3;return(a?f.slice(0,a-3):f)+"===".slice(a||3)},runDeferred:function(a,b,c,d,e){var f=this,
h=arguments;if(this.serviceObject.__init){if(this.serviceObject.__init.isResolved())return this._runDeferred(a,b,c,d,e);var l=new k;this.serviceObject.__init.then(function(){f._runDeferred(a,b,c,d,e).then(function(){l.resolve(h)})});return l}return this._runDeferred(a,b,c,d)},_runDeferred:function(a,c,d,e,f){var h=new k,l;e=e||this.defaultOptions;this.check();if(!this.checkCall(a,c,e.omit))return h.reject("method doesnt exists: "+c+" for service class:"+this.serviceClass+" in "+this.declaredClass);
this.prepareCall();var g=this.getService(),n=this.getServiceClass(a),p=this,q=function(a,b){var c=h;e.returnProm&&(c=l);c._data=a;if(b&&e.onError)return e.onError(b);c.resolve(a)};l=g[n][c](d);l.then(function(a){a=a||{};var d=a.error||{};if(e.checkMessages&&d&&3==d.code)p.onMessages(d);if(e.checkErrors){if(1==d.code){e.displayError&&p.onError(d,n+"::"+c);h.reject(d);return}}else{if(1==d.code&&e.displayError)p.onError(d,n+"::"+c);if(d&&d.code&&0!==d.code){q(a,d);return}}e.omit&&p.publish(b.EVENTS.STATUS,
{message:"Ok!",what:arguments},this);q(a)},function(a){f&&f(a);p.onError({code:1,message:"Rest Error for "+c})});return e.returnProm?l:h},getService:function(){return this.serviceObject},getServiceClass:function(a){return a||this.serviceClass},hasMethod:function(a,b){var c=this.getService();b=b||this.getServiceClass();return c&&b&&null!=c[b]&&null!=c[b][a]},findServiceUrl:function(a){var b=window.xFileConfig;if(b&&b.mixins)for(var c=0;c<b.mixins.length;c++){var d=b.mixins[c];if(d.declaredClass===
a&&d.mixin&&d.mixin.serviceUrl)return decodeURIComponent(d.mixin.serviceUrl)}return null},init:function(){this.check()},_initService:function(){var a=this;if(!g("host-browser"))return!1;try{var b=e;if(this.singleton){if(b&&b.serviceObject){this.serviceObject=b.serviceObject;return}this.options||(this.options={});this.options.singleton=this.singleton}this.serviceObject||(this.serviceUrl?(decodeURIComponent(this.serviceUrl),this.serviceObject=new f(decodeURIComponent(this.serviceUrl),this.options),
this.serviceObject.runDeferred=function(){return a.runDeferred.apply(a,arguments)},this.serviceObject.sync=this.sync,this.singleton&&(b.serviceObject=this.serviceObject),this.config&&(b.serviceObject.config=this.config),!this.ctx.serviceObject&&(this.ctx.serviceObject=this.serviceObject)):console.error("have no service url : "+this.declaredClass))}catch(p){console.error("error in rpc service creation : "+p),logError(p)}},check:function(){this.serviceObject||this._initService()},onError:function(a,
c){if(a)if(1===a.code){if(a.message&&_.isArray(a.message)){this.publish(b.EVENTS.ERROR,{message:a.message.join("<br/>")});return}}else 0===a.code&&this.publish(b.EVENTS.STATUS,"Ok");c&&(a.message=c+" -> "+a.message);this.publish(b.EVENTS.ERROR,{error:a},this)},checkCall:function(a,b,c){a=this.getServiceClass(a);return this.getService()?this.hasMethod(b,a)||!0!==c?!0:(this.onError({code:1,message:["Sorry, server doesnt know "+b]}),!1):!1},prepareCall:function(){var a={};this.config&&this.config.RPC_PARAMS&&
(a=d.mixin(a,this.config.RPC_PARAMS.rpcFixedParams),this.serviceObject.extraArgs=a)},callMethodEx:function(a,c,d,e,f){(a=a||this.serviceClass)||console.error("have no service class! "+this.declaredClass,this);this.check();if(this.checkCall(a,c,f)){this.prepareCall();var h=this;return this.serviceObject[this.getServiceClass(a)][c](d).then(function(d){try{e&&e(d)}catch(v){console.error("bad news : callback for method "+c+" caused a crash in service class "+a),logError(v,"server method failed "+v)}if(d&&
d.error&&3==d.error.code)h.onMessages(d.error);if(d&&d.error&&d.error&&0!=d.error.code)h.onError(d.error);else 1==f&&h.publish(b.EVENTS.STATUS,{message:"Ok!"},this)},function(a){h.onError(a)})}},callMethodEx2:function(a,b,c,d,e){this.check();if(this.checkCall(a,b,e))return this.prepareCall(),this.serviceObject[this.getServiceClass(a)][b](c)},callMethod:function(a,c,e,f){c=c||[[]];var h=this.serviceClass;try{var l=this;if(null==this.serviceObject[h][a]){if(!0===f)this.onError({code:1,message:["Sorry, server doesnt know "+
a]});return null}h={};h=d.mixin(h,this.config.RPC_PARAMS.rpcFixedParams);h[this.config.RPC_PARAMS.rpcUserField]=this.config.RPC_PARAMS.rpcUserValue;this.serviceObject.extraArgs=h;this.serviceObject.signatureField=this.config.RPC_PARAMS.rpcSignatureField;this.serviceObject.signatureToken=this.config.RPC_PARAMS.rpcSignatureToken;this.serviceObject[this.serviceClass][a](c).then(function(a){try{e&&e(a)}catch(v){logError(v,"Error calling RPC method")}if(a&&a.error&&3==a.error.code)this.onMessages(a.error);
if(a&&a.error&&a.error&&1==a.error.code)this.onError(a.error);else!1!==f&&this.publish(b.EVENTS.STATUS,{message:"Ok!"},this)}.bind(this),function(a){this.onError(a)}.bind(this))}catch(u){l.onError(u),logError(u,"Error calling RPC method")}}};c=c(a,h);c.declare=m(null,h);return e=c});
define("xide/manager/ManagerBase","dcl/dcl xide/mixins/EventedMixin xide/model/Base xide/utils dojo/_base/xhr dojo/_base/kernel".split(" "),function(c,m,g,k,f,a){m=c([g.dcl,m.dcl],{declaredClass:"xide.manager.ManagerBase",ctx:null,init:function(){this.initReload&&this.initReload()},_getText:function(a,c){var b;c=k.mixin({url:a,sync:!0,handleAs:"text",load:function(a){b=a}},c);a=f.get(c);return c.sync?""+b+"":a},getContext:function(){return this.ctx}});c.chainAfter(m,"init");return m});
define("dojo/_base/xhr","./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),function(c,m,g,k,f,a,b,d,e,h,l,n,p,r,q,t){c._xhrObj=q._create;var u=c.config;c.objectToQuery=k.objectToQuery;c.queryToObject=k.queryToObject;c.fieldToObject=a.fieldToObject;c.formToObject=a.toObject;c.formToQuery=a.toQuery;c.formToJson=a.toJson;c._blockAsync=!1;var v=c._contentHandlers=c.contentHandlers=
{text:function(a){return a.responseText},json:function(a){return e.fromJson(a.responseText||null)},"json-comment-filtered":function(a){d.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}&&\nUse djConfig.useCommentedJson=true to turn off this message.");a=a.responseText;var b=a.indexOf("/*"),c=a.lastIndexOf("*/");
if(-1==b||-1==c)throw Error("JSON was not comment filtered");return e.fromJson(a.substring(b+2,c))},javascript:function(a){return c.eval(a.responseText)},xml:function(a){var b=a.responseXML;b&&m("dom-qsa2.1")&&!b.querySelectorAll&&m("dom-parser")&&(b=(new DOMParser).parseFromString(a.responseText,"application/xml"));if(m("ie")&&(!b||!b.documentElement)){var c=function(a){return"MSXML"+a+".DOMDocument"},c=["Microsoft.XMLDOM",c(6),c(4),c(3),c(2)];l.some(c,function(c){try{var d=new ActiveXObject(c);
d.async=!1;d.loadXML(a.responseText);b=d}catch(H){return!1}return!0})}return b},"json-comment-optional":function(a){return a.responseText&&/^[^{\[]*\/\*/.test(a.responseText)?v["json-comment-filtered"](a):v.json(a)}};c._ioSetArgs=function(d,e,l,g){var n={args:d,url:d.url},p=null;if(d.form){var p=f.byId(d.form),q=p.getAttributeNode("action");n.url=n.url||(q?q.value:null);p=a.toObject(p)}q=[{}];p&&q.push(p);d.content&&q.push(d.content);d.preventCache&&q.push({"dojo.preventCache":(new Date).valueOf()});
n.query=k.objectToQuery(h.mixin.apply(null,q));n.handleAs=d.handleAs||"text";var t=new b(function(a){a.canceled=!0;e&&e(a);var b=a.ioArgs.error;b||(b=Error("request cancelled"),b.dojoType="cancel",a.ioArgs.error=b);return b});t.addCallback(l);var m=d.load;m&&h.isFunction(m)&&t.addCallback(function(a){return m.call(d,a,n)});var r=d.error;r&&h.isFunction(r)&&t.addErrback(function(a){return r.call(d,a,n)});var v=d.handle;v&&h.isFunction(v)&&t.addBoth(function(a){return v.call(d,a,n)});t.addErrback(function(a){return g(a,
t)});u.ioPublish&&c.publish&&!1!==n.args.ioPublish&&(t.addCallbacks(function(a){c.publish("/dojo/io/load",[t,a]);return a},function(a){c.publish("/dojo/io/error",[t,a]);return a}),t.addBoth(function(a){c.publish("/dojo/io/done",[t,a]);return a}));t.ioArgs=n;return t};var x=function(a){a=v[a.ioArgs.handleAs](a.ioArgs.xhr);return void 0===a?null:a},w=function(a,b){b.ioArgs.args.failOk||console.error(a);return a},y=function(a){0>=A&&(A=0,u.ioPublish&&c.publish&&(!a||a&&!1!==a.ioArgs.args.ioPublish)&&
c.publish("/dojo/io/stop"))},A=0;p.after(r,"_onAction",function(){--A});p.after(r,"_onInFlight",y);c._ioCancelAll=r.cancelAll;c._ioNotifyStart=function(a){u.ioPublish&&c.publish&&!1!==a.ioArgs.args.ioPublish&&(A||c.publish("/dojo/io/start"),A+=1,c.publish("/dojo/io/send",[a]))};c._ioWatch=function(a,b,c,d){a.ioArgs.options=a.ioArgs.args;h.mixin(a,{response:a.ioArgs,isValid:function(c){return b(a)},isReady:function(b){return c(a)},handleResponse:function(b){return d(a)}});r(a);y(a)};c._ioAddQueryToUrl=
function(a){a.query.length&&(a.url+=(-1==a.url.indexOf("?")?"?":"&")+a.query,a.query=null)};c.xhr=function(a,b,d){var e,f=c._ioSetArgs(b,function(a){e&&e.cancel()},x,w),h=f.ioArgs;"postData"in b?h.query=b.postData:"putData"in b?h.query=b.putData:"rawBody"in b?h.query=b.rawBody:(2<arguments.length&&!d||-1==="POST|PUT".indexOf(a.toUpperCase()))&&c._ioAddQueryToUrl(h);var l={method:a,handleAs:"text",timeout:b.timeout,withCredentials:b.withCredentials,ioArgs:h};"undefined"!==typeof b.headers&&(l.headers=
b.headers);"undefined"!==typeof b.contentType&&(l.headers||(l.headers={}),l.headers["Content-Type"]=b.contentType);"undefined"!==typeof h.query&&(l.data=h.query);"undefined"!==typeof b.sync&&(l.sync=b.sync);c._ioNotifyStart(f);try{e=q(h.url,l,!0)}catch(I){return f.cancel(),f}f.ioArgs.xhr=e.response.xhr;e.then(function(){if(m("debug")){var a=e.response.getHeader("xapp_debug_data");a&&"undefined"!==typeof xappServerDebug&&xappServerDebug(a,e,f)}f.resolve(f)}).otherwise(function(a){h.error=a;a.response&&
(a.status=a.response.status,a.responseText=a.response.text,a.xhr=a.response.xhr);f.reject(a)});return f};c.xhrGet=function(a){return c.xhr("GET",a)};c.rawXhrPost=c.xhrPost=function(a){return c.xhr("POST",a,!0)};c.rawXhrPut=c.xhrPut=function(a){return c.xhr("PUT",a,!0)};c.xhrDelete=function(a){return c.xhr("DELETE",a)};c._isDocumentOk=function(a){return t.checkStatus(a.status)};c._getText=function(a){var b;c.xhrGet({url:a,sync:!0,headers:{"X-Requested-With":null},load:function(a){b=a}});return b};
c.getText=function(a){return c.xhrGet({url:a,sync:!1,headers:{"X-Requested-With":null}})};h.mixin(c.xhr,{_xhrObj:c._xhrObj,fieldToObject:a.fieldToObject,formToObject:a.toObject,objectToQuery:k.objectToQuery,formToQuery:a.toQuery,formToJson:a.toJson,queryToObject:k.queryToObject,contentHandlers:v,_ioSetArgs:c._ioSetArgs,_ioCancelAll:c._ioCancelAll,_ioNotifyStart:c._ioNotifyStart,_ioWatch:c._ioWatch,_ioAddQueryToUrl:c._ioAddQueryToUrl,_isDocumentOk:c._isDocumentOk,_getText:c._getText,getText:c.getText,
get:c.xhrGet,post:c.xhrPost,put:c.xhrPut,del:c.xhrDelete});return c.xhr});
define("dojo/request/util","exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise".split(" "),function(c,m,g,k,f,a,b,d){function e(a){return l(a)}function h(a){return a.data||a.text}c.deepCopy=function(a,b){for(var d in b){var e=a[d],f=b[d];e!==f&&(e&&"object"===typeof e&&f&&"object"===typeof f?c.deepCopy(e,f):a[d]=f)}return a};c.deepCreate=function(a,d){d=d||{};var e=b.delegate(a),f,h;for(f in a)(h=a[f])&&"object"===typeof h&&
(e[f]=c.deepCreate(h,d[f]));return c.deepCopy(e,d)};var l=Object.freeze||function(a){return a};c.deferred=function(a,f,r,q,t,u){var n=new k(function(b){f&&f(n,a);return b&&(b instanceof m||b instanceof g)?b:new g("Request canceled",a)});n.response=a;n.isValid=r;n.isReady=q;n.handleResponse=t;r=n.then(e).otherwise(function(b){b.response=a;throw b;});c.notify&&r.then(b.hitch(c.notify,"emit","load"),b.hitch(c.notify,"emit","error"));q=r.then(h);t=new d;for(var p in q)q.hasOwnProperty(p)&&(t[p]=q[p]);
t.response=r;l(t);u&&n.then(function(a){u.call(n,a)},function(b){u.call(n,a,b)});n.promise=t;n.then=t.then;return n};c.addCommonMethods=function(c,d){a.forEach(d||["GET","POST","PUT","DELETE"],function(a){c[("DELETE"===a?"DEL":a).toLowerCase()]=function(d,e){e=b.delegate(e||{});e.method=a;return c(d,e)}})};c.parseArgs=function(a,b,c){var d=b.data,e=b.query;d&&!c&&"object"===typeof d&&(b.data=f.objectToQuery(d));e?("object"===typeof e&&(e=f.objectToQuery(e)),b.preventCache&&(e+=(e?"&":"")+"request.preventCache="+
+new Date)):b.preventCache&&(e="request.preventCache="+ +new Date);a&&e&&(a+=(~a.indexOf("?")?"&":"?")+e);return{url:a,options:b,getHeader:function(a){return null}}};c.checkStatus=function(a){a=a||0;return 200<=a&&300>a||304===a||1223===a||!a}});define("dojo/errors/CancelError",["./create"],function(c){return c("CancelError",null,null,{dojoType:"cancel"})});
define("dojo/errors/create",["../_base/lang"],function(c){return function(m,g,k,f){k=k||Error;var a=function(b){if(k===Error){Error.captureStackTrace&&Error.captureStackTrace(this,a);var c=Error.call(this,b),e;for(e in c)c.hasOwnProperty(e)&&(this[e]=c[e]);this.message=b;this.stack=c.stack}else k.apply(this,arguments);g&&g.apply(this,arguments)};a.prototype=c.delegate(k.prototype,f);a.prototype.name=m;return a.prototype.constructor=a}});
define("dojo/errors/RequestError",["./create"],function(c){return c("RequestError",function(c,g){this.response=g})});
define("dojo/request/xhr",["../errors/RequestError","./watch","./handlers","./util","../has"],function(c,m,g,k,f){function a(a,b){var d=a.xhr;a.status=a.xhr.status;a.text=d.responseText;"xml"===a.options.handleAs&&(a.data=d.responseXML);if(!b)try{g(a)}catch(v){b=v}b?this.reject(b):k.checkStatus(d.status)?this.resolve(a):(b=new c("Unable to load "+a.url+" status: "+d.status,a),this.reject(b))}function b(a){return this.xhr.getResponseHeader(a)}function d(g,t,u){var q=k.parseArgs(g,k.deepCreate(r,t),
f("native-formdata")&&t&&t.data&&t.data instanceof FormData);g=q.url;t=q.options;var x,w=k.deferred(q,n,e,h,a,function(){x&&x()}),y=q.xhr=d._create();if(!y)return w.cancel(new c("XHR was not created")),u?w:w.promise;q.getHeader=b;l&&(x=l(y,w,q));var A=t.data,z=!t.sync,E=t.method;try{y.open(E,g,z,t.user||p,t.password||p);t.withCredentials&&(y.withCredentials=t.withCredentials);var C=t.headers;g="application/x-www-form-urlencoded";if(C)for(var D in C)"content-type"===D.toLowerCase()?g=C[D]:C[D]&&y.setRequestHeader(D,
C[D]);g&&!1!==g&&y.setRequestHeader("Content-Type",g);C&&"X-Requested-With"in C||y.setRequestHeader("X-Requested-With","XMLHttpRequest");k.notify&&k.notify.emit("send",q,w.promise.cancel);y.send(A)}catch(F){w.reject(F)}m(w);y=null;return u?w:w.promise}f.add("native-xhr",function(){return"undefined"!==typeof XMLHttpRequest});f.add("dojo-force-activex-xhr",function(){return f("activex")&&!document.addEventListener&&"file:"===window.location.protocol});f.add("native-xhr2",function(){if(f("native-xhr")){var a=
new XMLHttpRequest;return"undefined"!==typeof a.addEventListener&&("undefined"===typeof opera||"undefined"!==typeof a.upload)}});f.add("native-formdata",function(){return"function"===typeof FormData});var e,h,l,n;f("native-xhr2")?(e=function(a){return!this.isFulfilled()},n=function(a,b){b.xhr.abort()},l=function(a,b,d){function e(a){b.handleResponse(d)}function f(a){a=new c("Unable to load "+d.url+" status: "+a.target.status,d);b.handleResponse(d,a)}function h(a){a.lengthComputable&&(d.loaded=a.loaded,
d.total=a.total,b.progress(d))}a.addEventListener("load",e,!1);a.addEventListener("error",f,!1);a.addEventListener("progress",h,!1);return function(){a.removeEventListener("load",e,!1);a.removeEventListener("error",f,!1);a.removeEventListener("progress",h,!1);a=null}}):(e=function(a){return a.xhr.readyState},h=function(a){return 4===a.xhr.readyState},n=function(a,b){a=b.xhr;b=typeof a.abort;"function"!==b&&"object"!==b&&"unknown"!==b||a.abort()});var p,r={data:null,query:null,sync:!1,method:"GET"};
d._create=function(){throw Error("XMLHTTP not available");};if(f("native-xhr")&&!f("dojo-force-activex-xhr"))d._create=function(){return new XMLHttpRequest};else if(f("activex"))try{new ActiveXObject("Msxml2.XMLHTTP"),d._create=function(){return new ActiveXObject("Msxml2.XMLHTTP")}}catch(q){try{new ActiveXObject("Microsoft.XMLHTTP"),d._create=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}catch(t){}}k.addCommonMethods(d);return d});
define("dojo/request/handlers",["../json","../_base/kernel","../_base/array","../has","../has!dom?../selector/_loader"],function(c,m,g,k){function f(a){var b=d[a.options.handleAs];a.data=b?b(a):a.data||a.text;return a}k.add("activex","undefined"!==typeof ActiveXObject);k.add("dom-parser",function(a){return"DOMParser"in a});var a;if(k("activex")){var b=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","MSXML2.DOMDocument.3.0","MSXML.DOMDocument"];a=function(a){var c=a.data;c&&k("dom-qsa2.1")&&!c.querySelectorAll&&
k("dom-parser")&&(c=(new DOMParser).parseFromString(a.text,"application/xml"));if(!c||!c.documentElement){var d=a.text;g.some(b,function(a){try{var b=new ActiveXObject(a);b.async=!1;b.loadXML(d);c=b}catch(r){return!1}return!0})}return c}}var d={javascript:function(a){return m.eval(a.text||"")},json:function(a){return c.parse(a.text||null)},xml:a};f.register=function(a,b){d[a]=b};return f});
define("dojo/json",["./has"],function(c){var m="undefined"!=typeof JSON;c.add("json-parse",m);c.add("json-stringify",m&&'{"a":1}'==JSON.stringify({a:0},function(c,f){return f||1}));if(c("json-stringify"))return JSON;var g=function(c){return('"'+c.replace(/(["\\])/g,"\\$1")+'"').replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r")};return{parse:c("json-parse")?JSON.parse:function(c,f){if(f&&!/^([\s\[\{]*(?:"(?:\\.|[^"])*"|-?\d[\d\.]*(?:[Ee][+-]?\d+)?|null|true|false|)[\s\]\}]*(?:,|:|$))+$/.test(c))throw new SyntaxError("Invalid characters in JSON");
return eval("("+c+")")},stringify:function(c,f,a){function b(c,h,l){f&&(c=f(l,c));var e;e=typeof c;if("number"==e)return isFinite(c)?c+"":"null";if("boolean"==e)return c+"";if(null===c)return"null";if("string"==typeof c)return g(c);if("function"==e||"undefined"==e)return d;if("function"==typeof c.toJSON)return b(c.toJSON(l),h,l);if(c instanceof Date)return'"{FullYear}-{Month+}-{Date}T{Hours}:{Minutes}:{Seconds}Z"'.replace(/\{(\w+)(\+)?\}/g,function(a,b,d){a=c["getUTC"+b]()+(d?1:0);return 10>a?"0"+
a:a});if(c.valueOf()!==c)return b(c.valueOf(),h,l);var k=a?h+a:"",m=a?" ":"",q=a?"\n":"";if(c instanceof Array){var m=c.length,t=[];for(l=0;l<m;l++)e=b(c[l],k,l),"string"!=typeof e&&(e="null"),t.push(q+k+e);return"["+t.join(",")+q+h+"]"}t=[];for(l in c){var u;if(c.hasOwnProperty(l)){if("number"==typeof l)u='"'+l+'"';else if("string"==typeof l)u=g(l);else continue;e=b(c[l],k,l);"string"==typeof e&&t.push(q+k+u+":"+m+e)}}return"{"+t.join(",")+q+h+"}"}var d;"string"==typeof f&&(a=f,f=null);return b(c,
"","")}}});
define("dojo/request/watch","./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../has!host-browser?../_base/window: ../has!host-browser?dom-addeventlistener?:../on:".split(" "),function(c,m,g,k,f,a){function b(){for(var a=+new Date,b=0,c;b<h.length&&(c=h[b]);b++){var f=c.response,k=f.options;c.isCanceled&&c.isCanceled()||c.isValid&&!c.isValid(f)?(h.splice(b--,1),d._onAction&&d._onAction()):c.isReady&&c.isReady(f)?(h.splice(b--,1),c.handleResponse(f),d._onAction&&d._onAction()):
c.startTime&&c.startTime+(k.timeout||0)<a&&(h.splice(b--,1),c.cancel(new m("Timeout exceeded",f)),d._onAction&&d._onAction())}d._onInFlight&&d._onInFlight(c);h.length||(clearInterval(e),e=null)}function d(a){a.response.options.timeout&&(a.startTime=+new Date);a.isFulfilled()||(h.push(a),e||(e=setInterval(b,50)),a.response.options.sync&&b())}var e=null,h=[];d.cancelAll=function(){try{k.forEach(h,function(a){try{a.cancel(new g("All requests canceled."))}catch(n){}})}catch(l){}};f&&a&&f.doc.attachEvent&&
a(f.global,"unload",function(){d.cancelAll()});return d});define("dojo/errors/RequestTimeoutError",["./create","./RequestError"],function(c,m){return c("RequestTimeoutError",null,m,{dojoType:"timeout"})});
define("dojo/_base/json",["./kernel","../json"],function(c,m){c.fromJson=function(c){return eval("("+c+")")};c._escapeString=m.stringify;c.toJsonIndentStr="\t";c.toJson=function(g,k){return m.stringify(g,function(c,a){return a&&(c=a.__json__||a.json,"function"==typeof c)?c.call(a):a},k&&c.toJsonIndentStr)};return c});
define("dojo/_base/config",["../has","require"],function(c,m){var g={};if(c("dojo-config-api")){m=m.rawConfig;for(var k in m)g[k]=m[k]}else{var f=function(a,b,d){for(k in a)"has"!=k&&c.add(b+k,a[k],0,d)},g=function(){return this}(),g=c("dojo-loader")?m.rawConfig:g.dojoConfig||g.djConfig||{};f(g,"config",1);f(g.has,"",1)}!g.locale&&"undefined"!=typeof navigator&&(m=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||navigator.userLanguage)&&(g.locale=m.toLowerCase());
return g});
define("dojo/_base/Deferred","./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(c,m,g,k,f,a,b){var d=function(){},e=Object.freeze||function(){},h=c.Deferred=function(b){function c(a){if(q)throw Error("This deferred has already been resolved");r=a;q=!0;l()}function l(){for(var b;!b&&w;){var c=w;w=w.next;if(b=c.progress==d)q=!1;var e=v?c.error:c.resolved;f("config-useDeferredInstrumentation")&&v&&m.instrumentRejected&&m.instrumentRejected(r,!!e);
if(e)try{var h=e(r);h&&"function"===typeof h.then?h.then(a.hitch(c.deferred,"resolve"),a.hitch(c.deferred,"reject"),a.hitch(c.deferred,"progress")):(e=b&&void 0===h,b&&!e&&(v=h instanceof Error),c.deferred[e&&v?"reject":"resolve"](e?r:h))}catch(F){c.deferred.reject(F)}else v?c.deferred.reject(r):c.deferred.resolve(r)}}var r,q,t,u,v,x,w,y=this.promise=new g;this.isResolved=y.isResolved=function(){return 0==u};this.isRejected=y.isRejected=function(){return 1==u};this.isFulfilled=y.isFulfilled=function(){return 0<=
u};this.isCanceled=y.isCanceled=function(){return t};this.resolve=this.callback=function(a){this.fired=u=0;this.results=[a,null];c(a)};this.reject=this.errback=function(a){v=!0;this.fired=u=1;f("config-useDeferredInstrumentation")&&m.instrumentRejected&&m.instrumentRejected(a,!!w);c(a);this.results=[null,a]};this.progress=function(a){for(var b=w;b;){var c=b.progress;c&&c(a);b=b.next}};this.addCallbacks=function(a,b){this.then(a,b,d);return this};y.then=this.then=function(a,b,c){var e=c==d?this:new h(y.cancel);
a={resolved:a,error:b,progress:c,deferred:e};w?x=x.next=a:w=x=a;q&&l();return e.promise};var A=this;y.cancel=this.cancel=function(){if(!q){var a=b&&b(A);q||(a instanceof Error||(a=new k(a)),a.log=!1,A.reject(a))}t=!0};e(y)};a.extend(h,{addCallback:function(b){return this.addCallbacks(a.hitch.apply(c,arguments))},addErrback:function(b){return this.addCallbacks(null,a.hitch.apply(c,arguments))},addBoth:function(b){var d=a.hitch.apply(c,arguments);return this.addCallbacks(d,d)},fired:-1});h.when=c.when=
b;return h});
define("dojo/dom-form",["./_base/lang","./dom","./io-query","./json"],function(c,m,g,k){var f={fieldToObject:function(a){var b=null;if(a=m.byId(a)){var c=a.name,e=(a.type||"").toLowerCase();if(c&&e&&!a.disabled)if("radio"==e||"checkbox"==e)a.checked&&(b=a.value);else if(a.multiple)for(b=[],a=[a.firstChild];a.length;)for(c=a.pop();c;c=c.nextSibling)if(1==c.nodeType&&"option"==c.tagName.toLowerCase())c.selected&&b.push(c.value);else{c.nextSibling&&a.push(c.nextSibling);c.firstChild&&a.push(c.firstChild);break}else b=
a.value}return b},toObject:function(a){var b={};a=m.byId(a).elements;for(var d=0,e=a.length;d<e;++d){var h=a[d],l=h.name,k=(h.type||"").toLowerCase();if(l&&k&&0>"file|submit|image|reset|button".indexOf(k)&&!h.disabled){var g=b,r=l,h=f.fieldToObject(h);if(null!==h){var q=g[r];"string"==typeof q?g[r]=[q,h]:c.isArray(q)?q.push(h):g[r]=h}"image"==k&&(b[l+".x"]=b[l+".y"]=b[l].x=b[l].y=0)}}return b},toQuery:function(a){return g.objectToQuery(f.toObject(a))},toJson:function(a,b){return k.stringify(f.toObject(a),
null,b?4:0)}};return f});
define("dojo/io-query",["dojo/_base/lang"],function(c){var m={};return{objectToQuery:function(g){var k=encodeURIComponent,f=[],a;for(a in g){var b=g[a];if(b!=m[a]){var d=k(a)+"=";if(c.isArray(b))for(var e=0,h=b.length;e<h;++e)f.push(d+k(b[e]));else f.push(d+k(b))}}return f.join("&")},queryToObject:function(g){var k=decodeURIComponent;g=g.split("&");for(var f={},a,b,d=0,e=g.length;d<e;++d)if(b=g[d],b.length){var h=b.indexOf("=");0>h?(a=k(b),b=""):(a=k(b.slice(0,h)),b=k(b.slice(h+1)));"string"==typeof f[a]&&
(f[a]=[f[a]]);c.isArray(f[a])?f[a].push(b):f[a]=b}return f}}});
define("xide/manager/RPCService","dojo/_base/declare dojo/_base/kernel dojo/_base/lang xide/rpc/Service xide/rpc/JsonRPC dojo/has dojo/Deferred xide/utils xide/types xide/mixins/EventedMixin xide/encoding/SHA1".split(" "),function(c,m,g,k,f,a,b,d,e,h,l){return c("xide.manager.RPCService",[k,h],{extraArgs:null,signatureField:"sig",signatureToken:null,correctTarget:!0,sync:!1,defaultOptions:{omit:!0,checkMessages:!0,checkErrors:!0},onError:function(a){if(a)if(1===a.code){if(a.message&&_.isArray(a.message)){this.publish(e.EVENTS.ERROR,
{message:a.message.join("<br/>")});return}}else 0===a.code&&this.publish(e.EVENTS.STATUS,"Ok");this.publish(e.EVENTS.ERROR,{error:a},this)},prepareCall:function(){var a={};this.config&&this.config.RPC_PARAMS&&(this.extraArgs=a=d.mixin(a,this.config.RPC_PARAMS.rpcFixedParams),this.config.RPC_PARAMS.rpcUserField&&(a[this.config.RPC_PARAMS.rpcUserField]=this.config.RPC_PARAMS.rpcUserValue,this.signatureField=this.config.RPC_PARAMS.rpcSignatureField,this.signatureToken=this.config.RPC_PARAMS.rpcSignatureToken))},
runDeferred:function(a,c,d,f){var h=new b;f=f||this.defaultOptions;if(!this.checkCall(a,c,f.omit))return h.reject("method doesnt exists: "+c+" for service class:"+this.serviceClass+" in "+this.declaredClass);this.prepareCall();var l=this;this[this.getServiceClass(a)][c](d).then(function(a){if(f.checkMessages&&a&&a.error&&3==a.error.code)l.onMessages(a.error);f.checkErrors&&a&&a.error&&a.error&&0!=a.error.code?(l.onError(a.error),h.reject(a.error)):(f.omit&&l.publish(e.EVENTS.STATUS,{message:"Ok!",
what:arguments},this),h.resolve(a))},function(a){l.onError(a)});return h},getParameterMap:function(a,b){return(a=this._smd.services[a+"."+b])&&a.parameters?a.parameters:[]},_getRequest:function(a,b){var c=this._smd,d=k.envelopeRegistry.match(a.envelope||c.envelope||"NONE"),e=(a.parameters||a.params||[]).concat(c.parameters||[]);if(d.namedParams){if(1==b.length&&g.isObject(b[0]))b=b[0];else{for(var f={},h=a.parameters||a.params,l=0;l<h.length;l++)"undefined"==typeof b[l]&&h[l].optional||(f[h[l].name]=
b[l]);b=f}if(a.strictParameters||c.strictParameters)for(l in b){f=!1;for(h=0;h<e.length;h++)e[l].name==l&&(f=!0);f||delete b[l]}for(l=0;l<e.length;l++)if(f=e[l],!f.optional&&f.name&&null!=b&&!b[f.name])if(f["default"])b[f.name]=f["default"];else if(!(f.name in b))throw Error("Required parameter "+f.name+" was omitted");}else e&&e[0]&&e[0].name&&1==b.length&&m.isObject(b[0])&&(b=!1===d.namedParams?k.toOrdered(e,b):b[0]);g.isObject(this._options)&&(b=m.mixin(b,this._options));e=a._schema||a.returns;
b=d.serialize.apply(this,[c,a,b]);b._envDef=d;return m.mixin(b,{sync:this.sync,contentType:a.contentType||c.contentType||b.contentType,headers:a.headers||c.headers||b.headers||{},target:b.target||k.getTarget(c,a),transport:a.transport||c.transport||b.transport,envelope:a.envelope||c.envelope||b.envelope,timeout:a.timeout||c.timeout,callbackParamName:a.callbackParamName||c.callbackParamName,rpcObjectParamName:a.rpcObjectParamName||c.rpcObjectParamName,schema:e,handleAs:b.handleAs||"auto",preventCache:a.preventCache||
c.preventCache,frameDoc:this._options.frameDoc||void 0})},_executeMethod:function(a){var b=[],c;if(2==arguments.length&&g.isArray(arguments[1]))b=arguments[1];else for(c=1;c<arguments.length;c++)b.push(arguments[c]);var d=this._getRequest(a,b);this.correctTarget&&(d.target=this._smd.target);b=k.transportRegistry.match(d.transport).fire(d);b.addBoth(function(a){return d._envDef.deserialize.call(this,a)});return b},getServiceClass:function(a){return a||this.serviceClass},hasMethod:function(a,b){b=b||
this.getServiceClass();return this&&b&&null!=this[b]&&null!=this[b][a]},checkCall:function(a,b,c){a=this.getServiceClass(a);if(!this.hasMethod(b,a)&&!0===c){debugger;this.onError({code:1,message:["Sorry, server doesnt know "+b]});return!1}return!0},base64_encode:function(a){var b,c,d,e,f=0,h=0,l=[];if(!a)return a;do b=a.charCodeAt(f++),c=a.charCodeAt(f++),d=a.charCodeAt(f++),e=b<<16|c<<8|d,b=e>>18&63,c=e>>12&63,d=e>>6&63,e&=63,l[h++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(b)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(d)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e);while(f<a.length);f=l.join("");a=a.length%3;return(a?f.slice(0,a-3):f)+"===".slice(a||3)},callMethodEx:function(a,b,c,d,e,f){if(!this[a]||null==this[a][b])return!0===f&&e&&e({code:1,message:["Sorry, server doesnt know "+b+" in class"+a]}),null;f={};this.config&&this.config.RPC_PARAMS&&
(f=g.mixin(f,this.config.RPC_PARAMS.rpcFixedParams),f[this.config.RPC_PARAMS.rpcUserField]=this.config.RPC_PARAMS.rpcUserValue,this.extraArgs=f,this.signatureField=this.config.RPC_PARAMS.rpcSignatureField,this.signatureToken=this.config.RPC_PARAMS.rpcSignatureToken);this[a][b](c).then(function(c){try{d&&d(c)}catch(x){console.error("bad news : callback for method "+b+" caused a crash in service class "+a)}c&&c.error&&c.error&&0!=c.error.code&&e&&e(c.error)},function(a){e(a)})},callMethod:function(a,
b,c,d,e,f){try{var h=this;if(null==this[a][b]){if(!0===f&&e){debugger;e({code:1,message:["Sorry, server doesnt know "+b]})}return null}f={};f=g.mixin(f,this.config.RPC_PARAMS.rpcFixedParams);this[a][b](c).then(function(a){try{d&&d(a)}catch(w){console.error("crashed in "+b),console.dir(w)}a&&a.error&&a.error&&1==a.error.code&&e&&e(a.error)},function(a){h.onError(a)})}catch(x){console.error("crash! "+x)}}})});
define("xide/encoding/SHA1",["./_base"],function(c){function m(a,d){a[d>>5]|=128<<24-d%32;a[(d+64>>9<<4)+15]=d;d=Array(80);for(var b=1732584193,f=-271733879,l=-1732584194,k=271733878,g=-1009589776,m=0;m<a.length;m+=16){for(var q=b,t=f,u=l,v=k,x=g,w=0;80>w;w++){if(16>w)d[w]=a[m+w];else{var y=d[w-3]^d[w-8]^d[w-14]^d[w-16];d[w]=y<<1|y>>>31}y=c.addWords(c.addWords(b<<5|b>>>27,20>w?f&l|~f&k:40>w?f^l^k:60>w?f&l|f&k|l&k:f^l^k),c.addWords(c.addWords(g,d[w]),20>w?1518500249:40>w?1859775393:60>w?-1894007588:
-899497514));g=k;k=l;l=f<<30|f>>>2;f=b;b=y}b=c.addWords(b,q);f=c.addWords(f,t);l=c.addWords(l,u);k=c.addWords(k,v);g=c.addWords(g,x)}return[b,f,l,k,g]}function g(a){for(var b=[],c=0,f=8*a.length;c<f;c+=8)b[c>>5]|=(a.charCodeAt(c/8)&255)<<24-c%32;return b}function k(a){for(var b=[],c=0,f=4*a.length;c<f;c++)b.push("0123456789abcdef".charAt(a[c>>2]>>8*(3-c%4)+4&15),"0123456789abcdef".charAt(a[c>>2]>>8*(3-c%4)&15));return b.join("")}function f(a){for(var b=[],c=0,f=32*a.length;c<f;c+=8)b.push(String.fromCharCode(a[c>>
5]>>>24-c%32&255));return b.join("")}function a(a){for(var b=[],c=0,f=4*a.length;c<f;c+=3)for(var l=(a[c>>2]>>8*(3-c%4)&255)<<16|(a[c+1>>2]>>8*(3-(c+1)%4)&255)<<8|a[c+2>>2]>>8*(3-(c+2)%4)&255,k=0;4>k;k++)8*c+6*k>32*a.length?b.push("="):b.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(l>>6*(3-k)&63));return b.join("")}c.SHA1=function(b,d){d=d||c.outputTypes.Base64;b=m(g(b),8*b.length);switch(d){case c.outputTypes.Raw:return b;case c.outputTypes.Hex:return k(b);case c.outputTypes.String:return f(b);
default:return a(b)}};c.SHA1._hmac=function(b,d,e){e=e||c.outputTypes.Base64;var h=g(d);16<h.length&&(h=m(h,8*d.length));var l=Array(16);d=Array(16);for(var n=0;16>n;n++)l[n]=h[n]^909522486,d[n]=h[n]^1549556828;b=m(l.concat(g(b)),512+8*b.length);b=m(d.concat(b),672);switch(e){case c.outputTypes.Raw:return b;case c.outputTypes.Hex:return k(b);case c.outputTypes.String:return f(b);default:return a(b)}};return c.SHA1});
define("xide/rpc/JsonRPC",["./Service","dojo/errors/RequestError","xide/utils/StringUtils"],function(c,m,g){function k(c){return{serialize:function(a,b,d,e){a={id:this._requestId++,method:b.name,params:d};c&&(a.jsonrpc=c);return{data:JSON.stringify(a),handleAs:"json",contentType:"application/json",transport:"POST"}},deserialize:function(a){if("Error"==a.name||a instanceof m)a=g.fromJson(a.responseText);if(a.error){var b=Error(a.error.message||a.error);b._rpcErrorObject=a.error;return b}return a.result}}}
c.envelopeRegistry.register("JSON-RPC-1.0",function(c){return"JSON-RPC-1.0"==c},g.mixin({namedParams:!1},k()));c.envelopeRegistry.register("JSON-RPC-2.0",function(c){return"JSON-RPC-2.0"==c},g.mixin({namedParams:!0},k("2.0")))});
define("xide/rpc/Service","dojo/_base/kernel dojo/_base/lang dojo/_base/xhr dojo/_base/declare xide/rpc/AdapterRegistry dojo/_base/url xide/utils xide/lodash".split(" "),function(c,m,g,k,f,a,b,d){function e(a,b){var d=a._baseUrl;a.target&&(d=new c._Url(d,a.target)+"");b.target&&(d=new c._Url(d,b.target)+"");return d}function h(a,b){if(c.isArray(b))return b;for(var d=[],e=0;e<a.length;e++)d.push(b[a[e].name]);return d}var l=new f(!0),n=new f(!0),p=1;k=k("xide.rpc.Service",null,{constructor:function(a,
e){function f(a){a._baseUrl=new c._Url(c.isBrowser?location.href:c.config.baseUrl,h||".")+"";l._smd=a;e&&"methods"===e.services&&(a.services=a.methods,delete a.methods,a.transport="POST",e.mixin&&m.mixin(a,e.mixin),e=null);for(var b in l._smd.services){a=b.split(".");for(var d=l,f=0;f<a.length-1;f++)d=d[a[f]]||(d[a[f]]={});d[a[a.length-1]]=l._generateService(b,l._smd.services[b])}}var h,l=this;a&&(d.isString(a)||a instanceof c._Url?(h=a instanceof c._Url?a+"":a,this.__init=g.getText(h),l=this,this.__init.then(function(a){f(b.fromJson(a))})):
f(a));this._options=e?e:{};this._requestId=0},_generateService:function(a,b){if(this[b])throw Error("WARNING: "+a+" already exists for service. Unable to generate function");b.name=a;var d=c.hitch(this,"_executeMethod",b),e=l.match(b.transport||this._smd.transport);e.getExecutor&&(d=e.getExecutor(d,b,this));b=b.returns||(b._schema={});b._service=d;d.servicePath="/"+a+"/";d._schema=b;d.id=p++;return d},_getRequest:function(a,b){var d=this._smd,f=n.match(a.envelope||d.envelope||"NONE"),l=(a.parameters||
[]).concat(d.parameters||[]);if(f.namedParams){if(1==b.length&&c.isObject(b[0]))b=b[0];else{for(var k={},g=0;g<a.parameters.length;g++)"undefined"==typeof b[g]&&a.parameters[g].optional||(k[a.parameters[g].name]=b[g]);b=k}if(a.strictParameters||d.strictParameters)for(g in b){for(var k=!1,p=0;p<l.length;p++)l[p].name==g&&(k=!0);k||delete b[g]}for(g=0;g<l.length;g++)if(k=l[g],!k.optional&&k.name&&!b[k.name])if(k["default"])b[k.name]=k["default"];else if(!(k.name in b))throw Error("Required parameter "+
k.name+" was omitted");}else l&&l[0]&&l[0].name&&1==b.length&&c.isObject(b[0])&&(b=!1===f.namedParams?h(l,b):b[0]);c.isObject(this._options)&&(b=c.mixin(b,this._options));delete b.mixin;l=a._schema||a.returns;b=f.serialize.apply(this,[d,a,b]);b._envDef=f;return c.mixin(b,{sync:!1,contentType:a.contentType||d.contentType||b.contentType,headers:a.headers||d.headers||b.headers||{},target:b.target||e(d,a),transport:a.transport||d.transport||b.transport,envelope:a.envelope||d.envelope||b.envelope,timeout:a.timeout||
d.timeout,callbackParamName:a.callbackParamName||d.callbackParamName,rpcObjectParamName:a.rpcObjectParamName||d.rpcObjectParamName,schema:l,handleAs:b.handleAs||"auto",preventCache:a.preventCache||d.preventCache,frameDoc:this._options.frameDoc||void 0})},_executeMethod:function(a){var b=[],c;for(c=1;c<arguments.length;c++)b.push(arguments[c]);var d=this._getRequest(a,b),b=l.match(d.transport).fire(d);b.addBoth(function(a){return d._envDef.deserialize.call(this,a)});return b}});k.transportRegistry=
l;k.envelopeRegistry=n;k._nextId=p;k.getTarget=e;k.toOrdered=h;k._sync=!1;n.register("URL",function(a){return"URL"==a},{serialize:function(a,b,d){return{data:c.objectToQuery(d),transport:"POST"}},deserialize:function(a){return a},namedParams:!0});n.register("JSON",function(a){return"JSON"==a},{serialize:function(a,b,d){return{data:c.toJson(d),handleAs:"json",contentType:"application/json"}},deserialize:function(a){return a}});n.register("PATH",function(a){return"PATH"==a},{serialize:function(a,b,
d){var f;a=e(a,b);if(c.isArray(d))for(f=0;f<d.length;f++)a+="/"+d[f];else for(f in d)a+="/"+f+"/"+d[f];return{data:"",target:a}},deserialize:function(a){return a}});l.register("POST",function(a){return"POST"==a},{fire:function(a){a.url=a.target;a.postData=a.data;return c.rawXhrPost(a)}});l.register("GET",function(a){return"GET"==a},{fire:function(a){a.url=a.target+(a.data?"?"+(a.rpcObjectParamName?a.rpcObjectParamName+"=":"")+a.data:"");return g.get(a)}});c._contentHandlers&&(c._contentHandlers.auto=
function(a){var b=c._contentHandlers,d=a.getResponseHeader("Content-Type");return d?d.match(/\/.*json/)?b.json(a):d.match(/\/javascript/)?b.javascript(a):d.match(/\/xml/)?b.xml(a):b.text(a):b.text(a)});return k});
define("dojo/_base/url",["./kernel"],function(c){var m=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/,g=/^((([^\[:]+):)?([^@]+)@)?(\[([^\]]+)\]|([^\[:]*))(:([0-9]+))?$/,k=function(){for(var c=arguments,a=[c[0]],b=1;b<c.length;b++)if(c[b]){var d=new k(c[b]+""),a=new k(a[0]+"");if(""==d.path&&!d.scheme&&!d.authority&&!d.query)null!=d.fragment&&(a.fragment=d.fragment),d=a;else if(!d.scheme&&(d.scheme=a.scheme,!d.authority&&(d.authority=a.authority,"/"!=d.path.charAt(0)))){for(var a=(a.path.substring(0,
a.path.lastIndexOf("/")+1)+d.path).split("/"),e=0;e<a.length;e++)"."==a[e]?e==a.length-1?a[e]="":(a.splice(e,1),e--):0<e&&(1!=e||""!=a[0])&&".."==a[e]&&".."!=a[e-1]&&(e==a.length-1?(a.splice(e,1),a[e-1]=""):(a.splice(e-1,2),e-=2));d.path=a.join("/")}a=[];d.scheme&&a.push(d.scheme,":");d.authority&&a.push("//",d.authority);a.push(d.path);d.query&&a.push("?",d.query);d.fragment&&a.push("#",d.fragment)}this.uri=a.join("");c=this.uri.match(m);this.scheme=c[2]||(c[1]?"":null);this.authority=c[4]||(c[3]?
"":null);this.path=c[5];this.query=c[7]||(c[6]?"":null);this.fragment=c[9]||(c[8]?"":null);null!=this.authority&&(c=this.authority.match(g),this.user=c[3]||null,this.password=c[4]||null,this.host=c[6]||c[7],this.port=c[9]||null)};k.prototype.toString=function(){return this.uri};return c._Url=k});
define("xide/rpc/AdapterRegistry",["dojo/_base/kernel","dojo/_base/lang"],function(c,m){c=c.AdapterRegistry=function(c){this.pairs=[];this.returnWrappers=c||!1};m.extend(c,{register:function(c,k,f,a,b){this.pairs[b?"unshift":"push"]([c,k,f,a])},match:function(){for(var c=0;c<this.pairs.length;c++){var k=this.pairs[c];if(k[1].apply(this,arguments))return k[3]||this.returnWrappers?k[2]:k[2].apply(this,arguments)}throw Error("No match found");},unregister:function(c){for(var k=0;k<this.pairs.length;k++)if(this.pairs[k][0]==
c)return this.pairs.splice(k,1),!0;return!1}});return c});define("xcf/mainr","xcf/types xcf/types/Types xcf/model/Command xcf/model/Device xcf/model/Driver xcf/model/ModelBase xcf/model/Variable xcf/factory/Blocks xcf/manager/BeanManager xcf/manager/DeviceManager xcf/manager/BlockManager xcf/manager/DriverManager xcf/manager/DriverManager_Server".split(" "),function(){});
define("xcf/manager/DriverManager_Server",["dcl/dcl","dojo/_base/declare","xide/types","xide/utils"],function(c,m,g,k){return c(null,{declaredClass:"xcf.manager.DriverManager_Server",onDriverBlocksChanged:function(c,a){},onFileChanged:function(c){if("changed"===c.type&&!c._didb){c._didb=!0;var a=k.replaceAll("\\","/",c.path),a=k.replaceAll("//","/",a),a=a.replace(/\\/g,"/"),b;b=a;b=-1!=b.indexOf("system/driver")?b.substr(b.indexOf("system/driver")+14,b.length):null;b&&-1!==b.indexOf(".xblox")&&(console.log("driver blocks changed "+
b+" @ "+a,c),this.onDriverBlocksChanged(a,b))}},createDriverInstance:function(c,a){var b=this,d=this.driverScopes.system_drivers+"DriverBase";require([d],function(e){e.prototype.declaredClass=d;var f=b.driverScopes[c.scope],l=k.getCIInputValueByName(c.user,g.DRIVER_PROPERTY.CF_DRIVER_CLASS);if(l){var n=f+l,n=n.replace(".js",""),n=n.replace("./","");require([n],function(d){d=new (m([e],d.prototype));d.baseClass=e.prototype.declaredClass;d.modulePath=k.replaceAll("//","/",n);d.delegate=b;c.instance=
d;a&&a(d);try{d.start()}catch(r){}return d})}else console.error("cant find driver class in meta")})}})});
define("xcf/manager/DriverManager","dcl/dcl dojo/_base/declare dojo/_base/lang dojo/_base/json xide/types xcf/types/Types xide/utils xcf/manager/BeanManager xcf/model/Variable xcf/manager/DriverManager_Server xide/data/TreeMemory xide/data/ObservableStore dstore/Trackable xdojo/has xcf/model/Driver xide/manager/ServerActionBase xide/data/Reference dojo/Deferred xide/mixins/ReloadMixin xide/mixins/EventedMixin xdojo/has!xcf-ui?./DriverManager_UI xdojo/has!xcf-ui?xide/views/_CIDialog".split(" "),function(c,
m,g,k,f,a,b,d,e,h,l,n,p,r,q,t,u,v,x,w,y,A){g=[t,d,h];var z=!r("host-browser");r("runDrivers");r("xcf-ui")&&g.push(y);return c(g,{beanName:"Driver",beanUrlPattern:"{id}",breanScheme:"driver://",onStoreCreated:function(a){var b=a.type;a=a.store;var c=a.query({isDir:!1});if(b===f.ITEM_TYPE.DRIVER)for(b=0;b<c.length;b++){var d=c[b];null==d._completed&&"Default"!==d.name&&(d._completed=!0,r("xcf-ui")&&this.completeDriver(a,d,d))}},removeDriverInstance:function(a,b){try{this.getContext().getDeviceManager().toDeviceControlInfo(b);
var c=this.getDriverById(a.device.info.driverId),d=c._store,e=c.path,f=e+"_instances_instance_"+b.path,h=d.getSync(f);h&&d.removeSync(f);var l=_.find(c.instances,{path:f});l&&c.instances.remove(l);b.removeReference(h);h&&(h.refresh(),d.getSync(e+"_instances").refresh())}catch(N){logError(N,"error removing driver instance")}},createDriverBlockScope:function(a){var c=b.clone(a.blox&&a.blox.blocks?a.blox.blocks:[]);return a.blockScope=this.ctx.getBlockManager().createScope({id:a.id,device:null,driver:a,
instance:null,ctx:this.ctx,getContext:function(){return this.instance}},c,function(b){b&&console.error(b+" : in "+a.name+" , re-save driver!")})},addDeviceInstance:function(a,b){},declaredClass:"xcf.manager.DriverManager",beanNamespace:"driver",beanName:"Driver",beanIconClass:"fa-exchange",groupType:f.ITEM_TYPE.DRIVER_GROUP,itemType:f.ITEM_TYPE.DRIVER,itemMetaTitleField:f.DRIVER_PROPERTY.CF_DRIVER_NAME,defaultScope:"system_drivers",serviceClass:"XCF_Driver_Service",rawData:null,store:null,treeView:null,
driverScopes:null,_isLoading:!1,getDriverModule:function(a){var c=new v,d=b.getCIInputValueByName(a.user,f.DRIVER_PROPERTY.CF_DRIVER_CLASS);a=a.scope;d=d?d.replace("./",""):"";a=require.toUrl(a);a=b.removeURLParameter(a,"bust");a=b.removeURLParameter(a,"time");r("debug")&&z&&(a=a.replace("?",""));a=a.replace("/main.js","");require.cache||(a=a.replace("/.js","/"));var e=a+"/"+d;r("debug")&&!z&&(e+=-1==e.indexOf("?")?"?":"&",e+="time"+(new Date).getTime());z&&(e=e.replace("?",""));try{require([e],function(a){c.resolve(a)})}catch(H){console.error("error loading driver module from  "+
a+"---"+d,H),logError(H,"error loading driver module"),c.reject(H.message)}return c},loadDriverModule:function(a){var d=this.driverScopes.system_drivers+"DriverBase";require.toUrl(this.driverScopes.system_drivers);var e=this,h=new v,l=require;l([d],function(d){var k=e.driverScopes[a.scope],g=!require.cache;g?require({config:{urlArgs:null}}):require({cacheBust:null});k=require.toUrl(k);g&&(k=k.replace("/.js","/"));var n=b.getCIInputValueByName(a.user,f.DRIVER_PROPERTY.CF_DRIVER_CLASS),n=n.replace("./",
""),n=n.replace(".js",""),n=a.scope+"/"+n,n=n.replace("","").trim();try{l.undef(n),l([n],function(a){function b(c,d){a.getFields=c.getFields;c.onReloaded=b;d.onReloaded=b}a.declaredClass=n;c([d,w.dcl,x.dcl,a],{}).getFields=a.getFields;a.onReloaded=b;h.resolve(a)})}catch(B){}});return h},getBlock:function(a){a=b.parse_url(a);a=b.urlArgs(a.host);var c=this.getItemById(a.driver.value),d=null;c&&c.blockScope&&(d=c.blockScope.getBlockById(a.block.value));return d},getDriverByUrl:function(a){a=b.parse_url(a);
a=b.urlArgs(a.host);return this.getItemById(a.driver.value)},_driverQueryCache:null,_getDriverById:function(a,c){if(c&&c.getSync){var d=c.query();_.isArray(d)||(d=[d]);for(var e=0;e<d.length;e++){var h=d[e];if(!h.isDir){var l=b.getInputCIByName(h.user,f.DRIVER_PROPERTY.CF_DRIVER_ID);if(l&&l.value==a)return c.getSync(h.path)}}return null}},getDriverById:function(a,b){if(b)return this._getDriverById(a,b);var c=null;if(!r("xcf-ui")&&!r("host-node")&&(!this._driverQueryCache&&(this._driverQueryCache=
{}),this._driverQueryCache[a]))return this._driverQueryCache[a];for(var d in this.stores)if(b=this.stores[d],b=this._getDriverById(a,b)){c=b;break}r("xcf-ui")||!c||r("host-node")||(this._driverQueryCache[a]=c);return c},getDriverByPath:function(a){var c,d;for(d in this.stores){a:{c=b.queryStore(this.stores[d],{isDir:!1});_.isArray(c)||(c=[c]);for(var e=0;e<c.length;e++){var f=c[e];if(f.path==a){c=f;break a}}c=null}if(c)return c}return null},getItemById:function(a){return this.getDriverById(a)},onNewDriverScopeCreated:function(a){},
onScopeCreated:function(a){},onDeviceDisconnected:function(a){},onDriverCreated:function(a){r("xcf-ui")&&f.registerEnumeration("Driver",this.getDriversAsEnumeration(a))},onDriverRemoved:function(a,b){r("xcf-ui")&&f.registerEnumeration("Driver",this.getDriversAsEnumeration(a))},onStoreReady:function(a){r("xcf-ui")&&f.registerEnumeration("Driver",this.getDriversAsEnumeration(a))},createStore:function(a,c,d){a&&!a.items&&a["0"]&&(a={items:a["0"].items});var e=new (m("driverStore",[l,p,n],{}))({data:[],
Model:q,idProperty:"path",scope:c,id:b.createUUID(),mayHaveChildren:function(a){return a.isDir},observedProperties:["name","enabled"]});a&&a.items&&(e.setData(a.items),_.each(a.items,function(a){a._store=e}));c&&!1!==d&&this.setStore(c,e);return e},initStore:function(a,b,c){return this.createStore(a,b,c)},getStore:function(a){a=a||"system_drivers";var b=this.stores[a];return b?b:this.ls(a)},ls:function(a,b){function c(c){try{var e=this.createStore(c,a,b);this.onStoreReady(e);!1!==b&&this.publish(f.EVENTS.ON_STORE_CREATED,
{data:c,owner:this,store:e,type:this.itemType});d.resolve(e)}catch(I){logError(I,"error ls drivers")}}var d=new v;if(this.prefetch&&this.prefetch[a])return c.apply(this,[this.prefetch[a]]),delete this.prefetch[a],d;r("php")?this.runDeferred(null,"ls",[a]).then(c.bind(this)):z?d.resolve({items:[]}):this._getText(require.toUrl(a).replace("main.js","")+a+".json",{sync:!1,handleAs:"json"}).then(c.bind(this));return d},init:function(){var a=this,b=f.EVENTS;this.subscribe([b.ON_SCOPE_CREATED,b.ON_STORE_CREATED]);
this.subscribe(b.ON_BLOCK_EXPRESSION_FAILED,function(c){a.publish(b.ON_SERVER_LOG_MESSAGE,{data:{type:"Expression",device:c.deviceInfo},level:"error",message:"Expression Failed: "+c.item.title+" : "+c.item.value})});this.driverScopes={system_drivers:"system_drivers/",user_drivers:"user_drivers/"}}})});
define("xide/mixins/ReloadMixin",["xdojo/declare","dcl/dcl","xide/types","xide/utils","xide/mixins/EventedMixin"],function(c,m,g,k,f){var a={_mergeFunctions:!0,_mergeMissingVariables:!0,isInstanceOf_:function(a){try{if(!!this instanceof a||this.isInstanceOf&&this.isInstanceOf(a))return!0;var b=k.getAt(this,"constructor._meta.bases",[]),c=a.prototype.declaredClass;return _.findWhere(b,function(b){return b==a||k.getAt(b,"superclass.declaredClass")===c||k.getAt(b,"prototype.declaredClass")===c})}catch(h){console.log("ReloadMixin :: this.isInstanceOf_ crashed "+
h)}return!1},mergeFunctions:function(a,c){for(var b in c)"constructor"!==b&&"inherited"!==b&&(_.isFunction(c[b])&&(a[b]=null,a[b]=c[b]),_.isArray(c[b])&&null==a[b]&&(a[b]=c[b]))},onModuleReloaded:function(a){var b=a.newModule;if(b&&b.prototype&&!a._processed){var c=b.prototype,f=c.declaredClass,l=!1,g=this.declaredClass;f&&(f&&g&&(l=k.replaceAll("/",".",g)===k.replaceAll("/",".",f)),l?(this.mergeFunctions(this,c),this.onReloaded&&(a._processed=!0,this.onReloaded(b))):a.module&&k.replaceAll("//","/",
a.module)===g&&this.mergeFunctions(this,c))}},initReload:function(){this.subscribe(g.EVENTS.ON_MODULE_RELOADED)}};c=c(null,a);c.Impl=a;c.dcl=m(f.dcl,a);return c});
define("xide/data/Reference",["dcl/dcl","xide/utils","xide/lodash","xide/mixins/EventedMixin"],function(c,m,g,k){var f={_sources:[],destroyOnRemove:!0,_store:null,removeSource:function(a){},updateSource:function(a){},onSourceUpdate:function(a){},onSourceRemoved:function(a){},onSourceDelete:function(a){},onItemChanged:function(a){},destroy:function(){(!this.item||this.item.removeReference)&&this.item&&this.item.removeReference(this);this.inherited&&this.inherited(arguments);if(this._sources){for(var a=
0;a<this._sources.length;a++){var b=this._sources[a];b.item&&b.item.removeReference&&b.item.removeReference(this)}this._sources=null}},hasSource:function(a){return g.find(this._sources,{item:a})},addSource:function(a,b){this.hasSource(a)||(this._sources.push({item:a,settings:b}),b&&b.onDelete&&this.addHandle("delete",a._store.on("delete",function(b){b.target==a&&this._store.removeSync(this[this._store.idProperty])}.bind(this))))},updateSources:function(a){for(var b=0;b<this._sources.length;b++){var c=
this._sources[b],e=c.item,c=c.settings;a.property&&c.properties&&c.properties[a.property]&&(e._store.silent(!0),e.set(a.property,a.value),e._store.silent(!1),e._store.emit("update",{target:e}))}},constructor:function(a){this._sources=[];m.mixin(this,a)}};c=c([k.dcl],f);c.Implementation=f;return c});
define("dstore/Trackable","dojo/_base/lang dojo/_base/declare dojo/aspect dojo/when dojo/promise/all dojo/_base/array dojo/on".split(" "),function(c,m,g,k,f,a,b){function d(a,b,c){for(var d=a.length-1;0<=d;--d){var e=a[d],f=e.start,e=f+e.count;if(b>e){a.splice(d+1,0,{start:b,count:c-b});return}c>=f&&(b=Math.min(b,f),c=Math.max(c,e),a.splice(d,1))}a.unshift({start:b,count:c-b})}var e=0,h={track:function(){function f(){return function(){var a=this,b=this.inherited(arguments);k(b,function(b){b=a._results=
b.slice();a._partialResults&&(a._partialResults=null);a._ranges=[];d(a._ranges,0,b.length)});return b}}function h(){return function(a){var b=this,c=a.start,e=a.end,f=this.inherited(arguments);this._results||k(f,function(a){return k(a.totalLength,function(f){var h=b._partialResults||(b._partialResults=[]);e=Math.min(e,c+a.length);h.length=f;f=[c,e-c].concat(a);h.splice.apply(h,f);d(b._ranges,c,e);return a})});return f}}function p(b,d){e++;var f=d.target;d=c.delegate(d,w[b]);k(v._results||v._partialResults,
function(c){if(c){var e,h,l,k=v._ranges,g,n="id"in d?d.id:r.getIdentity(f),p=-1,q=-1,m=-1,t=-1;if("delete"===b||"update"===b)for(e=0;-1===p&&e<k.length;++e)for(g=k[e],h=g.start,l=h+g.count;h<l;++h)if(r.getIdentity(c[h])==n){p=d.previousIndex=h;q=e;c.splice(p,1);g.count--;for(h=e+1;h<k.length;++h)k[h].start--;break}if("add"===b||"update"===b){if(x){if(x([f]).length){var u=0;l=k.length-1;h=-1;for(var w;u<=l&&-1===m;)e=u+Math.round((l-u)/2),g=k[e],q=c.slice(g.start,g.start+g.count),"beforeId"in d&&(h=
null===d.beforeId?q.length:y(q,d.beforeId)),-1===h&&(h=p>=Math.max(0,g.start-1)&&p<=g.start+g.count?p:r.defaultNewToStart?0:q.length),q.splice(h,0,f),n=a.indexOf(x(q),f),w=g.start+n,0===n&&0!==g.start?l=e-1:n>=q.length-1&&w<c.length?u=e+1:(m=w,t=e);if(-1===m&&0<u&&u<k.length)var E=!0}}else{h=-1;if("beforeId"in d)if(null===d.beforeId)m=c.length,h=k.length-1;else for(e=0,l=k.length;-1===t&&e<l;++e)g=k[e],m=y(c,d.beforeId,g.start,g.start+g.count),-1!==m&&(t=e);else"update"===b?(m=p,t=q):r.defaultNewToStart?
h=m=0:(m=c.length,h=k.length-1);-1!==h&&-1===t&&(g=k[h])&&g.start<=m&&m<=g.start+g.count&&(t=h)}if(-1<m&&-1<t)for(d.index=m,c.splice(m,0,f),k[t].count++,e=t+1;e<k.length;++e)k[e].start++;else if(E)for(d.beforeIndex=k[u].start,e=u;e<k.length;++e)k[e].start++}d.totalLength=c.length}(c=v["on_tracked"+b])&&c.call(v,d)})}var r=this.store||this,q=[],t={add:1,update:1,"delete":1},u;for(u in t)q.push(this.on(u,function(a){return function(b){p(a,b)}}(u)));var v=m.safeMixin(c.delegate(this),{_ranges:[],fetch:f(),
fetchRange:h(),releaseRange:function(a,b){if(this._partialResults){a:for(var c=this._ranges,d=0,e;e=c[d];++d){var f=e.start,h=f+e.count;if(a<=f)if(b>=h)c.splice(d,1);else{e.start=b;e.count=h-e.start;break a}else if(a<h)if(b>f){c.splice(d,1,{start:f,count:a-f},{start:b,count:h-b});break a}else e.count=a-e.start}for(;a<b;++a)delete this._partialResults[a]}},on:function(a,c){var d=this,e=this.getInherited(arguments);return b.parse(v,a,c,function(a,b){return b in t?g.after(v,"on_tracked"+b,c,!0):e.call(d,
b,c)})},tracking:{remove:function(){for(;0<q.length;)q.pop().remove();this.remove=function(){}}},track:null});this.fetchSync&&(m.safeMixin(v,{fetchSync:f(),fetchRangeSync:h()}),v.fetchSync());var x;a.forEach(this.queryLog,function(a){var b=x,c=a.querier;c&&(x=b?function(a){return c(b(a))}:c)});var w={add:{index:void 0},update:{previousIndex:void 0,index:void 0},"delete":{previousIndex:void 0}},y=function(a,b,c,d){d=void 0!==d?d:a.length;for(c=void 0!==c?c:0;c<d;++c)if(r.getIdentity(a[c])===b)return c;
return-1};return v}};f=m(null,h);f.create=function(a,b){a=m.safeMixin(c.delegate(a),h);m.safeMixin(a,b);return a};return f});
define("dojo/promise/all",["../_base/array","../Deferred","../when"],function(c,m,g){var k=c.some;return function(c){var a,b;c instanceof Array?b=c:c&&"object"===typeof c&&(a=c);var d,e=[];if(a){b=[];for(var f in a)Object.hasOwnProperty.call(a,f)&&(e.push(f),b.push(a[f]));d={}}else b&&(d=[]);if(!b||!b.length)return(new m).resolve(d);var l=new m;l.promise.always(function(){d=e=null});var n=b.length;k(b,function(b,c){a||e.push(c);g(b,function(a){l.isFulfilled()||(d[e[c]]=a,0===--n&&l.resolve(d))},l.reject);
return l.isFulfilled()});return l.promise}});
define("xide/data/ObservableStore",["dojo/_base/declare","xide/mixins/EventedMixin","xide/lodash"],function(c,m,g){return c("xide/data/Observable",m,{_ignoreChangeEvents:!0,observedProperties:[],putSync:function(c,f){this.silent(!f);var a=this.inherited(arguments),b=this;!1!==f&&this.emit("added",a);a&&!a._store&&Object.defineProperty(a,"_store",{get:function(){return b}});this._observe(a);this.silent(!1);return a},removeSync:function(c,f){this.silent(f);var a=this.getSync(c);a&&a.onRemove&&a.onRemove();
a=this.inherited(arguments);this.silent(!1);return a},_onItemChanged:function(c,f,a,b){this._ignoreChangeEvents||(f={target:c,property:f,value:a,source:b},this.emit("update",f),c.onItemChanged&&c.onItemChanged(f))},_observe:function(c){var f=this.observedProperties;c.observed&&(f=f.concat(c.observed));g.each(f,function(a){c.property&&c.property(a).observe(function(b){this._onItemChanged(c,a,b,this)}.bind(this))}.bind(this))},setData:function(c){var f=this.inherited(arguments);this.silent(!0);c&&g.each(c,
this._observe,this);this.silent(!1);return f}})});
define("xcf/manager/BlockManager",["dcl/dcl","xide/types","xide/manager/ManagerBase","xblox/manager/BlockManager","xide/lodash"],function(c,m,g,k,f){return c([g,k],{declaredClass:"xcf.manager.BlockManager",onReady:function(){},addDriverFunctions:function(a,b){for(var c in b)"constructor"!==c&&"inherited"!==c&&f.isFunction(b[c])&&(a[c]=b[c])},setScriptFunctions:function(a,b,c){var d=c;b.context||(b.context=a);a.blockScope||(a.blockScope=b);b.context&&b.context.instance&&(b.device=b.context.instance);
a.callCommand||(a.callCommand=function(a){(a=this.blockScope.getBlockByName(a))&&a.solve(this.blockScope)});a.setVariable||(a.setVariable=function(c,e,f,k,g){if(c=this.blockScope.getVariable(c))c.value=e,c.set("value",e),!1!==k&&d.publish(m.EVENTS.ON_DRIVER_VARIABLE_CHANGED,{item:c,scope:b,driver:a,owner:d,save:!0===f,source:g||m.MESSAGE_SOURCE.BLOX})});a.getVariable||(a.getVariable=function(a){return(a=this.blockScope.getVariable(a))?a.value:""});this.inherited(arguments)},onReloaded:function(){this.init()},
getDeviceVariablesAsEventOptions:function(){},onCreateVariableCI:function(a){}})});
define("xblox/manager/BlockManager","dcl/dcl dojo/has dojo/Deferred dojo/promise/all xide/types xide/utils xide/factory xblox/model/ModelBase xblox/model/Scope xblox/model/BlockModel xide/mixins/ReloadMixin xide/manager/ManagerBase xblox/data/Store xdojo/has!xblox-ui?xblox/manager/BlockManagerUI xide/lodash".split(" "),function(c,m,g,k,f,a,b,d,e,h,l,n,p,r,q){m=m("host-browser")&&m("xblox-ui")?[r,n,l.dcl]:[n,l.dcl];return c(m,{declaredClass:"xblox/manager/BlockManager",serviceObject:null,loaded:{},
test:function(){},scope:null,scopes:null,_createBlock:null,_registerActions:function(){},toScope:function(b){try{b=a.getJson(b)}catch(x){return console.error("BlockManager::toScope: failed,err="+x),null}b||(console.error("correct data"),b={blocks:[],variables:[]});var c=a.createUUID(),d=b;!q.isArray(b)&&q.isObject(b)&&(c=b.scopeId||c,d=b.blocks||[]);b=this.getScope(c,{owner:this},!0);d=b.blocksFromJson(d);for(c=0;c<d.length;c++)d[c]._lastRunSettings={force:!1,highlight:!0};b.serviceObject=this.serviceObject;
return b},loadFiles:function(a){for(var b=[],c=new g,d=0;d<a.length;d++){var e=a[d];b.push(this.load(e.mount,e.path,e.force))}k(b).then(function(a){c.resolve(a)});return c.promise},load:function(b,c,d){var e=new g,f=this,h=a.replaceAll("/","",b),l=a.replaceAll("./","",c),k=h+l,k=k.trim();this.loaded[k]&&!0===d&&(this.removeScope(this.loaded[k].id),this.loaded[k]=null);if(!0!==d&&this.loaded[k])return e.resolve(this.loaded[k]),e.promise;this.ctx.getFileManager().getContent(h,l,function(a){if(a=f.toScope(a))f.loaded[k]=
a,a.mount=b,a.path=c;e.resolve(a)},!1);return e.promise},onBlocksReady:function(a){for(var b=a.allBlocks(),c=0;c<b.length;c++)this.setScriptFunctions(b[c],a,this);if((a=a.getBlocks({group:"On Load"}))&&0<a.length)for(c=0;c<a.length;c++)if(b=a[c],b.onLoad)b.onLoad()},getBlock:function(){},setScriptFunctions:function(a,b,c){a.blockScope||(a.blockScope=b);b.serviceObject=this.serviceObject;a.setVariable||(a.setVariable=function(d,e,h,l,k){if(d=this.blockScope.getVariable(d))d.value=e,!1!==l&&c.publish(f.EVENTS.ON_VARIABLE_CHANGED,
{item:d,scope:b,driver:a,owner:c,save:!0===h,source:k||f.MESSAGE_SOURCE.BLOX})});a.getVariable||(a.getVariable=function(a){return(a=this.blockScope.getVariable(a))?a.value:""})},hasScope:function(a){this.scopes||(this.scopes={});return this.scopes[a]?this.scopes[a]:null},getScope:function(a,c,d){this.scopes||(this.scopes={});if(!this.scopes[a]&&(this.scopes[a]=this.createScope({id:a,ctx:this.ctx}),this.scopes[a].userData=c,!1!==d))try{b.publish(f.EVENTS.ON_SCOPE_CREATED,this.scopes[a])}catch(x){console.error("bad, scope creation failed "+
x,x)}return this.scopes[a]},removeScope:function(a){this.scopes||(this.scopes={});for(var b in this.loaded)this.loaded[b].id==a&&delete this.loaded[b];this.scopes[a]&&(this.scopes[a]._destroy(),delete this.scopes[a]);return null},createScope:function(b,c,d){c=c||[];var f=new p({data:[],Model:h,id:a.createUUID(),__events:{},observedProperties:["name","enabled","value"],getLabel:function(a){return a.name},labelAttr:"name"});f.reset();f.setData([]);f={owner:this,blockStore:f,serviceObject:this.serviceObject,
config:this.config};a.mixin(f,b);try{var l=new e(f);c&&l.initWithData(c,d);l.init()}catch(y){logError(y,"error creating scope, data:",b)}return l},onReloaded:function(){},init:function(){this.scope={variables:[],blocks:[]};d.prototype.types=f;d.prototype.factory=b;if(this.onReady)this.onReady()}})});
define("xblox/data/Store",["dojo/_base/declare","xide/data/TreeMemory","xide/data/ObservableStore","dstore/Trackable","dojo/Deferred"],function(c,m,g,k,f){return c("xblox.data.Store",[m,k,g],{idProperty:"id",parentField:"parentId",parentProperty:"parentId",filter:function(a){var b=this.inherited(arguments);delete this._state.filter;this._state.filter=a;return b},getRootItem:function(){return{canAdd:function(){return!0},id:this.id+"_root",group:null,name:"root",isRoot:!0,parentId:null}},getChildren:function(a){return this.root.filter({parentId:this.getIdentity(a)})},
_fetchRange:function(a){var b=new f;a=this.fetchRangeSync(a);if(this._state.filter){if(this._state.filter.parentId){var c=this.getSync(this._state.filter.parentId);c&&(this.reset(),a=c.items,c.getChildren&&(a=c.getChildren()),b.resolve(a))}this._state&&this._state.filter&&this._state.filter.group&&(this.getSync(this._state.filter.parent),c&&(this.reset(),a=c.items))}b.resolve(a);return b},mayHaveChildren:function(a){return a.mayHaveChildren?a.mayHaveChildren(a):null!=a.items&&0<a.items.length}})});
define("xblox/model/BlockModel",["dcl/dcl","xdojo/declare","xide/data/Model","xide/data/Source"],function(c,m,g,k){return m("xblox.model.BlockModel",[g,k],{declaredClass:"xblox.model.BlockModel",icon:"fa-play",mayHaveChildren:function(c){return null!=this.items&&0<this.items.length},getChildren:function(c){return this.items},getBlockIcon:function(){return'<span class="'+this.icon+'"></span>'}})});
define("xide/data/Source",["dcl/dcl","dojo/_base/declare","xide/utils","xide/lodash"],function(c,m,g,k){var f={_references:null,_originReference:null,_store:null,onReferenceUpdate:function(){},onReferenceRemoved:function(){},onReferenceDelete:function(){},updateReference:function(){},destroy:function(){this._references=null},getReferences:function(){return this._references?g.pluck(this._references,"item"):[]},hasReference:function(a){return k.find(this._references,{item:a})},addReference:function(a,
b,c){!this._references&&(this._references=[]);if(this.hasReference(a))console.warn("already have reference");else{this._references.push({item:a,settings:b});if(b&&b.onDelete&&a._store)a._store.on("delete",function(b){b.target==a&&(this._store.removeSync(this[this._store.idProperty]),this._references.remove(b.target))}.bind(this));c&&a.addSource&&a.addSource(this,b)}},removeReference:function(a){this._references&&k.each(this._references,function(b){if(b&&b.item==a)return this._references&&this._references.remove(b),
!0},this)},updateReferences:function(a){var b=a.property,c=a.value;this._references||(this._references=[]);for(var e=0;e<this._references.length;e++){var f=this._references[e],l=f.item,f=f.settings,k=l._store;if(this._originReference!=l&&a.property&&f.properties&&f.properties[a.property]){k&&k.silent(!0);try{if(l.onSourceChanged)l.onSourceChanged(b,c,a.type);else l.set(b,c)}catch(p){console.error("error updating reference! "+p,p)}k&&(k.silent(!1),k.emit("update",{target:l}))}}},constructor:function(a){this._references=
[];g.mixin(this,a)},onItemChanged:function(a){this.updateReferences(a)}};m=m("xgrid.data.Source",null,f);m.dcl=c(null,f);m.Implementation=f;return m});
define("xide/data/Model",["dcl/dcl","dojo/Deferred","dojo/aspect","dojo/when","xide/utils"],function(c,m,g,k,f){function a(a,b){var c=a.schema[b];void 0===c||c instanceof u||(c=new u(c),c._parent=a);c&&(c.name=b);return c}function b(a){var b,c=1;a(function(a,d,e){a&&a.then?(c++,b||(b=new m),a.then(function(a){d(a,e);c--;c||b.resolve()}).then(null,b.reject)):d(a,e)});if(b)return c--,c||b.resolve(),b.promise}function d(){2>n&&r&&(r(),r=null);n--}function e(){return e}var h=[].slice,l=c(null,{declaredClass:"xide/data/Model",
schema:{},additionalProperties:!0,_scenario:"update",constructor:function(a){this.init(a)},refresh:function(a,b){var c=this._store;c&&c.refreshItem(this,a,b)},getStore:function(){return this._store},getParent:function(){return this._store.getSync(this[this._store.parentProperty])},init:function(a){this._scenario="insert";a=this._setValues(a);for(var b in this.schema){var c=this.schema[b];c&&"object"===typeof c&&"default"in c&&!a.hasOwnProperty(b)&&(c=c["default"],a[b]="function"===typeof c?c.call(this):
c)}},_setValues:function(a){return f.mixin(this,a)},_getValues:function(){return this._values||this},save:function(a){var b=this;return k(a&&a.skipValidation?!0:this.validate(),function(a){if(!a)throw b.createValidationError(b.errors);a=b._scenario;b.prepareForSerialization();return b._store&&k(b._store["insert"===a?"add":"put"](b),function(a){b.set(a);b._scenario="update";return b})})},remove:function(){var a=this._store;return a.remove(a.getIdentity(this))},prepareForSerialization:function(){this._scenario=
void 0;this._inherited&&(this._inherited.toJSON=e)},createValidationError:function(a){return Error("Validation error")},property:function(b,c){var d=this.hasOwnProperty("_properties")?this._properties:this._properties=new t,e=d[b];e||(e=a(this,b),e=d[b]=e?f.delegate(e):new u,e.name=b,e._parent=this);return c?e.property.apply(e,h.call(arguments,1)):e},get:function(b){var c,d;return(d=c||this.schema[b])&&d.valueOf&&(d.valueOf!==v||d.hasCustomGet)?((c=c||this.hasOwnProperty("_properties")&&this._properties[b])||
(c=f.delegate(a(this,b),{name:b,_parent:this})),c.valueOf()):this._getValues()[b]},set:function(a,b){if("object"===typeof a){n++;try{for(var c in a)b=a[c],!a.hasOwnProperty(c)||b&&b.toJSON===e||this.set(c,b)}finally{d()}}else{c=this.schema[a];if(!c&&!this.additionalProperties)return console.warn("Schema does not contain a definition for",a);var f=this.hasOwnProperty("_properties")&&this._properties[a];!f&&(b&&"object"===typeof b||c&&c.put!==x)&&(f=this.property(a));f?f.put(b):(c&&c.coerce&&(b=c.coerce(b)),
this._getValues()[a]=b);return b}},observe:function(a,b,c){return this.property(a).observe(b,c)},validate:function(a){},isValid:function(){var a=!0,b;for(b in this.schema){var c=this.hasOwnProperty("_properties")&&this._properties[b];c&&c.errors&&c.errors.length&&(a=!1)}return a}});l.createSubclass=function(a,b){a=c([this].concat(a),b||{});a.extend=function(a){f.mixin(this.prototype,a);return this};return a};var n=0,p,r;(l.nextTurn=function(a){r=a}).atEnd=!0;var q=c(l,{observe:function(a,b){var c;
if("string"===typeof a)return console.error("fff"),this.inherited(arguments);b&&b.onlyFutureUpdates||(c=new q,this._has()&&(c.value=a(this.valueOf())));var d=this._addListener(function(b){b=a(b);c&&c.put(b)});return c?(c.remove=d.remove,c):d},validateOnSet:!1,validators:null,_addListener:function(a){return g.after(this,"onchange",a,!0)},valueOf:function(){return this._get()},_get:function(){return this.value},_has:function(){return this.hasOwnProperty("value")},setValue:function(a){this.value=a},
put:function(a){var b=this._get();a=this.coerce(a);this.errors&&this.set("errors",void 0);var c=this;n++;return k(this.setValue(a,this._parent),function(e){void 0!==e&&(a=e);c.onchange&&c._queueChange(c.onchange,b);var f,h=b&&"object"===typeof b&&!(b instanceof Array),l=a&&"object"===typeof a&&!(a instanceof Array);if(h||l){e={};if(h)for(f in b=b._getValues?b._getValues():b,b)e[f]={old:b[f]};if(l)for(f in a=a._getValues?a._getValues():a,a)(e[f]=e[f]||{}).value=a[f];c._values=l&&a;for(f in e)h=e[f],
(l=c._properties&&c._properties[f])&&l.onchange&&l._queueChange(l.onchange,h.old)}c.validateOnSet&&c.validate();d()})},coerce:function(a){var b=this.type;b&&("string"===b?a=""+a:"number"===b?a=+a:"boolean"===b?a="false"===a||"0"===a||a instanceof Array&&!a.length?!1:!!a:"function"!==typeof b||a instanceof b||(a=new b(a)));return a},addError:function(a){this.set("errors",(this.errors||[]).concat([a]))},checkForErrors:function(a){var b=[];this.type&&!("function"===typeof this.type?a instanceof this.type:
this.type===typeof a)&&b.push(a+" is not a "+this.type);!this.required||null!=a&&""!==a||b.push("required, and it was not present");return b},validate:function(){var a=this,c=this._parent,d=this.validators,e=this.valueOf(),f=[];return k(b(function(b){function h(a){a&&f.push.apply(f,a)}if(d)for(var l=0;l<d.length;l++)b(d[l].checkForErrors(e,a,c),h);b(a.checkForErrors(e,a,c),h)}),function(){if(f.length)return a.set("errors",f),!1;void 0!==a.get("errors")&&a.set("errors",void 0);return!0})},_queueChange:function(a,
b){if(!a._queued){a._queued=!0;var c=this,d=function(){a._queued=!1;a.call(c,c._get(),b)};p&&p.push(d);p||(!l.nextTurn.atEnd||0<n?(p=[d],l.nextTurn(function(){for(var a=0;a<p.length;a++)p[a]();p=null})):d())}},toJSON:function(){return this._values||this}}),t=function(){};t.prototype.toJSON=e;var u=l.Property=c(q,{init:function(a){if("string"===typeof a||"function"===typeof a)a={type:a};a&&f.mixin(this,a)},_get:function(){return this._parent._getValues()[this.name]},_has:function(){return this.name in
this._parent._getValues()},setValue:function(a,b){b._getValues()[this.name]=a}}),v=u.prototype.valueOf,x=u.prototype.put;return l});
define("xblox/model/Scope","dcl/dcl ./ModelBase ./Expression xide/factory xide/utils xide/types xide/mixins/EventedMixin dojo/_base/lang dojo/has xide/encoding/MD5 xcf/model/Variable xdojo/has!host-node?nxapp/utils/_console".split(" "),function(c,m,g,k,f,a,b,d,e,h,l,n){var p="undefined"!==typeof window?window.console:"undefined"!==typeof global?global.console:n;n&&(p=n);var r=e("xcf-ui");m=c([m,b.dcl],{declaredClass:"xblox.model.Scope",variableStore:null,serviceObject:null,context:null,blockStore:null,
expressionModel:null,start:function(){if(!0===this.__didStartBlocks)p.error("already started blocks");else{this.__didStartBlocks=!0;var b=this.getVariable("value");b||(b=new l({id:f.createUUID(),name:"value",value:"",scope:this,type:13,group:"processVariables",gui:!1,cmd:!1}),this.blockStore.putSync(b));var b=[],c=this.getBlocks({group:a.COMMAND_TYPES.INIT_COMMAND}),d=this;try{_.each(c,function(a){!1!==a.enabled&&!0!==a.__started&&(a.solve(d),a.__started=!0)},this)}catch(x){p.error("starting init blocks failed",
x),logError(x,this)}b=b.concat(this.getBlocks({group:a.COMMAND_TYPES.BASIC_COMMAND}));for(c=0;c<b.length;c++){var e=b[c];e.enabled&&e.start&&e.startup&&!0!==e.__started&&(e.start(),e.__started=!0)}}},getExpressionModel:function(){this.expressionModel||(this.expressionModel=new g);return this.expressionModel},toFriendlyName:function(a,b){if(!b||!a)return null;a=this;var c=this.ctx,d,e=c.getDeviceManager();d=c.getDriverManager();if(-1==b.indexOf("://"))return(a=a.getBlockById(b))?a.name:b;var c=f.parse_url(b),
c=f.urlArgs(c.host),h=e.getItemById(c.device.value);return h&&(e=e.toDeviceControlInfo(h),d=d.getDriverById(e.driverId),(h=h.driverInstance)||d)&&(a=d.blockScope?d.blockScope:h?h.blockScope:a,(a=a.getStore().getSync(c.block.value))||h&&h.blockScope&&(a=h.blockScope.getBlock(c.block.value)))?e.title+"/"+a.name:b},getContext:function(){return this.instance},toString:function(){var a={blocks:null,variables:null},b=this.blocksToJson();try{f.fromJson(JSON.stringify(b))}catch(u){return}a.blocks=b;return JSON.stringify(a,
null,2)},initWithData:function(a,b){a&&this.blocksFromJson(a,null,b);this.clearCache()},getService:function(){return this.serviceObject},getStore:function(){return this.blockStore},reset:function(){this.getExpressionModel().reset()},empty:function(){this.clearCache();var a=this.blockStore,b=this.getBlocks();a.silent(!0);_.each(b,function(b){b&&a.removeSync(b.id)});a.setData([]);a.silent(!1)},fromScope:function(a){var b=this.blockStore;b.silent(!0);this.empty();a=a.blocksToJson();this.blocksFromJson(a);
b.silent(!1)},clearCache:function(){this.getExpressionModel().reset()},getVariableStore:function(){return this.blockStore},getBlockStore:function(){return this.blockStore},getVariables:function(a){if(!this.blockStore)return[];var b=this.blockStore.data,c=[];if(a&&"processVariables"===a.group){for(a=0;a<b.length;a++)"processVariables"===b[a].group&&c.push(b[a]);return c}if(!a){for(a=0;a<b.length;a++){var d=b[a],e=d.declaredClass;"xblox.model.variables.Variable"!=e&&"xcf.model.Variable"!=e||c.push(d)}return c}return this.blockStore.query(a)},
loopBlock:function(a,b){1==a._destroyed&&p.error("block destroyed");var c=a.getInterval?a.getInterval():0;if(a&&0<c&&a.enabled&&!0!==a._destroyed){var d=this;a._loop&&clearInterval(a._loop);a._loop=setInterval(function(){!a.enabled||a._destroyed?(clearInterval(a._loop),a._loop=null):a.solve(d,b||a._lastSettings)},c)}},getEventsAsOptions:function(b){var c=[],d;for(d in a.EVENTS)c.push({label:a.EVENTS[d],value:a.EVENTS[d]});c=c.concat([{label:"onclick",value:"onclick"},{label:"ondblclick",value:"ondblclick"},
{label:"onmousedown",value:"onmousedown"},{label:"onmouseup",value:"onmouseup"},{label:"onmouseover",value:"onmouseover"},{label:"onmousemove",value:"onmousemove"},{label:"onmouseout",value:"onmouseout"},{label:"onkeypress",value:"onkeypress"},{label:"onkeydown",value:"onkeydown"},{label:"onkeyup",value:"onkeyup"},{label:"onfocus",value:"onfocus"},{label:"onblur",value:"onblur"},{label:"onchange",value:"onchange"}]);for(d=0;d<c.length;d++){var e=c[d];if(e.value===b){e.selected=!0;break}}return c},
getVariablesAsObject:function(){for(var a=this.getVariables(),b={},c=0;c<a.length;c++)b[a[c].title]=a[c].value;return b},getVariablesAsOptions:function(){var a=this.getVariables(),b=[];if(a)for(var c=0;c<a.length;c++)b.push({label:a[c].label,value:a[c].variable});return b},getCommandsAsOptions:function(a){var b=this.getBlocks({declaredClass:"xcf.model.Command"}),c=[];if(b)for(var d=0;d<b.length;d++){var e={};e[a||"label"]=b[d].name;e.value=b[d].name;c.push(e)}return c},_cached:null,getBlocks:function(a,
b){if(!r&&!1!==b&&(this._cached||(this._cached={}),a)){var c=h(JSON.stringify(a),1);if(c=this._cached[c])return c}if(!this.blockStore)return[];a=a||{id:/\S+/};var d=_.isEmpty(a)?this.blockStore.data:this.blockStore.query(a,null,!0);r||!1===b||(c=h(JSON.stringify(a),1),this._cached[c]=d);return d},registerVariable:function(a){this.variables[a.title]=a;this.blockStore&&this.blockStore.putSync(a)},getVariable:function(a){for(var b=this.getVariables(),c=0;c<b.length;c++){var d=b[c];if(d.name===a)return d}return null},
getVariableById:function(a){if(!a)return null;var b=a.split("/"),c=this;2==b.length&&((a=c.owner)&&a.hasScope&&(a.hasScope(b[0])?c=a.getScope(b[0]):p.error("have scope id but cant resolve it",this)),a=b[1]);return(b=c.blockStore.getSync(a))?b:null},registerBlock:function(a,b){var c=this.blockStore;if(c){var d=c.getSync(a.id);return d?d:a.addToStore?a.addToStore(c):c.putSync(a,b)}},allBlocks:function(a,b){return this.getBlocks({},b)},hasGroup:function(a){for(var b=this.allGroups({},!1),c=0;c<b.length;c++)if(b[c]===
a)return!0;return!1},allGroups:function(){for(var a=[],b=this.allBlocks({},!1),c=function(b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1},d=0;d<b.length;d++){var e=b[d];e.parentId||(e.group?c(e.group)||a.push(e.group):c("No Group")||a.push("No Group"))}return a},variablesToJson:function(){var a=[],b=this.variableStore?this.getVariables():this.variables,c;for(c in b){var d=b[c];if(!1!==d.serializeMe&&null!=d.keys){var e={},f;for(f in d)if(this.isString(d[f])||this.isNumber(d[f])||this.isBoolean(d[f]))e[f]=
d[f];a.push(e)}}return a},isScript:function(a){return this.isString(a)&&(-1!=a.indexOf("return")||-1!=a.indexOf(";")||-1!=a.indexOf("[")||-1!=a.indexOf("{")||-1!=a.indexOf("}"))},variablesToJavascriptEx:function(a,b){for(var c=[],d=this.variableStore?this.getVariables():this.variables,e=0;e<d.length;e++){var f=d[e];if(f!=a){var h=""+f.value;a&&a.value&&-1==a.value.indexOf(f.title)||b&&-1==b.indexOf(f.title)||0==h.length||(this.isScript(h)||-1!=h.indexOf("'")?this.isScript(h)&&(h=this.expressionModel.parseVariable(this,
f)):h="'"+h+"'","''"===h&&(h="'0'"),c.push(h))}}return c},variablesToJavascript:function(a,b){for(var c="",d=this.variableStore?this.getVariables():this.variables||[],e=0;e<d.length;e++){var f=d[e];if(f!=a){var h=""+f.value;a&&a.value&&-1==a.value.indexOf(f.title)||b&&-1==b.indexOf(f.title)||0==h.length||(this.isScript(h)||-1!=h.indexOf("'")?this.isScript(h)&&(h=this.expressionModel.parseVariable(this,f)):h="'"+h+"'","''"===h&&(h="'0'"),c+="var "+f.title+" = "+h+";",c+="\n")}}return c},variablesFromJson:function(a){for(var b=
[],c=0;c<a.length;c++){var d=a[c];d.scope=this;if(d.declaredClass){var e=f.replaceAll(".","/",d.declaredClass);(e=require(e))&&b.push(new e(d))}else p.log("   variable has no class ")}return b},regenerateIDs:function(a){for(var b=this,c=function(a){var d=f.createUUID(),e=b.getBlocks({parentId:a.id});if(e&&0<e.length)for(var h=0;h<e.length;h++){var l=e[h];l.parentId=d;c(l)}a.id=d},d=0;d<a.length;d++)c(a[d])},cloneBlocks2:function(a,b){a=this.blocksToJson(a);var c=this.owner.getScope(f.createUUID(),
null,!1);a=c.blocksFromJson(a,!1);var d=this.blockStore;a=c.allBlocks();c.regenerateIDs(a);a=c.blocksToJson(a);if(b)for(c=0;c<a.length;c++){var e=a[c];null==e.parentId&&(e.group=b)}var h=[];a=this.blocksFromJson(a);_.each(a,function(a){h.push(d.getSync(a.id))});return h},cloneBlocks:function(a){a=this.blocksToJson(a);var b=this.owner.getScope(f.createUUID(),null,!1);b.blocksFromJson(a,!1);a=b.allBlocks();for(b=0;b<a.length;b++){var c=a[b];c.id=f.createUUID();c.parentId=null}this.blocksToJson(a);this.blocksFromJson(a);
return a},blockToJson:function(a){var b={_containsChildrenIds:[]},c;for(c in a)if("ctrArgs"!=c&&("function"===typeof a[c]||a.serializeField(c))){if(this.isString(a[c])||this.isNumber(a[c])||this.isBoolean(a[c]))b[c]=a[c];if("parent"!=c)if(this.isBlock(a[c]))b[c]=a[c].id,b._containsChildrenIds.push(c);else if(this.areBlocks(a[c])){b[c]=[];for(var d=0;d<a[c].length;d++)b[c].push(a[c][d].id);b._containsChildrenIds.push(c)}}return b},blocksToJson:function(a){try{var b=[];a=a&&a.length?a:this.blockStore?
this.blockStore.data:this.blocks;for(var c in a){var d=a[c];if(null!=d.keys&&!1!==d.serializeMe){var e={_containsChildrenIds:[]},f;for(f in d)if("ctrArgs"!=f&&("function"===typeof d[f]||d.serializeField(f))){if(this.isString(d[f])||this.isNumber(d[f])||this.isBoolean(d[f]))e[f]=d[f];_.isObject(d[f])&&d.serializeObject&&!0===d.serializeObject(f)&&(e[f]=JSON.stringify(d[f],null,2));if("parent"!=f)if(this.isBlock(d[f]))e[f]=d[f].id,e._containsChildrenIds.push(f);else if(this.areBlocks(d[f])){e[f]=[];
for(var h=0;h<d[f].length;h++)e[f].push(d[f][h].id);e._containsChildrenIds.push(f)}}b.push(e)}}}catch(A){p.error("from json failed : "+A)}return b},_createBlockStore:function(){},blockFromJson:function(a){a.scope=this;null==a._containsChildrenIds&&(a._containsChildrenIds=[]);for(var b={},d=0;d<a._containsChildrenIds.length;d++){var e=a._containsChildrenIds[d];b[e]=a[e];a[e]=null}delete a._containsChildrenIds;if(!a.declaredClass)return p.log("   not a class "),null;e=d=null;try{e=f.replaceAll(".",
"/",a.declaredClass),d=require(e)}catch(x){try{e=f.replaceAll("/",".",a.declaredClass),d=require(e)}catch(w){}}d||(d=c.getObject(a.declaredClass));if(!d)return null;e=null;try{e=k.createBlock(d,a)}catch(x){return logError(x),null}e._children=b;return e},blocksFromJson:function(a,b,d){for(var e=[],h={},l=0;l<a.length;l++){var g=a[l];g.scope=this;null==g._containsChildrenIds&&(g._containsChildrenIds=[]);for(var n={},m=0;m<g._containsChildrenIds.length;m++){var q=g._containsChildrenIds[m];n[q]=g[q];
g[q]=null}delete g._containsChildrenIds;if(g.declaredClass){var r=m=null;try{r=f.replaceAll(".","/",g.declaredClass),m=require(r)}catch(D){p.error("couldnt resolve class "+r)}m||(m=c.getObject(g.declaredClass));if(m){r=null;try{r=k.createBlock(m,g,null,!1)}catch(D){p.error("error in block creation ",D+" "+g.declaredClass);logError(D);continue}r._children=n;h[r.id]=n;e.push(r)}else p.log("couldnt resolve "+r)}else p.log("   not a class ")}a=this.allBlocks(null,!1);for(l=0;l<a.length;l++){g=a[l];g._children=
h[g.id];if(g._children){for(q in g._children)if("string"==typeof g._children[q])(n=this.getBlockById(g._children[q]))?(g[q]=n,n.parent=g,n.postCreate&&n.postCreate()):(this.blockStore.removeSync(g._children[q]),d&&d("   couldnt resolve child: "+g._children[q]+"@"+g.name+":"+g.declaredClass),p.log("   couldnt resolve child: "+g._children[q]+"@"+g.name+":"+g.declaredClass));else if("object"==typeof g._children[q])for(g[q]=[],m=0;m<g._children[q].length;m++)(n=this.getBlockById(g._children[q][m]))?(g[q].push(n),
(r=this.getBlockById(n.parentId))?n.parent=r:p.error("child has no parent")):(d&&d("   couldnt resolve child: "+g._children[q]+"@"+g.name+":"+g.declaredClass),p.log("   couldnt resolve child: "+g._children[q][m]+"@"+g.name+":"+g.declaredClass));delete g._children}!1!==b&&null!=g.parentId&&null==this.getBlockById(g.parentId)&&(g.parentId=null);g.postCreate()}this.allBlocks();return e},resolveBlock:function(a){var b,c=this.ctx;b=this.device;var d=c.getDeviceManager(),c=c.getDriverManager();if(-1==a.indexOf("://"))return(b=
this.getBlockById(a))?b:a;a=f.parse_url(a);a=f.urlArgs(a.host);var e=d.getItemById(a.device.value);if(!e){var h=d.getInstanceByName(a.device.value);h&&(e=h.device)}if(e)if(d=d.toDeviceControlInfo(e)){if(b=c.getDriverById(d.driverId),(d=e.driverInstance)||b)if(a=(b=d?d.blockScope:b.blockScope)?b.getStore().getSync(a.block.value):null)return a}else p.warn("cant get device info for "+e.title,b)},getBlock:function(a){return this.getBlockById(a)},getBlockByName:function(a){if(-1!==a.indexOf("://")){var b=
this.resolveBlock(a);if(b)return b}for(var c=this.getBlocks(),d=0;d<c.length;d++)if(b=c[d],b.name===a)return b;return(a=this.blockStore.query({name:a}))&&0<a.length?a[0]:null},getBlockById:function(a){return this.blockStore.getSync(a)},_flatten:function(a){var b=[],c;for(c in a){var d=a[c];if(null!=d.keys){b.push(d);for(var e in d)if("ctrArgs"!=e&&"parent"!==e)if(this.isBlock(d[e]))b.push(d[e]);else if(this.areBlocks(d[e]))for(var f=0;f<d[e].length;f++)b.push(d[e][f])}}return b},flatten:function(a){var b=
[],c;for(c in a){var d=a[c];if(null!=d.keys){var e=_.find(b,{id:d.id});e||b.push(d);for(var f in d)if("ctrArgs"!=f&&"parent"!==f){var h=d[f];if(this.isBlock(h))(e=_.find(b,{id:h.id}))||b.push(h);else if(this.areBlocks(h))for(var l=0;l<h.length;l++){var k=h[l];(e=_.find(b,{id:k.id}))||b.push(k);b=b.concat(this.flatten([k]))}}}}return b=_.uniq(b,!1,function(a){return a.id})},_getSolve:function(a){return a.prototype?a.prototype.solve:a.__proto__.solve},solveBlock:function(a,b,c,e){b=b||{highlight:!1};
var h=null;this.isString(a)?(h=this.getBlockByName(a))||(h=this.getBlockById(a)):this.isObject(a)&&(h=a);a=null;if(h){if(!0!==b.force&&0==h.enabled)return null;!0===b.force&&(b.force=!1);var l=h.declaredClass;(l=d.getObject(f.replaceAll("/",".",l))||d.getObject(l))?l.prototype&&l.prototype.solve&&(a=l.prototype.solve.apply(h,[this,b])):(a=h.solve(h.getScope(),b,c,e),delete h.override,h.override={})}return a},solve:function(a,b){for(var c="",d=0;d<this.items.length;d++)c+=this.items[d].solve(a,b);
return c},parseExpression:function(a,b,c,d,e,f,h,l){return this.getExpressionModel().parse(this,a,b,d,e,f,c,h,l)},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isBoolean:function(a){return"boolean"==typeof a},isObject:function(a){return"object"===typeof a},isBlock:function(a){var b=!1;"object"==typeof a&&null!=a&&void 0==a.length&&a.serializeMe&&(b=!0);return b},areBlocks:function(a){var b=!1;"object"==typeof a&&null!=a&&0<a.length&&this.isBlock(a[0])&&
(b=!0);return b},_onVariableChanged:function(a){a.item&&this.getExpressionModel().variableFuncCache[a.item.title]&&delete this.expressionModel.variableFuncCache[a.item.title]},init:function(){this.getExpressionModel();this.subscribe(a.EVENTS.ON_DRIVER_VARIABLE_CHANGED,this._onVariableChanged);var b=this;this.subscribe(a.EVENTS.ON_MODULE_RELOADED,function(a){var c=a.module,d=a.newModule;(a=b.getBlocks().filter(function(a){return a.declaredClass==c||a.declaredClass==f.replaceAll("/",".",c)?a:null}))&&
_.each(a,function(a){var b=d.prototype,c;for(c in b){var e=b[c];e&&_.isFunction(e)&&(a[c]=e)}})})},_destroy:function(){for(var b=this.allBlocks(),c=0;c<b.length;c++){var d=b[c];if(d)try{d&&d.stop&&d.stop(!0),d&&d.reset&&d.reset(),d&&d._destroy&&d._destroy(),d&&d.destroy&&d.destroy(),d._emit&&d._emit(a.EVENTS.ON_ITEM_REMOVED,{item:d})}catch(v){}}},destroy:function(){this._destroy();this.reset();this._destroyed=!0;delete this.expressionModel},moveTo:function(a,b,c,d){p.log("move to : ",arguments);if(d){if(b.canAdd&&
b.canAdd()){var e=this.getBlockById(a.parentId);e&&e.removeBlock(a,!1);return b.add(a,null,null)}p.error("cant reparent");return!1}if(b.parentId||!1!==d)if(!a.parentId&&b.parentId&&0==d)a.group=b.group;else if(a.parentId||b.parentId||!d){if(a.parentId&&b.parentId&&0==d&&a.parentId===b.parentId){e=this.getBlockById(a.parentId);if(!e)return!1;for(var f=e[e._getContainer(a)],e=a.indexOf(f,a),h=a.indexOf(f,b),f=e>h?-1:1,h=Math.abs(e-(h+(1==c?-1:1))),e=0;e<h-1;e++)a.move(f);return!0}if(a.parentId&&b.parentId&&
0==d&&a.parentId!==b.parentId){e=this.getBlockById(a.parentId);if(!e)return!1;var l=this.getBlockById(b.parentId);if(l&&e&&e.removeBlock&&l.canAdd&&l.canAdd())e.removeBlock(a,!1),l.add(a,null,null);else return!1;f=l[l._getContainer(a)];null==f&&p.error("weird : target parent has no item container");e=l.indexOf(f,a);h=l.indexOf(f,b);if(!e||!h){p.error(" weird : invalid drop processing state, have no valid item indicies");return}f=e>h?-1:1;h=Math.abs(e-(h+(1==c?-1:1)));for(e=0;e<h-1;e++)l.move(a,f);
return!0}}else return b.canAdd&&b.canAdd()&&(a.group=null,b.add(a,null,null)),!0;else{(e=this.getBlockById(a.parentId))&&e.removeBlock&&(e.removeBlock(a,!1),a.parentId=null,a.group=b.group);for(var l=[],h=this.getBlocks({group:b.group}),k=[],f=this.getBlockStore(),g=f.storage.index[b.id],e=0;e<h.length;e++){var n=h[e];null==h[e].parentId&&h[e]!=a&&(n=f.storage.index[n.id],d=c?n>=g:n<=g)&&(l.push(h[e]),k.push(f.storage.index[h[e].id]))}for(e=0;e<l.length;e++)f.remove(l[e].id);this.getBlockStore().remove(a.id);
c&&this.getBlockStore().putSync(a);for(e=0;e<l.length;e++)f.put(l[e]);c||this.getBlockStore().putSync(a);return!0}return!1}});c.chainAfter(m,"destroy");return m});
define("xblox/model/Expression",["xdojo/declare","xdojo/has","xide/utils","xide/types","xblox/model/ModelBase"],function(c,m,g,k,f,a,b){m=m("host-node");var d="undefined"!==typeof window?window.console:global.console;m&&a&&d&&d.error&&(d=b);return c("xblox.model.Expression",[f],{id:null,context:null,variableDelimiters:{begin:"[",end:"]"},blockCallDelimiters:{begin:"{",end:"}"},expressionCache:null,variableFuncCache:null,constructor:function(){this.reset()},reset:function(){this.expressionCache={};
this.variableFuncCache={}},replaceVariables:function(a,b,c,f,g,m,q,t){var e=k.CIFLAG;q=q||this.variableDelimiters;t=t||e.NONE;t&e.DONT_ESCAPE&&(f=!1);t&e.DONT_PARSE&&(c=!1);var h=this.findOccurrences(b,q);if(h)for(var l=0;l<h.length;l++){var n=h[l],n=n.replace(q.begin,""),n=n.replace(q.end,"");(n=this._getVar(a,n))&&n.flags&e.DONT_PARSE&&(c=!1);var p;if(n){if(m){b=b.replace(h[l],"this.getVariable('"+n.name+"')");continue}p=this.getValue(n.value);g&&n.name in g&&(p=g[n.name]);if(this.isScript(p)&&
!1!==c)try{var r=a.variablesToJavascript(n,!0);r&&(p=r+p);var z=(new Function("{\n"+p+"\n}")).call(a.context||{});"undefined"===z||"undefined"===typeof z?p=""+n.value:(p=z,t&e.DONT_ESCAPE||(p="'"+p+"'"))}catch(E){d.log(" parsed variable expression failed \n"+p,E)}else this.isNumber(p)||!1!==f&&(p="'"+p+"'")}else p=h[l];b=b.replace(h[l],p)}return b},parse:function(a,b,c,f,k,g,m,t,u){b=this.replaceAll("''","'",b);c=g||a.context||a.getContext()||{};b=this.replaceVariables(a,b,null,null,m,null!=c.getVariable,
null,u);a=this.isScript(b);if(!a&&(this.isString(b)||this.isNumber(b)))return f&&f("Expression "+b+" evaluates to "+b),b;-1==b.indexOf("return")&&a&&(b="return "+b);a=this;try{b=this.replaceAll("''","'",b);var e=this.expressionCache[b];e||(e=new Function("{"+b+"; }"),this.expressionCache[b]=e);a=e.apply(c,t)}catch(x){return d.error("invalid expression : \n"+b,x),k&&k("invalid expression : \n"+b+": "+x,x),""+b}f&&f("Expression "+b+" evaluates to "+a);return a},parseVariable:function(a,b,c,d,f,k,g){var e=
""+b.value;c=c||"";!1!==f?(f=this.variableFuncCache[a.id+"|"+b.title],f||(f=new Function("{"+c+e+"}"),this.variableFuncCache[a.id+"|"+b.title]=f)):f=new Function("{"+c+e+"}");a=f.apply(k||a.context||{},g||[]);return e="undefined"===a||"undefined"===typeof a?""+b.value:this.isNumber(a)||!1===d?a:"'"+a+"'"},replaceBlockCalls:function(a,b){var c=this.findOccurrences(b,this.blockCallDelimiters);if(c)for(var d=0;d<c.length;d++){var e=this._removeDelimiters(c[d],this.blockCallDelimiters),e=a.solveBlock(e).join("\n");
b=b.replace(c[d],e)}return b},_getVar:function(a,b){return a.getVariable(this._getVarName(b))},_getVarName:function(a){return this._removeDelimiters(a,this.variableDelimiters)},_removeDelimiters:function(a,b){return a.replace(b.begin,"").replace(b.end,"")},_escapeRegExp:function(a){for(var b="[](){}*+.".split(""),c=0;c<b.length;c++)a=a.replace(b[c],"\\"+b[c]);return a},findOccurrences:function(a,b){var c=this._escapeRegExp(b.begin);b=this._escapeRegExp(b.end);return a.match(new RegExp(c+"([^"+b+"]*)"+
b,"g"))}})});
define("xblox/model/ModelBase",["dcl/dcl","xide/utils","xide/types","xide/mixins/EventedMixin","xide/lodash"],function(c,m,g,k,f){k=c(k.dcl,{declaredClass:"xblox.model.ModelBase",id:null,description:"",parent:null,parentId:null,group:null,order:0,_store:null,outputs:function(){return[]},takes:function(){return[]},needs:function(){return[]},constructor:function(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this.id||(this.id=this.createUUID());this.utils=m;this.types=g},keys:function(a){var b=[],
c;for(c in a)b.push(c);return b},values:function(a){var b=[],c;for(c in a)b.push(a[c]);return b},toArray:function(){return this.map()},size:function(){return this.toArray().length},createUUID:m.createUUID,canEdit:function(){return!0},getFields:function(){return null},isString:function(a){return"string"==typeof a},isNumber:function(a){return"number"==typeof a},isBoolean:function(a){return"boolean"==typeof a},isObject:f.isObject,isArray:f.isArray,getValue:function(a){var b=parseFloat(a);return isNaN(b)?
"true"===a||!0===a?!0:"false"===a||!1===a?!1:a:b},isScript:function(a){return this.isString(a)&&(-1!=a.indexOf("return")||-1!=a.indexOf(";")||-1!=a.indexOf("(")||-1!=a.indexOf("+")||-1!=a.indexOf("-")||-1!=a.indexOf("<")||-1!=a.indexOf("*")||-1!=a.indexOf("/")||-1!=a.indexOf("%")||-1!=a.indexOf("=")||-1!=a.indexOf("==")||-1!=a.indexOf(">")||-1!=a.indexOf("[")||-1!=a.indexOf("{")||-1!=a.indexOf("}"))},replaceAll:function(a,b,c){return this.isString(c)?c.split(a).join(b):c},isInValidState:function(){return!0},
destroy:function(){}});c.chainAfter(k,"destroy");return k});
define("xcf/manager/DeviceManager","dcl/dcl xdojo/declare dojo/_base/lang xide/encoding/MD5 xide/types xide/utils xide/factory xcf/manager/BeanManager xide/mixins/ReloadMixin xide/mixins/EventedMixin ./DeviceManager_Server ./DeviceManager_DeviceServer xide/data/Memory xide/data/TreeMemory dojo/has xide/data/ObservableStore dstore/Trackable xcf/model/Device dojo/Deferred xide/manager/ServerActionBase xide/data/Reference xide/utils/StringUtils xcf/mixins/LogMixin xdojo/has!xcf-ui?./DeviceManager_UI xdojo/has!xexpression?xexpression/Expression dojo/promise/all xide/console xide/lodash".split(" "),function(c,
m,g,k,f,a,b,d,e,h,l,n,p,r,q,t,u,v,x,w,y,A,z,E,C,D,F,H,L,I){b=[w,d,l,n,e.dcl,z];var G=!q("host-browser"),N=q("xcf-ui"),B=f.DEVICE_PROPERTY;q("runDrivers");var J=f.EVENTS;q("xcf-ui")&&b.push(E);return c(b,{declaredClass:"xcf.manager.DeviceManager",beanNamespace:"device",beanName:"Device",beanUrlPattern:"{id}",breanScheme:"device://",beanPriority:1,beanIconClass:"fa-sliders",groupType:f.ITEM_TYPE.DEVICE_GROUP,itemType:f.ITEM_TYPE.DEVICE,itemMetaTitleField:B.CF_DEVICE_TITLE,systemScope:"system_devices",
userScope:"user_devices",appScope:"app_devices",defaultScope:"system_devices",serviceClass:"XCF_Device_Service",rawData:null,store:null,treeView:null,deviceServerClient:null,deviceInstances:null,driverScopes:null,autoConnectDevices:!0,consoles:null,lastUpTime:null,reconnectDevice:15E3,reconnectDeviceServer:5E3,onRunClassEvent:function(a){var b=a.args.id||a.id;if(this.running&&this.running[b]){var c=this.running[b].delegate;if(c){a.error&&c.onError&&(c.onError(a.error),delete this.running[b]);a.finish&&
c.onFinish&&(c.onFinish(a.finish),delete this.running[b]);if(a.progress&&c.onProgress)c.onProgress(a.progress);if(a.interrupt&&c.onInterrupt)c.onInterrupt(a.interrupt)}}},getInstanceByName:function(a){var b=this.deviceInstances,c;for(c in b){var d=b[c].device;if(d&&this.getMetaValue(d,B.CF_DEVICE_TITLE)===a)return b[c]}},getFile:function(a){var b=new x,c=this.ctx;H.isString(a)&&(a=this.getItemByPath(a+".meta.json")||this.getItemByPath(a)||a);var d=c.getFileManager().getStore(a.scope);if(c=d._getItem(a.path))return b.resolve(c),
b;d.initRoot().then(function(){d._loadPath(".",!0).then(function(){d.getItem(a.path,!0).then(function(a){b.resolve(a)})})});return b},getSourceHash:function(){return this.ctx.getUserDirectory()||"no_user_directory"},checkDeviceServerConnection:function(){if(!this.ctx.getNodeServiceManager)return!0;var a=this.getContext(),a=q("xnode")&&a.getNodeServiceManager?this.ctx.getNodeServiceManager():null;if(!this.deviceServerClient&&a){a=a.getStore();if(!a)return!1;this.createDeviceServerClient(a)}else return!1;
return!0},addDriverFunctions:function(a,b){for(var c in b)"constructor"!==c&&"inherited"!==c&&"getInherited"!==c&&"isInstanceOf"!==c&&"__inherited"!==c&&"onModuleReloaded"!==c&&"start"!==c&&"publish"!==c&&"subscribe"!==c&&"getInherited"!==c&&"getInherited"!==c&&H.isFunction(b[c])&&!a[c]&&(a[c]=b[c])},addLoggingFunctions:function(a,b){var c=this;b.log=function(a,d,e,h){h=h||{};var l=g.clone(h);h.type=h.type||d||"Driver";b.options&&(h.device=b.options);c.publish(f.EVENTS.ON_SERVER_LOG_MESSAGE,{data:h,
level:a||"info",message:e,details:l})}},completeDriverInstance:function(a,b,c){var d=this,e=b.blockScope.blockStore,h=c.path,l=h+"_commands",k=h+"_variables";e.on("delete",function(a){var b=-1!==a.target.declaredClass.indexOf("Variable")?k:l,d=c._store.getSync(b);d&&d.refresh();(a=c._store.getSync(b+"_reference_"+a.target.id))&&a.refresh()});e.on("added",function(b){var d=b.name,e=b.icon||"fa-exclamation",h=-1!==b.declaredClass.indexOf("Variable"),g=h?k:l;-1!=b.declaredClass.indexOf(h?"Variable":
"Command")&&(d=new y({enabled:!0,path:g+"_reference_"+b.id,name:d,id:b.id,parentId:g,_mayHaveChildren:!1,virtual:!0,tooltip:!0,icon:e,ref:{driver:a,item:b,device:c},type:f.ITEM_TYPE.BLOCK}),d=c._store.putSync(d),b.addReference(d,{properties:{name:!0,enabled:!0,value:!0},onDelete:!0},!0),d.refresh())});b.setVariable=function(b,c,e,h,l){if(b=this.blockScope.getVariable(b))b.value=c,!1===l&&(b.__ignoreChangeMark=!0),b.set("value",c,e,h,l),!1===l&&(b.__ignoreChangeMark=!1),d.publish(f.EVENTS.ON_DRIVER_VARIABLE_CHANGED,
{item:b,scope:this.blockScope,driver:a,owner:d,save:!0===e,publish:h})};b.getVariable=function(a){return(a=this.blockScope.getVariable(a))?a._getArg(a.value,!1):""};b.log=function(a,c,e,h){h=h||{};var l=g.clone(h);h.type=h.type||c||"Driver";b.options&&(h.device=b.options);d.publish(f.EVENTS.ON_SERVER_LOG_MESSAGE,{data:h,level:a||"info",message:e,details:l})};for(var n in a)"constructor"!==n&&"inherited"!==n&&"getInherited"!==n&&"isInstanceOf"!==n&&"__inherited"!==n&&"onModuleReloaded"!==n&&"start"!==
n&&"publish"!==n&&"subscribe"!==n&&"getInherited"!==n&&"getInherited"!==n&&g.isFunction(a[n])&&!b[n]&&(b[n]=a[n])},getDevice:function(a){var b=a;if(H.isString(a)){var c=this.getItemById(a);c?b=c:(a=this.getItemByPath(a))&&(b=a)}return b},stopDevice:function(a){var b=this.getDevice(a)||a;if(b){if(this.checkDeviceServerConnection(),b._userStopped=!0,(a=this.toDeviceControlInfo(b))&&(!G||a.serverSide||b.isServer())){var c=a.hash;this.deviceInstances[c]&&(this._removeInstance(this.deviceInstances[c],
c,b),delete this.deviceInstances[c],this.sendManagerCommand(f.SOCKET_SERVER_COMMANDS.MANAGER_STOP_DRIVER,a))}}else F.error("cant find device "+a)},getStore:function(a){a=a||"system_devices";var b=this.stores[a];if(b)return b;if(a)return this.ls(a)},getDevices:function(b,c){var d=this.getStore();if(!d)return[];d=a.queryStore(d,{isDir:!1});d._S&&(d=[d]);for(var e=[],f=0;f<d.length;f++){var h=d[f],l=this.getMetaValue(h,B.CF_DEVICE_ENABLED);if(!0===b&&!0===l||null===l||!1===b)if(e.push(h),!0===c&&(l=
this.getMetaValue(h,B.CF_DEVICE_DRIVER)))if(l=this.ctx.getDriverManager().getItemById(l))h.driver=l}return e},getStores:function(){var a=[],b;for(b in this.stores){var c=this.stores[b];c&&a.push(c)}return a},getStorePath:function(a){var b=this.getContext().getResourceManager();if("user_devices"===a)return b.getVariable("USER_DIRECTORY")},connectToAllDevices:function(){function b(b){if(!b)F.error("have no device store");else if(!b.connected){b.connected=!0;b=a.queryStore(b,{isDir:!1});b._S&&(b=[b]);
H.isArray(b)||(b=[b]);for(var c=0;c<b.length;c++){var f=b[c],h=d.getMetaValue(f,B.CF_DEVICE_ENABLED);if(1==h||null==h)f=d.startDevice(f),e.push(f)}}}if(this.deviceServerClient){var c=this.getStores(),d=this;if(this.getStores().length){var e=[];this.deviceServerClient.dfd?this.deviceServerClient.dfd.then(function(){H.each(c,b,this)}.bind(this)):H.each(c,b,this);return e}}else this.checkDeviceServerConnection()},updateDevice:function(a,b){b&&(b.setMetaValue(f.DEVICE_PROPERTY.CF_DEVICE_DRIVER_OPTIONS,
a.driverOptions),b.setMetaValue(f.DEVICE_PROPERTY.CF_DEVICE_OPTIONS,a.options),b.setMetaValue(f.DEVICE_PROPERTY.CF_DEVICE_ENABLED,a.enabled))},debug:function(){F.info("Debug info stores : ");H.each(this.stores,function(a){F.log("have store "+a.scope)})},_getLogText:function(a){return moment().format("HH:mm:ss:SSS")+" ::   "+a+""},_parse:function(a,b){var c=""+b;0<c.indexOf("{{")||0<c.indexOf("}}")?(F.time("parse expression"),c=(new C).parse(f.EXPRESSION_PARSER.FILTREX,c,this,{variables:a.getVariablesAsObject(),
delimiters:{begin:"{{",end:"}}"}}),F.timeEnd("parse expression")):(a=a.parseExpression(b))&&(c=a);return c},runCommand:function(a,b){},_lastActions:null,onStoreReloaded:function(a){this.completeDeviceStore()},getInstance:function(a){if(a=a?a._store?this.toDeviceControlInfo(a):a:null)return this.getDriverInstance(a,!1)},getDriverInstance:function(b,c){if(!b)return F.error("getDriverInstance::have no device info"),null;for(var d in this.deviceInstances){var e=this.deviceInstances[d],h=e.options;if(h&&
h.port===b.port&&h.host===b.host&&h.protocol===b.protocol&&h.isServer===b.isServer)return c&&e.sendSettings&&q("xcf-ui")&&(c=!1),!1!==c&&e&&!e.sendSettings&&(b=this.ctx.getDriverManager().getItemById(b.driverId))&&(b=b.user,(c=a.getCIByChainAndName(b,0,f.DRIVER_PROPERTY.CF_DRIVER_COMMANDS))&&c.params&&(e.sendSettings=a.getJson(c.params)),(b=a.getCIByChainAndName(b,0,f.DRIVER_PROPERTY.CF_DRIVER_RESPONSES))&&b.params&&(e.responseSettings=a.getJson(b.params))),e}return null},_reconnectServerTimer:null,
onDeviceServerConnectionLost:function(){if(!this.deviceServerClient||!this.deviceServerClient.pageUnloaded)if(this.deviceServerClient&&(this.deviceServerClient.destroy(),this.deviceServerClient=null),!this._reconnectServerTimer){var a=this;N&&a.ctx.getNotificationManager().postMessage({message:"Lost connection to device server, try reconnecting in 5 seconds",type:"error",showCloseButton:!0,duration:1E3});this._reconnectServerTimer=setTimeout(function(){a.checkDeviceServerConnection();a._reconnectServerTimer=
null},this.reconnectDeviceServer);F.log("lost device server connection");H.each(this.deviceInstances,function(a){if(a&&a.device&&!a.domNode){a=a.device;var b=a.driverInstance;b&&b.onLostServer&&b.onLostServer();a.setState(f.DEVICE_STATE.LOST_DEVICE_SERVER)}})}},onMQTTMessage:function(b){var c=a.getJson(b.message),d=!1;if(c){var e=c.sourceHost,h=c.sourcePort,l=b.host,k=b.port;e&&h&&e===l&&h==k&&(d=!0)}if(!d&&(d=b.topic.split("/"),4==d.length&&"Variable"===d[2]&&c.device))if(this.getDeviceStoreItem(c.device)){if(b=
this.toDeviceControlInfo(c.device))if(b=this.getDriverInstance(b))if(b=b.blockScope.getVariable(d[3]))q("xcf-ui")?(b.set("value",c.value),b.refresh()):(delete b.value,b.value=c.value),this.publish(f.EVENTS.ON_DRIVER_VARIABLE_CHANGED,{item:b,scope:b.scope,owner:this,save:!1,publish:!0,source:"mqtt",publishMQTT:!1})}else F.error("cant find device for : "+b.topic)},getBlock:function(a){for(var b in this.deviceInstances){var c=this.deviceInstances[b];if(c&&c.device&&(c=c.blockScope)&&(c=c.resolveBlock(a)))return c}return this.ctx.getDriverManager().getBlock(a)},
onNodeServiceStoreReady:function(a){if(this.deviceServerClient)return this.deviceServerClient;this.createDeviceServerClient(a.store);q("drivers")&&q("devices")},onDriverUpdated:function(a,b){},onModuleReloaded:function(b){if(0!=this.deviceInstances.length){var c=a.replaceAll("//","/",b.module);b=b.newModule;for(var d in this.deviceInstances){var e=this.deviceInstances[d];if(e.modulePath===c||e.baseClass===c)this.mergeFunctions(e,b.prototype),e.blockScope&&(e.blockScope.expressionModel.expressionCache=
{}),this.onDriverUpdated(e,c)}}},_removeInstance:function(a,b,c){a.destroy&&a.destroy();a.blockScope&&a.blockScope._destroy();delete this.deviceInstances[b];this.ctx.getBlockManager().removeScope(a.options.id);this.ctx.getDriverManager().removeDriverInstance(a,c);c.reset()},removeDriverInstance:function(a){if(a=this.getDriverInstance(a))this.ctx.getBlockManager().removeScope(a.options.id),a.blockScope&&a.blockScope.destroy(),a.destroy();for(var b in this.deviceInstances)a==this.deviceInstances[b]&&
delete this.deviceInstances[b]},getMetaValue:function(b,c){return(b=b.user)?a.getCIInputValueByName(b,c):null},getDeviceByHost:function(b,c){for(var d=a.queryStore(this.getStore(),{isDir:!1}),e=0;e<d.length;e++){var f=d[e],h=this.getMetaValue(f,B.CF_DEVICE_HOST),l=this.getMetaValue(f,B.CF_DEVICE_PORT);if(h==b&&l==c)return f}return null},getDeviceByUrl:function(b){b=a.parse_url(b);b=a.urlArgs(b.host);return this.getDeviceById(b.device.value)},getDeviceById:function(b,c){function d(c){c=a.queryStore(c,
{isDir:!1});c._S&&(c=[c]);for(var d=0;d<c.length;d++){var f=c[d];if(e.getMetaValue(f,B.CF_DEVICE_ID)==b)return f}return null}var e=this;if(c=H.isString(c)?this.getStore(c):null)return d(c);for(var f in this.stores)if(c=d(this.stores[f]))return c;return null},getDeviceByName:function(b,c){function d(c){c=a.queryStore(c,{isDir:!1});c._S&&(c=[c]);for(var d=0;d<c.length;d++){var f=c[d];if(e.getMetaValue(f,B.CF_DEVICE_TITLE)==b)return f}return null}var e=this;if(c=H.isString(c)?this.getStore(c):null)return d(c);
for(var f in this.stores)if(c=d(this.stores[f]))return c;return null},getDevicesByDriverId:function(b){var c=a.queryStore(this.getStore(),{isDir:!1});c._S&&(c=[c]);for(var d=0;d<c.length;d++){var e=c[d];if(this.getMetaValue(e,B.CF_DEVICE_ID)==b)return e}return null},_cachedItems:null,getDeviceStoreItem:function(b){if(b){if(b.hash&&this._cachedItems){var c=this._cachedItems[b.hash];if(c)return c}if(c=this.getStore(b.deviceScope)){var d=b.devicePath?this.getItemByPath(b.devicePath):null;if(d)return d;
var e=H.filter(c.data,function(a){return!0!==a.isDir});if(!e)return null;e&&!H.isArray(e)&&(e=[e]);for(var f=0;f<e.length;f++){var d=e[f],h=d.user,l=a.getCIInputValueByName(h,B.CF_DEVICE_HOST),k=a.getCIInputValueByName(h,B.CF_DEVICE_PORT),g=a.getCIInputValueByName(h,B.CF_DEVICE_ID),h=a.getCIInputValueByName(h,B.CF_DEVICE_PROTOCOL);if(k===b.port&&l===b.host&&h===b.protocol&&d.isServer()===b.isServer&&g===b.id)return(c=c.getSync(d.path))&&(d=c),b.hash&&(this._cachedItems||(this._cachedItems={}),this._cachedItems[b.hash]=
d),d}}}},onDriverSettingsChanged:function(b,c){for(var d in this.deviceInstances){var e=this.deviceInstances[d];if(e&&e.driver==c){c=c.user;(d=a.getCIByChainAndName(c,0,f.DRIVER_PROPERTY.CF_DRIVER_COMMANDS))&&d.params&&d==b&&(e.sendSettings=a.getJson(d.params));(b=a.getCIByChainAndName(c,0,f.DRIVER_PROPERTY.CF_DRIVER_RESPONSES))&&b.params&&(e.responseSettings=a.getJson(b.params));break}}},onDeviceStateChanged:function(a,b){!0!==a._userStopped&&!0!==b&&a.info&&a.state&&a.state==f.DEVICE_STATE.DISCONNECTED&&
this.ctx.getNotificationManager().postMessage({message:"Lost connection to "+a.info.host+", ...reconnecting",type:"error",showCloseButton:!1,duration:1500});!0!==b&&a.info&&a.state&&a.state==f.DEVICE_STATE.CONNECTED&&this.ctx.getNotificationManager().postMessage({message:"Connected to "+a.info.host+"",type:"success",showCloseButton:!1,duration:2E3})},connectDevice:function(a){this.checkDeviceServerConnection();var b=this.toDeviceControlInfo(a);if(b){var c=b.hash;if(this.deviceInstances[c])return a.setState(f.DEVICE_STATE.CONNECTED),
this.deviceInstances[c];a.setState(f.DEVICE_STATE.CONNECTING);this.publish(f.EVENTS.ON_STATUS_MESSAGE,{text:"Trying to connect to "+b.toString(),type:"info"});this.sendManagerCommand(f.SOCKET_SERVER_COMMANDS.MANAGER_START_DRIVER,b)}else F.error("couldnt start device, invalid control info")},onAppReady:function(b){b=b.context;b.deviceManager=this;b.driverManager=this;b.blockManager&&a.mixin(b.blockManager.scopes,this.ctx.getBlockManager().scopes)},onHaveNoDeviceServer:function(){if(this.ctx.getNotificationManager())var a=
this,b=this.ctx.getNotificationManager().postMessage({message:"Have no device server connection",type:"error",showCloseButton:!0,duration:1500,actions:{reconnect:{label:"Reconnect",action:function(){a.checkDeviceServerConnection();return b.update({message:"Reconnecting...",type:"success",actions:!1,duration:1500})}}}})},setDriverScriptContent:function(a,b,c,d,e){return this.callMethodEx(null,"setDriverContent",[a,b,c],d,!0)},getDriverScriptContent:function(a,b,c){return this.callMethodEx(null,"getDriverContent",
[a,b],c,!0)},createStore:function(b,c,d){var e=this;b=new (q("xcf-ui")?m("deviceStore",[r,u,t],{}):m("deviceStore",[p],{}))({data:b.items,idProperty:"path",parentProperty:"parentId",Model:v,id:a.createUUID(),scope:c,ctx:this.getContext(),mayHaveChildren:function(a){if(!1===a._mayHaveChildren)return!1;if(a.isDevice){if(a.driverInstance)return!0;var b=e.toDeviceControlInfo(a);b?(b=e.getContext().getDriverManager().getDriverById(b.driverId))&&!b.blockScope&&q("xblox")&&(this.ctx.getDriverManager().createDriverBlockScope(b),
e.completeDevice(a,b)):F.error("cant get device info for ",a)}return!0},observedProperties:["name","state","iconClass","enabled"]});c&&!1!==d&&this.setStore(c,b);return b},initStore:function(a,b,c){return this.createStore(a,b,c)},_deviceInfoCache:null,toDeviceControlInfo:function(b){if(!b)return null;var c=b.hash;if(!q("xcf-ui")&&c&&!q("host-node")&&this._deviceInfoCache[c])return this._deviceInfoCache[c];if(!b._store&&b.id){var d=this.getItemById(b.id);d&&(b=d)}if(!b||!b.path)if(d=this.getDeviceStoreItem(b),
!d)return null;var e=b.user,d=a.getCIInputValueByName(e,B.CF_DEVICE_HOST),h=a.getCIInputValueByName(e,B.CF_DEVICE_PORT),l=a.getCIInputValueByName(e,B.CF_DEVICE_ENABLED),g=a.getCIInputValueByName(e,B.CF_DEVICE_TITLE),n=a.getCIInputValueByName(e,B.CF_DEVICE_PROTOCOL),p=a.getCIInputValueByName(e,B.CF_DEVICE_DRIVER),m=a.getCIInputValueByName(e,B.CF_DEVICE_OPTIONS),r=a.getCIInputValueByName(e,B.CF_DEVICE_LOGGING_FLAGS),e=a.getCIInputValueByName(e,B.CF_DEVICE_DRIVER_OPTIONS),t=b.isServerSide(),u=b.isServer(),
x=null;this.fixDeviceCI(b);var v=this.ctx.getDriverManager().getDriverById(p);if(v){var E=v.user,x=a.getCIInputValueByName(E,f.DRIVER_PROPERTY.CF_DRIVER_CLASS),E=a.getCIByChainAndName(E,0,f.DRIVER_PROPERTY.CF_DRIVER_RESPONSES),w={},v=v.scope;E&&E.params&&(w=a.getJson(E.params));x={host:d,port:h,protocol:n,driver:x?x.replace("./",""):"",driverId:p,driverScope:v,id:b.id,devicePath:b.path,deviceScope:b.getScope(),title:g,options:m,enabled:l,driverOptions:e,serverSide:t,isServer:u,responseSettings:w,
source:N?"ide":"server",user_devices:this.ctx.getMount(b.getScope()),system_devices:this.ctx.getMount("system_devices"),system_drivers:this.ctx.getMount("system_drivers"),user_drivers:this.ctx.getMount("user_drivers"),loggingFlags:r,toString:function(){return b.getScope()+"://"+this.host+":"+this.port+"@"+this.protocol}};x.hash=k(JSON.stringify({host:d,port:h,protocol:n,driverId:p,driverScope:v,id:b.id,devicePath:b.path,deviceScope:b.getScope(),source:N?"ide":"server",user_devices:this.ctx.getMount(b.getScope()),
system_devices:this.ctx.getMount("system_devices"),system_drivers:this.ctx.getMount("system_drivers"),user_drivers:this.ctx.getMount("user_drivers")}),1);if(d=this.ctx.getUserDirectory())x.userDirectory=d}b.info=x;q("xcf-ui")||!c||q("host-node")||(this._deviceInfoCache[c]=x);return x},getItemById:function(a){for(var b in this.stores){var c;c=this.stores[b];var d=H.find(c.data,{id:a});c=d?c.getSync(d.path):null;if(c)return c}},onStoreCreated:function(b){var c=this,d=c.ctx,e=b.type,h=b.store,l=h?a.queryStore(h,
{isDir:!1}):[],k=this.ctx.getDriverManager();l&&!H.isArray(l)&&(l=[l]);if(e===f.ITEM_TYPE.DEVICE){for(e=0;e<l.length;e++){var g=h.getSync(l[e].path);if(!g)F.error("cant find "+l[e].path);else if(!g._completed){g._completed=!0;g.isDevice=!0;var n=this.getMetaValue(g,f.DEVICE_PROPERTY.CF_DEVICE_DRIVER);n?(n=k.getItemById(n),H.each(g.user.inputs,function(a){a.device=g;a.actionTarget=N?d.mainView.getToolbar():null;a.ctx=d}),!H.isEmpty(n)&&N&&(this.completeDevice(g,n),g.iconClass=g.getStateIcon())):F.error("device has no driver id!")}}D(this.connectToAllDevices()).then(function(){c.publish("DevicesConnected",
b)})}},onClientMessage:function(a){this.checkDeviceServerConnection();this.deviceServerClient&&this.sendManagerCommand(f.SOCKET_SERVER_COMMANDS.WRITE_LOG_MESSAGE,a)},onClientLogMessage:function(a){if(!G)this.onClientMessage(a)},onVariableChanged:function(a){var b=a.item,c=a.scope,d=b.name,e=!1!==a.publish;"value"!==d&&!1!==e&&b&&(b=b.value,(c=c.device)&&c.info&&(c=c.info,d=c.host+"/"+c.port+"/Variable/"+d,!1!==a.publishMQTT&&this.sendManagerCommand(f.SOCKET_SERVER_COMMANDS.MQTT_PUBLISH,{topic:d,data:{value:b,
device:c}})))},init:function(){var a=this;this.initUI&&this.initUI();this.stores={};this._deviceInfoCache={};this.subscribe(f.EVENTS.ON_DRIVER_VARIABLE_CHANGED,this.onVariableChanged);this.subscribe(f.EVENTS.ON_DEVICE_SERVER_CONNECTED,function(){F.log("got device server connection");var b=q("drivers")&&q("devices");a.autoConnectDevices&&b&&D(a.connectToAllDevices()).then(function(){a.publish("DevicesConnected")})});this.subscribe([J.ON_NODE_SERVICE_STORE_READY,J.ON_MODULE_RELOADED,J.ON_DEVICE_DISCONNECTED,
J.ON_DEVICE_CONNECTED,J.ON_CLIENT_LOG_MESSAGE,J.ON_STORE_CREATED]);this.deviceInstances=this.consoles={};this.driverScopes={system_drivers:"system_drivers/",user_drivers:"user_drivers/"};this.lastUpTime=(new Date).getTime();setInterval(function(){var b=(new Date).getTime();3E4<b-a.lastUpTime&&(a.lastUpTime=(new Date).getTime());a.lastUpTime=b},1E3);this.initReload()},onDeviceServerConnected:function(){var a=this;this.deviceInstances&&H.each(this.deviceInstances,function(b){b&&b.device&&!b.domNode&&
a.startDevice(b.device)})},addDeviceInstance:function(a,b){},ls:function(a,b){function c(c){try{var e=this.createStore(c,a,b);this.onStoreReady(e);!1!==b&&this.publish(f.EVENTS.ON_STORE_CREATED,{data:c,owner:this,store:e,type:this.itemType});d.resolve(e)}catch(K){logError(K,"error ls drivers")}}var d=new x;if(this.prefetch&&this.prefetch[a])return c.apply(this,[this.prefetch[a]]),delete this.prefetch[a],d;q("php")?this.runDeferred(null,"ls",[a]).then(c.bind(this)):G?d.resolve({items:[]}):this._getText(require.toUrl(a).replace("main.js",
"")+a+".json",{sync:!1,handleAs:"json"}).then(c.bind(this));return d},hasStore:function(a){return this.stores[a]},fixDeviceCI:function(b){var c=f.DEVICE_PROPERTY,d=b.user,e=a.getCIByChainAndName(d,0,c.CF_DEVICE_DRIVER_OPTIONS);e?(e.data=[{value:2,label:"Runs Server Side"},{value:4,label:"Show Debug Messages"},{value:16,label:"Make Server"}],e.group="Common"):d.inputs.push({chainType:0,"class":"cmx.types.ConfigurableInformation",dataRef:"",dataSource:"",description:null,enabled:!0,enumType:"-1",flags:-1,
group:"Common",id:c.CF_DEVICE_DRIVER_OPTIONS,name:c.CF_DEVICE_DRIVER_OPTIONS,order:1,params:null,platform:null,title:"Driver Options",type:5,uid:"-1",value:0,data:[{value:2,label:"Runs Server Side"},{value:4,label:"Show Debug Messages"},{value:16,label:"Make Server"}],visible:!0,device:b});(e=a.getCIByChainAndName(d,0,c.CF_DEVICE_LOGGING_FLAGS))?e.group="Logging":d.inputs.push({chainType:0,"class":"cmx.types.ConfigurableInformation",dataRef:"",dataSource:"",description:null,enabled:!0,enumType:"-1",
flags:-1,group:"Logging",id:c.CF_DEVICE_LOGGING_FLAGS,name:c.CF_DEVICE_LOGGING_FLAGS,order:1,params:null,platform:null,title:"Logging Flags",type:c.CF_DEVICE_LOGGING_FLAGS,uid:"-1",value:0,data:[{value:2,label:"On Connected"},{value:4,label:"On Disconnected"},{value:8,label:"On Error"},{value:16,label:"Commands"},{value:32,label:"Responses"}],visible:!0,device:b});if(c=a.getCIByChainAndName(d,0,c.CF_DEVICE_PROTOCOL))c.type=3,c.options=[{label:"TCP",value:"tcp"},{label:"UDP",value:"udp"},{label:"Driver",
value:"driver"},{label:"SSH",value:"ssh"},{label:"Serial",value:"serial"},{label:"MQTT",value:"mqtt"}];b.id||(b.id=a.getCIInputValueByName(d,f.DEVICE_PROPERTY.CF_DEVICE_ID));(c=a.getCIByChainAndName(d,0,f.DEVICE_PROPERTY.CF_DEVICE_OPTIONS))?c.device=b:d.inputs.push({chainType:0,"class":"cmx.types.ConfigurableInformation",dataRef:"",dataSource:"",description:null,enabled:!0,enumType:"-1",flags:-1,group:"Network",id:"options",name:"options",order:1,params:null,platform:null,title:"Options",type:28,
uid:"-1",value:{},visible:!0,device:b})}})});define("xide/console",[],function(){return"undefined"!==typeof window?window.console:"undefined"!==typeof global?global.console:{}});define("xcf/mixins/LogMixin",["dcl/dcl","xcf/types/Types","xide/utils"],function(c,m,g){var k=m.DEFAULT_DEVICE_LOGGING_FLAGS;c=c(null,{hasFlagEx:function(c,a,b){c=c.loggingFlags;c=_.isString(c)?g.fromJson(c):c||{};b=c[b]?c[b]:k[b];return null!=b&&b&a?!0:!1}});c.DEFAULT_LOGGING_FLAGS=k;return c});
define("xcf/manager/DeviceManager_DeviceServer","dcl/dcl xide/encoding/MD5 xide/types xide/utils xide/factory xdojo/has dojo/Deferred xide/mixins/ReloadMixin xide/mixins/EventedMixin require xide/lodash xcf/model/Variable xide/utils/HexUtils xdojo/has!host-node?nxapp/utils/_console".split(" "),function(c,m,g,k,f,a,b,d,e,h,l,n,p,r){var q="undefined"!==typeof window?window.console:"undefined"!==typeof global?global.console:r;r&&(q=r);var t=a("host-node"),u=a("xcf-ui"),v=!1;if("undefined"!==typeof sctx&&
sctx&&!t)k.createUUID(),sctx.getResourceManager(),sctx.getApplication();else return p=c(null,{declaredClass:"xcf.manager.DeviceManager_DeviceServer",running:null,onDeviceStarted:function(a,b,c){if(a&&b&&c){var d=this.toDeviceControlInfo(b),e=d.serverSide,f=d.isServer,h=a.blockScope;(t&&(e||f)||!e&&!f)&&h.start();a.__didStartBlocks=!0;this.publish(g.EVENTS.ON_DEVICE_DRIVER_INSTANCE_READY,{device:b,instance:a,driver:c,blockScope:h});this.publish(g.EVENTS.ON_DEVICE_CONNECTED,{device:d,instance:a,driver:c,
blockScope:h});this.ctx.getDriverManager().addDeviceInstance(b,c)}},runClass:function(a,b,c){this.checkDeviceServerConnection();if(this.deviceServerClient){var d=k.createUUID();b.id=d;var e={"class":a,args:b,manager_command:g.SOCKET_SERVER_COMMANDS.RUN_CLASS};!this.running&&(this.running={});this.running[d]={"class":a,args:b,delegate:c};this.deviceServerClient.emit(null,e,g.SOCKET_SERVER_COMMANDS.RUN_CLASS)}else this.onHaveNoDeviceServer()},runAppServerClass:function(a,b,c){this.checkDeviceServerConnection();
if(this.deviceServerClient){var d=k.createUUID();b.id=d;var e={"class":a,args:b,manager_command:g.SOCKET_SERVER_COMMANDS.RUN_APP_SERVER_CLASS};!this.running&&(this.running={});this.running[d]={"class":a,args:b,delegate:c};this.deviceServerClient.emit(null,e,g.SOCKET_SERVER_COMMANDS.RUN_APP_SERVER_CLASS)}else this.onHaveNoDeviceServer()},runAppServerClassMethod:function(a,b,c,d){this.checkDeviceServerConnection();if(this.deviceServerClient){b=k.createUUID();c.id=b;var e={"class":a,method:_method,args:c,
manager_command:g.SOCKET_SERVER_COMMANDS.RUN_APP_SERVER_CLASS_METHOD};!this.running&&(this.running={});this.running[b]={"class":a,args:c,delegate:d,method:_method};this.deviceServerClient.emit(null,e,g.SOCKET_SERVER_COMMANDS.RUN_APP_SERVER_CLASS_METHOD)}else this.onHaveNoDeviceServer()},runAppServerComponentMethod:function(a,b,c,d,e){this.checkDeviceServerConnection();if(this.deviceServerClient){var f=k.createUUID();c.id=f;d={component:a,method:b,options:d,args:c,id:f,manager_command:g.SOCKET_SERVER_COMMANDS.RUN_APP_SERVER_COMPONENT_METHOD};
!this.running&&(this.running={});this.running[f]={component:a,args:c,delegate:e,method:b};this.deviceServerClient.emit(null,d,g.SOCKET_SERVER_COMMANDS.RUN_APP_SERVER_COMPONENT_METHOD)}else this.onHaveNoDeviceServer()},cancelAppServerComponentMethod:function(a,b){this.checkDeviceServerConnection();if(this.deviceServerClient)a={component:a,id:b,manager_command:g.SOCKET_SERVER_COMMANDS.CANCEL_APP_SERVER_COMPONENT_METHOD},!this.running&&(this.running={}),this.deviceServerClient.emit(null,a,g.SOCKET_SERVER_COMMANDS.CANCEL_APP_SERVER_COMPONENT_METHOD);
else this.onHaveNoDeviceServer()},answerAppServerComponentMethodInterrupt:function(a,b,c){this.checkDeviceServerConnection();if(this.deviceServerClient)a={component:a,id:b,manager_command:g.SOCKET_SERVER_COMMANDS.ANSWER_APP_SERVER_COMPONENT_METHOD_INTERRUPT,answer:c},!this.running&&(this.running={}),this.deviceServerClient.emit(null,a,g.SOCKET_SERVER_COMMANDS.ANSWER_APP_SERVER_COMPONENT_METHOD_INTERRUPT);else this.onHaveNoDeviceServer()},startDevice:function(a,c){var d=this;if(!a)return q.error("start device invalid item"),
null;this.checkDeviceServerConnection();a.check();v=!0;var e=new b;if(a._startDfd&&!a._startDfd.isResolved()){if(!t)return v&&q.error("already starting "+a.toString()),a._startDfd}else!a.driverInstance&&a.reset();!0===c&&a.setMetaValue(g.DEVICE_PROPERTY.CF_DEVICE_ENABLED,!0,!1);if(!a.getMetaValue(g.DEVICE_PROPERTY.CF_DEVICE_ENABLED)&&!0!==c&&!t)return v&&q.error("---abort start device : device is not enabled!"+a.toString()),this.publish(g.EVENTS.ON_STATUS_MESSAGE,{text:"Can`t start device because its not enabled! "+
a.toString(),type:"error"}),setTimeout(function(){e.reject()},10),e;var f=this.toDeviceControlInfo(a);if(!f)return q.error("invalid client info, assuming no driver found"),e.reject("invalid client info, assuming no driver found"),e;if(!f)return q.error("couldnt start device, invalid control info "+f.toString()),e.reject(),e;var l=f.hash;c=a.state===g.DEVICE_STATE.LOST_DEVICE_SERVER;if(this.deviceInstances[l]&&!0!==c)return v&&q.warn("device already started : "+f.toString()),e.resolve(this.deviceInstances[l]),
e;if(c&&this.deviceInstances[l])return d.publish(g.EVENTS.ON_STATUS_MESSAGE,{text:"Trying to re-connect to "+f.toString(),type:"info"}),d.sendManagerCommand(g.SOCKET_SERVER_COMMANDS.CREATE_CONNECTION,f),a.setState(g.DEVICE_STATE.CONNECTING),e.resolve(this.deviceInstances[l]),e;a.setState(g.DEVICE_STATE.CONNECTING);a._userStopped=null;a._startDfd=e;c=this.driverScopes.system_drivers;var n=c+"DriverBase";try{h([n],function(b){b.prototype.declaredClass=n;d.createDriverInstance(f,b,a).then(function(b){b.id||
(b.id=k.createUUID());b||q.warn("buildMQTTParams:have no driver instance");f.mqtt={driverScopeId:b&&b.blockScope?b.blockScope.id:"have no driver instance",driverId:b?b.driver.id:"have no driver id",deviceId:a.path};d.publish(g.EVENTS.ON_STATUS_MESSAGE,{text:"Trying to connect to "+f.toString(),type:"info"});t?a._startDfd&&!a._startDfd.isResolved()?d.sendManagerCommand(g.SOCKET_SERVER_COMMANDS.CREATE_CONNECTION,f):d.sendManagerCommand(g.SOCKET_SERVER_COMMANDS.START_DEVICE,f):a.isServerSide()||a.isServer()?
d.sendManagerCommand(g.SOCKET_SERVER_COMMANDS.START_DEVICE,f):d.sendManagerCommand(g.SOCKET_SERVER_COMMANDS.CREATE_CONNECTION,f);e.resolve(d.deviceInstances[l]);delete f.mqtt}).then(function(){},function(a){e.resolve(null)})},function(a){q.error(a)})}catch(D){logError(D,"DeviceManager::startDevice: requiring base driver at "+n+" failed! Base Driver - Prefix : "+c)}return e},createDriverInstance:function(a,f,l){var n=a.hash,p=this.driverScopes[a.driverScope],m=!h.cache,r=h.toUrl(p),r=k.removeURLParameter(r,
"bust");m&&(r=r.replace("/.js","/"));var u=decodeURIComponent(r)+a.driver,u=u.replace("","").trim(),v=this,r=v.ctx,m=k.getCIInputValueByName(l.user,g.DEVICE_PROPERTY.CF_DEVICE_DRIVER),r=r.getDriverManager(),x=r.getDriverById(m),w=new b;l.getMetaValue(g.DEVICE_PROPERTY.CF_DEVICE_ENABLED);if(!1===l.isEnabled()&&!t)return setTimeout(function(){w.reject("device not enabled, abort "+a.toString())}),w;if(t&&!(l.isServerSide()||l.isServer()||a.isServer||a.serverSide))return w.reject("DeviceManager_DeviceServer: wont create driver instance! I am server and device isnt server side : "+
a.title),w;try{r.getDriverModule(x).then(function(b){var h=new (c([f,e.dcl,d.dcl,b],{}));h.declaredClass=u;h.options=a;h.baseClass=f.prototype.declaredClass;h.modulePath=k.replaceAll("//","/",p+a.driver).replace(".js","");h.delegate=v;h.driver=x;h.serverSide=a.serverSide;h.utils=k;h.types=g;h.device=l;h.Module=b;h.id=k.createUUID();h.getDevice=function(){return this.device};h.getDeviceInfo=function(){return this.getDevice().info};b=x.user;var m=k.getCIByChainAndName(b,0,g.DRIVER_PROPERTY.CF_DRIVER_COMMANDS);
m&&m.params&&(h.sendSettings=k.getJson(m.params));(b=k.getCIByChainAndName(b,0,g.DRIVER_PROPERTY.CF_DRIVER_RESPONSES))&&b.params&&(h.responseSettings=k.getJson(b.params));try{h.start(),h.initReload()}catch(B){q.error("crash in driver instance startup! "+l.toString()),logError(B,"crash in driver instance startup!")}v.deviceInstances[n]=h;x.blox&&x.blox.blocks||(x.blox={blocks:[]});l.driverInstance=h;v.getDriverInstance(a,!0);h._id=k.createUUID();w.resolve(h);return h})}catch(I){q.error("DeviceManager::createDriverInstance:: requiring base driver at "+
u+" failed "+I.message,k.inspect(a))}return w},onSetDeviceServerVariables:function(a){var b=this.getDriverInstance(a.device,!0),c=this.getDeviceStoreItem(a.device);if(c){if(!b.blockScope){var d=c.info,e=d.hash,f=b.driver,h=d.driverId,n=this.getContext(),d=d.serverSide,p=h+"_"+e+"_"+c.path;f.blox&&f.blox.blocks||(f.blox={blocks:[]});t&&f.blockPath&&(k.getJson(k.readFile(f.blockPath)),f.blox=k.getJson(k.readFile(f.blockPath)));e=n.getBlockManager().createScope({id:p,device:c,driver:f,instance:b,serviceObject:this.serviceObject,
ctx:n,serverSide:d,getContext:function(){return this.instance}},k.clone(f.blox.blocks),function(a){a&&q.error(a+" : in "+f.name+" Resave Driver! in scope id "+p)});b.blockScope=e;c.blockScope=e;u&&this.completeDriverInstance(f,b,c)}if(b){var e=a.variables,m=b.blockScope;c.serverVariables=a.variables;l.each(e,function(a){var b=m.getVariable(a.name);b&&(b.value=a.value)})}this.onDeviceConnected(a,!1);c.setState(g.DEVICE_STATE.SYNCHRONIZING);c.setState(g.DEVICE_STATE.READY);c._startDfd&&c._startDfd.resolve(c.driverInstance);
delete c._userStopped;delete c.lastError;delete c._startDfd;c._startDfd=null}else v&&q.log("did set device server variables failed, have no device",a)},getDeviceServerVariables:function(a,b){b=b.driver;b.blox&&b.blox.blocks||(b.blox={blocks:[]});var c=[];l.each(b.blox.blocks,function(a){a.group===g.BLOCK_GROUPS.CF_DRIVER_BASIC_VARIABLES&&c.push(a)});b=[];for(var d=0;d<c.length;d++)b.push({name:c[d].name,value:c[d].value,initial:c[d].value});a.setState(g.DEVICE_STATE.SYNCHRONIZING);this.sendManagerCommand(g.SOCKET_SERVER_COMMANDS.GET_DEVICE_VARIABLES,
{device:this.toDeviceControlInfo(a),variables:b})},onDeviceConnected:function(a,b){var c=this.getDeviceStoreItem(a.device);if(a.isReplay&&c&&c.state===g.DEVICE_STATE.READY)c.setState(g.DEVICE_STATE.READY);else if(a=this.getDriverInstance(a.device,!0)||a.instance)if(c){var d=this.toDeviceControlInfo(c);if(d)if(t&&!d.serverSide&&v&&q.error("onDeviceConnected:: device info is not server side, abort"),a&&!c.serverVariables)c.setState(g.DEVICE_STATE.CONNECTED),this.getDeviceServerVariables(c,a);else if(d){b=
d.hash;if(this.deviceInstances[b]){if(!a.__didStartBlocks)this.onDeviceStarted(a,c,a.driver);c.setState(g.DEVICE_STATE.READY);this.publish(g.EVENTS.ON_STATUS_MESSAGE,{text:'Device is Ready <span class="text-success">'+d.host+":"+d.port+"</span>",type:"success"});return this.deviceInstances[b]}var e=this,f=this.driverScopes.system_drivers+"DriverBase";try{h([f],function(a){a.prototype.declaredClass=f;e.createDriverInstance(d,a,c)})}catch(C){q.error("requiring base driver at "+f+" failed",C)}}else q.error("couldnt start device, invalid control info");
else v&&q.error("onDeviceConnected:: device info  is null")}else v&&q.error("onDeviceConnected:: deviceStoreItem is null");else c&&c.setState(g.DEVICE_STATE.DISCONNECTED)},onDeviceDisconnected:function(a){if(a||a.device){var b=a.error,c=b&&b.code?b.code:b||"",d=this.getDeviceStoreItem(a.device);if(d)if(!0===a.stopped)this.stopDevice(d);else{this.publish(g.EVENTS.ON_STATUS_MESSAGE,{text:'Device has been disconnected <span class="text-warning">'+a.device.host+":"+a.device.port+'</span> :  <span class="text-danger">'+
c+"</span>",type:"info"});var e=this.toDeviceControlInfo(d);if(!e||!t||e.serverSide)if(this.getDriverInstance(a.device,!0)&&this.removeDriverInstance(a.device),d.reset(),d.state===g.DEVICE_STATE.DISABLED)d.setState(g.DEVICE_STATE.DISCONNECTED);else if(d.setState(g.DEVICE_STATE.DISCONNECTED),d.lastError=b,d.refresh(),a=e.serverSide,(t&&a||!a&&!t)&&d){var f=this;d.reconnectTimer||(d.isReconnecting=!0,d.lastReconnectTime?3600<d.lastReconnectTime&&(d.lastReconnectTime=3600):d.lastReconnectTime=f.reconnectDevice,
d.reconnectRetry||(d.reconnectRetry=0),d.reconnectTimer=setTimeout(function(){d.reconnectTimer=null;d.lastReconnectTime*=2;d.reconnectRetry+=1;d.shouldReconnect()&&(e&&d.setState(g.DEVICE_STATE.CONNECTING),f.startDevice(d))},d.lastReconnectTime))}}else v&&u&&q.error("deviceStoreItem is null")}},onCommandFinish:function(b,c){var d=this.getDriverInstance(b,!0);if(d){var e=c.params||{};if(e.src&&e.id){var f=d.blockScope.getBlockById(e.src);if(f&&f.onCommandFinish){e=null;c=f.onCommandFinish(c);try{e=
JSON.stringify(c,function(a,b){return"object"==typeof b?null:b},2)}catch(I){logError(I,"error serializing on command finish")}if(a("xcf-ui")&&e){d=d.device;c=[e];if(f=this.consoles[b.hash+"-Console"])for(var h=0;h<f.length;h++){var n=f[h];if(n){var p=!0,m=!1;n.console&&(m=n.console.getTextEditor(),p=m.getAction("Console/Settings/Split").value,m=m.getAction("Console/Settings/HEX").value);if(!p&&m)m=k.bufferToHexString(deviceMessageData.data.bytes),n.log(m,p,!1,g.LOG_OUTPUT.RESPONSE);else for(var r=
0;r<c.length;r++){var q=c[r];l.isString(q.string)&&0===q.string.length||(m&&(q=k.stringToHex(q)),n.log(q,p,!0,g.LOG_OUTPUT.RESPONSE))}}}c&&c.length&&this.publish(g.EVENTS.ON_DEVICE_MESSAGE_EXT,{device:d,deviceInfo:b,raw:e,messages:c,bytes:[]})}}}}},onCommandProgress:function(a,b){var c=this.getDriverInstance(a,!0);if(c&&(a=b.params||{},a.src&&a.id&&(c=c.blockScope)&&(a=c.getBlockById(a.src))&&a.onCommandProgress))a.onCommandProgress(b)},onCommandPaused:function(a,b){if(a=this.getDriverInstance(a,
!0)){var c=b.params||{};if(c.src&&c.id&&(a=a.blockScope.getBlockById(c.src))&&a.onCommandPaused)a.onCommandPaused(b)}},onCommandStopped:function(a,b){if(a=this.getDriverInstance(a,!0)){var c=b.params||{};if(c.src&&c.id&&(a=a.blockScope.getBlockById(c.src))&&a.onCommandStopped)a.onCommandStopped(b)}},onCommandError:function(a,b){if(a=this.getDriverInstance(a,!0)){var c=b.params||{};if(c.src&&c.id&&(a=a.blockScope.getBlockById(c.src))&&a.onCommandError)a.onCommandError(b)}},onDeviceServerMessage:function(b){function c(a){delete a.resposeSettings;
delete a.driver;delete a.lastResponse;delete a.scope;delete a.driverId;delete a.device;delete a.sourceHost;delete a.sourcePort}var d=b.data,e=null;if(l.isString(d)&&-1!=d.indexOf("{"))try{e=k.fromJson(d)}catch(S){q.error("error parsing device message",b);return}else l.isObject(d)&&d.data&&(e=d);if(e&&e.data&&e.data.device){var f=e.data.device;if(f&&(!t||f.serverSide)){var h=this.getDriverInstance(e.data.device,!0);if(h){var p=this.getDeviceStoreItem(f);if(p){(f=p.info)||q.error("invalid device : "+
p.toString());var m=p.get("state");b=f.serverSide;var r=e.data.deviceMessage;if(null!=r){d=[];l.isString(r)?d=h.split(r):l.isObject(r)&&(c(r),d=[r]);var u=h.onMessageRaw({device:e.data.device,message:r,bytes:e.data.bytes});u&&!u.length&&(u=null);for(var v=[],x=0;x<d.length;x++)v.push(k.stringToBuffer(d[x]));if(u&&u.length)for(d=[],v=[],x=0;x<u.length;x++){var G=u[x];d.push(G.string);v.push(G.bytes)}if(d&&d.length)for(x=0;x<d.length;x++)G=d[x],h.onMessage({device:e.data.device,message:G,raw:r,bytes:v[x]}),
h.onBroadcastMessage({device:e.data.device,message:G,raw:r,bytes:v[x]});m!==g.DEVICE_STATE.READY&&p.set("state",g.DEVICE_STATE.READY);x=p.isDebug();e.event&&(e.data.driverInstance=h,this.publish(e.event,e.data));if(a("xcf-ui")){var N=[],m=this.consoles[f.hash+"-Console"];if(x&&(x=g.LOGGING_FLAGS,G=f.loggingFlags,G=l.isString(G)?k.fromJson(G):G||{},G=G[g.LOG_OUTPUT.RESPONSE],null!=G&&G&x.STATUS_BAR)){x=e.data.deviceMessage;if(l.isObject(x)){c(x);try{x=JSON.stringify(x)}catch(S){logError(S,"error serialize message")}}this.publish(g.EVENTS.ON_STATUS_MESSAGE,
{text:"Device Message from "+h.options.host+' : <span class="text-info">'+x+"</span>"})}if(m)for(var B=0;B<m.length;B++){var J=m[B];if(J){var O=!0,P=!1;J.console&&(x=J.console.getTextEditor(),O=x.getAction("Console/Settings/Split").value,P=x.getAction("Console/Settings/HEX").value);if(!O&&P)x=k.bufferToHexString(e.data.bytes),J.log(x,O,!1,g.LOG_OUTPUT.RESPONSE);else for(N=[],l.isString(r)?N=O?u&&u.length?u:h.split(r):[r]:l.isObject(r)&&(c(r),N=[r]),x=0;x<N.length;x++)G=N[x],l.isString(G.string)&&
0===G.string.length||(P&&(G=k.stringToHex(G.string)),J.log(G,O,!0,g.LOG_OUTPUT.RESPONSE))}}d&&d.length&&this.publish(g.EVENTS.ON_DEVICE_MESSAGE_EXT,{device:p,deviceInfo:f,raw:r,messages:d,bytes:e.data.bytes})}if(0<d.length&&h.blockScope)for(e=h.blockScope,f=e.blockStore._find({group:g.BLOCK_GROUPS.CF_DRIVER_RESPONSE_BLOCKS}),h=e.blockStore._find({group:g.BLOCK_GROUPS.CF_DRIVER_RESPONSE_VARIABLES}),p=e.getVariable("value"),p||(p=new n({id:k.createUUID(),name:"value",value:"",scope:e,type:13,group:"processVariables",
gui:!1,cmd:!1}),e.blockStore.putSync(p)),r=0;r<d.length;r++)if(0!==d[r].length){p.value=new String(d[r]);p.value.setBytes(v[r]);p.value.setString(d[r]);this.publish(g.EVENTS.ON_DRIVER_VARIABLE_CHANGED,{item:p,scope:e,owner:this,save:!1,source:g.MESSAGE_SOURCE.DEVICE,publishMQTT:!1});for(u=0;u<h.length;u++){var T=h[u];"value"!=h[u].title&&(m=null,m=p.value,"number"!==typeof m&&(m=""+m,m="'"+m+"'"),T.target&&"None"!=T.target&&null!==m&&"null"!=m&&"'null'"!=m&&(x=e.getVariable(T.target)))&&(x.value=
m,this.publish(g.EVENTS.ON_DRIVER_VARIABLE_CHANGED,{item:x,scope:e,owner:this,save:!1,source:g.MESSAGE_SOURCE.BLOX}))}if(t&&b||!b&&!t){for(m=0;m<d.length;m++)if(x=d[m],l.isObject(x)&&x.src&&(u=e.getBlockById(x.src))&&u.onData)u.onData(x);for(m=0;m<f.length;m++)if(u=f[m],!1!==u.enabled){u.override={args:T?[T.value]:null};try{e.solveBlock(f[m],{highlight:t?!1:!0})}catch(S){logError(S,"----solving response block crashed ")}}}}}}}else x&&q.error(" onDeviceMessage : failed! Have no device instance for "+
e.data.device.host,e)}}},sendManagerCommand:function(a,b){this.checkDeviceServerConnection();var c={manager_command:a};k.mixin(c,b);if(this.deviceServerClient)return this.deviceServerClient.emit(null,c,a);q.error("Send Manager Command "+a+" failed, have no  device Server client");this.onHaveNoDeviceServer()},sendDeviceCommand:function(b,c,d,e,f,h,n,p,r,t){this.checkDeviceServerConnection();var u=b.getDeviceInfo();k.mixin({src:d},u);var v={command:c,device_command:r||g.SOCKET_SERVER_COMMANDS.DEVICE_SEND,
options:u};k.mixin(v.options,{params:{src:d,id:e,wait:h,stop:n,pause:p,args:t}});e=this.getDevice(u.id);e&&l.isObject(e)?e._userStopped||e&&(e.state===g.DEVICE_STATE.DISABLED||e.state===g.DEVICE_STATE.DISCONNECTED||e.state===g.DEVICE_STATE.CONNECTING)||(r=k.stringFromDecString(v.command),e.isDebug()&&this.publish(g.EVENTS.ON_STATUS_MESSAGE,{text:'Did send message : <span class="text-warnin">'+r.substr(0,30)+'</span> to <span class="text-info">'+u.host+":"+u.port+"@"+u.protocol+"</span>"}),u=m(JSON.stringify(b.options),
1)+"-Console",this.deviceServerClient?(this.deviceServerClient.emit(null,v,"Device_Send"),a("xcf-ui")&&!1!==f&&l.each(this.consoles[u],function(a){a.printCommand('<span class="text-info"><b>'+v.command+"</span>","")})):(this.onHaveNoDeviceServer(),q.error("this.deviceServerClient is null"),q.error(" Send Device Command "+c+"failed, have no  device Server client")),b.blockScope&&(r=b.blockScope.getBlockById(d),this.publish(g.EVENTS.ON_DEVICE_COMMAND,{device:e,command:k.stringFromDecString(c),deviceInfo:this.toDeviceControlInfo(e),
name:r?r.name:""}))):q.error("invalid device")},loadDevices:function(a){this.sendManagerCommand(g.SOCKET_SERVER_COMMANDS.INIT_DEVICES,{path:a})},protocolMethod:function(a,c,d,e){var f=new b,h=g.SOCKET_SERVER_COMMANDS.PROTOCOL_METHOD,l=k.createUUID(),n=h+"_"+l;a={protocol:a,method:c,options:{args:d,id:l,device:e}};var p=this;this.subscribe(n,function(a){p.unsubscribe(n);clearTimeout(m);f.resolve(a)});try{this.sendManagerCommand(h,a);var m=setTimeout(function(){p.unsubscribe(n);f.reject("timeout");
q.error("protocol method timeout")},8E3)}catch(L){f.reject(L)}return f},callMethod:function(a,b,c,d,e){this.checkDeviceServerConnection();a={method:b,args:c,device_command:g.SOCKET_SERVER_COMMANDS.CALL_METHOD,params:{id:e,src:d},options:a.options};if(this.deviceServerClient)this.deviceServerClient.emit(null,a,g.SOCKET_SERVER_COMMANDS.CALL_METHOD);else this.onHaveNoDeviceServer()},runShell:function(a,b,c,d,e){a=a.getDeviceInfo();this.sendManagerCommand(g.SOCKET_SERVER_COMMANDS.RUN_SHELL,{cmd:b,args:c,
options:k.mixin(a,{params:{id:e,src:d}})})},watchDirectory:function(a,b){this.checkDeviceServerConnection();a={path:a,watch:b,manager_command:g.SOCKET_SERVER_COMMANDS.WATCH};if(this.deviceServerClient)this.deviceServerClient.emit(null,a,g.SOCKET_SERVER_COMMANDS.WATCH);else this.onHaveNoDeviceServer()},handle:function(a){var b=decodeURIComponent(this.ctx.getUserDirectory());a=a.data;return!(b&&a&&a.device&&a.device.userDirectory&&decodeURIComponent(a.device.userDirectory)!==b)},createDeviceServerClient:function(a){var c=
this,d=new b;this.deviceServerClient=null;if(this.deviceServerClient=f.createClientWithStore(a,"Device Control Server",{delegate:{onConnected:function(){c.onDeviceServerConnected();d.resolve();c.publish(g.EVENTS.ON_DEVICE_SERVER_CONNECTED);u&&c.ctx.getNotificationManager().postMessage({message:"Connected to Device Server",type:"success",duration:3E3})},onLostConnection:function(){c.onDeviceServerConnectionLost()},onServerResponse:function(a){var b=a.data,d=null;if(l.isString(b)){try{d=JSON.parse(b)}catch(C){d=
b}if((d=d||{},d.data)&&d.data.deviceMessage&&d.data.deviceMessage.event===g.EVENTS.ON_COMMAND_FINISH){c.onCommandFinish(d.data.device,d.data.deviceMessage);return}if(d&&d.data&&d.data.deviceMessage&&d.data.deviceMessage.event===g.EVENTS.ON_COMMAND_PROGRESS){c.onCommandProgress(d.data.device,d.data.deviceMessage);return}if(d&&d.data&&d.data.deviceMessage&&d.data.deviceMessage.event===g.EVENTS.ON_COMMAND_PAUSED){c.onCommandPaused(d.data.device,d.data.deviceMessage);return}if(d&&d.data&&d.data.deviceMessage&&
d.data.deviceMessage.event===g.EVENTS.ON_COMMAND_STOPPED){c.onCommandStopped(d.data.device,d.data.deviceMessage);return}if(d.data&&d.data.deviceMessage&&d.data.deviceMessage.event===g.EVENTS.ON_COMMAND_ERROR){c.onCommandError(d.data.device,d.data.deviceMessage);return}if(d.event===g.EVENTS.ON_DEVICE_DISCONNECTED){c.publish(g.EVENTS.ON_DEVICE_DISCONNECTED,d.data);return}if(d.event===g.EVENTS.SET_DEVICE_VARIABLES)return c.onSetDeviceServerVariables(d.data);if(d.event===g.EVENTS.ON_RUN_CLASS_EVENT)return c.onRunClassEvent(d.data);
if(d.event===g.EVENTS.ON_DEVICE_CONNECTED){c.publish(g.EVENTS.ON_DEVICE_CONNECTED,d.data);return}if(d.event===g.SOCKET_SERVER_COMMANDS.PROTOCOL_METHOD){c.publish(g.SOCKET_SERVER_COMMANDS.PROTOCOL_METHOD+"_"+d.data.options.id,d.data);return}if(d.event===g.EVENTS.ON_SERVER_LOG_MESSAGE){c.publish(g.EVENTS.ON_SERVER_LOG_MESSAGE,d.data);return}if(d.event===g.EVENTS.ON_MQTT_MESSAGE){c.publish(g.EVENTS.ON_MQTT_MESSAGE,d.data);c.onMQTTMessage(d.data);return}if(d.event===g.EVENTS.ON_FILE_CHANGED)return c.ctx.onXIDEMessage(k.fromJson(a.data));
if(!c.handle(d))return}c.onDeviceServerMessage(a)}}}))return this.deviceServerClient.dfd=d,this.deviceServerClient}}),c.chainAfter(p,"onDeviceStarted"),c.chainAfter(p,"onDeviceDisconnected"),p});define("xcf/manager/DeviceManager_Server",["dcl/dcl"],function(c){return c(null,{})});
define("xcf/manager/BeanManager","dcl/dcl xdojo/has dojo/_base/lang xide/types xide/utils xide/manager/BeanManager dojo/Deferred xide/noob xdojo/has!xtrack?xide/interface/Track xdojo/has!xcf-ui?xide/views/ActionDialog xdojo/has!xcf-ui?xide/views/CIActionDialog xdojo/has!xcf-ui?xide/views/CIGroupedSettingsView".split(" "),function(c,m,g,k,f,a,b,d,e,h,l,n){a=c(a,{getItemByPath:function(a){for(var b in this.stores){var c=this.stores[b].getSync(a);if(c)return c}},setStore:function(a,b){var c=this.stores[a];
c&&(console.error("setting existing store "+a),c.destroy(),delete this.stores[a]);return this.stores[a]=b},onCIUpdate:function(a){a.owner===this&&this.updateCI(a.ci,a.newValue,a.oldValue,a.storeItem)},init:function(){this.stores={};this.subscribe(k.EVENTS.ON_CI_UPDATE)}});return m("xcf-ui")?c(a,{declaredClass:"xcf.manager.BeanManager",getViewClass:function(a,b){a=a||{};f.mixin(a,{startup:function(){e&&this.getContext().getTrackingManager().track(this.getTrackingCategory(),this.getTrackingLabel(this.item),
this.getTrackingUrl(this.item),k.ACTION.OPEN,this.getContext().getUserDirectory());if(this.inherited)return this.inherited(arguments)}});return c([b||n,e?e.dcl:d.dcl],a)},getFile:function(a){var c=new b,d=this.getContext().getFileManager().getStore(a.scope);d.initRoot().then(function(){d._loadPath(".",!0).then(function(){d.getItem(a.path,!0).then(function(a){c.resolve(a)})})});return c},toUrl:function(a,b,c,d){return g.replace((d||"")+"deviceScope={deviceScope}&device={deviceId}&driver={driverId}&driverScope={driverScope}&block={block}",
{deviceId:a.id,deviceScope:a.scope,driverId:b.id,driverScope:b.scope,block:c?c.id:""})},newGroup:function(){var a=this,b=this.getItem(),c=b?!0===b.isDir?b.path:"":"",b=new l({title:"New "+this.groupType,delegate:{onOk:function(b,d){var e=f.getCIInputValueByName(d,"Title"),h=f.getCIInputValueByName(d,"Scope");a.createGroup(h,c+"/"+e,function(){var b=a.createNewGroupItem(e,h,c);a.store.putSync(b);a.publish(k.EVENTS.ON_STORE_CHANGED,{owner:a,store:a.store,action:k.NEW_DIRECTORY,item:b})})}},cis:[f.createCI("Title",
13,""),f.createCI("Scope",3,this.defaultScope,{options:[{label:"System",value:this.defaultScope},{label:"User",value:this.userScope}]})]});b.startup();b.show()},onDeleteItem:function(a){var b=!0===f.toBoolean(a.isDir),c=b?"removeGroup":"removeItem",d=this;(new h({title:"Remove "+this.beanName+(b?" Group":"")+' "'+a.name+'"  ',style:"max-width:400px",titleBarClass:"text-danger",delegate:{isRemoving:!1,onOk:function(){d[c](f.toString(a.scope),f.toString(a.path),f.toString(a.name),function(){d.onItemDeleted(a);
d.publish(k.EVENTS.ON_STORE_CHANGED,{owner:d,store:d.store,action:k.DELETE,item:a})})}}})).show()},createNewGroupItem:function(a,b,c){return this.createItemStruct(a,b,c,a,!0,this.groupType)},createNewItem:function(a,b,c){return this.createItemStruct(a,b,c,c+"/"+a,!1,this.itemType)},createItem:function(a,b,c,d,e){return this.runDeferred(null,"createItem",[a,b,c,d,e])},ls:function(a,b){return this.runDeferred(null,"ls",[a]).then(function(a){try{this.rawData=a,this.initStore(a),this.publish(k.EVENTS.ON_STORE_CREATED,
{data:a,owner:this,store:this.store,type:this.itemType})}catch(t){logError(t,"error ls")}}.bind(this))}}):a});define("xide/interface/Track",["dcl/dcl","xdojo/declare"],function(c,m){var g={declaredClass:"xide.interface.Track",getTrackingGroup:function(){},getTrackingPath:function(){},track:function(){return!1},registerUrls:function(){}};m=m("xide.interface.Track",null,g);m.dcl=c(null,g);return m});define("xide/noob",["xdojo/declare","dcl/dcl"],function(c,m){c=c("noob",null,{});c.dcl=m(null,{});return c});
define("xcf/factory/Blocks","xblox/factory/Blocks xcf/model/Command xblox/model/functions/CallBlock xblox/model/functions/StopBlock xblox/model/functions/PauseBlock xide/factory".split(" "),function(c,m,g,k,f,a){return c?(c._getCommandBlocks=function(a,c,e,h){var b=[];b.push({name:"Commands",iconClass:"el-icon-random",items:[{name:"Call Command",owner:c,iconClass:"el-icon-video",proto:g,target:e,ctrArgs:{scope:a,group:h,condition:""}},{name:"Stop Command",owner:c,iconClass:"el-icon-video",proto:k,
target:e,ctrArgs:{scope:a,group:h,condition:""}},{name:"Pause Command",owner:c,iconClass:"el-icon-video",proto:f,target:e,ctrArgs:{scope:a,group:h,condition:""}},{name:"New Command",owner:c,iconClass:"el-icon-video",proto:m,target:e,ctrArgs:{scope:a,group:h,condition:"",name:"No-Title"}}]});return b},c):a});
define("xblox/model/functions/PauseBlock",["dcl/dcl","xide/utils","xide/types","dojo/Deferred","xblox/model/Block"],function(c,m,g,k,f){return c(f,{declaredClass:"xblox.model.functions.PauseBlock",command:"Select command please",icon:"",args:null,_timeout:100,hasInlineEdits:!0,solve:function(a,b){if(this.command){if((a=a.resolveBlock(this.command))&&a.pause){var c=a.pause();this.onSuccess(this,b)}else this.onFailed(this,b);return c}},makeEditable:function(a,b,c,e,f,l,k){return'<a   tabIndex="-1" pos=\''+
b+"' display-mode='"+(f||"popup")+"' display-type='"+(c||"text")+"' data-prop='"+a+"' data-title='"+e+"' class='editable editable-click'  href='#'>"+this[a]+"</a>"},getFieldOptions:function(a){if("command"===a)return this.scope.getCommandsAsOptions("text")},toText:function(){var a="Unknown",b=this.scope.getBlock(this.command);b&&(a=b.name);-1!==this.command.indexOf("://")&&(a='<span class="text-info">'+this.scope.toFriendlyName(this,this.command)+"</span>");return this.getBlockIcon("D")+"Pause Command : "+
a},getFields:function(){var a=this.inherited(arguments)||this.getDefaultFields();this.command.indexOf("://")&&this.scope.toFriendlyName(this,this.command);a.push(m.createCI("value","xcf.widgets.CommandPicker",this.command,{group:"General",title:"Command",dst:"command",options:this.scope.getCommandsAsOptions(),block:this,pickerType:"command",value:this.command}));return a}})});
define("xblox/model/Block","dcl/dcl dojo/Deferred dojo/_base/lang dojo/has xblox/model/ModelBase xide/factory xide/utils xide/types xide/utils/ObjectUtils xide/lodash xdojo/has!xblox-ui?xblox/model/Block_UI".split(" "),function(c,m,g,k,f,a,b,d,e,h,l){function n(a,b){for(var c=0;c<b.length;c++)if(a.id===b[c].id)return c}f=[f];k("host-browser")||f.push(c(null,{getStatusIcon:function(){},getStatusClass:function(){},setStatusClass:function(){},onActivity:function(){},onRun:function(){},onFailed:function(){},
onSuccess:function(){},getIconClass:function(){}}));l&&f.push(l);b.mixin(d,{BLOCK_FLAGS:{NONE:0,ACTIVE:1,SCRIPT:2,RESERVED1:4,USEFUNCTION:8,RESERVED2:16,SINGLE:32,WAITSFORMESSAGE:64,VARIABLEINPUTS:128,VARIABLEOUTPUTS:256,VARIABLEPARAMETERINPUTS:512,VARIABLEPARAMETEROUTPUTS:1024,TOPMOST:16384,BUILDINGBLOCK:32768,MESSAGESENDER:65536,MESSAGERECEIVER:131072,TARGETABLE:262144,CUSTOMEDITDIALOG:524288,RESERVED0:1048576,EXECUTEDLASTFRAME:2097152,DEACTIVATENEXTFRAME:4194304,RESETNEXTFRAME:8388608,INTERNALLYCREATEDINPUTS:16777216,
INTERNALLYCREATEDOUTPUTS:33554432,INTERNALLYCREATEDINPUTPARAMS:67108864,INTERNALLYCREATEDOUTPUTPARAMS:134217728,INTERNALLYCREATEDLOCALPARAMS:1073741824,ACTIVATENEXTFRAME:268435456,LOCKED:536870912,LAUNCHEDONCE:2147483648},BLOCK_CALLBACKMASK:{PRESAVE:1,DELETE:2,ATTACH:4,DETACH:8,PAUSE:16,RESUME:32,CREATE:64,RESET:4096,POSTSAVE:256,LOAD:512,EDITED:1024,SETTINGSEDITED:2048,READSTATE:4096,NEWSCENE:8192,ACTIVATESCRIPT:16384,DEACTIVATESCRIPT:32768,RESETINBREAKPOINT:65536,RENAME:131072,BASE:14,SAVELOAD:769,
PPR:304,EDITIONS:3072,ALL:4294967295}});l=c(f,{declaredClass:"xblox.model.Block",scopeId:null,isCommand:!1,outlet:0,_destroyed:!1,enabled:!0,serializeMe:!0,name:null,shareTitle:"",sharable:!1,items:null,parent:null,_return:null,_lastResult:null,_deferredObject:null,_currentIndex:0,_lastRunSettings:null,_onLoaded:!1,beanType:"BLOCK",override:{},ignoreSerialize:"_didSubscribe _currentIndex _deferredObject _destroyed _return parent __started ignoreSerialize _lastRunSettings _onLoaded beanType sharable override virtual _scenario _didRegisterSubscribers additionalProperties renderBlockIcon serializeMe _statusIcon _statusClass hasInlineEdits _loop help owner _lastCommand allowActionOverride canDelete isCommand lastCommand autoCreateElse _postCreated _counter".split(" "),
_parseString:function(a,c,e,f){try{c=c||this._lastSettings||{};f=f||c.flags||d.CIFLAG.EXPRESSION;var h=this.scope,l=!(f&d.CIFLAG.DONT_PARSE),k=f&d.CIFLAG.EXPRESSION;f&d.CIFLAG.TO_HEX&&(a=b.to_hex(a));!1!==l&&(a=b.convertAllEscapes(a,"none"));var g=c.override||this.override||{},n=g&&g.variables?g.variables:null,p="",p=k&&!1!==l?h.parseExpression(a,null,n,null,null,null,g.args,f):""+a}catch(z){console.error(z)}return p},postCreate:function(){},childrenByClass:function(a){for(var b=this.getChildren(),
c=[],d=0;d<b.length;d++){var e=b[d];e.isInstanceOf(a)&&c.push(e)}return c},childrenByNotClass:function(a){for(var b=this.getChildren(),c=[],d=0;d<b.length;d++){var e=b[d];e.isInstanceOf(a)||c.push(e)}return c},getInstance:function(){var a=this.scope.instance;return a?a:null},pause:function(){},mergeNewModule:function(a){for(var b in a){var c=a[b];c&&h.isFunction(c)&&(this[b]=c)}},__onReloaded:function(a){this.mergeNewModule(a.prototype);a=this.declaredClass;(a=g.getObject(b.replaceAll("/",".",a))||
g.getObject(a))&&a.prototype&&a.prototype.solve&&this.mergeNewModule(a.prototype)},reparent:function(){if(!this)return!1;if(!this.getParent()){var a=this.next(null,1)||this.next(null,-1);a&&(this.group=null,a._add(this))}},unparent:function(a,b){if(!this)return!1;var c=this.getParent();c&&c.removeBlock&&c.removeBlock(this,!1);this.group=a;this.parent=this.parentId=null;!1!==b&&(this._place(null,-1,null),this._place(null,-1,null))},move:function(a){if(!this)return!1;var b=this.getParent();if(b){b=
b[b._getContainer(this)];if(!b||2>b.length||!this.containsItem(b,this))return!1;var c=this.indexOf(b,this);if(0>c+a)return!1;var d=b[c+a];if(!d)return!1;b[c+a]=this;b[c]=d}else this._place(null,a);return!0},_place:function(a,b,c){var d=this._store,e=this;(a=a||e.next(null,b))?(a=h.isString(a)?d.getSync(a):a,e=h.isString(e)?d.getSync(e):e,c=c||d.storage.fullData,b=-1==b?0:1,c.remove(e),-1==b&&(b=0),c.splice(Math.max(n(a,c)+b,0),0,e),d._reindex()):console.error("have no next",this)},index:function(){var a=
this.getParent(),b=null,c=this.group,b=this._store;if(a)return b=a[a._getContainer(this)]||[],b=b.filter(function(a){return a.group===c}),!b||2>b.length||!this.containsItem(b,this)?!1:this.indexOf(b,this);b=b.storage.fullData;b=b.filter(function(a){return a.group===c});return this.indexOf(b,this)},numberOfParents:function(){var a=0,b=this.getParent();b&&(a++,a+=b.numberOfParents());return a},getTopRoot:function(){var a=this.getParent();if(a){var b=a.getParent();b&&(a=b)}return a},next:function(a,
b){function c(a,b,d,e,f){var h=a.indexOf(b,a);if(h=b[h+d*e]){if(!h.parentId&&h.group&&h.group===a.group)return h;e++;return c(a,b,d,e,f)}return null}a=a||this._store.storage.fullData;return c(this,a,b,1,0)},getParent:function(a){if(this.parentId)return this.scope.getBlockById(this.parentId)},getScope:function(){var a=this.scope;if(this.scopeId&&0<this.scopeId.length){var b=a.owner;b&&b.hasScope&&(b.hasScope(this.scopeId)?a=b.getScope(this.scopeId):console.error("have scope id but cant resolve it",
this))}return a},canAdd:function(){return null},getTarget:function(){var a=this._targetReference;if(a)return a;var b=this.getParent();b&&b.getTarget&&(a=b.getTarget());return a},addToEnd:function(a,b){b&&null!=a.length&&null!=b.length&&a.push.apply(a,b);return a},removeBlock:function(a,b){a&&(!1!==b&&a.empty&&a.empty(),!1!==b&&delete a.items,a.parent=null,a.parentId=null,this.items&&this.items.remove(a))},_getContainer:function(a){return"items"},empty:function(a){try{this._empty(a)}catch(r){debugger}},
_empty:function(a){if(a=a||this.items)for(var b=0;b<a.length;b++){var c=a[b];c&&c.empty&&c.empty();c&&this.scope&&this.scope.blockStore&&this.scope.blockStore.remove(c.id)}},containsItem:function(a,b){for(var c=a.length;c--;)if(a[c].id===b.id)return!0;return!1},indexOf:function(a,b){for(var c=a.length;c--;)if(a[c].id===b.id)return c;return-1},_getBlock:function(a){if(!this||!this.parentId)return!1;var b=this.scope.getBlockById(this.parentId);if(!b)return null;b=b[b._getContainer(this)];if(!b||2>b.length||
!this.containsItem(b,this))return null;var c=this.indexOf(b,this);return 0>c+a?!1:(a=b[c+a])?a:null},getPreviousBlock:function(){return this._getBlock(-1)},getNextBlock:function(){return this._getBlock(1)},_getPreviousResult:function(){var a=this.getPreviousBlock()||this.getParent();return a&&null!=a._lastResult?this.isArray(a._lastResult)?a._lastResult:[a._lastResult]:null},getPreviousResult:function(){var a;if((a=(a=this.getPreviousBlock())&&a._lastResult&&a.enabled?a:this.getParent())&&!a._lastResult){var b=
a.getParent();b&&(a=b)}return a&&null!=a._lastResult?(this.isArray(a._lastResult),a._lastResult):null},_getArg:function(a,b){var c=parseFloat(a);return isNaN(c)?"true"===a||"false"===a?"true"===a:a&&b&&h.isString(a)?"'"+a+"'":a:c},getArgs:function(a){var c=[];a=a||{};var d=a.args||this._get("args");a.override&&a.override.args&&(d=a.override.args);d&&(c=b.getJson(d,null,!1));if(c&&0==c.length&&d&&d.length&&h.isString(d)){if(-1!==d.indexOf(",")){d=d.split(",");for(a=0;a<d.length;a++){var e=parseFloat(d[a]);
isNaN(e)?"true"===d[a]||"false"===d[a]?c.push(b.toBoolean(d[a])):c.push(d[a]):c.push(e)}return c}c=[this._getArg(d)]}!h.isArray(c)&&(c=[]);a=this.getPreviousResult();null!=a&&(h.isArray(a)&&1==a.length?c.push(a[0]):c.push(a));return c||[d]},remove:function(a){this._destroyed=!0;null!=this.parentId&&null==this.parent&&(this.parent=this.scope.getBlockById(this.parentId));if(this.parent&&this.parent.removeBlock)this.parent.removeBlock(this);else if(a=a||this)a.empty&&a.empty(),delete a.items,a.parent=
null,this.items&&this.items.remove(a)},prepareArgs:function(a){a||(a={});a.id||(a.id=this.createUUID());a.items||(a.items=[])},_add:function(b,c,d,e){var f=null;try{c?(this.prepareArgs(c),f=a.createBlock(b,c,null,e)):null==c&&(f=b);(f.scope=this.scope)&&(f=this.scope.registerBlock(f,e));if(k("debug")&&f.id===this.id){console.error("adding new block to our self");debugger}f.parent=this;f.parentId=this.id;f.scope=this.scope;var h=d||this._getContainer();if(h)if(this[h]||(this[h]=[]),-1!==this.indexOf(this[h],
f))console.error(" have already "+f.id+" in "+h);else{if(this.id==f.id){console.error("tried to add our self to "+h);return}this[h].push(f)}f.group=null;return f}catch(x){logError(x,"_add")}return null},getStore:function(){return this.getScope().getStore()},add:function(a,b,c){a=this._add(a,b,c);return a.getStore().getSync(a.id)},getContext:function(){return this.scope.instance&&this.scope.instance?this.scope.instance:null},resolved:function(){this._deferredObject&&(this._deferredObject.resolve(),
delete this._deferredObject)},_solve:function(a,b){b=b||{highlight:!1};for(var c=[],d=0;d<this.items.length;d++)this.addToEnd(c,this.items[d].solve(a,b));return c},solve:function(a,b){b=b||{highlight:!1};for(var c=[],d=0;d<this.items.length;d++)this.addToEnd(c,this.items[d].solve(a,b));return c},solveMany:function(a,b){!this._lastRunSettings&&b&&(this._lastRunSettings=b);b=this._lastRunSettings||b;this._currentIndex=0;this._return=[];a=this[this._getContainer()];if(a.length)return a=this.runFrom(a,
0,b),this.onSuccess(this,b),a;this.onSuccess(this,b);return[]},runFrom:function(a,b,c){var d=this;a=a||this.items;this._return||(this._return=[]);var e=function(b){b._deferredObject.then(function(e){b._lastResult=b._lastResult||e;d._currentIndex++;d.runFrom(a,d._currentIndex,c)})};if(a.length)for(;b<a.length;b++){var f=a[b];if(!0===f.deferred){f._deferredObject=new m;this._currentIndex=b;e(f);this.addToEnd(this._return,f.solve(this.scope,c));break}else this.addToEnd(this._return,f.solve(this.scope,
c))}else this.onSuccess(this,c);return this._return},serializeField:function(a){return-1==this.ignoreSerialize.indexOf(a)},onLoad:function(){},activate:function(){},deactivate:function(){},_get:function(a){if(this.override)return a in this.override?this.override[a]:this[a]},onDidRun:function(){this.override&&(this.override.args&&delete this.override.args,delete this.override)},destroy:function(){this.stop(!0);this.reset();this._destroyed=!0},reset:function(){this._lastSettings={};clearTimeout(this._loop);
this._loop=null;delete this.override;this.override=null;delete this._lastResult;this.override={}},stop:function(){this.reset();this.getItems&&h.invoke(this.getItems(),"stop")}});l.FLAGS=d.BLOCK_FLAGS;l.EMITS=d.BLOCK_CALLBACKMASK;l.prototype.onSuccess||(l.prototype.onSuccess=function(){},l.prototype.onRun=function(){},l.prototype.onFailed=function(){});c.chainAfter(l,"stop");c.chainAfter(l,"destroy");c.chainAfter(l,"onDidRun");return l});
define("xblox/model/functions/StopBlock",["dcl/dcl","xide/utils","xblox/model/Block"],function(c,m,g){return c(g,{declaredClass:"xblox.model.functions.StopBlock",command:"Select command please",icon:"",args:null,_timeout:100,hasInlineEdits:!0,solve:function(c,f){if(this.command){if((c=c.resolveBlock(this.command))&&c.stop){var a=c.stop();this.onSuccess(this,f)}else this.onFailed(this,f);return a}},makeEditable:function(c,f,a,b,d){return'<a tabIndex="-1" pos=\''+f+"' display-mode='"+(d||"popup")+"' display-type='"+
(a||"text")+"' data-prop='"+c+"' data-title='"+b+"' class='editable editable-click'  href='#'>"+this[c]+"</a>"},getFieldOptions:function(c){if("command"===c)return this.scope.getCommandsAsOptions("text")},toText:function(){var c="Unknown",f=this.scope.getBlock(this.command);f&&(c=f.name);-1!==this.command.indexOf("://")&&(c='<span class="text-info">'+this.scope.toFriendlyName(this,this.command)+"</span>");return this.getBlockIcon("D")+"Stop Command : "+c},onChangeField:function(c,f){},getFields:function(){var c=
this.inherited(arguments)||this.getDefaultFields();c.push(m.createCI("value","xcf.widgets.CommandPicker",this.command,{group:"General",title:"Command",dst:"command",options:this.scope.getCommandsAsOptions(),block:this,pickerType:"command",value:this.command}));return c}})});
define("xblox/model/functions/CallBlock","dcl/dcl xide/utils xide/types dojo/Deferred xblox/model/Block xcf/model/Command".split(" "),function(c,m,g,k,f,a){return c(a,{declaredClass:"xblox.model.functions.CallBlock",command:"Select command please",icon:"",args:null,_timeout:100,isCommand:!0,_commandHandles:null,onCommandProgress:function(a){this.getScope().getContext();var b=a.params;b&&b.id&&(this._emit("cmd:"+a.cmd+"_"+b.id,{msg:a}),a.lastResponse&&this.storeResult(a.lastResponse),this._emit("progress",
{msg:a,id:b.id}));this._lastResult=null;this._lastResult=a?a.result:null;a=this.getItems(g.BLOCK_OUTLET.PROGRESS);this._lastSettings||(this._lastSettings={});this._lastSettings.override={};a.length&&this.runFrom(a,0,this._lastSettings)},stop:function(){this._lastCommand&&this._lastCommand.stop()},pause:function(){this._lastCommand&&this._lastCommand.pause()},destroy:function(){_.invoke(this._commandHandles,"remove");delete this._commandHandles;delete this._lastCommand},solve:function(a,c){this._commandHandles&&
_.invoke(this._commandHandles,"remove");this._commandHandles=[];var b=this._timeout||50;_.isString(b)&&(b=parseInt(b));var d=new k,f=this._commandHandles;c=c||{};setTimeout(function(){if(this.command){var b=null;if(this.args){c.override=c.override||{};var e=a.expressionModel.replaceVariables(a,this.args,!1,!1,null,null,{begin:"%%",end:"%%"});try{b=m.fromJson(e)}catch(r){b=e}c.override.args=_.isArray(b)?b:[e];c.override.mixin=b}if(this._lastCommand=a.resolveBlock(this.command))f.push(this._lastCommand._on("paused",
this.onCommandPaused,this)),f.push(this._lastCommand._on("finished",this.onCommandFinish,this)),f.push(this._lastCommand._on("stopped",this.onCommandStopped,this)),f.push(this._lastCommand._on("error",this.onCommandError,this)),f.push(this._lastCommand._on("progress",this.onCommandProgress,this));if(b=a.solveBlock(this.command,c))this.onSuccess(this,c);else this.onFailed(this,c);d.resolve(b);return b}}.bind(this),b);return d},hasInlineEdits:!0,makeEditable:function(a,c,e,f,l,k,g){return'<a   tabIndex="-1" pos=\''+
c+"' display-mode='"+(l||"popup")+"' display-type='"+(e||"text")+"' data-prop='"+a+"' data-title='"+f+"' class='editable editable-click'  href='#'>"+this[a]+"</a>"},getFieldOptions:function(a){if("command"===a)return this.scope.getCommandsAsOptions("text")},toText:function(){var a="Unknown",c=this.scope.getBlock(this.command);c&&(a=c.name);-1!==this.command.indexOf("://")&&(a='<span class="text-info">'+this.scope.toFriendlyName(this,this.command)+"</span>");return this.getBlockIcon("D")+"Call Command : "+
a},getFields:function(){var a=this.getDefaultFields();this.command.indexOf("://")&&this.scope.toFriendlyName(this,this.command);a.push(m.createCI("value","xcf.widgets.CommandPicker",this.command,{group:"General",title:"Command",dst:"command",options:this.scope.getCommandsAsOptions(),block:this,pickerType:"command",value:this.command}));a.push(m.createCI("arguments",27,this.args,{group:"Arguments",title:"Arguments",dst:"args"}));a.push(m.createCI("timeout",13,this._timeout,{group:"General",title:"Delay",
dst:"_timeout"}));return a}})});
define("xblox/factory/Blocks","xide/factory xide/utils xide/types xide/mixins/ReloadMixin xide/mixins/EventedMixin xblox/model/logic/CaseBlock xblox/model/Block xblox/model/functions/CallBlock xblox/model/functions/StopBlock xblox/model/functions/PauseBlock xblox/model/functions/SetProperties xblox/model/code/CallMethod xblox/model/code/RunScript xblox/model/loops/ForBlock xblox/model/loops/WhileBlock xblox/model/variables/VariableAssignmentBlock xblox/model/logic/IfBlock xblox/model/logic/ElseIfBlock xblox/model/logic/SwitchBlock xblox/model/variables/VariableSwitch xblox/model/logging/Log xblox/model/server/RunServerMethod xblox/model/server/Shell xblox/model/code/RunBlock xblox/model/events/OnEvent xblox/model/events/OnKey xblox/model/mqtt/Subscribe xblox/model/mqtt/Publish xblox/model/File/ReadJSON xcf/factory/Blocks".split(" "),function(c,
m,g,k,f,a,b,d,e,h,l,n,p,r,q,t,u,v,x,w,y,A,z,E,C,D,F,H,L){var I=null;c.createBlock=function(a,d,e,f){b.prototype.prepareArgs(d);a=c.createInstance(a,d,e);a.ctrArgs=null;var h;try{a&&a.init&&a.init(),a.scope&&(h=a.scope.registerBlock(a,f)),a.initReload&&a.initReload()}catch(P){logError(P,"create block")}return h||a};c.clearVariables=function(){};c.getAllBlocks=function(a,b,d,e,f){if(!1!==f&&null!=I)return I;0==f&&(I=null);f=c._getFlowBlocks(a,b,d,e);f=f.concat(c._getLoopBlocks(a,b,d,e));f=f.concat(c._getCommandBlocks(a,
b,d,e));f=f.concat(c._getCodeBlocks(a,b,d,e));f=f.concat(c._getEventBlocks(a,b,d,e));f=f.concat(c._getLoggingBlocks(a,b,d,e));f=f.concat(c._getServerBlocks(a,b,d,e));f=f.concat(c._getMQTTBlocks(a,b,d,e));return I=f=f.concat(c._getFileBlocks(a,b,d,e))};c._getMQTTBlocks=function(a,b,d,e){var f=[];f.push({name:"MQTT",iconClass:"fa-cloud",items:[{name:"Subscribe",owner:b,iconClass:"fa-bell",proto:F,target:d,ctrArgs:{scope:a,group:e}},{name:"Publish",owner:b,iconClass:"fa-send",proto:H,target:d,ctrArgs:{scope:a,
group:e}}]});c.publish(g.EVENTS.ON_BUILD_BLOCK_INFO_LIST,{items:f,group:"MQTT"});return f};c._getFileBlocks=function(a,b,d,e){var f=[];f.push({name:"File",iconClass:"fa-file",items:[{name:"%%Read JSON",owner:b,iconClass:"fa-file",proto:L,target:d,ctrArgs:{scope:a,group:e}}]});c.publish(g.EVENTS.ON_BUILD_BLOCK_INFO_LIST,{items:f,group:"File"});return f};c._getServerBlocks=function(a,b,d,e){var f=[];f.push({name:"Server",iconClass:"el-icon-repeat",items:[{name:"Run Server Method",owner:b,iconClass:"fa-plug",
proto:A,target:d,ctrArgs:{scope:a,group:e}},{name:"Shell",owner:b,iconClass:"fa-code",proto:z,target:d,ctrArgs:{scope:a,group:e}}]});c.publish(g.EVENTS.ON_BUILD_BLOCK_INFO_LIST,{items:f,group:"Server"});return f};c._getVariableBlocks=function(a,b,c,d){var e=[];e.push({name:"Flow",iconClass:"el-icon-random",items:[{name:"If...Else",owner:b,iconClass:"el-icon-fork",proto:u,target:c,ctrArgs:{scope:a,group:d,condition:"[value]=='PW'"}}]});return e};c._getEventBlocks=function(a,b,d,e){var f=[];f.push({name:"Events",
iconClass:"fa-bell",items:[{name:"On Event",owner:b,iconClass:"fa-bell",proto:C,target:d,ctrArgs:{scope:a,group:e}},{name:"On Key",owner:b,iconClass:"fa-keyboard-o",proto:D,target:d,ctrArgs:{scope:a,group:e}}]});c.publish(g.EVENTS.ON_BUILD_BLOCK_INFO_LIST,{items:f,group:"Events"});return f};c._getLoggingBlocks=function(a,b,d,e){var f=[];f.push({name:"Logging",iconClass:"fa-bug",items:[{name:"Log",owner:b,iconClass:"fa-bug",proto:y,target:d,ctrArgs:{scope:a,group:e}}]});c.publish(g.EVENTS.ON_BUILD_BLOCK_INFO_LIST,
{items:f,group:"Logging"});return f};c._getCodeBlocks=function(a,b,d,e){var f=[];f.push({name:"Code",iconClass:"fa-code",items:[{name:"Call Method",owner:b,iconClass:"el-icon-video",proto:n,target:d,ctrArgs:{scope:a,group:e}},{name:"Run Script",owner:b,iconClass:"fa-code",proto:p,target:d,ctrArgs:{scope:a,group:e}},{name:"Run Block",owner:b,iconClass:"fa-code",proto:E,target:d,ctrArgs:{scope:a,group:e}},{name:"Set Properties",owner:b,iconClass:"fa-code",proto:l,target:d,ctrArgs:{scope:a,group:e}}]});
c.publish(g.EVENTS.ON_BUILD_BLOCK_INFO_LIST,{items:f,group:"Code"});return f};c._getFlowBlocks=function(a,b,d,e){var f=[];f.push({name:"Flow",iconClass:"el-icon-random",items:[{name:"If...Else",owner:b,iconClass:"el-icon-fork",proto:u,target:d,ctrArgs:{scope:a,group:e,condition:"[value]=='PW'"}},{name:"Switch",owner:b,iconClass:"el-icon-fork",proto:x,target:d,ctrArgs:{scope:a,group:e}},{name:"Variable Switch",owner:b,iconClass:"el-icon-fork",proto:w,target:d,ctrArgs:{scope:a,group:e}}]});c.publish(g.EVENTS.ON_BUILD_BLOCK_INFO_LIST,
{items:f,group:"Flow"});return f};c._getLoopBlocks=function(a,b,d,e){var f=[];f.push({name:"Loops",iconClass:"el-icon-repeat",items:[{name:"While",owner:b,iconClass:"el-icon-repeat",proto:q,target:d,ctrArgs:{scope:a,group:e,condition:"[Volume]<=100"}},{name:"For",owner:b,iconClass:"el-icon-repeat",proto:r,target:d,ctrArgs:{scope:a,group:e,initial:"1",comparator:"<=","final":"5",modifier:"+1",counterName:"value"}}]});c.publish(g.EVENTS.ON_BUILD_BLOCK_INFO_LIST,{items:f,group:"Loops"});return f};c._getMathBlocks=
function(a,b,c,d){b=[];b.push({name:"Math",owner:this,iconClass:"el-icon-qrcode",dstItem:c,items:[{name:"If...Else",owner:c,iconClass:"el-icon-compass",proto:u,item:c,ctrArgs:{scope:a,group:d}}]});return b};c._getTimeBlocks=function(a,b,c,d){b=[];b.push({name:"Time",owner:this,iconClass:"el-icon-qrcode",dstItem:c,items:[{name:"If...Else",owner:c,iconClass:"el-icon-time",proto:u,item:c,ctrArgs:{scope:a,group:d}}]});return b};c._getTransformBlocks=function(a,b,c,d){b=[];b.push({name:"Time",owner:this,
iconClass:"el-icon-magic",dstItem:c,items:[{name:"If...Else",owner:c,iconClass:"el-icon-time",proto:u,item:c,ctrArgs:{scope:a,group:d}}]});return b};return c});
define("xblox/model/File/ReadJSON","dcl/dcl dojo/Deferred xblox/model/Block xide/utils xblox/model/Contains xide/types xdojo/has!xblox-ui?xfile/data/DriverStore xdojo/has!xblox-ui?xfile/views/FileGridLight".split(" "),function(c,m,g,k,f,a,b,d){function e(a,c,d){return new b({data:[],config:{},mount:"none",options:c,driver:d,micromatch:"(*.json)|!(*.*)",glob:a})}return c([g,f],{declaredClass:"xblox.model.File.ReadJSON",name:"Read JSON",deferred:!1,sharable:!1,context:null,icon:"fa-file",observed:["path"],
getContext:function(){return this.context||(this.scope.getContext?this.scope.getContext():this)},getFileContent:function(a){return this.getScope().ctx.getDeviceManager().getInstanceByName("File-Server").callCommand("GetProg",{override:{args:[a]}})},processJSON:function(b,c){var d=this.jsonPath;this._lastResult=d?k.getAt(b,d):b;this.onSuccess(this,c);this.runByType(a.BLOCK_OUTLET.FINISH,c)},solve:function(a,b,c,d,e){this._currentIndex=0;this._return=[];b=this._lastSettings=b||this._lastSettings||{};
c=""+this._get("path");var f=new m,h=this;this.onRunThis(b);a=a.expressionModel.replaceVariables(a,c,null,null);this.getFileContent(a).then(function(a){(a=a.content)&&(a=k.getJson(a,!0))&&h.processJSON(a,b)}.bind(this));try{d&&d("Expression "+c+" evaluates to "+a)}catch(u){this.onDidRunItemError(f,u,b),this.onFailed(this,b),e&&e("invalid expression : \n"+c+": "+u)}return f},toText:function(){var a='<span style="">'+this.getBlockIcon()+" "+this.name+" :: </span>";this.path&&(a+=this.path.substr(0,
50));return a},canAdd:function(){return[]},getFields:function(){var c=this.inherited(arguments)||this.getDefaultFields(),f=this.getScope().ctx,g=f.getDeviceManager().getInstanceByName("File-Server"),p=k.clone(a.DEFAULT_FILE_GRID_PERMISSIONS);g&&b&&(f={ctx:f,owner:this,selection:"/",resizeToParent:!0,Module:d,permissions:p},p={fields:a.FIELDS.SHOW_ISDIR|a.FIELDS.SHOW_OWNER|a.FIELDS.SHOW_SIZE|a.FIELDS.SHOW_FOLDER_SIZE|a.FIELDS.SHOW_MIME|a.FIELDS.SHOW_PERMISSIONS|a.FIELDS.SHOW_TIME|a.FIELDS.SHOW_MEDIA_INFO},
f.leftStore=e("/*",p,g),f.rightStore=e("/*",p,g),c.push(k.createCI("path",4,this.path,{group:"General",title:"Path",dst:"path",filePickerOptions:f,widget:{item:this}})));c.push(k.createCI("jsonPath",13,this.jsonPath,{group:"General",title:"Select",dst:"jsonPath"}));return c}})});
define("xblox/model/Contains",["dcl/dcl","dojo/promise/all","xide/types"],function(c,m,g){return c(null,{declaredClass:"xblox.model.Contains",runByType:function(c,f){c=this.getItemsByType(c);c.length&&this.runFrom(c,0,f)},getItemsByType:function(c){var f=this.items;if(!c)return f;var a=[];_.each(f,function(b){b.outlet&c&&a.push(b)});return a},getContainer:function(){return this[this._getContainer()]},mayHaveChildren:function(c){c=this[this._getContainer()];return null!=c&&0<c.length},getChildren:function(c){return this[this._getContainer()]},
canAdd:function(){return[]},_solve:function(c,f,a,b){!this._lastRunSettings&&f&&(this._lastRunSettings=f);f=this._lastRunSettings||f;this._currentIndex=0;this._return=[];c=this[this._getContainer()];if(c.length)return c=this.runFrom(c,0,f),this.onSuccess(this,f),c;this.onSuccess(this,f);return[]},onDidRunItem:function(c,f){this._emit(g.EVENTS.ON_RUN_BLOCK_SUCCESS,this);c.resolve(f)},onDidRunItemError:function(c,f){c.reject(f)},onRunThis:function(){this._emit(g.EVENTS.ON_RUN_BLOCK,this)},onDidRunThis:function(c,
f,a,b){var d=this;if(a&&a.length)a=d.runFrom(a,0,b),m(a).then(function(){d.onDidRunItem(c,f,b)},function(a){d.onDidRunItem(c,a,b)});else d.onDidRunItem(c,f,b)},___solve:function(c,f,a,b){}})});
define("xblox/model/mqtt/Publish",["dcl/dcl","xdojo/has","xide/utils","xide/types","xcf/model/Command"],function(c,m,g,k,f,a,b){m=m("host-node");var d="undefined"!==typeof window?window.console:global.console;m&&a&&d&&d.error&&(d=b);return c(f,{declaredClass:"xblox.model.mqtt.Publish",name:"Publish",topic:"",args:"",deferred:!1,sharable:!0,context:null,icon:"fa-send",isCommand:!0,qos:0,retain:!1,path:null,flags:0,onData:function(a){if(a&&a.topic&&a.topic==this.topic){this.getContext();var b=this[this._getContainer()],
c=this._lastSettings,d=[];if(0<b.length)for(b=a,(this.path="value",_.isObject(a))&&(b=g.getAt(a,this.path,a)),a=0;a<this.items.length;a++){var e=this.items[a];e.enabled&&(e.override={args:[b]},d.push(e.solve(this.scope,c)))}this.onSuccess(this,this._lastSettings);return d}},observed:["topic"],getContext:function(){return this.context||(this.scope.getContext?this.scope.getContext():this)},solve:function(a,b,c){this._currentIndex=0;this._return=[];b=this._lastSettings=b||this._lastSettings;var d=this.getInstance();
!0===c&&this._loop&&this.reset();var e=this.args;c=this.getArgs(b);c[0]&&(e=c[0]);if(d){var f=b.flags||this.flags;c=!(f&k.CIFLAG.DONT_PARSE);f&=k.CIFLAG.EXPRESSION;e=g.getJson(e,!0,!1);null!==e&&0!==e&&!0!==e&&!1!==e&&_.isObject(e)||(e={payload:this.args});var h=a.expressionModel.replaceVariables(a,this.topic,!1,!1);if(e.payload&&_.isString(e.payload)&&c){var l=b.override||this.override||{},m=l&&l.variables?l.variables:null;!1!==c&&(e.payload=g.convertAllEscapes(e.payload,"none"));f&&!1!==c&&(e.payload=
a.parseExpression(e.payload,null,m,null,null,null,l.args))}d.callMethod("publishTopic",g.mixin({topic:h,qos:this.qos,retain:this.retain},e),this.id,this.id)}b=b||{};this.onDidRun();this.onSuccess(this,b);return!0},toText:function(a){a='<span style="">'+this.getBlockIcon()+" "+this.makeEditable("name","top","text","Enter a name","inline")+" :: </span>";this.topic&&(a+=this.makeEditable("topic","bottom","text","Enter a topic","inline"),this.startup&&(a+=this.getIcon("fa-bell inline-icon text-warning",
"text-align:right;float:right;","")),0<this.interval&&(a+=this.getIcon("fa-clock-o inline-icon text-warning","text-align:right;float:right","")));return a},canAdd:function(){return[]},getFields:function(){var a=this.inherited(arguments)||this.getDefaultFields();a.push(g.createCI("qos",k.ECIType.ENUMERATION,this.qos,{group:"General",title:"QOS",dst:"qos",widget:{options:[{label:"0 - at most once",value:0},{label:"1 - at least once",value:1},{label:"2 - exactly once",value:2}]}}));a.push(g.createCI("arguments",
27,this.args,{group:"Arguments",title:"Arguments",dst:"args"}));a.push(this.utils.createCI("flags",5,this.flags,{group:"Arguments",title:"Flags",dst:"flags",data:[{value:4096,label:"Dont parse",title:"Do not parse the string and use it as is"},{value:2048,label:"Expression",title:"Parse it as Javascript"}],widget:{hex:!0}}));a.push(g.createCI("topic",k.ECIType.STRING,this.topic,{group:"General",title:"Topic",dst:"topic",select:!0}));a.push(g.createCI("retain",k.ECIType.BOOL,this.retain,{group:"General",
title:"Retain",dst:"retain"}));a.remove(_.find(a,{name:"send"}));a.remove(_.find(a,{name:"waitForResponse"}));return a}})});
define("xblox/model/mqtt/Subscribe","dcl/dcl xdojo/has xblox/model/Block xide/utils xblox/model/Contains xide/types".split(" "),function(c,m,g,k,f,a,b,d){m=m("host-node");var e="undefined"!==typeof window?window.console:global.console;m&&b&&e&&e.error&&(e=d);return c([g,f],{declaredClass:"xblox.model.mqtt.Subscribe",name:"Subscribe",topic:"Topic",args:"",deferred:!1,sharable:!0,context:null,icon:"fa-bell",path:"",qos:0,stop:function(){var a=this.getInstance();a&&a.callMethod("unSubscribeTopic",k.mixin({topic:this.topic},
k.getJson(this.args||{})),this.id,this.id)},onData:function(a){if(a&&a.topic&&a.topic==this.topic){delete a.src;delete a.id;var b=this[this._getContainer()],c=this._lastSettings,d=[];if(0<b.length){var b=a,e=this.path&&this.path.length?this.path:null!==a.payload?"payload":null;e&&_.isObject(a)&&(b=k.getAt(a,e,a));for(a=0;a<this.items.length;a++)e=this.items[a],e.enabled&&(e.override={args:[b]},d.push(e.solve(this.scope,c)))}this.onSuccess(this,this._lastSettings);return d}},observed:["topic"],getContext:function(){return this.context||
(this.scope.getContext?this.scope.getContext():this)},solve:function(a,b){this._currentIndex=0;this._return=[];this._lastSettings=b;(a=this.getInstance())&&a.callMethod("subscribeTopic",k.mixin({topic:this.topic,qos:this.qos},k.getJson(this.args||"{}")),this.id,this.id);b=b||{};this.onRunThis(b)},toText:function(){var a='<span style="">'+this.getBlockIcon()+""+this.makeEditable("topic","bottom","text","Enter a topic","inline")+" :: </span>";this.topic&&(a+=this.topic.substr(0,30));return a},canAdd:function(){return[]},
getFields:function(){var b=this.inherited(arguments)||this.getDefaultFields();b.push(k.createCI("name",13,this.name,{group:"General",title:"Name",dst:"name"}));b.push(k.createCI("arguments",27,this.args,{group:"Arguments",title:"Arguments",dst:"args"}));b.push(k.createCI("topic",a.ECIType.STRING,this.topic,{group:"General",title:"Topic",dst:"topic",select:!0}));b.push(k.createCI("name",a.ECIType.ENUMERATION,this.qos,{group:"General",title:"QOS",dst:"qos",widget:{options:[{label:"0 - at most once",
value:0},{label:"1 - at least once",value:1},{label:"2 - exactly once",value:2}]}}));b.push(k.createCI("path",a.ECIType.STRING,this.path,{group:"General",title:"Value Path",dst:"path"}));return b}})});
define("xblox/model/events/OnKey","dcl/dcl dojo/_base/lang dojo/_base/array dojo/Deferred xblox/model/Block xide/utils xide/types xide/mixins/EventedMixin xblox/model/Referenced xblox/model/Contains xblox/model/events/OnEvent xide/registry dojo/on".split(" "),function(c,m,g,k,f,a,b,d,e,h,l,n,p){return c([f,d.dcl,e.dcl,h],{declaredClass:"xblox.model.events.OnKey",name:"On Key",event:"",reference:"",references:null,description:"Triggers when a keyboard sequence "+this.event+" has been entered",listeners:null,
sharable:!0,toText:function(){var a=this.getBlockIcon()+" "+this.name+" :: ";this.event&&(a+=this.event);return a},canAdd:function(){return[]},getFields:function(){var c=this.inherited(arguments)||this.getDefaultFields();c.push(a.createCI("Keyboard Sequence",b.ECIType.STRING,this.event,{group:"General",dst:"event",value:this.event,intermediateChanges:!1}));c.push(a.createCI("Object/Widget",b.ECIType.WIDGET_REFERENCE,this.reference,{group:"General",dst:"reference",value:this.reference}));return c},
getBlockIcon:function(){return'<span class="fa-keyboard-o"></span>'},onEvent:function(a){this._lastResult=a;this.solve(this.scope,this._lastRunSettings)},_addListerner:function(a,b,c){null==this.listeners&&(this.listeners=[]);var d=null,d=new window.keypress.Listener(c,{is_unordered:!0,prevent_repeat:!1,prevent_default:!1,on_keyup:function(a){console.log("up")},on_keydown:function(a){console.log("down")},on_release:function(a){console.log("release")}});d.simple_combo(a,function(a){b&&b(arguments)});
this.listeners.push(d)},_subscribe:function(a,b,c){a&&(c&&c.domNode&&(c=c.domNode),this._addListerner(a,b,c))},_registerEvent:function(a){if(a&&a.length){var b=this.resolveReference(this.deserialize(this.reference)),c=this;if(b&&b.length)for(var d=0;d<b.length;d++){var e=b[d];if(e&&e.id){var f=n.byId(e.id);f=null,this._subscribe(a,function(){c.onEvent(arguments)},e)}else this._subscribe(a,function(){c.onEvent(arguments)},e)}else this._subscribe(a,function(){c.onEvent(arguments)})}},onLoad:function(){this._onLoaded=
!0;this.event&&this.event.length&&this.enabled&&this._registerEvent(this.event)},destroy:function(){this.inherited(arguments)},updateEventSelector:function(a,c){if(a&&a.length){a=[{label:"onclick",value:"onclick"},{label:"ondblclick",value:"ondblclick"},{label:"onmousedown",value:"onmousedown"},{label:"onmouseup",value:"onmouseup"},{label:"onmouseover",value:"onmouseover"},{label:"onmousemove",value:"onmousemove"},{label:"onmouseout",value:"onmouseout"},{label:"onkeypress",value:"onkeypress"},{label:"onkeydown",
value:"onkeydown"},{label:"onkeyup",value:"onkeyup"},{label:"onfocus",value:"onfocus"},{label:"onblur",value:"onblur"},{label:"onchange",value:"onchange"}];for(var d=0;d<a.length;d++){var e=a[d];if(e.value===this.event){e.selected=!0;break}}}else a=this.scope.getEventsAsOptions(this.event);for(d=0;d<c.length;d++)if(e=c[d],e.widget&&"Event"===e.widget.title){c=e._widget;c.nativeWidget.set("options",a);c.nativeWidget.reset();c.nativeWidget.set("value",this.event);this.publish(b.EVENTS.RESIZE,{});break}},
onReferenceChanged:function(a,b){this._destroy();this.reference=a;this.resolveReference(this.deserialize(a));this._registerEvent(this.event)},onChangeField:function(a,b,c){"event"==a&&(this._destroy(),this._onLoaded&&(this.event=b,this._registerEvent(b)));if("reference"==a)this.onReferenceChanged(b,c);this.inherited(arguments)},activate:function(){this._destroy();this._registerEvent(this.event)},deactivate:function(){this._destroy()},_destroy:function(){if(this.listeners)for(var a=0;a<this.listeners.length;a++){var b=
this.listeners[a];b.stop_listening();var c=b.get_registered_combos();c&&b.unregister_many(c);b.reset();console.log("did destroy listener")}this.listeners=[]},onFieldsRendered:function(a,b){}})});define("xblox/model/Referenced",["dcl/dcl","dojo/_base/declare","xide/mixins/ReferenceMixin","xide/utils"],function(c,m,g,k){var f={reference:null,deserialize:function(a){if(!a||0==a.length)return{};try{return k.fromJson(a)}catch(b){return{}}}};m=m("xblox.model.Referenced",[g],f);m.dcl=c(g.dcl,f);return m});
define("xide/mixins/ReferenceMixin",["dcl/dcl","dojo/_base/declare","xide/types","xide/utils","xide/registry"],function(c,m,g,k,f){function a(a,b){return(a=a.document.getElementById(b))?a:null}k.find=function(a,b,c){return(a=$(b).find(a))&&0<a.length?!1===c?a:a[0]:null};var b={_targetReference:null,getTarget:function(){return this._targetReference||this.inherited(arguments)},skipWidgetCSSClasses:"dijitButtonHover dijitHover dijit dijitInline dijitReset dijitCheckBoxChecked dijitChecked dijitLeft".split(" "),
_cssClassesToQuery:function(a){var b="";if(a){a=a.split(" ");for(var c=0;c<a.length;c++)-1<k.contains(this.skipWidgetCSSClasses,a[c])||-1<a[c].toLowerCase().indexOf("hover")||(b+=""+a[c])}return b.trim()},resolveReference:function(b,e){var d=null;try{d=this.getTarget()}catch(p){return logError(p),null}var l=this.scope,n=b.reference;if(!(b&&n&&n.length)&&d)return[d];switch(b.mode){case g.WIDGET_REFERENCE_MODE.BY_ID:if(this.scope&&this.scope.document){e=[];if(-1!==n.indexOf(" "))for(n=n.split(" "),
b=0;b<n.length;b++)(d=a(l,n[b]))&&e.push(d);else return[a(l,n)];return e}l=f.byId(n);n="undefined"!==typeof document?document.getElementById(n):null;if(l||n)return l?[l]:[n];break;case g.WIDGET_REFERENCE_MODE.BY_CLASS:if(l=dojo.getObject(n)||c.getObject(n))return[l];break;case g.WIDGET_REFERENCE_MODE.BY_CSS:l=this._cssClassesToQuery(n);this._parseString&&(l=this._parseString(l,e,null,e&&e.flags?e.flags:g.CIFLAG.EXPRESSION)||l);n=null;this.scope&&this.scope.global&&this.scope.global.$?n=this.scope.global.$:
"undefined"!==typeof $&&(n=$);if(n&&(n=n(l)))return n;if(l=k.find(l,null,!1))return l}return null}};m=m("xblox.model.ReferenceMixin",null,b);m.dcl=c(null,b);return m});
define("xblox/model/events/OnEvent","dcl/dcl dojo/_base/lang dojo/Deferred xblox/model/Block xide/utils xide/types xide/mixins/EventedMixin xblox/model/Referenced xide/registry dojo/on xwire/_Base".split(" "),function(c,m,g,k,f,a,b,d,e,h,l){return c([k,b.dcl,d.dcl,l],{declaredClass:"xblox.model.events.OnEvent",name:"On Event",event:"",reference:"",references:null,sharable:!0,_didSubscribe:!1,filterPath:"item.name",filterValue:"",valuePath:"item.value",_nativeEvents:"onclick ondblclick onmousedown onmouseup onmouseover onmousemove onmouseout onkeypress onkeydown onkeyup onfocus onblur onchange".split(" "),
stop:function(){this._destroy()},solve:function(a,b,c,d){c&&this._destroy();b=this._lastSettings=b||this._lastSettings;if(!this._didSubscribe)return this._registerEvent(this.event),this.onSuccess(this,b),!1;this.onSuccess(this,b);this._currentIndex=0;this._return=[];a=this[this._getContainer()];if(a.length)return a=this.runFrom(a,0,b),this.onSuccess(this,b),a;this.onSuccess(this,b);return[]},toText:function(){var a=this.getBlockIcon()+" "+this.name+" :: ";this.event&&(a+=this.event);return a},canAdd:function(){return[]},
getFields:function(){var b=this.inherited(arguments)||this.getDefaultFields();this.deserialize(this.reference);var c;if(-1<f.contains(this._nativeEvents,this.event)){c=[{label:"onclick",value:"onclick"},{label:"ondblclick",value:"ondblclick"},{label:"onmousedown",value:"onmousedown"},{label:"onmouseup",value:"onmouseup"},{label:"onmouseover",value:"onmouseover"},{label:"onmousemove",value:"onmousemove"},{label:"onmouseout",value:"onmouseout"},{label:"onkeypress",value:"onkeypress"},{label:"onkeydown",
value:"onkeydown"},{label:"onkeyup",value:"onkeyup"},{label:"onfocus",value:"onfocus"},{label:"onblur",value:"onblur"},{label:"onchange",value:"onchange"}];for(var d=0;d<c.length;d++){var e=c[d];if(e.value===this.event){e.selected=!0;break}}}else c=this.scope.getEventsAsOptions(this.event);b.push(f.createCI("Event",a.ECIType.ENUMERATION,this.event,{group:"General",options:c,dst:"event",widget:{search:!0}}));b.push(f.createCI("Filter Path",13,this.filterPath,{group:"General",dst:"filterPath"}));b.push(f.createCI("Filter Value",
13,this.filterValue,{group:"General",dst:"filterValue"}));b.push(f.createCI("Value Path",13,this.valuePath,{group:"General",dst:"valuePath"}));b.push(f.createCI("Object/Widget",a.ECIType.WIDGET_REFERENCE,this.reference,{group:"Widget",dst:"reference",value:this.reference}));return b},getBlockIcon:function(){return'<span class="fa-bell"></span>'},onEvent:function(a){this._lastResult=a;if(this.filterPath&&this.filterValue){var b=this.getValue(a,this.filterPath);if(b&&this.filterValue!==b)return}this.valuePath&&
(this._lastSettings||(this._lastSettings={}),a=this.getValue(a,this.valuePath),null!==a&&(!this._lastSettings.override&&(this._lastSettings.override={}),this._lastSettings.override.args=[a]));this.solve(this.scope,this._lastSettings)},_subscribe:function(a,b,c){if(a)if(-1==f.contains(this._nativeEvents,a))this.__events&&this.__events[a]&&(c=this.__events[a],_.each(c,function(a){this.unsubscribe(a.type,a.handler);a.remove()},this),_.each(c,function(b){this.__events[a].remove(b)},this)),this.subscribe(a,
this.onEvent);else if(c){b=a.replace("on","");var d=this;c=h(c,b,function(a){d.onEvent(a)});console.log("wire native event : "+b);this._events.push(c)}},_registerEvent:function(a){try{if(!a||!a.length)return;console.log("register event : "+a+" for "+this.reference);var b=this.resolveReference(this.deserialize(this.reference)),c=this;if(b&&b.length){for(var d=0;d<b.length;d++){var f=b[d];if(f&&f.id){var h=e.byId(f.id);if(h&&h.on){var l=this.event.replace("on","");console.log("found widget : "+f.id+
" will register event "+l);var g=h.on(l,m.hitch(this,function(a){console.log("event triggered : "+c.event);c.onEvent(a)}));this._events.push(g)}else this._subscribe(a,this.onEvent,f)}else this._subscribe(a,this.onEvent,f)}console.log("objects found : ",b)}else this._subscribe(a,this.onEvent)}catch(w){logError(w,"registering event failed")}this._didSubscribe=a},onLoad:function(){this._onLoaded=!0;this.event&&this.event.length&&this.enabled&&this._registerEvent(this.event)},updateEventSelector:function(b,
c){if(b&&b.length){b=[{label:"onclick",value:"onclick"},{label:"ondblclick",value:"ondblclick"},{label:"onmousedown",value:"onmousedown"},{label:"onmouseup",value:"onmouseup"},{label:"onmouseover",value:"onmouseover"},{label:"onmousemove",value:"onmousemove"},{label:"onmouseout",value:"onmouseout"},{label:"onkeypress",value:"onkeypress"},{label:"onkeydown",value:"onkeydown"},{label:"onkeyup",value:"onkeyup"},{label:"onfocus",value:"onfocus"},{label:"onblur",value:"onblur"},{label:"onchange",value:"onchange"}];
for(var d=0;d<b.length;d++){var e=b[d];if(e.value===this.event){e.selected=!0;break}}}else b=this.scope.getEventsAsOptions(this.event);for(d=0;d<c.length;d++)if(e=c[d],e.widget&&"Event"===e.widget.title){c=e._widget;c.nativeWidget.set("options",b);c.nativeWidget.reset();c.nativeWidget.set("value",this.event);this.publish(a.EVENTS.RESIZE,{});break}},onReferenceChanged:function(a,b){this._destroy();this.reference=a;a=this.resolveReference(this.deserialize(a));this.updateEventSelector(a,b);this._registerEvent(this.event)},
onChangeField:function(a,b,c){"event"==a&&(this._destroy(),this._onLoaded&&(this.event=b,this._registerEvent(b)));if("reference"==a)this.onReferenceChanged(b,c);this.inherited(arguments)},activate:function(){this._destroy();this._registerEvent(this.event)},deactivate:function(){this._destroy()},_destroy:function(){this._events||(this._events=[]);_.each(this._events,dojo.unsubscribe);this.unsubscribe(this.event,this.onEvent);this._lastResult=null;this._didSubscribe=!1}})});
define("xwire/_Base",["dcl/dcl","xide/mixins/EventedMixin"],function(c,m){function g(c,a){a=k(a);for(var b=0,d=a.length;b<d;++b){var e=a[b];c=null==c?c:c[e]}return c}function k(c,a){return""===c?[]:"function"!==typeof c.splice?c.split("."):a?c.slice():c}return c([m.dcl],{declaredClass:"xwire._Base",constructor:function(c){for(var a in c)c.hasOwnProperty(a)&&(this[a]=c[a])},getValue:function(c,a){return g(c,a)},setValue:function(c,a,b){var d=k(a,!0),e=d.pop();c=0<d.length?g(c,d):c;return Object(c)===
c&&a?"function"===typeof c.set?c.set(e,b):c[e]=b:void 0}})});
define("xblox/model/code/RunBlock",["dcl/dcl","xblox/model/Block","xide/types","xide/utils"],function(c,m,g,k){return c(m,{declaredClass:"xblox.model.code.RunBlock",name:"Run Block",file:"",method:"",args:"",sharable:!0,block:"",description:"Runs another Block",solve:function(c,a){if((c=this.getContext())&&null!=c[this.method]){var b=[],d=c[this.method];try{var e=this._getArgs(),b=d.apply(c,e||[]);this.onSuccess(this,a);return b}catch(h){console.error("call method failed"),this.onFailed(this,a)}}else this.onFailed(this,
a);return[]},toText:function(){var c=this.getBlockIcon()+" "+this.name+" ";this.method&&(c+=this.method.substr(0,20));return c},getFields:function(){var c=this.getDefaultFields();c.push(k.createCI("Block",g.ECIType.BLOCK_REFERENCE,this.block,{toolTip:"Enter  block, you can use also the block's share title",group:"General",dst:"block",value:this.block,title:"Block",scope:this.scope}));c.push(k.createCI("File",g.ECIType.FILE,this.file,{toolTip:"Leave empty to auto-select this file",group:"General",
dst:"file",value:this.file,intermediateChanges:!1,acceptFolders:!1,acceptFiles:!0,encodeFilePath:!1,buildFullPath:!0,filePickerOptions:{dialogTitle:"Select Block File",filePickerMixin:{beanContextName:this.id,persistent:!1,globalPanelMixin:{allowLayoutCookies:!1}},configMixin:{beanContextName:this.id,LAYOUT_PRESET:g.LAYOUT_PRESET.SINGLE,PANEL_OPTIONS:{ALLOW_MAIN_MENU:!1,ALLOW_NEW_TABS:!0,ALLOW_MULTI_TAB:!1,ALLOW_INFO_VIEW:!0,ALLOW_LOG_VIEW:!1,ALLOW_CONTEXT_MENU:!0,ALLOW_LAYOUT_SELECTOR:!0,ALLOW_SOURCE_SELECTOR:!0,
ALLOW_COLUMN_RESIZE:!0,ALLOW_COLUMN_REORDER:!0,ALLOW_COLUMN_HIDE:!0,ALLOW_ACTION_TOOLBAR:!0,ALLOW_BREADCRUMBS:!1}},defaultStoreOptions:{fields:1663,includeList:"xblox",excludeList:"*"},startPath:this.file}}));return c},getBlockIcon:function(){return'<span class="el-icon-share-alt"></span>'}})});
define("xblox/model/server/Shell",["dcl/dcl","xblox/model/server/ServerBlock","xide/utils","xcf/model/Command"],function(c,m,g,k){return c([k,m],{declaredClass:"xblox.model.server.Shell",description:"Runs a JSON-RPC-2.0 method on the server",name:"Run Shell",method:"",args:"",deferred:!0,defaultServiceClass:"XShell",defaultServiceMethod:"run",sharable:!0,onMethodChanged:function(c,a){this.method=c;g.isValidString(this.args)||(c=this.getServerParams())&&this._updateArgs(c,a)},_getArgs:function(){var c=
g.getJson(this.args||"[]"),a=[];if(c){var b=!1;c&&c[0]&&null!=c[0].optional&&(b=!0);if(b)for(b=0;b<c.length;b++){var d=c[b],e=d.value;-1!=d.name.indexOf("Base64")&&(e=this.getService().base64_encode(e));"notset"!==d.value?-1!=d.value.indexOf("[")&&-1!=d.value.indexOf("]")?(e=this.scope.expressionModel.replaceVariables(this.scope,d.value,!1,!1),-1!=d.name.indexOf("Base64")&&(e=this.getService().base64_encode(e)),a.push(e)):a.push(e||d["default"]):a.push(d["default"]||e)}}else return[this.args];return a},
_updateArgs:function(c,a){if(a=this.utils.getCIWidgetByName(a,"args"))c=JSON.stringify(c),a.editBox.set("value",c),this.args=c},getServerParams:function(){var c=this.getService().getParameterMap(this.getServiceClass(),this.getServiceMethod());if(c)for(var a=0;a<c.length;a++)c[a].value="notset";return c},solve:function(c,a,b,d,e,h){this._return=[];this._lastResult=null;this._lastSettings=a||this._lastSettings;a=this.getInstance();c=c.expressionModel.replaceVariables(c,this.method,!1,!1);a.runShell(c,
g.mixin({},{}),this.id,this.id,this)},toText:function(){var c=this.getBlockIcon()+" "+this.name+" :: ";this.method&&(c+=this.method.substr(0,50));return c},canAdd:function(){return[]},getFields:function(){var c=this.inherited(arguments)||this.getDefaultFields(),a=this;c.push(g.createCI("value",25,this.method,{group:"General",title:"Cmd",dst:"method",delegate:{runExpression:function(b,c,e){a.method=b;a.solve(a.scope,null,c,e)}}}));return c},getBlockIcon:function(){return'<span class="fa-plug"></span>'},
mayHaveChildren:function(c){return null!=this.items&&0<this.items.length},getChildren:function(c){return this.items},onChangeField:function(c,a,b){if("method"===c)this.onMethodChanged(a,b)},isInValidState:function(){return null!=this.getService()},getService:function(){var c=this.scope.getService();c||console.error("have no service object");return c},getServiceClass:function(){return this.method.split("::")[0]||this.defaultServiceClass},getServiceMethod:function(){return this.method.split("::")[1]||
this.defaultServiceMethod},hasMethod:function(c){return this.isInValidState()&&null!=this.getService()[this.getServiceClass()]&&null!=this.getService()[this.getServiceClass()][this.getServiceMethod()]},hasServerClass:function(c){return this.isInValidState()&&null!=this.getService()[this.getServiceClass()]},getServerFunction:function(){return this.isInValidState()&&this.getServiceClass()&&this.getServiceMethod()?this.getService()[this.getServiceClass()][this.getServiceMethod()]:null}})});
define("xblox/model/server/ServerBlock",["dcl/dcl","xblox/model/Block","xide/utils"],function(c,m,g){return c(m,{declaredClass:"xblox.model.server.ServerBlock",name:"Run Server Block",method:"XShell::run",args:"",deferred:!0,defaultServiceClass:"XShell",defaultServiceMethod:"run",sharable:!0,onReloaded:function(){},solve:function(c,f,a,b){this._currentIndex=0;this._return=[];if((c=""+this.method)&&c.length){var d=new Function("{"+c+"}"),e=this.getArgs();try{var h=d.apply(this,e||{});this._lastResult=
h;a&&a("Expression "+c+" evaluates to "+h);if("false"!==h&&!1!==h)this.onSuccess(this,f);else return this.onFailed(this,f),[]}catch(l){return b&&b("invalid expression : \n"+c+": "+l),this.onFailed(this,f),[]}}else console.error("have no script");a=this[this._getContainer()];if(a.length)this.runFrom(a,0,f);else this.onSuccess(this,f);return[]},toText:function(){var c=this.getBlockIcon()+" "+this.name+" :: ";this.method&&(c+=this.method.substr(0,50));return c},canAdd:function(){return[]},getServerDefaultFields:function(c){c=
c||[];c.push(g.createCI("args",27,this.args,{group:"General",title:"Arguments",dst:"args"}));return c},getBlockIcon:function(){return'<span class="fa-plug"></span>'},mayHaveChildren:function(c){return null!=this.items&&0<this.items.length},getChildren:function(c){return this.items},isInValidState:function(){return null!=this.getService()},getService:function(){return this.scope.getService()},getServiceClass:function(){return this.method.split("::")[0]||this.defaultServiceClass},getServiceMethod:function(){return this.method.split("::")[1]||
this.defaultServiceMethod},hasMethod:function(c){return this.isInValidState()&&null!=this.getService()[this.getServiceClass()]&&null!=this.getService()[this.getServiceClass()][this.getServiceMethod()]},hasServerClass:function(c){return this.isInValidState()&&null!=this.getService()[this.getServiceClass()]},getServerFunction:function(){return this.isInValidState()&&this.getServiceClass()&&this.getServiceMethod()?this.getService()[this.getServiceClass()][this.getServiceMethod()]:null}})});
define("xblox/model/server/RunServerMethod",["dcl/dcl","xblox/model/server/ServerBlock","xide/utils"],function(c,m,g){return c(m,{declaredClass:"xblox.model.server.RunServerMethod",description:"Runs a JSON-RPC-2.0 method on the server",name:"Run Server Method",method:"XShell::run",args:"",deferred:!0,defaultServiceClass:"XShell",defaultServiceMethod:"run",sharable:!0,onMethodChanged:function(c,f){this.method=c;g.isValidString(this.args)||(c=this.getServerParams())&&this._updateArgs(c,f)},_getArgs:function(){var c=
g.getJson(this.args||"[]"),f=[];if(c){var a=!1;c&&c[0]&&null!=c[0].optional&&(a=!0);if(a)for(a=0;a<c.length;a++){var b=c[a],d=b.value;-1!=b.name.indexOf("Base64")&&(d=this.getService().base64_encode(d));"notset"!==b.value?-1!=b.value.indexOf("[")&&-1!=b.value.indexOf("]")?(d=this.scope.expressionModel.replaceVariables(this.scope,b.value,!1,!1),-1!=b.name.indexOf("Base64")&&(d=this.getService().base64_encode(d)),f.push(d)):f.push(d||b["default"]):f.push(b["default"]||d)}}else return[this.args];return f},
_updateArgs:function(c,f){if(f=this.utils.getCIWidgetByName(f,"args"))c=JSON.stringify(c),f.editBox.set("value",c),this.args=c},getServerParams:function(){var c=this.getService().getParameterMap(this.getServiceClass(),this.getServiceMethod());if(c)for(var f=0;f<c.length;f++)c[f].value="notset";return c},onReloaded:function(c){console.log("sdfsd");this._solve()},_solve:function(c,f,a,b){console.log("solve223")},solve:function(c,f,a,b){this._return=[];this._lastResult=null;c=[];if(!this.isInValidState())return this.onFailed(this,
f),c;c=this._getArgs();this.onRun(this,f);this.getService();f=this.scope.serviceObject;console.error("run deferred");(f=f.runDeferred(this.getServiceClass(),this.getServiceMethod(),c))&&f.then(function(a){console.error("returned ",a)});return f},toText:function(){var c=this.getBlockIcon()+" "+this.name+" :: ";this.method&&(c+=this.method.substr(0,50));return c},canAdd:function(){return[]},getFields:function(){var c=this.inherited(arguments)||this.getDefaultFields(),f=this;c.push(g.createCI("value",
25,this.method,{group:"General",title:"Method",dst:"method",description:"This should be in the format : MyServerClass::myMethod",delegate:{runExpression:function(a,b,c){f.method=a;f.solve(f.scope,null,b,c)}}}));return c=c.concat(this.getServerDefaultFields())},getBlockIcon:function(){return'<span class="fa-plug"></span>'},mayHaveChildren:function(c){return null!=this.items&&0<this.items.length},getChildren:function(c){return this.items},onChangeField:function(c,f,a){if("method"===c)this.onMethodChanged(f,
a)},isInValidState:function(){return null!=this.getService()},getService:function(){var c=this.scope.getService();c||console.error("have no service object");return c},getServiceClass:function(){return this.method.split("::")[0]||this.defaultServiceClass},getServiceMethod:function(){return this.method.split("::")[1]||this.defaultServiceMethod},hasMethod:function(c){return this.isInValidState()&&null!=this.getService()[this.getServiceClass()]&&null!=this.getService()[this.getServiceClass()][this.getServiceMethod()]},
hasServerClass:function(c){return this.isInValidState()&&null!=this.getService()[this.getServiceClass()]},getServerFunction:function(){return this.isInValidState()&&this.getServiceClass()&&this.getServiceMethod()?this.getService()[this.getServiceClass()][this.getServiceMethod()]:null}})});
define("xblox/model/logging/Log","dcl/dcl dojo/Deferred xblox/model/Block xide/utils xide/types xide/mixins/EventedMixin".split(" "),function(c,m,g,k,f,a){return c([g,a.dcl],{declaredClass:"xblox.model.logging.Log",name:"Log Message",level:"info",message:'return "Message: " + arguments[0];',_type:"XBlox",host:"this host",sharable:!0,toText:function(){var a="text-primary";switch(this.level){case "info":a="text-info";break;case "warn":a="text-warning";break;case "error":a="text-danger"}a=this.getBlockIcon()+
" "+this.name+" : <span class='"+a+" small'>  :: ";this.message&&(a+=this.message);return a+"</span>"},_solveExpression:function(a,c,e,f,l){if((a=""+a)&&a.length){a=k.convertAllEscapes(a,"none");var b=this.getArgs();try{var d=c.parseExpression(a,null,null,null,null,this,b);f&&f("Expression "+a+" evaluates to "+d);return d}catch(r){l&&l("invalid expression : \n"+a+": "+r),this.onFailed(this,e)}}return a},solve:function(a,c,e,h){var b=new m,d=a.device;a=this._solveExpression(this.message,a,c,e,h);d=
{message:a,level:this.level,type:this._type,details:this.getArgs(),time:(new Date).getTime(),data:{device:d?d.info:null},write:!0};this.onSuccess(this,c);b.resolve(a);try{this.publish(f.EVENTS.ON_SERVER_LOG_MESSAGE,d)}catch(p){this.onFailed(this,c)}return b},canAdd:function(){return null},getFields:function(){var a=this.inherited(arguments)||this.getDefaultFields(),c=this;a.push(k.createCI("Level",3,this.level,{group:"General",options:[{value:"info",label:"Info"},{value:"warn",label:"Warning"},{value:"error",
label:"Error"},{value:"debug",label:"Debug"},{value:"help",label:"Help"},{value:"verbose",label:"verbose"},{value:"silly",label:"Silly"}],dst:"level"}));a.push(k.createCI("message",25,this.message,{group:"General",title:"Message",dst:"message",delegate:{runExpression:function(a,b,d){c._solveExpression(a,c.scope,null,b,d)}}}));a.push(k.createCI("message",13,this._type,{group:"General",title:"Type",dst:"_type"}));return a},getBlockIcon:function(){return'<span class="fa-bug"></span>'}})});
define("xblox/model/variables/VariableSwitch","dcl/dcl xblox/model/logic/SwitchBlock xide/types xblox/model/logic/CaseBlock xblox/model/logic/DefaultBlock dojo/Deferred".split(" "),function(c,m,g,k,f,a){return c(m,{declaredClass:"xblox.model.variables.VariableSwitch",name:"Switch on Variable",icon:"",variable:"PowerState",toText:function(){var a=this.scope.getVariableById(this.variable),a=a?a.name:"";return this.getBlockIcon("H")+this.name+" "+a},getFields:function(){var a=this.getDefaultFields(!1,
!1);return a=a.concat([this.utils.createCI("Variable",3,this.variable,{group:"General",widget:{store:this.scope.blockStore,labelField:"name",valueField:"id",query:[{group:"basicVariables"},{group:"processVariables"}]},dst:"variable"})])}})});
define("xblox/model/logic/DefaultBlock",["dcl/dcl","xblox/model/Block"],function(c,m){return c(m,{declaredClass:"xblox.model.logic.DefaultBlock",name:"Default",icon:"",hasInlineEdits:!1,toText:function(){return'&nbsp;<span class="fa-eject text-info"></span>&nbsp;&nbsp;<span>'+this.name+"</span>"},solve:function(c,k){this.onSuccess(this,k);return this._solve(c,k)}})});
define("xblox/model/logic/SwitchBlock","dcl/dcl xblox/model/Block xblox/model/logic/CaseBlock xblox/model/logic/DefaultBlock dojo/Deferred xide/lodash".split(" "),function(c,m,g,k,f,a){return c(m,{declaredClass:"xblox.model.logic.SwitchBlock",items:null,name:"Switch",icon:null,toText:function(){return this.getBlockIcon("H")+this.name+" "},canAdd:function(a){return a&&a.isInstanceOf?a.isInstanceOf(g)||a.isInstanceOf(k):[]},getFields:function(){return this.getDefaultFields(!1,!1)},solve:function(a,
c){var b=this._stopped=!1,d=[];this.onSuccess(this,c);for(var f=0;f<this.items.length;f++){var g=this.items[f];if("xblox.model.logic.CaseBlock"===g.declaredClass&&(g=g.solve(a,this,c),0!=g)){b=!0;this.addToEnd(d,g);break}if(this._stopped)break}if(!b)for(f=0;f<this.items.length;f++)g=this.items[f],"xblox.model.logic.CaseBlock"!=g.declaredClass&&this.addToEnd(d,g.solve(a,c));return d},getChildren:function(){return this.items},stop:function(){this._stopped=!0},runAction:function(a){var b=a.command;if("New/Case"===
b||"New/Default"===a.command){a=this.scope.blockStore;var c=new f,h=null;switch(b){case "New/Case":h=this.add(g,{comparator:"==",expression:"on",group:null});break;case "New/Default":h=this.add(k,{group:null})}c.resolve({select:[h],focus:!0,append:!1});h.refresh();a._emit("added",{target:h})}},getActions:function(b,c){b=[this.createAction({label:"New Case",command:"New/Case",icon:this.getBlockIcon("I"),tab:"Home",group:"File",mixin:{addPermission:!0,custom:!0,quick:!1}})];a.find(this.items,{declaredClass:"xblox.model.logic.DefaultBlock"})||
b.push(this.createAction({label:"Default",command:"New/Default",icon:"fa-eject",tab:"Home",group:"File",mixin:{addPermission:!0,custom:!0,quick:!1}}));return b}})});
define("xblox/model/logic/ElseIfBlock",["dcl/dcl","xblox/model/Block","xblox/model/Contains"],function(c,m,g){return c([m,g],{declaredClass:"xblox.model.logic.ElseIfBlock",condition:"",consequent:null,name:"else if",icon:"",solve:function(c,f){return this._checkCondition(c)?this._solve(c,f):!1},toText:function(){return"<span class='text-primary'>"+this.getBlockIcon("E")+this.name+" </span><span class='text-warning small'>"+(this.condition||"")+"<span>"},_checkCondition:function(c){return null!==this.condition?
c.parseExpression(this.condition):!1},getFields:function(){var c=this,f=this.inherited(arguments)||this.getDefaultFields();f.push(this.utils.createCI("condition",this.types.ECIType.EXPRESSION_EDITOR,this.condition,{group:"General",title:"Expression",dst:"condition",delegate:{runExpression:function(a,b,d){return c.scope.expressionModel.parse(c.scope,a,!1,b,d)}}}));return f}})});
define("xblox/model/logic/IfBlock","dcl/dcl xblox/model/Block xblox/model/Statement xblox/model/logic/ElseIfBlock dojo/Deferred xide/utils".split(" "),function(c,m,g,k,f,a){return c(m,{declaredClass:"xblox.model.logic.IfBlock",condition:"Invalid Expression",consequent:null,elseIfBlocks:null,alternate:null,canAdd:function(){return[]},autoCreateElse:!0,name:"if",icon:"",add:function(a,c,e){null==e&&(e="consequent");return this._add(a,c,e,!1)},__addToStore:function(a){a.put(this)},mayHaveChildren:function(){return null!==
this.items&&this.items.length||null!==this.elseIfBlocks&&this.elseIfBlocks.length||null!=this.consequent&&this.consequent.length||null!=this.alternate&&this.alternate.length},getChildren:function(){var a=[];this.consequent&&(a=a.concat(this.consequent));this.elseIfBlocks&&(a=a.concat(this.elseIfBlocks));this.alternate&&(a=a.concat(this.alternate));return a},toText:function(){return"<span class='text-primary'>"+this.getBlockIcon("E")+this.name+" </span><span class='text-warning small'>"+this.condition+
"<span>"},_checkCondition:function(a){return a.parseExpression(this.condition,null,null)},solve:function(a,c){var b=this._checkCondition(a),d=this.getElseIfBlocks(),f=this.childrenByNotClass(k),n=null,f=f.filter(function(a){return!a.isInstanceOf(g)});if(1==b||0<b){this.onSuccess(this,c);if(f&&f.length)for(d=0;d<f.length;d++)n=f[d].solve(a,c);return n}n=!1;this.onFailed(this,c);if(d)for(f=0;f<d.length&&!n;f++){b=d[f];if(b._checkCondition(a))return b.onSuccess(b,c),n=!0,b.solve(a,c);b.onFailed(b,c)}f=
this.childrenByClass(g);if(0<f.length&&!n){n=null;for(d=0;d<f.length;d++)n=f[d].solve(a,c);return n}return[]},empty:function(){this._empty(this.alternate);this._empty(this.consequent);this._empty(this.elseIfBlocks)},removeBlock:function(a){a&&(a&&a.empty&&a.empty(),delete a.items,a.parent=null,this.alternate.remove(a),this.consequent.remove(a),this.elseIfBlocks.remove(a))},_getContainer:function(a){return-1!=this.consequent.indexOf(a)?"consequent":-1!=this.alternate.indexOf(a)?"alternate":-1!=this.elseIfBlocks.indexOf(a)?
"elseIfBlocks":"_"},init:function(){this.alternate=this.alternate||[];this.consequent=this.consequent||[];this.elseIfBlocks=this.elseIfBlocks||[];for(var a=0;a<this.alternate.length;a++)this.alternate[a].parentId=this.id,this.alternate[a].parent=this;for(a=0;a<this.elseIfBlocks.length;a++)this.elseIfBlocks[a].parentId=this.id,this.elseIfBlocks[a].parent=this;for(a=0;a<this.consequent.length;a++)this.consequent[a].parentId=this.id,this.consequent[a].parent=this},getFields:function(){var a=this,c=this.inherited(arguments)||
this.getDefaultFields();c.push(this.utils.createCI("condition",this.types.ECIType.EXPRESSION_EDITOR,this.condition,{group:"General",title:"Expression",dst:"condition",delegate:{runExpression:function(b,c,d){return a.scope.expressionModel.parse(a.scope,b,!1,c,d)}}}));return c},postCreate:function(){this._postCreated||(this._postCreated=!0)},toCode:function(a,c){},getElseIfBlocks:function(){return this.childrenByClass(k)},runAction:function(b){var c=this.scope.blockStore;b=b.command;if("New/Else"===
b||"New/Else If"===b){b="New/Else If"===b?k:g;var e=a.mixin({name:"else",items:[],dstField:"alternate",parentId:this.id,parent:this,scope:this.scope,canAdd:function(){return[]},canEdit:function(){return!1}},b==k?{name:"else if",dstField:"elseIfBlocks"}:{name:"else",dstField:"alternate"});b=this.add(b,e,b==g?"alternate":"elseIfBlocks");var e={select:[b],focus:!0,append:!1,expand:!0,delay:10},h=new f;c._emit("added",{target:b});h.resolve(e);b.refresh();return h}},getActions:function(){var a=[];0==this.alternate.length&&
a.push(this.createAction({label:"Else",command:"New/Else",icon:this.getBlockIcon("I"),tab:"Home",group:"File",mixin:{addPermission:!0,custom:!0}}));a.push(this.createAction({label:"Else If",command:"New/Else If",icon:this.getBlockIcon("I"),tab:"Home",group:"File",mixin:{addPermission:!0,custom:!0}}));return a}})});define("xblox/model/Statement",["dcl/dcl","xblox/model/Block"],function(c,m){return c(m,{declaredClass:"xblox.model.Statement",toText:function(){return this.name},getChildren:function(){return this.items}})});
define("xblox/model/variables/VariableAssignmentBlock","dcl/dcl xblox/model/Block xide/utils xide/types dstore/legacy/DstoreAdapter xide/factory xdojo/has".split(" "),function(c,m,g,k,f,a,b){var d=b("host-node");return c(m,{declaredClass:"xblox.model.variables.VariableAssignmentBlock",variable:null,value:null,name:"Set Variable",icon:"",hasInlineEdits:!0,flags:4,toText:function(){var a=this.scope.getVariableById(this.variable),a=a?a.name:"";this.variable&&-1!==this.variable.indexOf("://")&&(a='<span class="text-info">'+
this.scope.toFriendlyName(this,this.variable)+"</span>");return this.getBlockIcon("C")+this.name+" "+a+"<span class='text-muted small'> to <kbd class='text-warning'>"+this.makeEditable("value","bottom","text","Enter the string to send","inline")+"</kbd></span>"},_getPreviousResult:function(){var a;return(a=(a=this.getPreviousBlock())&&a._lastResult&&a.enabled?a:this.getParent())&&null!=a._lastResult?(this.isArray(a._lastResult),a._lastResult):null},solve:function(b,c){var e=this.value,f=!1;if(!e){var h=
this.getArgs();0<h.length&&(e=h[0])}if(this.variable&&null!==e){this.onRun(this,c);var g=-1!==this.variable.indexOf("://")?this.scope.resolveBlock(this.variable):b.getVariableById(this.variable),h=this._getArg(e),m=this.getArgs(c)||[];if(!g)return[];if(this.isScript(h)){var t=this.override||{};b=b.parseExpression(e,null,null,null,null,null,m||t.args);b=this.replaceAll("'","",b);g.value!==b&&(f=!0)}else m&&1==m.length&&null==e&&(h=m[0]),g.value!==h&&(f=!0),b=g.value=h;g.set("value",b);e=!1;(m=this.getContext())&&
(m=m.device)&&m.info&&d&&m.info.serverSide&&(e=this.flags&k.VARIABLE_FLAGS.PUBLISH_IF_SERVER?!0:!1);this.flags&k.VARIABLE_FLAGS.PUBLISH&&f&&(e=!0);f&&a.publish(k.EVENTS.ON_DRIVER_VARIABLE_CHANGED,{item:g,scope:this.scope,save:!1,block:this,name:g.name,value:h,publish:e,result:b});this.onSuccess(this,c);return[]}},canAdd:function(){return null},getFields:function(){var a=this.inherited(arguments)||this.getDefaultFields(!1),b=this;a.push(this.utils.createCI("value",29,this.value,{group:"General",title:"Value",
dst:"value",widget:{allowACECache:!0,showBrowser:!1,showSaveButton:!0,editorOptions:{showGutter:!1,autoSelect:!1,autoFocus:!1,hasConsole:!1,hasItemActions:function(){return!1}},item:this},delegate:{runExpression:function(a,c,d){return b.scope.expressionModel.parse(b.scope,a,!1,c,d)}}}));a.push(g.createCI("value","xcf.widgets.CommandPicker",this.variable,{group:"Variable",title:"Variable",dst:"variable",block:this,pickerType:"variable",value:this.variable,widget:{store:this.scope.blockStore,labelField:"name",
valueField:"id",value:this.variable,query:[{group:"basicVariables"},{group:"processVariables"}]}}));a.push(this.utils.createCI("flags",5,this.flags,{group:"Variable",title:"Flags",dst:"flags",data:[{value:2,label:"Publish to network",title:"Publish to network in order to make a network variable"},{value:4,label:"Publish if server",title:"Publish only on network if this is running server side"}],widget:{hex:!0}}));return a}})});
define("dstore/legacy/DstoreAdapter",["dojo/_base/declare","dojo/_base/array","dojo/store/util/QueryResults"],function(c,m,g){function k(a){return a}var f={store:null,constructor:function(a){this.store=a;if(a._getQuerierFactory("filter")||a._getQuerierFactory("sort"))this.queryEngine=function(b,c){c=c||{};var d=a._getQuerierFactory("filter"),e=d?d(b):k;b=a._getQuerierFactory("sort");var f=k;b&&(f=b(m.map(c.sort,function(a){return{property:a.attribute,descending:a.descending}})));var g=k;isNaN(c.start)&&
isNaN(c.count)||(g=function(a){var b=c.start||0,b=a.slice(b,b+(c.count||Infinity));b.total=a.length;return b});return function(a){return g(f(e(a)))}};var b=this;a.on("add,update,delete",function(c){var d=c.type,f=c.target;b.notify("add"===d||"update"===d?f:void 0,"delete"===d||"update"===d?"id"in c?c.id:a.getIdentity(f):void 0)})},labelAttr:"title",getLabel:function(a){return this.store.getLabel(a)},query:function(a,b){b=b||{};var c=this.store.filter(a),e,f;if(a=b.sort)if("[object Array]"===Object.prototype.toString.call(a))for(var l;l=
a.pop();)c=c.sort(l.attribute,l.descending);else c=c.sort(a);c.track&&!c.tracking&&(c=c.track(),f=!0);"start"in b&&(e=b.start||0,e=c[c.fetchRangeSync?"fetchRangeSync":"fetchRange"]({start:e,end:b.count?e+b.count:Infinity}));e=e||c[c.fetchSync?"fetchSync":"fetch"]();b=e.totalLength;e=new g(e);e.total=b;e.observe=function(a,b){function d(a){return void 0===a&&f?-1:a}var e=c.on("add",function(b){a(b.target,-1,d(b.index))}),h=c.on("update",function(c){!b&&c.previousIndex===c.index&&isFinite(c.index)||
a(c.target,d(c.previousIndex),d(c.index))}),l=c.on("delete",function(b){a(b.target,d(b.previousIndex),-1)}),g={remove:function(){e.remove();h.remove();l.remove()}};g.cancel=g.remove;return g};return e},notify:function(){}};m.forEach(["get","put","add","remove","getIdentity"],function(a){f[a]=function(){var b=this.store;return(b[a+"Sync"]||b[a]).apply(b,arguments)}});return c(null,f)});
define("dojo/store/util/QueryResults",["../../_base/array","../../_base/lang","../../when"],function(c,m,g){var k=function(f){function a(a){f[a]||(f[a]=function(){var b=arguments;return g(f,function(d){Array.prototype.unshift.call(b,d);return k(c[a].apply(c,b))})})}if(!f)return f;f.then&&(f=m.delegate(f));a("forEach");a("filter");a("map");f.total||(f.total=g(f,function(a){return a.length}));return f};m.setObject("dojo.store.util.QueryResults",k);return k});
define("xblox/model/loops/WhileBlock",["dcl/dcl","xblox/model/Block","xblox/model/variables/Variable"],function(c,m,g){return c(m,{declaredClass:"xblox.model.loops.WhileBlock",condition:null,items:null,loopLimit:1500,name:"While",wait:0,_currentIndex:0,sharable:!0,icon:"",_timer:null,canAdd:function(){return[]},_solve:function(c,f){for(var a=0;a<this.items.length;a++)this.items[a].solve(c,f);return[]},doStep:function(c){if(this._currentIndex<this.loopLimit){var f=[];this._checkCondition(this.scope)?
(this.onSuccess(this,c),this.addToEnd(f,this._solve(this.scope,c)),this._currentIndex++):(this._timer&&clearInterval(this._timer),this.onFailed(this,c))}else console.error("--while block : reached loop limit"),this.reset()},reset:function(){this._timer&&(clearTimeout(this._timer),this._timer=null);this._currentIndex=0},solve:function(c,f){this.loopLimit=1500;f=f||{};var a=0,b=this,d=this._getArg(this.wait);this.reset();if(0<d)return this._timer=setInterval(function(){b.doStep(f)},d),[];for(;this._checkCondition(c)&&
a<this.loopLimit;)this._solve(c,f),a++;this.reset();return[]},toText:function(){return this.getBlockIcon("G")+this.name+" "+this.condition},_checkCondition:function(c){return c.parseExpression(this.condition)},mayHaveChildren:function(c){return null!=this.items&&0<this.items.length},getChildren:function(c){c=[];this.items&&(c=c.concat(this.items));return c},getFields:function(){var c=this,f=this.inherited(arguments)||this.getDefaultFields();f.push(this.utils.createCI("condition",25,this.condition,
{group:"General",title:"Expression",dst:"condition",delegate:{runExpression:function(a,b,d){return c.scope.expressionModel.parse(c.scope,a,!1,b,d)}}}));f.push(this.utils.createCI("wait",13,this.wait,{group:"General",title:"Wait",dst:"wait"}));return f}})});
define("xblox/model/variables/Variable",["dcl/dcl","xide/types","xblox/model/Block"],function(c,m,g){return c(g,{declaredClass:"xblox.model.variables.Variable",name:null,value:null,register:!0,readOnly:!1,initial:null,isVariable:!0,flags:4096,getValue:function(){return this.value},canDisable:function(){return!1},canMove:function(){return!1},getIconClass:function(){return"el-icon-quotes-alt"},getBlockIcon:function(){return'<span class="'+this.icon+'"></span> '},toText:function(){return"<span class='text-primary'>"+
this.getBlockIcon()+this.makeEditable("name","right","text","Enter a unique name","inline")+"</span>"},solve:function(){this.scope.parseExpression(this.getValue(),!0);return[]},getFields:function(){var c=this.getDefaultFields(),f=this;c.push(this.utils.createCI("title",m.ECIType.STRING,this.name,{group:"General",title:"Name",dst:"name"}));c.push(this.utils.createCI("value",m.ECIType.EXPRESSION,this.value,{group:"General",title:"Value",dst:"value",delegate:{runExpression:function(a,b,c){return f.scope.expressionModel.parse(f.scope,
a,!1,b,c)}}}));return c}})});
define("xblox/model/loops/ForBlock","dcl/dcl xblox/model/Block xblox/model/variables/Variable xblox/model/Contains dojo/promise/all dojo/Deferred".split(" "),function(c,m,g,k,f,a){return c([m,k],{declaredClass:"xblox.model.loops.ForBlock",initial:null,"final":null,comparator:null,modifier:null,items:null,counterName:null,_counter:null,name:"For",sharable:!0,icon:"",ignoreErrors:!1,deferred:!0,_forState:!1,_currentForIndex:0,runFrom:function(b,c,e){var d=this,f=b||this.items;b=[];var g=function(a){a._deferredObject.then(function(b){a._lastResult=
a._lastResult||b;d._currentIndex++;d.runFrom(f,d._currentIndex,e)})};if(f.length)for(;c<f.length;c++){var k=f[c];if(!1!==k.enabled)if(!0===k.deferred){k._deferredObject=new a;this._currentIndex=c;g(k);b.push(k.solve(this.scope,e));break}else b.push(k.solve(this.scope,e))}else this.onSuccess(this,e);return b},runFromDirect:function(b,c,e){var d=this,f=b||this.items;b=[];var g=function(a){a._deferredObject.then(function(b){a._lastResult=a._lastResult||b;d._currentIndex++;d.runFrom(f,d._currentIndex,
e)})};if(f.length)for(;c<f.length;c++){var k=f[c];if(!1!==k.enabled)if(!0===k.deferred){k._deferredObject=new a;this._currentIndex=c;g(k);b.push(k.solve(this.scope,e));break}else b.push(k.solve(this.scope,e))}else this.onSuccess(this,e);return b},solveSubs:function(a,c,e,h){var b=this;h.override=h.override||{};h.override.args=[this._currentForIndex];if(e.length)return c=b.runFrom(e,0,h),f(c).then(function(a){},function(c){b.onDidRunItem(a,c,h)}),c;b.onDidRunItem(a,c,h)},solveSubsDirect:function(a,
c,e,f){f.override=f.override||{};f.override.args=[this._currentForIndex];if(e.length)return this.runFromDirect(e,0,f)},_solve:function(b,c){var d=new a,h=this;(b=this.solveSubs(d,null,this.items,c))?f(b).then(function(a){a=a.indexOf(!1);!0!==h.ignoreErrors&&-1!==a?d.resolve(!1):d.resolve(!0)}):d.resolve(!0);return d},step:function(b,c){var d=this._checkCondition(b,c),f=new a;d&&this._solve(b,c).then(function(a){1==a?f.resolve(!0):f.resolve(!1)});return f},loop:function(a,c){var b=this;this.step(a,
c).then(function(d){b._updateCounter(a);b._currentForIndex=b._counter.value;if(1==d)b.loop(a,c);else b.onFailed(b,c)})},_solveDirect:function(a,c){return this.solveSubsDirect(null,null,this.items,c)},stepDirect:function(a,c){return this._solveDirect(a,c)},loopDirect:function(a,c){this.stepDirect(a,c);for(var b=parseInt(this.initial,10);b<parseInt(this["final"],10);b++)this.stepDirect(a,c)},solve:function(a,c){this._counter=new g({title:this.counterName,value:this.initial,scope:a,register:!1});this._forState=
!0;this._currentForIndex=this.initial;this.deferred?this.loop(a,c):this.loopDirect(a,c);return[]},_checkCondition:function(a,c){a=a.parseExpression(""+this._counter.value+this.comparator+this["final"]);if(0!=a)this.onSuccess(this,c);return this._forState=a},_updateCounter:function(a){var b=this._counter.value,b=a.parseExpression(""+b+this.modifier);if(b==this._counter.value)return!1;this._counter.value=b;return!0},mayHaveChildren:function(){return null!=this.items&&0<this.items.length},getChildren:function(){var a=
[];this.items&&(a=a.concat(this.items));return a},canAdd:function(){return[]},toText:function(){return this.getBlockIcon("F")+this.name+" "+this.initial+" "+this.comparator+" "+this["final"]+" with "+this.modifier},getFields:function(){var a=this.inherited(arguments)||this.getDefaultFields();return a=a.concat([this.utils.createCI("initial",13,this.initial,{group:"General",title:"Initial",dst:"initial"}),this.utils.createCI("Final",13,this["final"],{group:"General",title:"Final",dst:"final"}),this.utils.createCI("comparator",
13,this.comparator,{group:"General",title:"Comparision",dst:"comparator"}),this.utils.createCI("modifier",13,this.modifier,{group:"General",title:"Modifier",dst:"modifier"}),this.utils.createCI("Abort on Error",0,this.ignoreErrors,{group:"General",title:"Ignore Errors",dst:"ignoreErrors"}),this.utils.createCI("Deferred",0,this.deferred,{group:"General",title:"Use Deferred",dst:"deferred"})])}})});
define("xblox/model/code/RunScript","dcl/dcl xdojo/has dojo/Deferred xblox/model/Block xide/utils xblox/model/Contains dojo/promise/all xide/types module".split(" "),function(c,m,g,k,f,a,b,d,e,h,l,n,p){m=m("host-node");var r="undefined"!==typeof window?window.console:global.console;m&&h&&r&&r.error&&(r=l);return c([k,a],{declaredClass:"xblox.model.code.RunScript",name:"Run Script",method:"",args:"",deferred:!1,sharable:!0,context:null,icon:"fa-code",observed:["method"],getContext:function(){return this.context||
(this.scope.getContext?this.scope.getContext():this)},solve2:function(a,b,c,d){this._currentIndex=0;this._return=[];var e=""+this._get("method"),f=this,h=this.getContext();if(e&&e.length){var l=function(){var a=new Function("{"+e+"}"),l=f.getArgs()||[];try{var g=a.apply(h,l||{});f._lastResult=g;c&&c("Expression "+e+" evaluates to "+g);if("false"!==g&&!1!==g)f.onSuccess(f,b,{result:g});else return f.onFailed(f,b),[]}catch(D){return d&&d("invalid expression : \n"+e+": "+D),f.onFailed(f,b),[]}};if(a.global)(function(){window=
a.global;var l=f.getArgs()||[];try{var g=null,g=h.runExpression?h.runExpression(e,null,l):(new Function("{"+e+"}")).bind(this).apply(h,l||{});f._lastResult=g;c&&c("Expression "+e+" evaluates to "+g);if("false"!==g&&!1!==g)f.onSuccess(f,b);else return f.onFailed(f,b),[]}catch(C){return f._lastResult=null,d&&d("invalid expression : \n"+e+": "+C),f.onFailed(f,b),[]}}).call(a.global);else return l()}else r.error("have no script");l=this[this._getContainer()];if(l.length)this.runFrom(l,0,b);else this.onSuccess(this,
b);this.onDidRun();return[]},solve:function(a,b,c,d,e,f){this._currentIndex=0;this._return=[];b=b||{};c=d||(this._get("method")?this._get("method"):this.method);if(!a.expressionModel)throw Error("na");var h=this;d=this.getContext();var l=this[this._getContainer()],k=new g,n=h.deferred,m=a.getExpressionModel();this.onRunThis(b);if(!m)return r.error("scope has no expression model"),!1;var p=m.replaceVariables(a,c,null,null);(a=m.expressionCache[p])||(a=m.expressionCache[p]=new Function("{"+p+"}"));
m=h.getArgs(b)||[];try{n&&(d.resolve=function(a){h._deferredObject&&h._deferredObject.resolve();h.onDidRunThis(k,a,l,b)});var q=a.apply(d,m||{});h._lastResult=q;e&&e("Expression "+c+" evaluates to "+q);if(!n)h.onDidRunThis(k,q,l,b);if("false"!==q&&!1!==q)h.onSuccess(h,b);else h.onFailed(h,b)}catch(H){H=H||{},h.onDidRunItemError(k,H,b),h.onFailed(h,b),f&&f("invalid expression : \n"+c+": "+H)}return k},toText:function(){var a='<span style="">'+this.getBlockIcon()+" "+this.name+" :: </span>";this.method&&
(a+=this.method.substr(0,50));return a},canAdd:function(){return!0},getFields:function(){"No Description"===this.description&&(this.description=n);var a=this.inherited(arguments)||this.getDefaultFields(),b=this;a.push(f.createCI("name",13,this.name,{group:"General",title:"Name",dst:"name"}));a.push(f.createCI("deferred",0,this.deferred,{group:"General",title:"Deferred",dst:"deferred"}));a.push(f.createCI("arguments",27,this.args,{group:"Arguments",title:"Arguments",dst:"args"}));a.push(f.createCI("value",
d.ECIType.EXPRESSION_EDITOR,this.method,{group:"Script",title:"Script",dst:"method",select:!0,widget:{allowACECache:!0,showBrowser:!1,showSaveButton:!0,editorOptions:{showGutter:!0,autoFocus:!1},item:this},delegate:{runExpression:function(a,c,d){b.method=a;b.solve(b.scope,null,c,d)}}}));return a}})});
define("xblox/model/code/CallMethod",["dcl/dcl","xblox/model/Block","xide/utils"],function(c,m,g){return c(m,{declaredClass:"xblox.model.code.CallMethod",name:"Call Method",method:"",args:"",sharable:!0,solve:function(c,f){if((c=this.getContext())&&null!=c[this.method]){var a=[],b=c[this.method];try{var d=this.getArgs(f);console.log("args",d);a=b.apply(c,d||[]);this.onSuccess(this,f);return a}catch(e){console.error("call method "+this.method+" failed: "+e),logError(e),this.onFailed(this,f)}}else this.onFailed(this,
f);return[]},toText:function(){var c=this.getBlockIcon()+" "+this.name+" ";this.method&&(c+=this.makeEditable("method","bottom","text","Enter a driver method","inline"));return c},getFields:function(){var c=this.getDefaultFields();this.getContext();c.push(g.createCI("value",13,this.method,{group:"General",title:"Method",dst:"method"}));c.push(g.createCI("value",27,this.args,{group:"Arguments",dst:"args",widget:{title:""}}));return c},getBlockIcon:function(){return'<span class="fa-caret-square-o-right"></span>'}})});
define("xblox/model/functions/SetProperties","dcl/dcl xide/utils xide/types dojo/Deferred xblox/model/Block xide/lodash".split(" "),function(c,m,g,k,f,a){return c(f,{declaredClass:"xblox.model.functions.SetProperties",command:"Select block",icon:"",args:null,_timeout:100,hasInlineEdits:!1,solve:function(a,c){var b=new k;if(this.command){if((a=a.resolveBlock(this.command))&&this.props){for(var d in this.props)a.set(d,this.props[d]),a[d]=this.props[d],a.onChangeField&&a.onChangeField(d,this.props[d]);
this.onSuccess(this,c)}else this.onFailed(this,c);b.resolve([])}return b},makeEditable:function(a,c,e,f,l){return'<a   tabIndex="-1" pos=\''+c+"' display-mode='"+(l||"popup")+"' display-type='"+(e||"text")+"' data-prop='"+a+"' data-title='"+f+"' class='editable editable-click'  href='#'>"+this[a]+"</a>"},getFieldOptions:function(a){if("command"===a)return this.scope.getCommandsAsOptions("text")},toText:function(){var a="Unknown",c=this.scope.getBlock(this.command);c&&(a=c.name);-1!==this.command.indexOf("://")&&
(a='<span class="text-info">'+this.scope.toFriendlyName(this,this.command)+"</span>");return this.getBlockIcon("D")+"Set Properties : "+a},serializeObject:function(a){return"props"===a},onChangeField:function(a){"command"===a&&(delete this.props,this.props={})},init:function(){this.props&&a.isString(this.props)&&(this.props=m.fromJson(this.props))},getFields:function(){var b=this.inherited(arguments)||this.getDefaultFields();b.push(m.createCI("value","xcf.widgets.CommandPicker",this.command,{group:"General",
title:"Command",dst:"command",options:this.scope.getCommandsAsOptions(),block:this,pickerType:"command",value:this.command}));var c=this.scope.resolveBlock(this.command);if(c&&c.getFields){this.props||(this.props={});var c=c.getFields(),e=a.find(c,{dst:"description"});c.remove(e);a.each(c,function(a){a.group="Properties";a.value=m.getAt(this.props,a.dst,a.value);a.dst="props."+a.dst},this);b=b.concat(c)}return b}})});
define("xblox/model/logic/CaseBlock",["dcl/dcl","xide/utils","xblox/model/Block","dojo/Deferred","xblox/model/logic/BreakBlock"],function(c,m,g,k,f){return c(g,{declaredClass:"xblox.model.logic.CaseBlock",comparator:null,expression:null,items:null,name:"Case",icon:"",hasInlineEdits:!0,toText:function(){return'<span style="text-indent: 1em;">&nbsp;&nbsp;&nbsp;'+this.getBlockIcon("I")+this.name+" "+this.makeEditable("comparator","right","text","Enter a comparison","inline")+(null!=this.expression?" "+
this.makeEditable("expression","right","text","Enter a value to compare"):"")+"</span>"},canAdd:function(){return[]},_solve:function(a,b,c){b=b||{highlight:!1};for(var d=[],f=0;f<this.items.length;f++){var l=this.items[f];-1!==l.declaredClass.indexOf("BreakBlock")&&c.stop();this.addToEnd(d,l.solve(a,b))}return d},solve:function(a,b,c){try{var d=a.getVariableById(b.variable);!d&&c.args&&c.args[0]&&(d={value:c.args[0]});var f="";if(d)f=this._getArg(d.value,!0);else return this.onFailed(this,c),!1;if(!0!==
a.parseExpression(""+f+""+this.comparator+this._getArg(this.expression,!0)))return this.onFailed(this,c),!1;this.onSuccess(this,c);this._solve(a,c,b);return!0}catch(l){logError(l)}},getChildren:function(){return this.items},getFields:function(){function a(a,b){return{label:b||a,value:a}}var b=this.inherited(arguments)||this.getDefaultFields();b.push(m.createCI("Expression",13,this.expression,{group:"General",title:"Expression",dst:"expression"}));b.push(m.createCI("Comparator",3,this.comparator,{group:"General",
title:"Comparator",dst:"comparator",widget:{options:[a("=="),a("<="),a("=>"),a("!="),a("<"),a(">")],editable:!0}}));return b},runAction:function(a){if("New/Break"===a.command){a=new k;var b=this.add(f,{group:null});a.resolve({select:[b],focus:!0,append:!1});b.refresh();return a}},getActions:function(){return[this.createAction({label:"Break",command:"New/Break",tab:"Home",icon:"fa-stop",group:"File",mixin:{addPermission:!0,custom:!0,quick:!1}})]}})});
define("xblox/model/logic/BreakBlock",["dcl/dcl","xblox/model/Block"],function(c,m){return c(m,{declaredClass:"xblox.model.logic.BreakBlock",name:"Break",icon:"fa-stop",hasInlineEdits:!1,canAdd:!1,toText:function(){return'&nbsp;<span class="fa-stop text-warning"></span>&nbsp;&nbsp;<span>'+this.name+"</span>"},solve:function(c,k){this.onSuccess(this,k)}})});
define("xcf/model/Variable",["dcl/dcl","xide/types","xblox/model/variables/Variable"],function(c,m,g){return c(g,{declaredClass:"xcf.model.Variable",hasInlineEdits:!0,gui:"off",cmd:"off",save:!1,target:"None",name:"No Title",value:-1,observed:["value","initial","name"],solve:function(){var c="";if("processVariables"===this.group){var f=this.scope.getVariable("value");f&&(f=f.value,this.isNumber(f)||(f="'"+f+"'"),c="var value = "+f+";\n")}return this.scope.parseExpression(c+this.getValue(),!0)},canEdit:function(){return!0},
canDisable:function(){return!1},getFields:function(){var c=this.getDefaultFields();c.push(this.utils.createCI("title",13,this.name,{group:"General",title:"Name",dst:"name"}));var f=this;c.push(this.utils.createCI("value",this.types.ECIType.EXPRESSION,this.value,{group:"General",title:"Value",dst:"value",widget:{allowACECache:!0,showBrowser:!1,showSaveButton:!0,editorOptions:{showGutter:!1,autoFocus:!1,hasConsole:!1},aceOptions:{hasEmmet:!1,hasLinking:!1,hasMultiDocs:!1},item:this},delegate:{runExpression:function(a,
b,c){if("processVariables"==f.group){var d=f.scope.getVariable("value"),h="";d&&(d=d.value,f.isNumber(d)||(d="'"+d+"'"),h="var value = "+d+";\n")}return f.scope.expressionModel.parse(f.scope,h+a,!1,b,c)}}}));c.push(this.utils.createCI("flags",5,this.flags,{group:"General",title:"Flags",dst:"flags",data:[{value:4096,label:"Dont parse",title:"Do not parse the string and use it as is"},{value:2048,label:"Expression",title:"Parse it as Javascript"}],widget:{hex:!0}}));return c},onChangeField:function(c,
f,a){"value"===c&&this.publish(m.EVENTS.ON_DRIVER_VARIABLE_CHANGED,{item:this,scope:this.scope,save:!1,source:m.MESSAGE_SOURCE.GUI})}})});define("xcf/model/ModelBase",["dcl/dcl","xblox/model/ModelBase"],function(c,m){return c(m,{declaredClass:"xcf.model.ModelBase"})});
define("xcf/model/Driver",["dcl/dcl","xide/data/Model","xide/data/Source","xide/mixins/EventedMixin","xide/utils"],function(c,m,g,k,f){return c([m,g.dcl,k.dcl],{itemMetaPath:"user.meta",getStore:function(){return this._store},getScope:function(){var a=this.getStore();return a?a.scope:this.scope},getMetaValue:function(a){return f.getCIInputValueByName(this.user,a)},setMetaValue:function(a,b,c){var d=f.getCIByChainAndName(this.user,0,a);if(d){var h=this.getMetaValue(a);f.setCIValueByField(d,"value",
b);this[a]=b;!1!==c&&this.publish(types.EVENTS.ON_CI_UPDATE,{owner:this.owner,ci:d,newValue:b,oldValue:h})}},getParent:function(){return this._store.getSync(this.parentId)},_mayHaveChildren:!1})});
define("xcf/model/Device","dcl/dcl xide/data/Model xide/data/Source xide/types xide/utils xide/mixins/EventedMixin xcf/types/Types".split(" "),function(c,m,g,k,f,a){c=c([m,g.dcl,a.dcl],{declaredClass:"xcf.model.Device",_userStopped:!1,state:k.DEVICE_STATE.DISCONNECTED,driverInstance:null,blockScope:null,getParent:function(){return this.getStore().getSync(this.parentId)},isServerSide:function(){var a=this.getMetaValue(k.DEVICE_PROPERTY.CF_DEVICE_DRIVER_OPTIONS);return 1<<k.DRIVER_FLAGS.RUNS_ON_SERVER&
a?!0:!1},isServer:function(){var a=this.getMetaValue(k.DEVICE_PROPERTY.CF_DEVICE_DRIVER_OPTIONS);return 1<<k.DRIVER_FLAGS.SERVER&a?!0:!1},setServer:function(a){a=this.getMetaValue(k.DEVICE_PROPERTY.CF_DEVICE_DRIVER_OPTIONS);a.value|=1<<k.DRIVER_FLAGS.SERVER;this.setMetaValue(k.DEVICE_PROPERTY.CF_DEVICE_DRIVER_OPTIONS,a.value)},setServerSide:function(a){a=this.getMetaValue(k.DEVICE_PROPERTY.CF_DEVICE_DRIVER_OPTIONS);a|=1<<k.DRIVER_FLAGS.RUNS_ON_SERVER;this.setMetaValue(k.DEVICE_PROPERTY.CF_DEVICE_DRIVER_OPTIONS,
a)},isDebug:function(){var a=this.getMetaValue(k.DEVICE_PROPERTY.CF_DEVICE_DRIVER_OPTIONS);return 1<<k.DRIVER_FLAGS.DEBUG&a?!0:!1},check:function(){this._startDfd&&!0===this._userStopped&&this.reset()},getStore:function(){return this._store},getScope:function(){var a=this.getStore();return a?a.scope:this.scope},isEnabled:function(){return!0===this.getMetaValue(k.DEVICE_PROPERTY.CF_DEVICE_ENABLED)},setEnabled:function(a){return this.setMetaValue(k.DEVICE_PROPERTY.CF_DEVICE_ENABLED,a)},shouldReconnect:function(){return this._userStopped?
!1:this.isEnabled()},reset:function(){delete this._startDfd;this._startDfd=null;delete this.blockScope;this.blockScope=null;delete this.serverVariables;this.serverVariables=null;delete this.driverInstance;this.driverInstance=null;clearTimeout(this.reconnectTimer);delete this.lastReconnectTime;delete this.reconnectRetry;delete this.isReconnecting;this.setState(k.DEVICE_STATE.DISCONNECTED)},constructor:function(){},getBlockScope:function(){return this.driverInstance&&this.driverInstance.blockScope?
this.driverInstance.blockScope:this.blockScope},getDriverInstance:function(){return this.driverInstance},getDriver:function(){var a=this.getBlockScope();return a?a.driver:null},getMetaValue:function(a){return f.getCIInputValueByName(this.user,a)},setMetaValue:function(a,c,e){var b=f.getCIByChainAndName(this.user,0,a);if(!b)return null;var d=this.getMetaValue(a);f.setCIValueByField(b,"value",c);this[a]=c;if(!1!==e&&d!=c)return this.publish(k.EVENTS.ON_CI_UPDATE,{owner:this.owner,ci:b,newValue:c,oldValue:d})},
getStateIcon:function(a){a=a||this.state;switch(a){case k.DEVICE_STATE.READY:case k.DEVICE_STATE.CONNECTED:return"fa-link iconStatusOn";case k.DEVICE_STATE.SYNCHRONIZING:case k.DEVICE_STATE.CONNECTING:return"fa-spinner fa-spin";case k.DEVICE_STATE.LOST_DEVICE_SERVER:return"fa-spinner fa-spin"}return"fa-unlink iconStatusOff"},setState:function(a,c){if(a!==this.state){c=this.state;var b=this.getStateIcon(a);this.state=a;this.set("iconClass",b);this.set("state",a);this._emit(k.EVENTS.ON_DEVICE_STATE_CHANGED,
{old:c,state:a,icon:b,"public":!0});this.refresh("state")}}});c.createSubclass=m.createSubclass;return c});
define("xcf/model/Command","dcl/dcl xblox/model/Block xblox/model/Contains xide/utils xide/types dojo/Deferred xblox/types/Types xide/lodash".split(" "),function(c,m,g,k,f,a,b,d){return c([m,g],{declaredClass:"xcf.model.Command",startup:!1,auto:null,send:"",name:"No Title",observed:["send"],interval:0,flags:2048,_runningDfd:null,__started:!1,isCommand:!0,getItems:function(a){return this.getItemsByType(a)},onCommandFinish:function(a){var b=null;if(a.params&&a.params.id){var c=a.params.id,b=this.getDeferred(c);
delete this._solving[c];a.lastResponse&&this.storeResult(a.lastResponse);this._emit("finished",{msg:a,result:this._lastResult})}a=this.getItems(f.BLOCK_OUTLET.FINISH);a.length&&this.runFrom(a,0,this._lastSettings);this.resolve({});this.onSuccess(this,this._lastSettings);b&&b.resolve(this._lastResult);return this._lastResult},onCommandPaused:function(a){var b=a.params;b&&b.id&&(a.lastResponse&&this.storeResult(a.lastResponse),this._emit("paused",{msg:a,result:this._lastResult,id:b.id}));a=this.getItems(f.BLOCK_OUTLET.PAUSED);
a.length&&this.runFrom(a,0,this._lastSettings)},onCommandStopped:function(a){this.reset();var b=a.params;b&&b.id&&this._emit("stopped",{msg:a,result:this._lastResult,id:b.id});a=this.getItems(f.BLOCK_OUTLET.STOPPED);a.length&&this.runFrom(a,0,this._lastSettings)},onCommandProgress:function(a){var b=a.params;b&&b.id&&(a.lastResponse&&this.storeResult(a.lastResponse),this._emit("progress",{msg:a,result:this._lastResult,id:b.id}));a=this.getItems(f.BLOCK_OUTLET.PROGRESS);a.length&&this.runFrom(a,0,this._lastSettings)},
storeResult:function(a){var b=k.getJson(a);a=null;if(b&&b.result&&d.isString(b.result)){var c=b.result,e=-1!==c.indexOf("{")||-1!==c.indexOf("["),b=c;e&&(c=k.getJson(c,!0,!1))&&(b=c);this._lastResult=null!==b?a=b:null}return a},resolve:function(a){a=a||this._lastResult;this._runningDfd&&this._runningDfd.resolve(a)},onCommandError:function(a){var b=a.params;b.id&&(a.lastResponse&&this.storeResult(a.lastResponse),this._emit("cmd:"+a.cmd+"_"+b.id,a),this._emit("error",{msg:a,result:this._lastResult,
id:b.id}));this.onFailed(this,this._settings);a=this.getItems(f.BLOCK_OUTLET.ERROR);a.length&&this.runFrom(a,0,this._lastSettings)},sendToDevice:function(a,b,c,d,g){if(!this._destroyed){a=this.replaceAll("'","",a);g=g||k.createUUID();var e=this,h=this.flags&f.CIFLAG.WAIT?!0:!1;this.lastCommand=""+a;if(this.scope.instance)h&&this._on("cmd:"+a+"_"+g,function(a){if(a.error)e.onFailed(e,b);else e.onSuccess(e,b)}),this.scope.instance.sendMessage(a,null,this.id,g,h,c,d,this.getSendOptions());else return this.publish(f.EVENTS.ON_STATUS_MESSAGE,
{text:"Command "+this.name+" : have no device",type:"error",delay:1E3}),!1;return g}},reset:function(){delete this._runningDfd;this._lastSettings={};this._loop&&(clearTimeout(this._loop),this._loop=null);delete this.override;this.override=null;delete this._lastResult;this.override=null;this.override={}},_solving:null,addDeferred:function(b){this._solving||(this._solving={});this._solving[b]=new a;return this._solving[b]},getDeferred:function(a){this._solving||(this._solving={});return this._solving[a]},
getSendOptions:function(){var a={},b=this.getDriverModule();b&&b.getCommandArgs&&(a=b.getCommandArgs(this)||a);return a},_resolve:function(a,b,c){if(d.isNumber(a)||d.isBoolean(a))return a;var e=this.scope;a=a||this._get("send");b=b||{};var h=b.flags||this.flags,l=!(h&f.CIFLAG.DONT_PARSE),g=h&f.CIFLAG.EXPRESSION;h&f.CIFLAG.TO_HEX&&(a=k.to_hex(a));!1!==l&&(a=k.convertAllEscapes(a,"none"));b=b||this._lastSettings||{};if(h=(b=b.override||this.override||{},b.variables)?b.variables:null)for(var m in h)d.isNumber(h[m])&&
(h[m]=Math.round(h[m]));(m=this.getDriverModule())&&m.resolveBefore&&!1!==c&&(a=m.resolveBefore(this,a)||a);e=g&&!1!==l?e.parseExpression(a,null,h,null,null,null,b.args):""+a;m&&m.resolveAfter&&!1!==c&&(e=m.resolveAfter(this,e)||e);return e},solve:function(a,b,c,d){var e=null;a=a||this.scope;(b=this._lastSettings=b||this._lastSettings||{},b.override)&&b.override.mixin&&k.mixin(this.override,b.override.mixin);var h=d||this._get("send")||this.send,l=!(this.flags&f.CIFLAG.DONT_PARSE);d=this.flags&f.CIFLAG.WAIT?
!0:!1;var g=k.createUUID();this.flags&f.CIFLAG.TO_HEX&&(h=k.to_hex(h));!1!==l&&(h=k.convertAllEscapes(h,"none"));if(this.enabled||!0===c){!0===c&&this._loop&&this.reset();if(!0!==d)this.onRun(this,b);else this.onRun(this,b,{timeout:!1}),e=this.addDeferred(g);if(this.items&&0<this.items.length){if(h&&0<h.length&&(h=this._resolve(this.send,b))&&0<h.length)if(this.sendToDevice(h,b))this.onSuccess(this,b);else this.onFailed(this,b);if(d)return e;c=[];for(e=0;e<this.items.length;e++)d=this.items[e],d.enabled&&
c.push(d.solve(a,b));return c}if(0<h.length){if((h=this._resolve(this.send,b))&&0<h.length&&!this.sendToDevice(h,b,null,null,g))this.onFailed(this,b);if(!0!==d)this.onSuccess(this,b);else this._settings=b;c&&this.auto&&0<this.getInterval()&&this.scope.loopBlock(this,b);return d?e:[h]}return!1}this.reset()},canAdd:function(){return[]},mayHaveChildren:function(){return null!=this.items&&0<this.items.length},getChildren:function(){return this.items},hasInlineEdits:!0,toText:function(a,b,c,d){var e="";
!1!==a&&(e+="<span class='text-primary inline-icon'>"+this.getBlockIcon()+"</span>");!1!==b&&(e+=""+this.makeEditable("name","bottom","text","Enter a unique name","inline")+"");!0===d&&(e+="<br/>");!1!==c&&(e+="<span class='text-muted small'> Send:<kbd class='text-warning'>"+this.makeEditable("send","bottom","text","Enter the string to send","inline")+"</kbd></span>");!1!==a&&(this.startup&&(e+=this.getIcon("fa-bell inline-icon text-warning","text-align:right;float:right;","")),this.auto&&0<this.getInterval()&&
(e+=this.getIcon("fa-clock-o inline-icon text-warning","text-align:right;float:right","")));return e=this.getDriverToText(e)||e},getInterval:function(){return parseInt(this.interval,10)},start:function(){this.startup&&!this.auto?this.solve(this.scope):this.auto&&0<this.getInterval()&&this.scope.loopBlock(this)},getDriverModule:function(){var a=null,b=this.getInstance();b?a=b.Module:(b=this.getScope().driver)&&b.Module&&(a=b.Module);return a},getDriverToText:function(a){var b=this.getDriverModule();
if(b&&b.toText)return b.toText(this,a)},getDriverFields:function(a){var b=this.getDriverModule(),c=[];b&&b.getFields&&(c=b.getFields(this,a)||[]);return c},getFields:function(){var a=this.inherited(arguments)||this.getDefaultFields(),b=this;a.push(this.utils.createCI("name",13,this.name,{group:"General",title:"Name",dst:"name",order:200}));a.push(this.utils.createCI("startup",0,this.startup,{group:"General",title:"Send on Startup",dst:"startup",order:199}));a.push(this.utils.createCI("auto",0,this.auto,
{group:"General",title:"Auto Send",dst:"auto",order:198}));a.push(this.utils.createCI("interval",13,this.interval,{group:"General",title:"Interval",dst:"interval",order:197}));a.push(this.utils.createCI("send",f.ECIType.EXPRESSION_EDITOR,this.send,{group:"Send",title:"Send",dst:"send",widget:{instantChanges:!1,allowACECache:!0,showBrowser:!1,showSaveButton:!0,style:"height:inherit;",editorOptions:{showGutter:!1,autoFocus:!1},aceOptions:{hasEmmet:!1,hasLinking:!1,hasMultiDocs:!1},item:this},delegate:{runExpression:function(a,
c,d){return b.scope.expressionModel.parse(b.scope,a,!1,c,d)}}}));a.push(this.utils.createCI("flags",5,this.flags,{group:"General",title:"Flags",dst:"flags",data:[{value:4096,label:"Dont parse",title:"Do not parse the string and use it as is"},{value:2048,label:"Expression",title:"Parse it as Javascript"},{value:32768,label:"Wait",title:"Wait for response"}],widget:{hex:!0}}));return a=a.concat(this.getDriverFields(a))},icon:"fa-exclamation",getIconClass:function(){return"el-icon-play-circle"},getBlockIcon:function(){return'<span class="'+
this.icon+'"></span> '},canEdit:function(){return!0},onChangeField:function(a,b,c){var d=this.getInterval();"auto"===a&&(!0===b?0<d&&this.scope.loopBlock(this):this._loop&&this.reset());"enabled"===a&&(!1===b?this.reset():d&&this.scope.loopBlock(this));"interval"===a&&(0<d&&this.auto?this.scope.loopBlock(this):this.reset());this.inherited(arguments)},destroy:function(){this.reset()},pause:function(){var a=this.lastCommand||this._resolve(this.send,this._lastSettings);null!==a&&this.sendToDevice(a,
this._lastSettings,!1,!0)},stop:function(a){!0!==a&&(this.onSuccess(this,{highlight:!0}),this.resolve(""),a=this.lastCommand||this._resolve(this.send,this._lastSettings),d.isEmpty(a)||this.sendToDevice(a,this._lastSettings,!0,!1),delete this._runningDfd)}})});
define("xblox/types/Types",["xide/types/Types","xide/utils"],function(c,m){c.BLOCK_MODE={NORMAL:0,UPDATE_WIDGET_PROPERTY:1};c.BLOCK_OUTLET={NONE:0,PROGRESS:1,ERROR:2,PAUSED:4,FINISH:8,STOPPED:16};m.mixin(c.EVENTS,{ON_RUN_BLOCK:"onRunBlock",ON_RUN_BLOCK_FAILED:"onRunBlockFailed",ON_RUN_BLOCK_SUCCESS:"onRunBlockSuccess",ON_BLOCK_SELECTED:"onItemSelected",ON_BLOCK_UNSELECTED:"onBlockUnSelected",ON_BLOCK_EXPRESSION_FAILED:"onExpressionFailed",ON_BUILD_BLOCK_INFO_LIST:"onBuildBlockInfoList",ON_BUILD_BLOCK_INFO_LIST_END:"onBuildBlockInfoListEnd",
ON_BLOCK_PROPERTY_CHANGED:"onBlockPropertyChanged",ON_SCOPE_CREATED:"onScopeCreated",ON_VARIABLE_CHANGED:"onVariableChanged",ON_CREATE_VARIABLE_CI:"onCreateVariableCI"});c.BlockType={AssignmentExpression:"AssignmentExpression",ArrayExpression:"ArrayExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",
DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",
Program:"Program",Property:"Property",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement"};c.BLOCK_CAPABILITIES={TOPMOST:16384,
TARGET:262144,VARIABLE_INPUTS:128,VARIABLE_OUTPUTS:256,VARIABLE_OUTPUT_PARAMETERS:512,VARIABLE_INPUT_PARAMETERS:1024,CHILDREN:32,SIGNALS:128};c.EXECUTION_STATE={NONE:0,RUNNING:1,ERROR:2,PAUSED:4,FINISH:8,STOPPED:16,ONCE:2147483648,RESET_NEXT_FRAME:8388608,LOCKED:536870912};c.RUN_FLAGS={CHILDREN:32,WAIT:32768};return c});
define("xcf/types/Types","xaction/types xide/types/Types xide/types xide/utils/ObjectUtils xide/utils xide/utils/HexUtils".split(" "),function(c,m,g,k,f,a){String.prototype.setBytes||(String.prototype.setBytes=function(a){this.bytes=a});String.prototype.getBytes||(String.prototype.getBytes=function(){return this.bytes?this.bytes:a.stringToBuffer(this)});String.prototype.getString||(String.prototype.getString=function(){return this.string});String.prototype.setString||(String.prototype.setString=function(a){this.string=
a});String.prototype.hexString||(String.prototype.hexString=function(){var b=this.getBytes();return a.bufferToHexString(b)});g.VARIABLE_FLAGS={PUBLISH:2,PUBLISH_IF_SERVER:4};g.LOGGING_FLAGS={NONE:0,GLOBAL_CONSOLE:1,STATUS_BAR:2,POPUP:4,FILE:8,DEV_CONSOLE:16,DEVICE_CONSOLE:32};f.mixin(g.ITEM_TYPE,{DEVICE:"Device",DEVICE_GROUP:"Device Group",DRIVER:"Driver",DRIVER_GROUP:"Driver Group",PROTOCOL:"Protocol",PROTOCOL_GROUP:"Protocol Group"});g.SERVICE_STATUS={OFFLINE:"offline",ONLINE:"online",TIMEOUT:"timeout"};
g.PROTOCOL={TCP:"tcp",UDP:"udp",SERIAL:"serial",DRIVER:"driver",SSH:"ssh",MQTT:"mqtt"};f.mixin(g.EVENTS,{ON_DEBUGGER_READY:"onDebuggerReady",ON_DEVICE_SELECTED:"onDeviceSelected",ON_DEVICE_GROUP_SELECTED:"onDeviceGroupSelected",ON_PROTOCOL_SELECTED:"onProtocolSelected",ON_PROTOCOL_GROUP_SELECTED:"onProtocolGroupSelected",ON_PROTOCOL_CHANGED:"onProtocolChanged",ON_MQTT_MESSAGE:"onMQTTMessage",ON_DEVICE_MESSAGE:"onDeviceMessage",ON_DEVICE_MESSAGE_EXT:"onDeviceMessageExt",ON_COMMAND_FINISH:"onCommandFinish",
ON_COMMAND_PROGRESS:"onCommandProgress",ON_COMMAND_PAUSED:"onCommandPaused",ON_COMMAND_STOPPED:"onCommandStopped",ON_COMMAND_ERROR:"onCommandError",ON_DEVICE_DISCONNECTED:"onDeviceDisconnected",ON_DEVICE_CONNECTED:"onDeviceConnected",ON_DEVICE_COMMAND:"onDeviceCommand",ON_DEVICE_STATE_CHANGED:"onDeviceStateChanged",ON_DEVICE_DRIVER_INSTANCE_READY:"onDeviceDriveInstanceReady",ON_DRIVER_SELECTED:"onDriverSelected",ON_DRIVER_GROUP_SELECTED:"onDriverGroupSelected",ON_DRIVER_VARIABLE_ADDED:"onDriverVariableAdded",
ON_DRIVER_VARIABLE_REMOVED:"onDriverVariableRemoved",ON_DRIVER_VARIABLE_CHANGED:"onDriverVariableChanged",ON_DRIVER_COMMAND_ADDED:"onDriverCommandAdded",ON_DRIVER_COMMAND_REMOVED:"onDriverCommandRemoved",ON_DRIVER_COMMAND_CHANGE:"onDriverVariableChanged",ON_SCOPE_CREATED:"onScopeCreated",ON_DRIVER_MODIFIED:"onDriverModified",SET_DEVICE_VARIABLES:"setDeviceVariables",ON_SERVER_LOG_MESSAGE:"onServerLogMessage",ON_CLIENT_LOG_MESSAGE:"onClientLogMessage",ON_DEVICE_SERVER_CONNECTED:"onDeviceServerConnected",
ON_RUN_CLASS_EVENT:"onRunClassEvent"});g.MESSAGE_SOURCE={DEVICE:"DEVICE",GUI:"GUI",BLOX:"BLOX",CODE:"CODE"};g.DEVICE_STATE={CONNECTING:"DeviceIsConnecting",CONNECTED:"DeviceIsConnected",SYNCHRONIZING:"DeviceIsSynchronizing",READY:"DeviceIsReady",DISCONNECTED:"DeviceIsDisconnected",DISABLED:"DeviceIsDisabled",LOST_DEVICE_SERVER:"LostDeviceServerConnection"};g.DRIVER_PROPERTY={CF_DRIVER_NAME:"CF_DRIVER_NAME",CF_DRIVER_ICON:"CF_DRIVER_ICON",CF_DRIVER_CLASS:"CF_DRIVER_CLASS",CF_DRIVER_ID:"CF_DRIVER_ID",
CF_DRIVER_COMMANDS:"CF_DRIVER_COMMANDS",CF_DRIVER_VARIABLES:"CF_DRIVER_VARIABLES",CF_DRIVER_RESPONSES:"CF_DRIVER_RESPONSES"};g.PROTOCOL_PROPERTY={CF_PROTOCOL_TITLE:"Title",CF_PROTOCOL_ICON:"CF_PROTOCOL_ICON",CF_PROTOCOL_CLASS:"CF_PROTOCOL_CLASS",CF_PROTOCOL_ID:"CF_PROTOCOL_ID",CF_PROTOCOL_COMMANDS:"CF_PROTOCOL_COMMANDS",CF_PROTOCOL_VARIABLES:"CF_PROTOCOL_VARIABLES",CF_PROTOCOL_RESPONSES:"CF_PROTOCOL_RESPONSES"};g.DEVICE_PROPERTY={CF_DEVICE_DRIVER:"Driver",CF_DEVICE_HOST:"Host",CF_DEVICE_PORT:"Port",
CF_DEVICE_PROTOCOL:"Protocol",CF_DEVICE_TITLE:"Title",CF_DEVICE_ID:"Id",CF_DEVICE_ENABLED:"Enabled",CF_DEVICE_OPTIONS:"Options",CF_DEVICE_DRIVER_OPTIONS:"DriverOptions",CF_DEVICE_LOGGING_FLAGS:"Logging Flags"};g.LOG_OUTPUT={DEVICE_CONNECTED:"Device Connected",DEVICE_DISCONNECTED:"Device Disonnected",RESPONSE:"Response",SEND_COMMAND:"Send Command",DEVICE_ERROR:"Device Error"};g.DEFAULT_DEVICE_LOGGING_FLAGS={};c=g.LOGGING_FLAGS;g.DEFAULT_DEVICE_LOGGING_FLAGS[g.LOG_OUTPUT.DEVICE_CONNECTED]=c.GLOBAL_CONSOLE|
c.POPUP|c.STATUS_BAR|c.DEVICE_CONSOLE;g.DEFAULT_DEVICE_LOGGING_FLAGS[g.LOG_OUTPUT.DEVICE_DISCONNECTED]=c.GLOBAL_CONSOLE|c.POPUP|c.STATUS_BAR|c.DEVICE_CONSOLE;g.DEFAULT_DEVICE_LOGGING_FLAGS[g.LOG_OUTPUT.RESPONSE]=c.DEVICE_CONSOLE|c.GLOBAL_CONSOLE;g.DEFAULT_DEVICE_LOGGING_FLAGS[g.LOG_OUTPUT.SEND_COMMAND]=c.DEVICE_CONSOLE|c.GLOBAL_CONSOLE;g.DEFAULT_DEVICE_LOGGING_FLAGS[g.LOG_OUTPUT.DEVICE_ERROR]=c.GLOBAL_CONSOLE|c.POPUP|c.STATUS_BAR|c.DEV_CONSOLE|c.DEVICE_CONSOLE;g.DRIVER_FLAGS={RUNS_ON_SERVER:2,DEBUG:4,
SERVER:16};f.mixin(g.ITEM_TYPE,{CF_DRIVER_VARIABLE:"DriverVariable",CF_DRIVER_BASIC_COMMAND:"DriverBasicCommand",CF_DRIVER_CONDITIONAL_COMMAND:"DriverConditionalCommand",CF_DRIVER_RESPONSE_VARIABLE:"DriverResponseVariable"});g.BLOCK_GROUPS={CF_DRIVER_VARIABLE:"DriverVariable",CF_DRIVER_BASIC_COMMAND:"DriverBasicCommand",CF_DRIVER_CONDITIONAL_COMMAND:"DriverConditionalCommand",CF_DRIVER_RESPONSE_VARIABLE:"DriverResponseVariable",CF_DRIVER_RESPONSE_BLOCKS:"conditionalProcess",CF_DRIVER_RESPONSE_VARIABLES:"processVariables",
CF_DRIVER_BASIC_VARIABLES:"basicVariables"};g.COMMAND_TYPES={BASIC_COMMAND:"basic",CONDITIONAL_COMMAND:"conditional",INIT_COMMAND:"init"};f.mixin(g.ECIType,{DEVICE_NETWORK_SETTINGS:g.ECIType.END+1,DRIVER_COMMAND_SETTINGS:"CommandSettings"});g.VFS_ROOTS={SYSTEM_DRIVERS:"system_drivers",USER_DRIVERS:"user_drivers"};g.SOCKET_SERVER_COMMANDS={SIGNAL_MANAGER:"Manager_command",RUN_FILE:"Run_File",RUN_CLASS:"Run_Class",RUN_APP_SERVER_CLASS:"Run_App_Server_Class",RUN_APP_SERVER_CLASS_METHOD:"Run_App_Server_Class_Method",
RUN_APP_SERVER_COMPONENT_METHOD:"Run_App_Server_Component_Method",CANCEL_APP_SERVER_COMPONENT_METHOD:"Cancel_App_Server_Component_Method",ANSWER_APP_SERVER_COMPONENT_METHOD_INTERRUPT:"Answer_App_Server_Component_Method_Interrupt",SIGNAL_DEVICE:"Device_command",SIGNAL_RESPONSE:"WebSocket_response",MANAGER_TEST:"Manager_Test",MANAGER_CLOSE_ALL:"Close_All_Connections",MANAGER_STATUS:"status",MANAGER_START_DRIVER:"startDriver",START_DEVICE:"startDevice",STOP_DEVICE:"stopDevice",CREATE_CONNECTION:"createConnection",
MANAGER_STOP_DRIVER:"stopDriver",DEVICE_SEND:"Device_Send",CALL_METHOD:"Call_Method",RUN_SHELL:"Run_Shell",WATCH:"Watch_Directory",MQTT_PUBLISH:"MQTT_PUBLISH",MQTT_SUBSCRIBE:"MQTT_SUBSCRIBE",GET_DEVICE_VARIABLES:"getVariables",WRITE_LOG_MESSAGE:"Write_Log_Message",INIT_DEVICES:"INIT_DEVICES",PROTOCOL_METHOD:"PROTOCOL_METHOD"};return g});define("xcf/types",["dojo/_base/declare"],function(c){return c("xcf.types",null,{})});
define("xwire/main","xwire/Binding xwire/Source xwire/Target xwire/WidgetSource xwire/WidgetTarget xwire/EventSource xwire/DeviceTarget".split(" "),function(){});define("xwire/DeviceTarget",["dcl/dcl","xide/types","xwire/Target"],function(c,m,g){return c(g,{declaredClass:"xwire.DeviceTarget",variable:null,command:null,run:function(c){this.inherited(arguments);this.object&&(this.variable&&this.object.setVariable(this.variable,c.value,!1,!1,m.MESSAGE_SOURCE.GUI),this.command&&this.object.callCommand(this.command))}})});
define("xwire/EventSource",["dcl/dcl","xwire/Source","xide/mixins/EventedMixin"],function(c,m,g){return c([m,g.dcl],{declaredClass:"xwire.EventSource",trigger:null,path:null,filters:null,_started:!1,_matches:function(c,f){for(var a=0;a<f.length;a++)if(this.getValue(c,f[a].path)!==f[a].value)return!1;return!0},onTriggered:function(c){this.filters&&!this._matches(c,this.filters)||!this.path||(c=this.getValue(c,this.path),this.binding&&this.binding.trigger({value:c,source:this}))},start:function(){this._started||
(this.subscribe(this.trigger,this.onTriggered),this._started=!0)}})});
define("xwire/WidgetTarget",["dcl/dcl","xide/types","xwire/Target","xide/utils"],function(c,m,g,k){return c(g,{declaredClass:"xwire.WidgetTarget",targetFilter:null,binding:null,delegate:null,run:function(c){var a=null!==this.object&&null!=this.object.render,b=this.binding.accept?this.binding.accept.getFunction():null,d=this.binding.transform?this.binding.transform.getFunction():null;if(this.object){var e=c.value;null!=this.targetFilter&&this.targetFilter.length&&this.delegate&&this.delegate.resolveFilter&&
(e=this.delegate.resolveFilter(this.targetFilter,e,this.object));this.object.ignore=!0;if(!b||b.apply(this.delegate,[e,this.binding.accept,this.delegate,,this.object])){d&&(b=d.apply(this.delegate,[e,this.binding.transform,this.delegate,this.object]),null!==b&&void 0!==b&&(e=b));if(!a&&this.object.set)this.object.set(this.path,e);else if(this.object._set){if(this.object._set(this.path,e),a="set"+k.capitalize(this.path),this.object[a])this.object[a](e,c)}else this.object[this.path]=e;this.object.ignore=
!1}}}})});define("xwire/WidgetSource",["dcl/dcl","dojo/_base/kernel"],function(c,m,g){return c(m,{declaredClass:"xwire.WidgetSource",trigger:null,object:null,onTriggered:function(c){var f=this;this.object&&!0===this.object.ignore?setTimeout(function(){f.object.ignore=!1},500):this.binding&&this.binding.trigger({value:c,source:this})},start:function(){var c=this;this.handle=g.connect(this.object,this.trigger,function(f){c.onTriggered(f)})},destroy:function(){this.handle.remove()}})});
define("xwire/Target",["dcl/dcl","xwire/_Base"],function(c,m){m=c(m,{declaredClass:"xwire.Target",binding:null,object:null,path:null,run:function(){},start:function(){}});c.chainAfter(m,"run");return m});define("xwire/Source",["dcl/dcl","xide/types","xwire/_Base"],function(c,m,g){return c(g,{declaredClass:"xwire.Source"})});
define("xwire/Binding",["dcl/dcl","xwire/_Base"],function(c,m){return c(m,{declaredClass:"xwire.Binding",source:null,target:null,accept:null,transform:null,destroy:function(){this.source&&this.source.destroy();this.target&&this.target.destroy();delete this.transform;delete this.accept},trigger:function(c){this.target&&this.target.run(c)},start:function(){this.source&&(this.source.binding=this,this.source.start());this.target&&(this.target.binding=this,this.target.start())}})});
define("xfile/manager/FileManager","dcl/dcl dojo/_base/kernel xide/manager/ServerActionBase xide/types xfile/types xide/utils xide/encoding/SHA1 xide/manager/RPCService dojo/Deferred xdojo/has xfile/manager/FileManagerActions require xfile/factory/Store xide/lodash xdojo/has!electron?xfile/manager/Electron".split(" "),function(c,m,g,k,f,a,b,d,e,h,l,n,p,r,q){g=[g,l];h("electronx")&&q&&g.push(q);return c(g,{declaredClass:"xfile.manager.FileManager",getNewName:function(a,b){a=a.name.replace(".meta.json",
"");for(var c=!1,d=1,e=null;!c;)e=a+"-"+d+".meta.json",r.find(b,{name:e})?d++:c=!0;return e},_uploadXHR:null,store:null,config:null,filesToUpload:null,serviceUrl:"index.php",serviceClass:"XCOM_Directory_Service",settingsStore:null,stores:[],getStore:function(a,b){return(b=r.find(this.stores,{mount:a}))?b:p.createFileStore(a,null,this.config,null,this.ctx)},addStore:function(a){this.stores.push(a);a._on("destroy",this.removeStore.bind(this))},removeStore:function(a){this.stores.indexOf(a)&&this.stores.remove(a)},
download:function(c){[].push(c.path);if(h("nserver"))window.open("/files/"+c.mount+"/"+c.path+"?userDirectory="+encodeURIComponent(this.ctx.getUserDirectory()));else{var d=decodeURIComponent(this.serviceUrl),d=d.replace("view=rpc","view=smdCall"),d=-1!=d.indexOf("?")?d+"&":d+"?",e=this.serviceClass||"XCOM_Directory_Service";c=a.buildPath(c.mount,c.path,!0);c=this.serviceObject.base64_encode(c);d+="service="+e+".get&path="+c+"&callback=asdf";this.config.DOWNLOAD_URL&&(d=""+this.config.DOWNLOAD_URL,
d+="&path="+c+"&callback=asdf");var d=d+"&raw=html&attachment=1",f=a.getUrlArgs(location.href);a.mixin(f,{service:e+".get",path:c,callback:"asdf",raw:"html",attachment:"1",send:"1"});delete f.theme;delete f.debug;delete f.width;delete f.attachment;delete f.send;e=m.toJson(JSON.stringify(f));e=b._hmac(e,this.config.RPC_PARAMS.rpcSignatureToken,1);d+="&"+this.config.RPC_PARAMS.rpcUserField+"="+this.config.RPC_PARAMS.rpcUserValue;d+="&"+this.config.RPC_PARAMS.rpcSignatureField+"="+e;window.open(d)}},
getImageUrl:function(c,d,e){if(h("nserver"))return"/files/"+c.mount+"/"+c.path+"?userDirectory="+encodeURIComponent(this.ctx.getUserDirectory());d=-1!=location.href.indexOf("noImageCache")||!0===d||!0===c.dirty;var f=decodeURIComponent(this.serviceUrl),f=f.replace("view=rpc","view=smdCall");c=a.buildPath(c.mount,c.path,!0);c=this.serviceObject.base64_encode(c);var l=this.ctx.getFileManager().serviceClass||"XCOM_Directory_Service",f=-1!=f.indexOf("?")?f+"&":f+"?",f=f+("service="+l+".get&path="+c+"&callback=asdf");
this.config.DOWNLOAD_URL&&(f=""+this.config.DOWNLOAD_URL,f+="&path="+c+"&callback=asdf");var f=f+"&raw=html&attachment=0&send=1",g=a.getUrlArgs(location.href);a.mixin(g,{service:l+".get",path:c,callback:"asdf",raw:"html"});a.mixin(g,e);delete g.theme;delete g.debug;delete g.width;c=m.toJson(g);c=b._hmac(c,this.config.RPC_PARAMS.rpcSignatureToken,1);f+="&"+this.config.RPC_PARAMS.rpcUserField+"="+this.config.RPC_PARAMS.rpcUserValue;f+="&"+this.config.RPC_PARAMS.rpcSignatureField+"="+c;d&&(f+="&time="+
(new Date).getTime());if(e)for(var k in e)f+="&"+k+"="+e[k];return f},onFileUploadFailed:function(a){var b=k.EVENTS;a.dfd&&a.dfd.reject(a);this.filesToUpload.remove(a);this.publish(b.ON_UPLOAD_FAILED,{item:a},this)},onFileUploaded:function(a){var b=this,c=k.EVENTS;setTimeout(function(){b.publish(c.STATUS,{message:""+a.file.name+" uploaded to "+a.dstDir,messageArgs:{}},b);a.dfd&&a.dfd.resolve(a);b.filesToUpload.remove(a);b.publish(c.ON_UPLOAD_FINISH,{item:a})},500)},getUploadUrl:function(){if(h("nserver"))return this.serviceUrl.replace("/smd",
"/upload/?");var a=""+decodeURIComponent(this.serviceUrl),a=a.replace("view=rpc","view=upload"),a=a.replace("../../../../","./"),a=a+"&service="+this.serviceClass;return a+".put&callback=nada"},initXHRUpload:function(b,c,d,e){var f=new XMLHttpRequest;c=""+this.getUploadUrl()+("mount="+encodeURIComponent(e));c+="&dstDir="+encodeURIComponent(d);var h=this;d=f.upload;d.addEventListener("progress",function(a){if(a.lengthComputable)a={item:b,progress:a},b.isLoading=!0,b.dfd.progress(a);else h.onFileUploaded(b)}.bind(this),
!1);f.onreadystatechange=function(){if(4==f.readyState){if(f.responseText&&"OK"!=f.responseText){var c=a.getJson(f.responseText);!c&&f.responseText.indexOf("Fata Error")&&(c={result:[f.responseText],code:1});if(c&&c.result&&r.isArray(c.result)&&0<c.result.length){for(var d=null,e=0;e<c.result.length;e++)h.publish(k.EVENTS.ERROR,"Error uploading : "+b.name+" "+c.result[e],h),d=c.result[e];d&&(b.error=d);h.onFileUploadFailed(b);h.submitNext();return}c&&c.error&&(h.publish(k.EVENTS.ERROR,"Error uploading : "+
b.name+" "+c.error.message,h),h.onFileUploadFailed(b))}h.onFileUploaded(b);h.submitNext()}}.bind(this);d.onerror=function(){h.publish(k.EVENTS.ERROR,"Error uploading : "+b.name,h)};f.open("POST",c,!0);return f},hasLoadingItem:function(){for(var a=0;a<this.filesToUpload.length;a++)if("loading"==this.filesToUpload[a].status)return this.filesToUpload[a];return!1},upload:function(a,b,c,d,f){f=[];for(var h=0;h<a.length;h++){var l={file:a[h],dstDir:""+c,mount:""+b,callee:d,view:d,dfd:new e};f.push(l.dfd);
this.filesToUpload.push(l)}this.submitNext();return f},sendFileUsingFormData:function(a,b){var c=new FormData;c.append("userfile_0",b.file);a.send(c)},sendFileMultipart:function(a){a.status="loading";var b=this.initXHRUpload(a,"",a.dstDir,a.mount);this.publish(k.EVENTS.ON_UPLOAD_BEGIN,{item:a,name:a.name},this);window.FormData&&this.sendFileUsingFormData(b,a)},submitNext:function(){var a=this.getNextUploadItem();a&&this.sendFileMultipart(a)},getNextUploadItem:function(){for(var a=0;a<this.filesToUpload.length;a++)if(!this.filesToUpload[a].status)return this.filesToUpload[a];
return!1},onError:function(a){if(a)if(1===a.code){if(a.message&&r.isArray(a.message)){this.publish(k.EVENTS.ERROR,a.message.join("<br/>"),this);return}}else 0===a.code&&this.publish(k.EVENTS.STATUS,"Ok",this);this.publish(k.EVENTS.ERROR,{error:a},this)},addError:function(a){var b=this;a.addCallback(function(){b.onError()})},downloadItem:function(a,b){return this.callMethod(k.OPERATION.DOWNLOAD,[a],b,!0)},downloadTo:function(a,b,c,d,e){if(e){var f=this,h=function(a){var b=!1;a&&a.error&&1==a.error.code&&
(b=!0);f.publish(k.EVENTS.ON_DOWNLOAD_TO_END,{terminatorItem:e,failed:b},this);d(arguments)};f.publish(k.EVENTS.ON_DOWNLOAD_TO_BEGIN,{dst:e,url:a,items:[e]},this)}else console.log("download from remote url have no dest item");return this.callMethod(k.OPERATION.DOWNLOAD_TO,[a,b,c],h,!0)},find:function(a,b,c){try{return this.callMethod(k.OPERATION.FIND,[a,b],c,!0)}catch(x){logError(x,"find")}},getContent:function(b,c,d,e){if(this.getContentE){var f=this.getContentE.apply(this,arguments);if(f)return f}return h("php")?
(f=a.buildPath(b,c,!1),this.callMethod(k.OPERATION.GET_CONTENT,[f,!1,!1],d,!1)):this._getText(n.toUrl(b).replace("main.js","")+"/"+c,{sync:!1,handleAs:"text"}).then(function(a){try{d&&d(a)}catch(A){logError(A,"error running RPC")}})},setContent:function(a,b,c,d){this.publish(k.EVENTS.ON_CHANGED_CONTENT,{mount:a,path:b,content:c});this.publish(k.EVENTS.ON_STATUS_MESSAGE,{text:"Did save file : "+a+"://"+b});if(this.setContentE){var e=this.setContentE.apply(this,arguments);if(e)return e}return this.callMethod(k.OPERATION.SET_CONTENT,
[a,b,c],d,!0)},onMessages:function(b){if((b=a.getJson(b.events))&&r.isArray(b))for(var c=0;c<b.length;c++){var d={path:b[c].relPath};a.mixin(d,b[c]);this.publish(b[c].clientEvent,d,this)}},onErrors:function(a){},init:function(){this.stores=[];this.filesToUpload=[]},callMethodEx:function(b,c,d,e,f){var h=b||this.serviceClass,l=this;if(!this.serviceObject[h][c]){if(!0===f)this.onError({code:1,message:["Sorry, server doesnt know "+c]});return null}b={};b=a.mixin(b,this.config.RPC_PARAMS.rpcFixedParams);
b[this.config.RPC_PARAMS.rpcUserField]=this.config.RPC_PARAMS.rpcUserValue;this.serviceObject.extraArgs=b;this.serviceObject.signatureField=this.config.RPC_PARAMS.rpcSignatureField;this.serviceObject.signatureToken=this.config.RPC_PARAMS.rpcSignatureToken;this.serviceObject[h][c](d).then(function(a){try{e&&e(a)}catch(E){console.error("bad news : callback for method "+c+" caused a crash in service class "+h)}a&&a.error&&3==a.error.code&&setTimeout(function(){l.onMessages(a.error)},50);if(a&&a.error&&
a.error&&0!==a.error.code)l.onError(a.error);else l.publish(k.EVENTS.STATUS,{message:"Ok!"},this)},function(a){l.onError(a)})},callMethod:function(b,c,d,e){var f=this,h=this.serviceClass;try{if(!this.serviceObject[h][b]){if(!0===e)this.onError({code:1,message:["Sorry, server doesnt know "+b]});return null}h={};h=a.mixin(h,this.config.RPC_PARAMS.rpcFixedParams);h[this.config.RPC_PARAMS.rpcUserField]=this.config.RPC_PARAMS.rpcUserValue;this.serviceObject.extraArgs=h;this.serviceObject.signatureField=
this.config.RPC_PARAMS.rpcSignatureField;this.serviceObject.signatureToken=this.config.RPC_PARAMS.rpcSignatureToken;var l=this.serviceObject[this.serviceClass][b](c);l.then(function(a){try{d&&d(a)}catch(E){console.error("crashed in "+b),logError(E,"error running RPC")}a&&a.error&&3==a.error.code&&setTimeout(function(){f.onMessages(a.error)},50);if(a&&a.error&&a.error&&1==a.error.code)f.onError(a.error);else!1!==e&&f.publish(k.EVENTS.STATUS,{message:"Ok!"},this)},function(a){f.onError(a)});return l}catch(z){console.error("crash calling method"+
z,arguments),f.onError(z),logError(z,"error ")}},__initService:function(){this.filesToUpload=[];!this.serviceObject&&this.serviceUrl&&(this.serviceObject=new d(decodeURIComponent(this.serviceUrl)),this.serviceObject.config=this.config)}})});
define("xfile/manager/Electron",["dcl/dcl","xdojo/has","xide/utils","dojo/Deferred"],function(c,m,g,k){m("electronx");return c(null,{declaredClass:"xfile.manager.Electron",require:function(){return window.eRequire.apply(null,arguments)},srequire:function(){return this.require("electron").remote.require.apply(null,arguments)},remote:function(){return(0,window.eRequire)("electron").remote},getContentE:function(c,a,b,d){var e=(this.ctx||sctx).getResourceManager().getVariable("VFS_CONFIG")||{};d=new k;
this.require("os");this.require("electron");var f=this.require("path"),l=this.require("fs");c=c.replace("/","");if(e[c]){c=e[c];if(!c)return console.error("cant resolve file "+c+"/"+a),!1;a=a.replace("./","/");a=g.replaceAll("/",f.sep,a);c=f.resolve(c+f.sep+a);if(l.existsSync(c)){a=l.statSync(c).size;f=new Buffer(a);c=l.openSync(c,"r");if(!a)return"";l.readSync(c,f,0,a,0);l.closeSync(c);l=f.toString();d.resolve(l);b&&b(l)}else return console.warn("path "+c+" doesnt exists, fall back to legacy getContent"),
!1;return d}console.error("open in os failed: have no VFS config for "+c)},setContentE:function(c,a,b,d){var e=(this.ctx||sctx).getResourceManager().getVariable("VFS_CONFIG")||{},f=new k;this.require("os");var l=this.require("path"),n=this.require("fs");c=c.replace("/","");if(e[c]){c=e[c];if(!c)return console.warn("cant resolve file mount"+c+"/"+a),!1;a=a.replace("./","/");a=g.replaceAll("/",l.sep,a);l=l.resolve(c+l.sep+a);if(n.existsSync(l))try{n.writeFileSync(l,b),d&&d(),f.resolve()}catch(p){return console.error("error saving file "+
l),!1}else return console.error("path "+l+" doesnt exists, fallback to legacy setContent"),!1;return f}console.error("open in os failed: have no VFS config for "+c)}})});
define("xfile/factory/Store",["xide/types","xide/factory","xide/utils","xfile/data/Store"],function(c,m,g,k){m.createFileStore=function(f,a,b,d,e,h){a=a||{fields:c.FIELDS.SHOW_ISDIR|c.FIELDS.SHOW_OWNER|c.FIELDS.SHOW_SIZE|c.FIELDS.SHOW_MIME|c.FIELDS.SHOW_PERMISSIONS|c.FIELDS.SHOW_TIME|c.FIELDS.SHOW_MEDIA_INFO};g.mixin(a,d);f=new k(g.mixin({data:[],ctx:e,config:b,url:b.FILE_SERVICE,serviceUrl:b.serviceUrl,serviceClass:b.FILES_STORE_SERVICE_CLASS,mount:f,options:a},h));f._state={initiated:!1,filter:null,
filterDef:null};f.reset();f.setData([]);f.init();e&&e.getFileManager().addStore(f);return f};return m});
define("xfile/data/Store","dojo/_base/declare dojo/_base/lang dojo/Deferred xide/mixins/ReloadMixin xide/manager/ServerActionBase dstore/Cache dstore/QueryResults xide/types xide/utils dojo/when xide/data/TreeMemory dstore/Trackable xide/data/ObservableStore xfile/model/File xide/lodash".split(" "),function(c,m,g,k,f,a,b,d,e,h,l,n,p,r,q){function t(){return{addDot:!0,recursive:!1,rootSegment:".",Model:r,idProperty:"path",parentProperty:"path",parentField:"parent",mount:"path",options:{fields:1663,
includeList:"*",excludeList:"*"},serviceUrl:null,serviceClass:null,singleton:!0,queryAccessors:!0,autoEmitEvents:!1,mayHaveChildren:function(a){return 0==a.mayHaveChildren?!1:!0===a.directory},_lastFilter:null,_lastFilterDef:null,_lastFilterItem:null,_initiated:{value:!1},id:null,_state:{initiated:!1,filter:null,filterDef:null},isInitiated:function(){return this._state.initiated},setInitiated:function(a){this._state.initiated=a},_extraSortProperties:{name:{ignoreCase:!0}},constructor:function(){this.id=
e.createUUID()},onSorted:function(a,b){if(1==a.length&&"name"===a[0].property){a=a[0].descending;var c=function(a){return a.name},d=q.groupBy(b,function(a){return!0===a.directory},this);b=q.sortBy(d["true"],c);b=b.concat(q.sortBy(d["false"],c));a&&b.reverse()}if(a=q.find(b,{name:".."}))b.remove(a),b.unshift(a);return b=this.onAfterSort(b)},onAfterSort:function(a){var b=this.micromatch;if("undefined"!==typeof mm&&b&&a&&a[0]){var c=a[0].realPath?"realPath":"path",c="name",d=q.pluck(a,c),e=mm(d,b);a=
a.filter(function(a){return-1===e.indexOf(a[c])?null:a});this._onAfterSort&&(a=this._onAfterSort(a))}return a},_createSortQuerier:function(a){var b=this;return function(c){c=c.slice();c.sort("function"==typeof a?a:function(c,d){for(var f=0;f<a.length;f++){var h;if("function"==typeof a[f])h=a[f](c,d);else{var l=a[f].property;b._extraSortProperties[l]&&e.mixin(a[f],b._extraSortProperties[l]);h=a[f].descending;var g=c.get?c.get(l):c[l],l=d.get?d.get(l):d[l],k=!!a[f].ignoreCase;null!=g&&(g=g.valueOf());
null!=l&&(l=l.valueOf());k&&(g.toUpperCase&&(g=g.toUpperCase()),l.toUpperCase&&(l=l.toUpperCase()));h=g===l?0:!!h===(null===g||g>l)?-1:1}if(0!==h)return h}return 0});return b.onSorted(a,c)}},_getItem:function(a,b){"/"===a&&(a=".");var c=this.getSync(a)||this.getSync("./"+a);return c&&(this.isItemLoaded(c)||1==b)?c:"."===a?this.getRootItem():null},getItem:function(a,b,c){a=a.replace("./","");if(0==b)return this._getItem(a);if(1==b){b=a.split("/");var d=this,e=[],f=d.getSync(a);if(f&&this.isItemLoaded(f))return f;
for(var l=new g,k=function(){if(q.find(e,{loaded:!1}))for(var b=0;b<e.length;b++){if(!e[b].loaded){var f=d.getSync(e[b].path);if(f)if(!0===f.directory&&d.isItemLoaded(f)){e[b].loaded=!0;continue}else if(null==f.directory){l.resolve(f);break}d._loadPath(e[b].path,!1,c).then(function(a){e[b].loaded=!0;k()},function(a){var c=Math.abs(Math.min(0,b-1));a=e[c];a||(c=e.length-1,a=e[c]);d.getItem(a.path);h(d.getItem(e[c].path,!1),function(a){l.resolve(a,e[c].path)})});break}}else l.resolve(d._getItem(a))},
f=".",n=0;n<b.length;n++)"."!=b[n]&&(0<b.length&&(f+="/"),f+=b[n],e.push({path:f,loaded:!1}));k();return l}return"."===a?this.getRootItem():null},getRootItem:function(){return{_EX:!0,path:".",name:".",mount:this.mount,directory:!0,virtual:!0,_S:this,getPath:function(){return this.path+"/"}}},getItemByPath:function(){},getParents:function(){return null},getParent:function(a){if(!a)return null;var b=a,c=null;m.isString(b)&&(b=this.getSync(a));b&&b.parent&&(c=this.getSync(b.parent));return c||this.getRootItem()},
isItemLoaded:function(a){return a&&(!a.directory||this._isLoaded(a))},loadItem:function(a,b){return this._loadItem(a,b)},_parse:function(a){a._S=this;q.isEmpty(a.children)||(q.each(a.children,function(b){b.parent||(b.parent=a.path);this._parse(b)},this),a._EX=!0,a.children=this.addItems(a.children));a.getPath=function(){return this.path}},_loadPath:function(a,b,c){var d=this,e=this._request(a,c);e.then(function(e){var f=d._getItem(a,!0);if(f)return b&&(q.isEmpty(f.children)||d.removeItems(f.children)),
f._EX=!0,d.addItems(e,b),f.children=e;if(c&&c.onError)c.onError("Error Requesting path on server : "+a);else throw Error("cant get item at "+a);}.bind(this),function(a){console.error("error in load")});return e},addSync:function(a,b){(b=b||{}).overwrite=!1;return this.putSync(a,b)},_loadItem:function(a,b){var c=new g,d=this;if(!a)return c.reject("need item"),c;b&&("."===a.path?(d.setInitiated(!1),d.fetchRange().then(function(b){c.resolve({store:d,items:b,item:a})})):this._loadPath(a.path,!0).then(function(b){c.resolve(a)},
function(a){console.error("error occured whilst loading items");c.reject(a)}));return c},_normalize:function(a){return a&&a.items?a.items[0]:[]},_isLoaded:function(a){return a&&!0===a._EX},fetch:function(){},put:function(){},add:function(a){var b=this.getSync(a.path);b||(b=this.addSync(a),b._S=this,b.getPath=function(){return this.path});return b},removeItems:function(a){q.each(a,function(a){this.getSync(a.path)&&this.removeSync(a.path)},this)},getSync:function(a){var b=this.storage.fullData;return b[this.storage.index[a]]||
b[this.storage.index[a.replace("./","")]]},addItems:function(a){var b=[];q.each(a,function(a){this.getSync(a.path)&&this.removeSync(a.path);b.push(this.add(a))},this);return b},open:function(a){var b=this;if(this._isLoaded(a)){var c=new g;b.resetQueryLog();c.resolve(a.children);return c}a.isLoading=!0;return b._request(a.path).then(function(c){a.isLoading=!1;a._EX=!0;b.addItems(c);return a.children=c})},getDefaultSort:function(){return[{property:"name",descending:!1,ignoreCase:!0}]},filter:function(a){if(a&&
"function"===typeof a)return this.inherited(arguments);a.parent&&(this._state.path=a.parent);var b=this.getSync(a.parent);b&&(this.isItemLoaded(b)?this._state.filterDef=null:(b.isLoading=!0,this._state.filterDef=this._loadPath(b.path),this._state.filterDef.then(function(){b.isLoading=!1})));delete this._state.filter;this._state.filter=a;return this.inherited(arguments)},_request:function(a,b){var c=this,d=this;return this.runDeferred(null,"ls",{path:a,mount:this.mount,options:this.options,recursive:this.recursive},
e.mixin({checkErrors:!1,displayError:!0},b),function(a){b&&!1===b.displayError||logError(a,"error in FileStore : "+c.mount+" :"+a)}).then(function(a){a=d._normalize(a);d._parse(a);return a=a.children||a},function(a){b&&!1===b.displayError||logError(a,"error in FileStore : "+this.mount+" :"+a)})},fetchRangeSync:function(){var a=this.fetchSync(),c=new g;c.resolve(a.length);return new b(a,{totalLength:c})},reset:function(){this._state.filter=null;this._state.filterDef=null;this.resetQueryLog()},resetQueryLog:function(){this.queryLog=
[]},fetchRange:function(){var a=this._fetchRange();return new b(a.then(function(a){return a}),{totalLength:a.then(function(a){return a.length})})},initRoot:function(){var a=this;if(!this.isInitiated())return a._request(".").then(function(b){a.isInitiated()||(q.each(b,a._parse,a),a.setData(b),a.setInitiated(!0),a.emit("loaded"));return a.fetchRangeSync(arguments)}.bind(this));var b=new g;b.resolve();return b},_fetchRange:function(){if(this._state.filter){var a=this._state.filterDef;if(a)return a.then(function(b){this.reset();
a&&a.resolve&&a.resolve(b)}.bind(this)),a}var c=this;if(this.isInitiated()){var d=c.fetchRangeSync(arguments),e=new g,f=new g;e.resolve(d);f.resolve(d.length);c.emit("loaded");return new b(e,{totalLength:d.totalLength})}return c._request(".").then(function(a){c.isInitiated()||(q.each(a,c._parse,c),c.setData(a),c.setInitiated(!0),c.emit("loaded"));return c.fetchRangeSync(arguments)}.bind(this))},getDefaultCollection:function(a){var b=this.getDefaultSort();return null==a?this.sort(b):this.filter(function(b){return b.parent===
a}).sort(b)},getChildren:function(a){return this.root.filter({parent:this.getIdentity(a)})},spin:!0}}c=c("xfile/data/Store",[l,a,n,p,f.declare,k],t());c.Implementation=t;return c});
define("xfile/model/File",["dcl/dcl","xide/data/Model","xide/utils","xide/types"],function(c,m,g,k){return c(m,{declaredClass:"xfile.model.File",getFolder:function(){var c=this.getPath();return this.directory?c:g.pathinfo(c,k.PATH_PARTS.ALL).dirname},getChildren:function(){return this.children},getParent:function(){return(this.getStore()||this._S).getParent(this)},getStore:function(){return this._store||this._S}})});
define("dstore/Cache","dojo/_base/array dojo/when dojo/_base/declare dojo/_base/lang ./Store ./Memory ./QueryResults".split(" "),function(c,m,g,k,f,a,b){function d(a){return function(){var b=this.inherited(arguments),c=this.cachingCollection||this.cachingStore;b.cachingCollection=c[a].apply(c,arguments);b.isValidFetchCache=!0===this.canCacheQuery||this.canCacheQuery(a,arguments);return b}}function e(b){b.cachingStore||(b.cachingStore=new a);b.cachingStore.Model=b.Model;b.cachingStore.idProperty=b.idProperty}
var h={cachingStore:null,constructor:function(){e(this)},canCacheQuery:function(a,b){return!1},isAvailableInCache:function(){return this.isValidFetchCache&&(this.allLoaded||this.fetchRequest)||this._parent&&this._parent.isAvailableInCache()},fetch:function(){return this._fetch(arguments)},fetchRange:function(){return this._fetch(arguments,!0)},_fetch:function(a,d){var e=this.cachingStore,f=this.cachingCollection||e,h=this,l=this.isAvailableInCache();if(l)return new b(m(l,function(){return h.isAvailableInCache()?
d?f.fetchRange(a[0]):f.fetch():h.inherited(a)}));l=this.fetchRequest=this.inherited(a);m(l,function(a){var b=!d;h.fetchRequest=null;c.forEach(a,function(a){!h.isLoaded||h.isLoaded(a)?e.put(a):b=!1});b&&(h.allLoaded=!0);return a});return l},isValidFetchCache:!1,get:function(a,b){var c=this.cachingStore,d=this.getInherited(arguments),e=this;return m(this.fetchRequest,function(){return m(c.get(a),function(f){if(void 0!==f)return f;if(d)return m(d.call(e,a,b),function(b){b&&c.put(b,{id:a});return b})})})},
add:function(a,b){var c=this.cachingStore;return m(this.inherited(arguments),function(d){var e=c.put(d&&"object"===typeof d?d:a,b);return d||e})},put:function(a,b){var c=this.cachingStore;c.remove(b&&b.id||this.getIdentity(a));return m(this.inherited(arguments),function(d){var e=c.put(d&&"object"===typeof d?d:a,b);return d||e})},remove:function(a,b){var c=this.cachingStore;return m(this.inherited(arguments),function(d){return m(c.remove(a,b),function(){return d})})},evict:function(a){this.allLoaded=
!1;return this.cachingStore.remove(a)},invalidate:function(){this.allLoaded=!1},_createSubCollection:function(){var a=this.inherited(arguments);a._parent=this;return a},sort:d("sort"),filter:d("filter"),select:d("select"),_getQuerierFactory:function(a){var b=this.cachingStore;return this.inherited(arguments)||k.hitch(b,b._getQuerierFactory(a))}};f=g(null,h);f.create=function(a,b){a=g.safeMixin(k.delegate(a),h);g.safeMixin(a,b);e(a);return a};return f});
define("xfile/manager/FileManagerActions",["dcl/dcl","xide/types","xide/utils"],function(c,m,g){return c(null,{declaredClass:"xfile/manager/FileManagerActions",_publishProgress:function(c,f,a,b,d){f={terminatorItem:f,failed:b,items:a||f};g.mixin(f,d);this.publish(c,f,this)},doOperation:function(c,f,a,b,d,e){var h=this,l=c.substring(0,1).toUpperCase()+c.substring(1),g="on"+l+"End";h._publishProgress("on"+l+"Begin",a,b,!1,d);return this.runDeferred(null,c,f,e).then(function(){h._publishProgress(g,a,
b,!1,d)},function(c){h._publishProgress(g,a,b,!0,d)})},deleteItems:function(c,f,a){return this.doOperation(m.OPERATION.DELETE,[c,f,!0],c,c,null,a)},copyItem:function(c,f,a,b){return this.doOperation(m.OPERATION.COPY,[c,f,a,!1],c,c,{dst:f},b)},mkdir:function(c,f,a){return this.doOperation(m.OPERATION.NEW_DIRECTORY,[c,f],f,null,null,a)},mkfile:function(c,f,a){return this.doOperation(m.OPERATION.NEW_FILE,[c,f,a||""],f)},rename:function(c,f,a){return this.doOperation(m.OPERATION.RENAME,[c,f,a],f)},moveItem:function(c,
f,a,b,d,e){return this.doOperation(m.OPERATION.MOVE,[c,f,a,b,d],c,null,null,e)},compressItem:function(c,f,a,b){return this.doOperation(m.OPERATION.COMPRESS,[c,f,a],f)},extractItem:function(c,f,a){return this.doOperation(m.OPERATION.EXTRACT,[c,f],f)}})});
define("xide/mainr","xide/types xide/types/Types xide/utils/StringUtils xide/utils/HTMLUtils xide/utils/StoreUtils xide/utils/WidgetUtils xide/utils/CIUtils xide/utils/ObjectUtils xide/utils/CSSUtils xide/factory xide/factory/Objects xide/factory/Events xide/factory/Clients xide/client/ClientBase xide/client/WebSocket xide/data/Memory xide/data/Model xide/data/ObservableStore xide/data/Reference xide/data/Source xide/data/TreeMemory xide/data/_Base xide/encoding/MD5 xide/encoding/SHA1 xide/encoding/_base xide/model/Component xide/debug xide/mixins/EventedMixin xide/mixins/ReferenceMixin xide/mixins/ReloadMixin xide/min xide/manager/BeanManager xide/manager/ContextBase xide/manager/Context xide/manager/ManagerBase xide/manager/PluginManager xide/manager/RPCService xide/manager/Reloadable xide/manager/ResourceManager xide/manager/ServerActionBase xide/utils".split(" "),function(){});
define("xide/manager/ResourceManager",["dcl/dcl","xide/manager/ServerActionBase","xide/utils","xide/mixins/VariableMixin"],function(c,m,g,k){return c([m,k.dcl],{declaredClass:"xide.manager.ResourceManager",serviceClass:"XApp_Resource_Service",resourceData:null,resourceVariables:null,getResourceVariables:function(){return this.resourceVariables},setVariable:function(c,a){return this.resourceVariables[c]=a},getVariable:function(c){return this.resourceVariables[c]},init:function(){this.resourceVariables||
(this.resourceVariables={})},replaceVariables:function(c,a){return g.multipleReplace(""+c,a||this.resourceVariables)}})});define("xide/mixins/VariableMixin",["dcl/dcl","xdojo/declare","xide/utils"],function(c,m,g){var k={resolve:function(c,a,b){a=a||this.resourceVariables||this.ctx.getResourceManager().getResourceVariables()||null;b=b||this.variableDelimiters||null;return g.replace(c,null,a,b)}};m=m("xide/mixins/VariableMixin",null,k);m.dcl=c(null,k);return m});
define("xide/manager/Reloadable",["dcl/dcl","dojo/_base/lang","xide/utils","xide/types"],function(c,m,g,k){return c(null,{declaredClass:"xide.manager.Reloadable",vfsMounts:null,xideServiceClient:null,fileUpdateTimes:{},onXIDELoaded:function(c,a){},loadXIDE:function(){var c=this;this.subscribe(k.EVENTS.ON_NODE_SERVICE_STORE_READY,this.onNodeServiceStoreReady);require(["xide/min","xide/client/WebSocket"],function(a,b){c._didXIDE||(c._didXIDE=!0,c.onXIDELoaded(a,b))})},onXIDEMessage:function(c){var a=
this;a.publish(c.event,c);if(c.event===k.EVENTS.ON_FILE_CHANGED){var b=c.data.path,d=(new Date).getTime();if(a.fileUpdateTimes[b]&&30>d-a.fileUpdateTimes[b])a.fileUpdateTimes[b]=d;else if(a.fileUpdateTimes[b]=d,b=g.replaceAll("\\","/",c.data.path),b=g.replaceAll("//","/",c.data.path),null==b||null==b.indexOf)console.error("on file changed : have no path, aborting");else{if(b.match(/\.css$/))a.onCSSChanged({path:b});if(b.match(/\.js$/)){var e=c.data.modulePath;if(e){e=e.replace(".js","");c=require;
try{c(e)}catch(h){}-1!=b.indexOf("node_modules")&&(c=b.substr(b.indexOf("node_modules")+12,b.length),c=c.replace(".js",""),-1!=b.indexOf("xcfnode")&&(e=c.replace("/xcfnode","xcfnode")));e=g.replaceAll(".","/",e);setTimeout(function(){a._reloadModule(e,!0)},400)}}}}},onNodeServiceStoreReady:function(c){},mergeFunctions:function(c,a){for(var b in a)_.isFunction(a[b])&&(c[b]=a[b])},onModuleReloaded:function(c){if(!c._didHandle&&(c._didHandle=!0,this.inherited(arguments),this.managers))for(var a=c.newModule,
b=0;b<this.managers.length;b++){var d=this.managers[b];if(a.prototype&&a.prototype.declaredClass&&a.prototype.declaredClass===d.declaredClass){this.mergeFunctions(d,a.prototype);if(d.onReloaded)d.onReloaded(a);break}}},_reloadModule:function(c,a){require.undef(c);var b=this;a&&setTimeout(function(){require([c],function(a){if(a)if(_.isString(a))console.error("module reloaded failed : "+a+" for module : "+c);else{console.log("did - re-require module : "+c);a.modulePath=c;var d=m.getObject(g.replaceAll("/",
".",c));d&&b.mergeFunctions(d.prototype,a.prototype);b.publish(k.EVENTS.ON_MODULE_RELOADED,{module:c,newModule:a});b.publish(k.EVENTS.ON_MODULE_UPDATED,{moduleClass:a.prototype.declaredClass,moduleProto:a.prototype})}else console.warn("invalid module")})},500)},onCSSChanged:function(c){if(!c.didProcess){c.didProcess=!0;c=c.path;c=g.replaceAll("//","/",c);c=c.replace("/PMaster/","");var a=window.xappOnStyleSheetChanged;a&&a(c)}},onDidChangeFileContent:function(c){if(!c.didProcess&&(c.didProcess=!0,
this.vfsMounts&&c.path)){var a=c.path;if(-1!=a.indexOf(".css"))this.onCSSChanged(c);else if(-1==a.indexOf("resources")&&-1==a.indexOf("meta")&&-1!=a.indexOf(".js")){var a=c.mount.replace("/",""),b=null;if(this.vfsMounts[a]){var b=""+c.path,b=b.replace("./",""),b=b.replace("/","."),b=b.replace(".js",""),b=g.replaceAll(".","/",b),d=this;setTimeout(function(){d._reloadModule(b,!0)},500)}}}}})});
define("xide/manager/PluginManager","dcl/dcl dojo/has xide/manager/ManagerBase xide/utils xide/types xide/factory dojo/Deferred dojo/promise/all".split(" "),function(c,m,g,k,f,a,b,d){return c(g,{declaredClass:"xide.manager.PluginManager",_defaultPackageLocationPrefix:"../../",_defaultPackageLocationSuffix:"/component",_defaultComponentFlags:{LOAD:1,RUN:2},defaultComponentMixin:function(a){return{owner:this,ctx:this.ctx,flags:a}},componentBaseClasses:null,ctx:null,pluginResources:null,pluginInstances:null,
_componentReady:function(a,b,c){if(b.RUN)try{a.run(this.ctx)}catch(n){}return c.resolve(a)},_componentLoaded:function(b,c,d,f){try{k.mixin(d,this.defaultComponentMixin(c));var e=a.createInstance(b,d,this.componentBaseClasses),h=function(a,b,c){this._componentReady(a,b,c)}.bind(this);c.LOAD?e.load().then(function(){h(e,c,f)}):h(e,c,f)}catch(q){f.reject(arguments),logError(q)}},loadComponent:function(a,c,d,f,g){d="true"===d?{}:d;a=-1==a.indexOf("/")?this._defaultPackageLocationPrefix+a+this._defaultPackageLocationSuffix:
a;c=null!=c?c:this._defaultComponentFlags;var e=new b,h=this;(f=k.getObject(a))?_.isFunction(f.then)?f.then(function(a){h._componentLoaded(a,c,d,e)},function(b){console.error("error in loading component at path "+a,b)}):this._componentLoaded(f,c,d,e):console.error("cant get object at "+a);return e},loadComponentResources:function(a,b){},reloadComponent:function(a){},loadPlugins:function(a){if(m("plugins")){var c=new b,e=[],g=this;this.pluginResources=a;this.pluginInstances=[];if(this.pluginResources)for(var k=
0;k<this.pluginResources.length;k++){var r=this.pluginResources[k];r.type&&"JS-PLUGIN"==r.type&&r.path&&e.push(this.loadComponent(r.path,null,r).then(function(a){a.pluginResources=r;g.pluginInstances.push(a)}))}d(e).then(function(){c.resolve(e);g.publish(f.EVENTS.ALL_PLUGINS_READY,{instances:g.pluginInstances,resources:a})});return c}}})});
define("xide/manager/Context","dcl/dcl dojo/Deferred dojo/has xide/manager/ContextBase xide/types xide/utils require dojo/promise/all xdojo/has!host-browser?xide/manager/Context_UI".split(" "),function(c,m,g,k,f,a,b,d,e){!g("host-browser")&&g.add("xlog",function(){return!0},!0);var h=g("host-node"),l=g("host-browser");g=c(l?[k,e]:[k],{declaredClass:"xide.manager.Context",application:null,contextManager:null,fileManager:null,resourceManager:null,notificationManager:null,serviceObject:null,pluginManager:null,
windowManager:null,logManager:null,mountManager:null,config:null,managers:null,namespace:"xide.manager.",defaultNamespace:"xide.manager.",vfsMounts:null,xideServiceClient:null,fileUpdateTimes:{},onXIDEMessage:function(c,d){if(c&&c.event){var e=this;if(c.event===f.EVENTS.ON_FILE_CHANGED)if(c.data&&c.data.mask&&-1!==c.data.mask.indexOf("delete"))e.publish(f.EVENTS.ON_FILE_DELETED,c);else if(c.data&&"delete"==c.data.type)e.publish(f.EVENTS.ON_FILE_DELETED,c);else{var l=c.data.path,g=(new Date).getTime();
if(e.fileUpdateTimes[l]&&1E3>g-e.fileUpdateTimes[l])e.fileUpdateTimes[l]=g;else if(!1!==d&&e.publish(c.event,c),e.fileUpdateTimes[l]=g,d=a.replaceAll("\\","/",c.data.path),d=a.replaceAll("//","/",c.data.path),d=d.replace(/\\/g,"/"),-1===d.indexOf("/build/")&&null!=d&&null!=d.indexOf){if(d.match(/\.css$/))e.onCSSChanged({path:d});if(d.match(/\.js$/)){var k=c.data.modulePath;if(k){k=k.replace(".js","");try{b(k)}catch(v){}c="data/system/drivers";-1!=d.indexOf(c)&&(c=d.substr(d.indexOf(c)+(c.length+1),
d.length),c=c.replace(".js",""),k="system_drivers/"+c);c="user/drivers";-1!=d.indexOf(c)&&(c=d.substr(d.indexOf(c)+(c.length+1),d.length),c=c.replace(".js",""),k="user_drivers/"+c);(c=(c=this.getResourceManager())?c.getVariable("VFS_CONFIG")||{}:null)&&c.user_drivers&&-1!==d.indexOf(c.user_drivers)&&(c=c.user_drivers,c=c.replace(/\/+$/,""),c=d.substr(d.indexOf(c)+(c.length+1),d.length),c=c.replace(".js",""),k="user_drivers/"+c);k=a.replaceAll(".","/",k);-1!==k.indexOf("/build/")||h||setTimeout(function(){e._reloadModule(k,
!0)},400)}}}}}},onNodeServiceStoreReady:function(a){},mergeFunctions:function(a,b,c,d){for(var e in b)_.isFunction(b[e])&&b[e]&&a&&(a[e]=b[e])},reloadModules:function(a,c){var e=new m,f=[],h=[],l=this;b({cacheBust:"time="+(new Date).getTime()});_.each(a,function(a){var d=null,e=new m;!1!==c&&(d=b(a));b.undef(a);b([a],function(a){d&&l.mergeFunctions(d.prototype,a.prototype);h.push(a);e.resolve()});f.push(e)});d(f).then(function(){e.resolve(h);b({cacheBust:null})});return e},_reloadModule:function(c,
d){var e=null,g=new m;if(h||-1===c.indexOf("nodejs")){c=c.replace("0/8","0.8");c=c.replace("/src/","/");var k=this.getModule(c);if(k&&k.prototype&&k.prototype.reloadModule)return k.prototype.reloadModule();var e=b.on("error",function(a){e.remove();g.reject(a)}),n=this.getModule(c);if(!n&&(n="undefined"!==typeof c?n:null,!n&&"undefined"!==typeof window))if(n=a.getAt(window,a.replaceAll("/",".",c),null))k=n;else try{n=b(a.replaceAll(".","/",c))}catch(w){}n&&(k=n);if(l){var p=document.getElementsByTagName("script");
_.each(p,function(a){a&&a.src&&-1!==a.src.indexOf(c)&&a.parentElement.removeChild(a)})}b.undef(c);var x=this;d?setTimeout(function(){b({cacheBust:"time="+(new Date).getTime(),waitSeconds:5});try{b([c],function(a){b({cacheBust:null});if(_.isString(a))console.error("module reloaded failed : "+a+" for module : "+c);else{a.modulePath=c;k&&(x.mergeFunctions(k.prototype,a.prototype,k,a),k.prototype&&k.prototype._onReloaded&&k.prototype._onReloaded(a));if(n&&n.onReloaded)n.onReloaded(a,n);x.publish(f.EVENTS.ON_MODULE_RELOADED,
{module:c,newModule:a});a.prototype&&a.prototype.declaredClass&&x.publish(f.EVENTS.ON_MODULE_UPDATED,{moduleClass:a.prototype.declaredClass,moduleProto:a.prototype});x.setModule(c,a);g.resolve(a)}})}catch(w){console.error("error reloading module",w),logError(w,"error reloading module"),g.reject(w)}},100):g.resolve();return g}},onCSSChanged:function(b){if(l){b=b.path;this.findVFSMount(b);b=a.replaceAll("//","/",b);b=b.replace("/PMaster/","");var c=window.xappOnStyleSheetChanged;c&&c(b)}},onDidChangeFileContent:function(b){if(!b.didProcess&&
(b.didProcess=!0,this.vfsMounts&&b.path)){var c=b.path;if(-1!=c.indexOf(".css")){if(l)this.onCSSChanged(b)}else if(-1==c.indexOf("resources")&&-1==c.indexOf("meta")&&-1!=c.indexOf(".js")){var c=b.mount.replace("/",""),d=null;if(this.vfsMounts[c]){var d=""+b.path,d=d.replace("./",""),d=d.replace("/","."),d=d.replace(".js",""),d=a.replaceAll(".","/",d),e=this;setTimeout(function(){try{e._reloadModule(d,!0)}catch(t){console.error("error reloading module",t)}},100)}}}},getMount:function(a){var b=this.getResourceManager();
return(b=b?b.getVariable("VFS_CONFIG")||{}:null)&&b[a]?b[a]:null},toVFSShort:function(b,c){var d=this.getResourceManager();return(d=d?d.getVariable("VFS_CONFIG")||{}:null)&&d[c]&&(c=d[c],c=a.replaceAll("//","/",c),c=c.replace(/\/+$/,""),-1!==b.indexOf(c))?(c=c.replace(/\/+$/,""),b.substr(b.indexOf(c)+(c.length+1),b.length)):null},findVFSMount:function(b){var c=this.getResourceManager();if(c=c?c.getVariable("VFS_CONFIG")||{}:null)for(var d in c){var e=c[d],e=a.replaceAll("//","/",e),e=e.replace(/\/+$/,
"");if(-1!==b.indexOf(e))return d}return null},getBlockManager:function(){return this.blockManager},getPluginManager:function(){return this.pluginManager},getService:function(){return this.serviceObject},getFileManager:function(){return this.fileManager},getResourceManager:function(){return this.resourceManager},getMountManager:function(){return this.mountManager},getContextManager:function(){return this.contextManager},getLogManager:function(){return this.logManager},getApplication:function(){return this.application},
constructor:function(a,b){this.managers=[];this.config=a;this.args=b;this.language="en";this.subscribe(f.EVENTS.ON_CHANGED_CONTENT,this.onDidChangeFileContent)},prepare:function(){this.config&&this.initWithConfig(this.config)},initWithConfig:function(a){a&&a.mixins&&this.doMixins(a.mixins)},isEditor:function(){return this.args&&this.args.file}});c.chainAfter(g,"constructManagers");c.chainAfter(g,"initManagers");return g});
define("xide/manager/Context_UI","dcl/dcl dojo/Deferred dojo/has xide/types xide/utils xide/mixins/EventedMixin require xide/manager/PluginManager xide/manager/WindowManager xide/manager/NotificationManager xide/manager/SettingsManager xide/editor/Registry xaction/ActionProvider xide/lodash xide/manager/Router".split(" "),function(c,m,g,k,f,a,b,d,e,h,l,n,p,r,q){!g("host-browser")&&g.add("xlog",function(){return!0},!0);g("host-node");g("host-browser");a=c([a.dcl,p.dcl,n],{declaredClass:"xide.manager.Context_UI",
widgetManager:null,settingsManager:null,trackingManager:null,mainView:null,registerRoute:function(a){this.routes||(this.routes=[]);this.routes.push(a)},ready:function(){this.getRouter()},routes:null,router:null,getRouter:function(){this.router&&this.router.match||(this.router=new q({routes:this.routes}));return this.router},getWindowManager:function(){return this.windowManager},getWidgetManager:function(){return this.widgetManager},getNotificationManager:function(){return this.notificationManager},
getSettingsManager:function(){return this.settingsManager},getTrackingManager:function(){return this.trackingManager},getMainView:function(){return this.mainView},runAction:function(a){a=this.getAction(a);var b=this.inherited(arguments);null==b&&a.handler&&(b=a.handler.apply(this,[a]));return b},createEditor:function(a,b,c,d,e){e=new m;r.isArray(b)&&(b=b[0]);var h=b&&b.name?b.name:f.pathinfo(b.path,"PATHINFO_FILENAME")+"."+f.pathinfo(b.path,"PATHINFO_EXTENSION"),l=this.mainView,g=l.getDocker(),n=
{ctx:this,config:this.config,item:b,title:h,closeable:!0,closable:!0};f.mixin(n,a);if(r.isString(a.editorClass)&&!this.getModule(a.editorClass))return null;if(!0===a.runFunctionOnly)return a.editorClass.apply(this,[b]),e.resolve(null),e;d=d||l.layoutCenter;var p=g.addTab(null,{title:h,target:d?d._parent:null,icon:"fa-code"});n._parent=p;this.publish(k.EVENTS.ON_CREATE_EDITOR_BEGIN,{args:n,item:b},this);p.set("loading",!0);a=f.addWidget(a.editorClass,n,this,p,!0,null,null,null,c);this.publish(k.EVENTS.ON_CREATE_EDITOR_END,
{args:n,item:b,editor:a},this);a.openItem&&(a.openItem(b),e.resolve(a),this.getWindowManager().registerView(a,!1));p.resize&&p.resize();e.then&&e.then(function(){p.set("loading",!1)});return e},registerEditorExtension:function(a,b,c,d,e,h,l,g,p){c=c||"el-icon-brush";var q=this,t={name:a,extensions:b,onEdit:h,iconClass:c,owner:this,isDefault:null!=e?e:!1,editorClass:l};g&&(t=f.mixin(t,g));h||(t.onEdit=function(a,b,c){if(d&&d.onCreateEditor){var e=new m;d.onCreateEditor().then(function(){var d=q.createEditor(t,
a,c,null,b);e.resolve(d)});return e}return q.createEditor(t,a,c,null,b)});r.isString(b)&&-1==b.indexOf(",")&&k.registerCustomMimeIconExtension(b,c);n.onRegisterEditor(t);this.publish(k.EVENTS.REGISTER_EDITOR,t)},initManagers:function(){this.settingsManager&&this.settingsManager.init();this.storeDelegate&&(this.storeDelegate.appService=this.settingsManager);this.settingsManager&&(this.settingsManager.serviceObject=this.serviceObject,this.settingsManager.ctx=this,this.settingsManager.config=this.config,
this.settingsManager.init());this.storeDelegate&&(this.storeDelegate.serviceObject=this.serviceObject);g("plugins")&&"undefined"!=typeof xappPluginResources&&this.pluginManager&&(this.pluginsLoading=this.pluginManager.loadPlugins(xappPluginResources));this.notificationManager&&(this.notificationManager.init(),this.notificationManager.postMessage({message:"Loading application, please wait!",duration:1E3,showCloseButton:!0}));this.application&&this.application.init();this.windowManager&&this.windowManager.init();
var a=this;this.registerEditorExtension("Browser","php|html|mp4|doc|xls|pdf|zip|tar|iso|avi|gz|mp3|mkv|ogg|png|jpg|cfhtml","fa-play-circle-o",this,!1,null,function(b){window.open(a.getFileManager().getImageUrl(b))},{ctx:this.ctx,registerView:!1,runFunctionOnly:!0,isDefault:!1})},constructManagers:function(){this.pluginManager=this.createManager(d);this.windowManager=this.createManager(e);this.notificationManager=this.createManager(h);this.settingsManager=this.createManager(l)}});c.chainAfter(a,"constructManagers");
c.chainAfter(a,"initManagers");c.chainAfter(a,"ready");return a});
define("xide/manager/Router",["xide/utils"],function(c){var m=function(c,a,b){var d={},e;for(e in c)c.hasOwnProperty(e)&&(d[e]=a.call(b,c[e],e,c));return d},g=function(){var c={};Array.prototype.forEach.call(arguments,function(a){for(var b in a)a.hasOwnProperty(b)&&(c[b]=a[b])});return c},k=function(c){return Array.isArray(c)?c.map(k):c instanceof RegExp||-1<["string","number","boolean","object"].indexOf(typeof c)||null==c?c:m(c,k)};c=function(c){var a=c.symbols||{},b=a.parametersDelimiters||"\\.|\\/",
d=a.parameterStart||"\\{",e=a.parameterMatcher||".*?",f=a.parameterEnd||"\\}";this._NO_HOST={regexp:/.*/,parameters:[]};this._defaultParameterRequirement=a.defaultParameterRequirement||"[^\\/.]*";this._paramsReplaceRegExp=new RegExp("("+b+")?"+d+"("+e+")"+f,"g");this._defaultMethods=c.defaultMethods||["GET","POST","PUT","DELETE"];this._defaultSchemes=c.defaultSchemes||["http","https"];this._routesDefinitions=this._unifyRoutes(c.routes);this._routes=this._parseRoutes(this._routesDefinitions);this._routeIdToParsedDefinitionMap=
{}};c.prototype._unifyRoutes=function(c,a){var b=[];c.forEach(function(c){b=b.concat(this._unifyRoute(c,a))},this);return b};c.prototype._unifyRoute=function(c,a){a=a||{};c.defaults=m(g(a.defaults,c.defaults),function(a){return String(a)});c.requirements=g(a.requirements,c.requirements);a.prefix&&(c.path=a.prefix+c.path,c.prefix=c.prefix?a.prefix+c.prefix:a.prefix);c.host=c.host||a.host;c.methods=c.methods||a.methods||this._defaultMethods;c.schemes=c.schemes||a.schemes||this._defaultSchemes;for(var b in a)a.hasOwnProperty(b)&&
"routes"!==b&&!c[b]&&(c[b]=a[b]);return c.routes?this._unifyRoutes(c.routes,c):c};c.prototype._parseRoutes=function(c){return c.map(this._parseRoute,this)};c.prototype._parseRoute=function(c,a){var b=c.defaults,d=c.requirements,e=c.path,f=c.host,l=f?this._parsePath(f,d,b):this._NO_HOST,g=this._parsePath(e,d,b);return{id:c.id,pattern:g.regexp,path:e,parameters:g.parameters,hostPattern:l.regexp,host:f,hostParameters:l.parameters,requirements:m(d,function(a){return new RegExp("^"+a+"$")}),defaults:b,
methods:c.methods,schemes:c.schemes,definition:this._routesDefinitions[a]}};c.prototype._parsePath=function(c,a,b){var d=[],e=this._defaultParameterRequirement;return{regexp:new RegExp("^"+c.replace(/([\/\.\|])/g,"\\$1").replace(this._paramsReplaceRegExp,function(c,f,g){c=g in b;d.push(g);return(f||"")+(c&&f?"?":"")+"("+(a[g]?a[g]:e)+")"+(c?"?":"")})+"$"),parameters:d}};c.prototype.match=function(c){var a=this._routes,b;b=c.path.split("?");var d=b[0],e=b[1]?this._parseQuery(b[1]):null,f,l,g;c.method=
"GET";for(var m=0,r=a.length;m<r;m++)if(b=a[m],f=b.pattern.exec(d))if(l=b.hostPattern.exec(c.host))if(g=-1<b.methods.indexOf(c.method))if(g=!c.scheme||-1<b.schemes.indexOf(c.scheme))return f.shift(),l.shift(),{id:b.id,parameters:this._retrieveParameters(b,f,l,e),definition:k(this._routesDefinitions[m])};return null};c.prototype._parseQuery=function(c){var a={};if("string"!==typeof c||0===c.length)return a;var b=/\+/g;c=c.split("&");for(var d=c.length,e=0;e<d;++e){var f=c[e].replace(b,"%20"),l=f.indexOf("="),
g;0<=l?(g=f.substr(0,l),f=f.substr(l+1)):(g=f,f="");g=decodeURIComponent(g);f=decodeURIComponent(f);a.hasOwnProperty(g)?Array.isArray(a[g])?a[g].push(f):a[g]=[a[g],f]:a[g]=f}return a};c.prototype._retrieveParameters=function(c,a,b,d){d=d||{};for(var e in c.defaults)c.defaults.hasOwnProperty(e)&&(d[e]=c.defaults[e]);this._extendParameters(a,c.parameters,d);this._extendParameters(b,c.hostParameters,d);return d};c.prototype._extendParameters=function(c,a,b){for(var d=0,e=a.length;d<e&&void 0!==c[d];d++)b[a[d]]=
decodeURIComponent(c[d])};c.prototype.generate=function(c,a){for(var b=this._routes,d,e=0,f=b.length;e<f;e++)if(d=b[e],d.id===c)return this._generate(d,g({},a));throw Error("No such route: "+c);};c.prototype._generate=function(c,a){var b,d=c.host,e,f=c.defaults,l=c.requirements,g=this;b=c.path.replace(this._paramsReplaceRegExp,function(b,d,e){d=d||"";b=e in f;if(a&&e in a)return g._getParameterValue(e,a,l,d);b||g._throwParameterNeededError(e,c.id);b=!1;for(var h in a)if(a.hasOwnProperty(h)&&-1<c.parameters.indexOf(h)){b=
!0;break}return b?d+f[e]:""});d&&(e=d.replace(this._paramsReplaceRegExp,function(b,d,e){b=e in f;var h=a&&e in a;d=d||"";if(h)return g._getParameterValue(e,a,l,d);if(b)return d+f[e];g._throwParameterNeededError(e,c.id)}));(d=this._generateQuery(a))&&(b+="?"+d);return e?c.schemes[0]+"://"+e+b:b};c.prototype._generateQuery=function(c){var a="",b;for(b in c)c.hasOwnProperty(b)&&(a+=(a.length?"&":"")+encodeURIComponent(b)+"="+encodeURIComponent(c[b]));return a};c.prototype._getParameterValue=function(c,
a,b,d){var e=a[c];delete a[c];if(b[c]&&!b[c].test(e))throw Error('Parameter "'+c+'" has bad value "'+e+'", not suitable for path generation');return d+encodeURIComponent(e)};c.prototype._throwParameterNeededError=function(c,a){throw Error('Parameter "'+c+'" is needed for route "'+a+'" generation');};c.prototype.getRouteInfo=function(c){if(!this._routeIdToParsedDefinitionMap[c])for(var a=0,b=this._routes.length;a<b;a++)if(this._routes[a].id===c){this._routeIdToParsedDefinitionMap[c]=this._routes[a];
break}if(!this._routeIdToParsedDefinitionMap[c])throw Error("No such route: "+c);return k(this._routeIdToParsedDefinitionMap[c])};return c});
define("xaction/ActionProvider","xdojo/declare dcl/dcl xide/types xide/utils xide/model/Path xaction/ActionStore xaction/Action xide/Keyboard xide/mixins/EventedMixin xaction/DefaultActions xide/lodash".split(" "),function(c,m,g,k,f,a,b,d,e,h,l){var n={actionStore:null,actions:null,allowActionOverride:!0,sortGroups:function(a,b){return a=a.sort(function(a,c){return null!=b[a]&&null!=b[c]?b[c]-b[a]:100})},getItemsAtBranch:function(a,b){return(new f(b)).getChildren(l.map(a,"command"),!1)},refreshActions:function(){for(var a=
this.getActions(),b=0;b<a.length;b++){var c=a[b];c.refresh&&c.refresh()}},getAction:function(a){return l.isString(a)?this.getActionStore().getSync(a):a},clearActions:function(){var a=this.getActionStore(),b=a?a.query():[];l.each(b,function(b){b&&a.removeSync(b.command)});a&&a.setData([])},destroy:function(){this.clearActions();return this.inherited(arguments)},__createAction:function(a,c,e,f,h,l,m,n,y,A,z){f=f||g.ACTION_ICON[c];l={accelKey:l};k.mixin(l,z);a=b.createDefault(a,f,c,e,h,l);if(m){var p;
this.keyboardMappings?p=this.keyboardMappings:a.keyboardMappings=p=[];h=d.defaultMapping(m,h,n||g.KEYBOARD_PROFILE.DEFAULT,y,A,[a]);h=this.registerKeyboardMapping(h);p.push(h);a.keyboardMappings=p}return a},updateAction:function(a,b,c){if(a=a||this.getAction(a))a.set(b,c),setTimeout(function(){a.getReferences().forEach(function(a){a.set(b,c)})},100)},_completeActions:function(a){for(var c=[],d=this.getKeyTarget?this.getKeyTarget():null,e=0;e<a.length;e++){var f=a[e],h;f&&(f instanceof b?h=f:(h=this.__createAction(f.title,
f.command,f.group,f.icon,f.handler,f.accelKey,f.keyCombo,f.keyProfile,d||f.keyTarget,f.keyScope,f.mixin),h.parameters=f),this._addAction(c,h))}this.keyboardMappings&&console.error("have mappings");l.each(this.keyboardMappings,function(a){this.registerKeyboardMapping(a)},this);return c},createActionStore:function(){if(!this.actionStore){var b=this._completeActions(this.actions||[]);this.actionStore=new a({id:k.createUUID(),data:b,observedProperties:["value","icon","label"],tabOrder:this.tabOrder,groupOrder:this.groupOrder,
tabSettings:this.tabSettings,menuOrder:this.menuOrder})}return this.actionStore},getActions:function(a,b){if(!a&&!1!==b&&this.__actions)return this.__actions;(b=a)||(b={command:/\S+/});return this.__actions=this.getActionStore().query(b)},getActionStore:function(){return this.createActionStore()},postMixInProperties:function(){this.inherited&&this.inherited(arguments);this.createActionStore()},addActions:function(a){var b=this.getActionStore();b["subscribedToUpdates_"+this.id]||(b["subscribedToUpdates_"+
this.id]=!0,this.addHandle("update",b.on("update",function(a){var b=a.target;if(!b._isCreating&&a.property&&b&&b.onChange)b.onChange(a.property,a.value,b)})));var c=[];this._emit("onAddActions",{actions:a,permissions:this.permissions,store:b});this.allowActionOverride&&l.each(a,function(a){a&&(a=b.getSync(a.command))&&b.removeSync(a.command)});a=this._completeActions(a);l.each(a,function(a){this.allowActionOverride&&b.getSync(a.command)&&b.removeSync(a.command);a=b.putSync(a);c.push(a);a._isCreating=
!0;a.onCreate&&a.onCreate(a);this._emit("onAddAction",a);a._isCreating=!1}.bind(this));return c},createActionShort:function(a,b,c,d,e){return this.createAction(l.extend({label:a,command:b,icon:c,mixin:d&&d.mixin?d.mixin:e},d))},createAction2:function(a){var b=a.mixin||{},c=a.owner||b.owner||this,d=a.permissions||this.permissions||[],e=a.command,f=a.keycombo,g=a.label,m=a.icon,n=a.tab,p=a.group,z=a.filterGroup,E=a.onCreate,C=a.handler,D=a.container||this.domNode,F=a.shouldShow,H=a.shouldDisable;k.mixin(b,
{owner:c,onChange:a.onChange});if(b.addPermission||h.hasAction(d,e))return C=C||h.defaultHandler,f&&(l.isString(f)&&(f=[f]),b.tooltip=f.join("<br/>").toUpperCase()),a=h.createAction(g,e,m,f,n,p,z,E,C,b,F,H,D||this.domNode),c&&a&&c.addAction&&c.addAction(null,a),a},createAction:function(a,b,c,d,e,f,g,m,n,A,z,E,C,D,F){if(1==arguments.length)return this.createAction2(arguments[0]);var p=null;A=A||{};k.mixin(A,{owner:F||this});if(A.addPermission||h.hasAction(C,b))return n||(n=function(a){this.runAction&&
this.runAction.apply(this,[a])}),d&&l.isString(d)&&(d=[d]),p=h.createAction(a,b,c,d,e,f,g,m,n,A,z,E,D||this.domNode),F&&p&&F.addAction&&F.addAction(null,p),p},addAction:function(a,b){a=a||[];var c=this._emit("addAction",b);if(!1===c)return!1;l.isObject(c)&&k.mixin(b,c);a.push(b);return!0},_addAction:function(a,b){a=a||[];var c=this._emit("addAction",b);if(!1===c)return!1;k.isObject(c)&&k.mixin(b,c);a.push(b);return!0},hasAction:function(a){return h.hasAction(this.permissions,a)}};c=c("xaction/ActionProvider",
[e,d],n);c.dcl=m([e.dcl,d.dcl],n);return c});
define("xaction/DefaultActions","dcl/dcl dcl/inherited xdojo/declare xide/types xide/utils xlang/i18".split(" "),function(c,m,g,k,f,a){function b(a,b){return _.contains(a,b)}function d(a,b,c){var d=null;this.onAfterAction&&(d=this.onAfterAction(c,a,b));this._emit&&this._emit("onAfterAction",{action:c,result:a,source:this,afterAction:d})}function e(a,b){var c,e=this;e&&e.onBeforeAction&&e.onBeforeAction(a);e.runAction?c=e.runAction.apply(e,[a,null,b]):a.handler&&(c=a.handler.apply(e,[a,null,b]));c&&
c.then?c.then(function(c){d.apply(e,[c,b,a])}):d.apply(e,[c,b,a]);return c}var h=g("xaction/DefaultActions",null,{});h.createActionParameters=function(a,b,c,d,e,f,h,l,g,k,m){return{title:a,command:b,group:c,icon:d,handler:e,accelKey:f,keyCombo:h,keyProfile:l,keyTarget:g,keyScope:k,mixin:m}};var l=function(a,b,c,d,e,l,g,k,m,y,A,z,E){d&&_.isString(d)&&(d=[d]);y=f.mixin({filterGroup:g||"item|view",tab:e||"File",onCreate:k||function(a){},shouldShow:A||function(){return!0},shouldDisable:z||function(){return!1}},
y);a=h.createActionParameters(a,b,l||"File",c,m||null,"",d,null,E,null,y);f.mixin(a,y);return a};h.createAction=l;h.hasAction=b;h.getDefaultActions=function(a,c,d){function h(a,b,d){return(a=a||c?c.getSelection():[])&&a.length?!1:!0}function g(a,b,d){return h.apply(this,arguments)?!0:(a=a||c?c.getSelection():[])&&!0===a[0].isDir?!0:!1}function m(h,g,k,m,n,q,r,t,u,v,x,w){v=v||{};f.mixin(v,{owner:d||c});if(v.addPermission||b(a,g))if(u=u||e,h=l(h,g,k,m,n,q,r,t,u,v,x,w,c.domNode))d&&d.addAction&&d.addAction(null,
h),p.push(h)}var n=k.ACTION_VISIBILITY,p=[],r=k.ACTION,y=k.ACTION_ICON,A=d||c;b(a,r.CLIPBOARD)&&c.getClipboardActions&&(p.push(A.createAction({label:"Clipboard",command:"Edit/Clipboard",icon:"fa-clipboard",tab:"Edit",group:"Clipboard",mixin:{addPermission:!0,dynamic:!0,quick:!0},onCreate:function(a){a.setVisibility(n.RIBBON,{expand:!0,tab:"File"})}})),p=p.concat(c.getClipboardActions(m)));p.push(A.createAction({label:"Show",command:"View/Show",icon:"fa-eye",tab:"View",group:"Show",mixin:{addPermission:!0,
dynamic:!0},onCreate:function(a){a.setVisibility(n.RIBBON,{expand:!0})}}));b(a,r.LAYOUT)&&c.getRendererActions&&(p=p.concat(c.getRendererActions()));b(a,r.COLUMNS)&&c.getColumnHiderActions&&(p=p.concat(c.getColumnHiderActions(a)));p.push(A.createAction({label:"Edit",command:"File/Edit",icon:y.EDIT,tab:"Home",group:"Open",keycombo:["f4","enter","dblclick"],mixin:{quick:!0},shouldDisable:g}));p.push(A.createAction({label:"Delete",command:"File/Delete",icon:y.DELETE,tab:"Home",group:"Organize",keycombo:["f8",
"delete"],mixin:{quick:!0},shouldDisable:h}));m("Rename","File/Rename","fa-edit",["f2"],"Home","Organize","item",null,null,null,null,h);p.push(A.createAction({label:"Reload",command:"File/Reload",icon:y.RELOAD,tab:"Home",group:"File",keycombo:["ctrl l"],mixin:{quick:!0}}));m("Create archive","File/Compress",y.COMPRESS,["ctrl z"],"Home","Organize","item|view",null,null,null,null,h);m("Extract","File/Extract",y.EXTRACT,["ctrl e"],"Home","File","item|view",null,null,null,null,function(){return!0});p.push(A.createAction({label:"Download",
command:"File/Download",icon:y.DOWNLOAD,tab:"Home",group:"File",keycombo:["ctrl down"],mixin:{quick:!0}}));(b(a,r.NEW_DIRECTORY)||b(a,r.NEW_FILE))&&m("New","File/New","fa-magic",null,"Home","New","item|view",null,null,{},null,null);m("New Folder",r.NEW_DIRECTORY,"fa-folder",["f7"],"Home","New","item|view",null,null,{quick:!0},null,null);m("New File",r.NEW_FILE,"el-icon-file",["ctrl f4"],"Home","New","item|view",null,null,{quick:!0},null,null);b(a,r.PREVIEW)&&p.push(A.createAction({label:"Preview",
command:"File/Preview",icon:"fa-eye",tab:"Home",group:"Open",keycombo:["f3"],mixin:{quick:!0},shouldDisable:g}));b(a,r.SELECTION)&&(p.push(l("Select","File/Select","fa-hand-o-up",null,"Home","Select","item|view",function(a){a.setVisibility(n.RIBBON,{expand:!0})},null,null,null,null,c.domNode)),r={owner:d||c},y=c.domNode,p.push(l("Select all","File/Select/All","fa-th",["ctrl a"],"Home","Select","item|view",null,function(){c.selectAll()},r,null,null,y)),p.push(l("Select none","File/Select/None","fa-square-o",
"ctrl d","Home","Select","item|view",null,function(){c.deselectAll()},r,null,null,y)),p.push(l("Invert selection","File/Select/Invert","fa-square",["ctrl i"],"Home","Select","item|view",null,function(){c.invertSelection()},r,null,null,y)));return p};h.defaultHandler=e;return h});
define("xlang/i18",["xdojo/declare","xide/utils/ObjectUtils","dcl/dcl"],function(c,m,g){function k(a,c,e){a+=1==e?m.capitalize(c):c;return d[b[a]||a]}function f(a){a=a||"";var b=a.replace(/\s+/g,"_").split("/"),c=b[b.length-1].toLocaleLowerCase(),b=k("cmd",c),d=k("err",c,!0),e=k("btn",c,!0),h=k("",c),c=k("",c,!0),l=k("",a,!1),g=h||c||l||b||e||d;return g?g.replace("$1",""):-1!==a.indexOf(" ")&&-1==a.indexOf("%%")?(g="",a=a.split(" "),_.each(a,function(a){g+=" "+f(a)}),g.trim()):a=a.replace("%%","")}
var a={language:"English",direction:"ltr",dateFormat:"M d, Y h:i A",fancyDateFormat:"$1 h:i A",messages:{error:"Error",errUnknown:"Unknown error.",errUnknownCmd:"Unknown command.",errJqui:"Invalid jQuery UI configuration. Selectable, draggable and droppable components must be included.",errNode:"elFinder requires DOM Element to be created.",errURL:"Invalid elFinder configuration! URL option is not set.",errAccess:"Access denied.",errConnect:"Unable to connect to backend.",errAbort:"Connection aborted.",
errTimeout:"Connection timeout.",errNotFound:"Backend not found.",errResponse:"Invalid backend response.",errConf:"Invalid backend configuration.",errJSON:"PHP JSON module not installed.",errNoVolumes:"Readable volumes not available.",errCmdParams:'Invalid parameters for command "$1".',errDataNotJSON:"Data is not JSON.",errDataEmpty:"Data is empty.",errCmdReq:"Backend request requires command name.",errOpen:'Unable to open "$1".',errNotFolder:"Object is not a folder.",errNotFile:"Object is not a file.",
errRead:'Unable to read "$1".',errWrite:'Unable to write into "$1".',errPerm:"Permission denied.",errLocked:'"$1" is locked and can not be renamed, moved or removed.',errExists:'File named "$1" already exists.',errInvName:"Invalid file name.",errFolderNotFound:"Folder not found.",errFileNotFound:"File not found.",errTrgFolderNotFound:'Target folder "$1" not found.',errPopup:"Browser prevented opening popup window. To open file enable it in browser options.",errMkdir:'Unable to create folder "$1".',
errMkfile:'Unable to create file "$1".',errRename:'Unable to rename "$1".',errCopyFrom:'Copying files from volume "$1" not allowed.',errCopyTo:'Copying files to volume "$1" not allowed.',errUpload:"Upload error.",errUploadFile:'Unable to upload "$1".',errUploadNoFiles:"No files found for upload.",errUploadTotalSize:"Data exceeds the maximum allowed size.",errUploadFileSize:"File exceeds maximum allowed size.",errUploadMime:"File type not allowed.",errUploadTransfer:'"$1" transfer error.',errNotReplace:'Object "$1" already exists at this location and can not be replaced by object with another type.',
errReplace:'Unable to replace "$1".',errSave:'Unable to save "$1".',errCopy:'Unable to copy "$1".',errMove:'Unable to move "$1".',errCopyInItself:'Unable to copy "$1" into itself.',errRm:'Unable to remove "$1".',errRmSrc:"Unable remove source file(s).",errExtract:'Unable to extract files from "$1".',errArchive:"Unable to create archive.",errArcType:"Unsupported archive type.",errNoArchive:"File is not archive or has unsupported archive type.",errCmdNoSupport:"Backend does not support this command.",
errReplByChild:"The folder \u201c$1\u201d can\u2019t be replaced by an item it contains.",errArcSymlinks:"For security reason denied to unpack archives contains symlinks or files with not allowed names.",errArcMaxSize:"Archive files exceeds maximum allowed size.",errResize:'Unable to resize "$1".',errResizeDegree:"Invalid rotate degree.",errResizeRotate:"Image dose not rotated.",errResizeSize:"Invalid image size.",errResizeNoChange:"Image size not changed.",errUsupportType:"Unsupported file type.",
errNotUTF8Content:'File "$1" is not in UTF-8 and cannot be edited.',errNetMount:'Unable to mount "$1".',errNetMountNoDriver:"Unsupported protocol.",errNetMountFailed:"Mount failed.",errNetMountHostReq:"Host required.",errSessionExpires:"Your session has expired due to inactivity.",errCreatingTempDir:'Unable to create temporary directory: "$1"',errFtpDownloadFile:'Unable to download file from FTP: "$1"',errFtpUploadFile:'Unable to upload file to FTP: "$1"',errFtpMkdir:'Unable to create remote directory on FTP: "$1"',
errArchiveExec:'Error while archiving files: "$1"',errExtractExec:'Error while extracting files: "$1"',cmdarchive:"Create archive",cmdback:"Back",cmdcopy:"Copy",cmdcut:"Cut",cmddownload:"Download",cmdduplicate:"Duplicate",cmdedit:"Edit file",cmdextract:"Extract files from archive",cmdforward:"Forward",cmdgetfile:"Select files",cmdhelp:"About this software",cmdhome:"Home",cmdinfo:"Get info",cmdmkdir:"New folder",cmdmkfile:"New text file",cmdopen:"Open",cmdpaste:"Paste",cmdquicklook:"Preview",cmdreload:"Reload",
cmdrename:"Rename",cmdrm:"Delete",cmdsearch:"Find files",cmdup:"Go to parent directory",cmdupload:"Upload files",cmdview:"View",cmdresize:"Resize & Rotate",cmdsort:"Sort",cmdnetmount:"Mount network volume",btnClose:"Close",btnSave:"Save",btnRm:"Remove",btnApply:"Apply",btnCancel:"Cancel",btnNo:"No",btnYes:"Yes",btnMount:"Mount",ntfopen:"Open folder",ntffile:"Open file",ntfreload:"Reload folder content",ntfmkdir:"Creating directory",ntfmkfile:"Creating files",ntfrm:"Delete files",ntfcopy:"Copy files",
ntfmove:"Move files",ntfprepare:"Prepare to copy files",ntfrename:"Rename files",ntfupload:"Uploading files",ntfdownload:"Downloading files",ntfsave:"Save files",ntfarchive:"Creating archive",ntfextract:"Extracting files from archive",ntfsearch:"Searching files",ntfresize:"Resizing images",ntfsmth:"Doing something",ntfloadimg:"Loading image",ntfnetmount:"Mounting network volume",ntfdim:"Acquiring image dimension",dateUnknown:"unknown",Today:"Today",Yesterday:"Yesterday",msJan:"Jan",msFeb:"Feb",msMar:"Mar",
msApr:"Apr",msMay:"May",msJun:"Jun",msJul:"Jul",msAug:"Aug",msSep:"Sep",msOct:"Oct",msNov:"Nov",msDec:"Dec",January:"January",February:"February",March:"March",April:"April",May:"May",June:"June",July:"July",August:"August",September:"September",October:"October",November:"November",December:"December",Sunday:"Sunday",Monday:"Monday",Tuesday:"Tuesday",Wednesday:"Wednesday",Thursday:"Thursday",Friday:"Friday",Saturday:"Saturday",Sun:"Sun",Mon:"Mon",Tue:"Tue",Wed:"Wed",Thu:"Thu",Fri:"Fri",Sat:"Sat",
sortname:"by name",sortkind:"by kind",sortsize:"by size",sortdate:"by date",sortFoldersFirst:"Folders first",moveup:"Move Up",movedown:"Move Down",moveleft:"Move Left",moveright:"Move Right",edit:"Edit",confirmReq:"Confirmation required",confirmRm:"Are you sure you want to remove files?<br/>This cannot be undone!",confirmRepl:"Replace old file with new one?",apllyAll:"Apply to all",name:"Name",size:"Size",perms:"Permissions",modify:"Modified",kind:"Kind",read:"read",write:"write",noaccess:"no access",
and:"and",unknown:"unknown",selectall:"Select all files",selectfiles:"Select file(s)",selectffile:"Select first file",selectlfile:"Select last file",viewlist:"List view",viewicons:"Icons view",places:"Places",calc:"Calculate",path:"Path",aliasfor:"Alias for",locked:"Locked",dim:"Dimensions",files:"Files",folders:"Folders",items:"Items",yes:"yes",no:"no",link:"Link",searcresult:"Search results",selected:"selected items",about:"About",shortcuts:"Shortcuts",help:"Help",webfm:"Web file manager",ver:"Version",
protocolver:"protocol version",homepage:"Project home",docs:"Documentation",github:"Fork us on Github",twitter:"Follow us on twitter",facebook:"Join us on facebook",team:"Team",chiefdev:"chief developer",developer:"developer",contributor:"contributor",maintainer:"maintainer",translator:"translator",icons:"Icons",dontforget:"and don't forget to take your towel",shortcutsof:"Shortcuts disabled",dropFiles:"Drop files here",or:"or",selectForUpload:"Select files to upload",moveFiles:"Move files",copyFiles:"Copy files",
rmFromPlaces:"Remove from places",aspectRatio:"Aspect ratio",scale:"Scale",width:"Width",height:"Height",resize:"Resize",crop:"Crop",rotate:"Rotate","rotate-cw":"Rotate 90 degrees CW","rotate-ccw":"Rotate 90 degrees CCW",degree:"\u00b0",netMountDialogTitle:"Mount network volume",protocol:"Protocol",host:"Host",port:"Port",user:"User",pass:"Password",confirmUnmount:"Are you unmount $1?",dropFilesBrowser:"Drop or Paste files from browser",dropPasteFiles:"Drop or Paste files and URLs here",encoding:"Encoding",
locale:"Locale",searchTarget:"Target: $1",searchMime:"Search by input MIME Type",owner:"Owner",group:"Group",other:"Other",execute:"Execute",perm:"Permission",mode:"Mode",kindUnknown:"Unknown",kindFolder:"Folder",kindAlias:"Alias",kindAliasBroken:"Broken alias",kindApp:"Application",kindPostscript:"Postscript document",kindMsOffice:"Microsoft Office document",kindMsWord:"Microsoft Word document",kindMsExcel:"Microsoft Excel document",kindMsPP:"Microsoft Powerpoint presentation",kindOO:"Open Office document",
kindAppFlash:"Flash application",kindPDF:"Portable Document Format (PDF)",kindTorrent:"Bittorrent file",kind7z:"7z archive",kindTAR:"TAR archive",kindGZIP:"GZIP archive",kindBZIP:"BZIP archive",kindXZ:"XZ archive",kindZIP:"ZIP archive",kindRAR:"RAR archive",kindJAR:"Java JAR file",kindTTF:"True Type font",kindOTF:"Open Type font",kindRPM:"RPM package",kindText:"Text document",kindTextPlain:"Plain text",kindPHP:"PHP source",kindCSS:"Cascading style sheet",kindHTML:"HTML document",kindJS:"Javascript source",
kindRTF:"Rich Text Format",kindC:"C source",kindCHeader:"C header source",kindCPP:"C++ source",kindCPPHeader:"C++ header source",kindShell:"Unix shell script",kindPython:"Python source",kindJava:"Java source",kindRuby:"Ruby source",kindPerl:"Perl script",kindSQL:"SQL source",kindXML:"XML document",kindAWK:"AWK source",kindCSV:"Comma separated values",kindDOCBOOK:"Docbook XML document",kindImage:"Image",kindBMP:"BMP image",kindJPEG:"JPEG image",kindGIF:"GIF Image",kindPNG:"PNG Image",kindTIFF:"TIFF image",
kindTGA:"TGA image",kindPSD:"Adobe Photoshop image",kindXBITMAP:"X bitmap image",kindPXM:"Pixelmator image",kindAudio:"Audio media",kindAudioMPEG:"MPEG audio",kindAudioMPEG4:"MPEG-4 audio",kindAudioMIDI:"MIDI audio",kindAudioOGG:"Ogg Vorbis audio",kindAudioWAV:"WAV audio",AudioPlaylist:"MP3 playlist",kindVideo:"Video media",kindVideoDV:"DV movie",kindVideoMPEG:"MPEG movie",kindVideoMPEG4:"MPEG-4 movie",kindVideoAVI:"AVI movie",kindVideoMOV:"Quick Time movie",kindVideoWM:"Windows Media movie",kindVideoFlash:"Flash movie",
kindVideoMKV:"Matroska movie",kindVideoOGG:"Ogg movie"}},b={cmdpreview:"cmdquicklook",cmddelete:"cmdrm",cmdnew_folder:"cmdmkdir",cmdnew_file:"cmdmkfile",create_archive:"cmdarchive",select_all:"selectall",go_up:"cmdback",source:"places",select:"selectfiles",modified:"modify",list:"viewlist",thumb:"viewicons",type:"kind",move:"moveFiles"},d=a.messages,e="January February March April May June July August September October November December".split(" "),h="msJan msFeb msMar msApr msMay msJun msJul msAug msSep msOct msNov msDec".split(" "),
l="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),n="Sun Mon Tue Wed Thu Fri Sat".split(" "),p={translations:a,localize:f},r=c("xlang.i18",null,p);r.dcl=g(null,p);r.Implementation=p;r.setLanguage=function(b){b=b.translations;a.language=b.language;a.direction=b.direction;a.dateFormat=b.dateFormat;a.fancyDateFormat=b.fancyDateFormat;m.mixin(a.messages,b.messages)};r.mappings=b;r.localize=f;r.translations=a;r.addMapping=function(a){m.mixin(b,a)};r.formatDate=function(a){var b=new Date;
this.getHours="getHours";this.getMinutes="getMinutes";this.getSeconds="getSeconds";this.getDate="getDate";this.getDay="getDay";this.getMonth="getMonth";this.getFullYear="getFullYear";this.today=(new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()/1E3;this.yesterday=this.today-86400;var c,d,f,g,k,m,p,q;return 0<a?(b=new Date(1E3*a),k=b[this.getHours](),m=12<k?k-12:k,p=b[this.getMinutes](),q=b[this.getSeconds](),c=b[this.getDate](),d=b[this.getDay](),f=b[this.getMonth]()+1,g=b[this.getFullYear](),
b=a>=this.yesterday?r.translations.fancyDateFormat:r.translations.dateFormat,b=b.replace(/[a-z]/gi,function(a){switch(a){case "d":return 9<c?c:"0"+c;case "j":return c;case "D":return r.localize(n[d]);case "l":return r.localize(l[d]);case "m":return 9<f?f:"0"+f;case "n":return f;case "M":return r.localize(h[f-1]);case "F":return r.localize(e[f-1]);case "Y":return g;case "y":return(""+g).substr(2);case "H":return 9<k?k:"0"+k;case "G":return k;case "g":return m;case "h":return 9<m?m:"0"+m;case "a":return 12<
k?"pm":"am";case "A":return 12<k?"PM":"AM";case "i":return 9<p?p:"0"+p;case "s":return 9<q?q:"0"+q}return a}),a>=this.yesterday?b.replace("$1",r.localize(a>=this.today?"Today":"Yesterday")):b):r.localize("dateUnknown")};return r});
(function(c){"undefined"!=typeof define?define("dcl/inherited",["./mini","./advise"],c):"undefined"!=typeof module?module.exports=c(require("./mini"),require("./advise")):c(dcl,advise)})(function(c,m){function g(a,b,c){var d=3>arguments.length&&a.callee,f=k.call(this,d?d.ctr:a,d?d.nom:b);if(f)return f.apply(this,d?a||b:c)}function k(a,b){var c=this.constructor._meta,e,h,l;if(!+c.weaver[b]){if(c){if(c.chains.hasOwnProperty(b)){if(e=c.chains[b])for(l=e.length-1;0<=l;--l)if(h=e[l],h.ctr===a)return 0<
l?e[l-1]:0;return}e=c.bases;for(l=e.length-1;0<=l&&e[l]!==a;--l);if(0<=l)for(++l,a=e.length;l<a;++l)if(c=(h=e[l])._meta){if((c=c.ownProps).hasOwnProperty(b))return c[b]}else return h.prototype[b]}return f[b]}}var f={};m.after(c,"_postprocess",function(a,b){a=b._meta.bases;for(var d=a.length-1,e,f,l;0<=d;--d)if(e=a[d],f=e._meta)f=f.ownProps,c.allKeys(f).some(function(a){l=f[a];if("function"==typeof l){if(l.nom===a)return 1;l.nom=a;l.ctr=e}});b.prototype.inherited=g;b.prototype.getInherited=k});c.getInherited=
g.get=k;return c.inherited=g});
define("xide/Keyboard",["xdojo/declare","dcl/dcl","dojo/_base/lang","xide/types","xide/utils/ObjectUtils"],function(c,m,g,k,f){f.mixin(k,{KEYBOARD_EVENT:{UP:"on_keyup",DOWN:"on_keydown",RELEASE:"on_release"}});f.mixin(k,{KEYBOARD_MAPPING:{keys:null,handler:null,scope:null,target:null,type:null,params:null,mouse:{brefore:null,after:null},eventArgs:null}});var a={},b=function(b,c){b.stop=function(){};b.listen=function(){_.invoke(c,"listen")};b.destroy=function(){b.stop();_.each(c,function(b){b.destroy();
c.remove(b);delete a[b.targetId]})};return b},d=window?window.keypress?window.keypress.Listener:null:null;d||console.error("you need keypress.min.js installed to use xide/Keyboard");var e={_keyboardListeners:null,keyPressDefault:function(){return{prevent_repeat:!1,prevent_default:!0,is_unordered:!1,is_counting:!1,is_exclusive:!1,is_solitary:!1,is_sequence:!0}},addKeyboardListerner:function(b,c,e,h,k,m,u){var l=g.clone(this.keyPressDefault());f.mixin(l,c);l["this"]=l["this"]||h||this;e=e||"simple_combo";
b=_.isArray(b)?b:[b];var n=[],p="ctrl s;ctrl l;ctrl r;ctrl w;ctrl f4;shift f4;alt tab;ctrl tab".split(";");_.each(b,function(b){var c=m&&m.id?m.id:"global",f=m?!!a[c]:!1,h=!1,g=a[c];g&&g["_seq"+b]&&(h=!0);h||(g||(g=new d(m,l),g.targetId=c),g["_seq"+b]=!0,g[e](b,function(a){if(!a._did){a._did=!0;var c=a.target.className.toLowerCase();("BUTTON"!==a.target.tagName&&-1==c.indexOf("input")||-1!=c.indexOf("ace_text-input"))&&k&&k.apply&&(k.apply(l["this"],u||[a]),-1!==p.indexOf(b)&&(a.preventDefault(),
a.stopPropagation()))}}),a[c]||(a[c]=g),f||(!this._keyboardListeners&&(this._keyboardListeners=[]),this._keyboardListeners.push(g),n.push(g)))},this);return n},registerKeyboardMapping:function(a){var c=this.addKeyboardListerner(a.keys,a.params,null,a.scope,a.handler,a.target,a.eventArgs);a.listeners=c;return b(a,c)},destroy:function(){this.inherited&&this.inherited(arguments);var b=this.id,c=a[b];c&&(c.destroy(),delete a[b])}},h=c("xide/Keyboard",null,e);h.createMapping=function(a,b,c,d,e,h,m){function l(a){return _.isString(a)?
g.hitch(d,a):a}var n=f.clone(k.KEYBOARD_MAPPING);n.keys=a;n.params=b||{};n.type=c;n.scope=d;n.handler=l(e);n.target=h;n.eventArgs=m;n.setHandler=function(a,b){n.params[a]=l(b);return n};return n};h.defaultMapping=function(a,b,c,d,e,f){return h.createMapping(a,c,null,e,b,d,f)};h.dcl=m(null,e);h.byNode=a;h.listeners=[];return h});
define("xaction/Action","dcl/dcl xide/model/Base xide/types xide/utils/ObjectUtils xide/utils xide/mixins/EventedMixin xide/cache/Circular".split(" "),function(c,m,g,k,f,a,b){f.mixin(g,{ACTION_VISIBILITY:{MAIN_MENU:"MAIN_MENU",CONTEXT_MENU:"CONTEXT_MENU",QUICK_LAUNCH:"QUICK_LAUNCH",ACTION_TOOLBAR:"ACTION_TOOLBAR",PROPERTY_VIEW:"PROPERTY_VIEW",RIBBON:"RIBBON",widgetArgs:null,factory:function(){var a=arguments[1]||f.clone(g.ACTION_VISIBILITY),b=arguments;if(0<b[0].length&&_.isNumber(b[0][0])){var c=
b[0],d=0;_.each(a,function(b,e){"function"!==typeof a[e]&&d<c.length&&(a[e+"_val"]=c[d]);d++})}if(_.isString(b[0][0])){if(!0===b[0][2])f.mixin(a[b[0][0]+"_val"],b[0][2]);else return a[b[0][0]+"_val"]=b[0][1],a;return b[1]}return a}}});g.ACTION_VISIBILITY_ALL="ACTION_VISIBILITY_ALL";var d=c([m.dcl,a.dcl],{declaredClass:"xaction/Action",disabled:!1,destroy:function(){},enabled:!0,object:null,show:!0,group:"",types:"",command:null,icon:"fa-play",event:null,handler:null,tab:null,visibility_:null,value:null,
setVisibility:function(){if(2==arguments.length&&_.isString(arguments[0])&&arguments[0]==g.ACTION_VISIBILITY_ALL){var a=arguments[1],b=g.ACTION_VISIBILITY,c=this;[b.MAIN_MENU,b.ACTION_TOOLBAR,b.CONTEXT_MENU,b.RIBBON].forEach(function(b){c.setVisibility(b,f.cloneKeys(a,!1))});return this}b=_.isArray(arguments[0])?arguments[0]:arguments;this.visibility_=g.ACTION_VISIBILITY.factory(b,this.visibility_);return this},getVisibility:function(a){this.visibility_||this.setVisibility(g.ACTION_VISIBILITY_ALL,
{});return this.visibility_?(null==this.visibility_[a+"_val"]&&(this.visibility_[a+"_val"]={vis:a}),this.visibility_[a+"_val"]):{}},shouldDestroyWidget:function(a,b,c){a=null!=this.getVisibility?this.getVisibility(a):null;var d=!0;a&&a.permanent&&(d=!(_.isFunction(a.permanent)?a.permanent(this,b,c):a.permanent));return d}});d.create=function(a,b,c,g,k,m,q,t,u,v,x){a=new d({permanent:g,command:c,icon:b,label:a,owner:this,types:m,operation:k,group:q,handler:v,title:a});f.mixin(a,x);return a};d.createDefault=
function(a,b,c,f,g,k){return d.create(a,b,c,!1,null,null,f||"nogroup",null,!1,g,k)};return d});
define("xide/cache/Circular",[],function(){function c(m){if(!(this instanceof c))return new c(m);if("object"==typeof m&&Array.isArray(m._buffer)&&"number"==typeof m._capacity&&"number"==typeof m._first&&"number"==typeof m._size)for(var g in m)m.hasOwnProperty(g)&&(this[g]=m[g]);else{if("number"!=typeof m||0!=m%1||1>m)throw new TypeError("Invalid capacity");this._buffer=Array(m);this._capacity=m;this._size=this._first=0}}c.prototype={size:function(){return this._size},capacity:function(){return this._capacity},
enq:function(c){0<this._first?this._first--:this._first=this._capacity-1;this._buffer[this._first]=c;this._size<this._capacity&&this._size++},push:function(c){this._size==this._capacity?(this._buffer[this._first]=c,this._first=(this._first+1)%this._capacity):(this._buffer[(this._first+this._size)%this._capacity]=c,this._size++)},deq:function(){if(0==this._size)throw new RangeError("dequeue on empty buffer");var c=this._buffer[(this._first+this._size-1)%this._capacity];this._size--;return c},pop:function(){return this.deq()},
shift:function(){if(0==this._size)throw new RangeError("shift on empty buffer");var c=this._buffer[this._first];this._first==this._capacity-1?this._first=0:this._first++;this._size--;return c},get:function(c,g){if(0==this._size&&0==c&&(void 0==g||0==g))return[];if("number"!=typeof c||0!=c%1||0>c)throw new TypeError("Invalid start");if(c>=this._size)throw new RangeError("Index past end of buffer: "+c);if(void 0==g)return this._buffer[(this._first+c)%this._capacity];if("number"!=typeof g||0!=g%1||0>
g)throw new TypeError("Invalid end");if(g>=this._size)throw new RangeError("Index past end of buffer: "+g);this._first+c>=this._capacity&&(c-=this._capacity,g-=this._capacity);return this._first+g<this._capacity?this._buffer.slice(this._first+c,this._first+g+1):this._buffer.slice(this._first+c,this._capacity).concat(this._buffer.slice(0,this._first+g+1-this._capacity))},toarray:function(){return 0==this._size?[]:this.get(0,this._size-1)}};return c});
define("xaction/ActionStore","xdojo/declare xide/data/TreeMemory xide/utils xide/data/ObservableStore dstore/Trackable xaction/ActionModel".split(" "),function(c,m,g,k,f,a){function b(b,e,n,p,r){return(b||c)(e||[m,f,k],g.mixin({idProperty:"command",declaredClass:"xaction/ActionStore",Model:n||a,renderers:null,observedProperties:p||d,getAll:function(){return this.data},addRenderer:function(a){!this.renderers&&(this.renderers=[]);!_.contains(this.renderers,a)&&this.renderers.push(a)}},r))}var d=["value",
"icon","disabled","enabled"],e=b(null,null,null,null,null);e.createDefault=function(a){return new e(a)};e.createClass=b;e.DEFAULT_ACTION_PROPERTIES=d;return e});
define("xaction/ActionModel","dcl/dcl xaction/Action xide/data/Model xide/data/Source xide/model/Path xide/utils".split(" "),function(c,m,g,k,f,a){return c([m,g,k.dcl],{filterGroup:"item|view",keyboardMappings:null,bindWidgetProperties:["value","icon","disabled"],items:null,onRemove:function(){_.invoke(this.getReferences(),"destroy");this.keyboardMappings&&_.invoke(this.keyboardMappings,"destroy");this.destroy()},shouldShow:function(){return!0},shouldDisable:function(){return!1},updateReference:function(a,
c,e){c.set("disabled",this.shouldDisable(a,c,e));null!==this.icon&&null!==c.icon&&this.icon!==c.icon&&c.set("icon",this.icon);null!==this.value&&null!==c.value&&this.value!==c.value&&c.set("value",this.value)},refreshReferences:function(a,c){_.each(this.getReferences(),function(b){b.set(a,c)},this)},refresh:function(a){this._emit("refresh",{action:this,selection:a});_.each(this.getReferences(),function(b){this.updateReference(a,b,b.visibility)},this)},setProperty:function(a,c,e){return this.set(a,
c)},complete:function(){this.items=this.getChildren()},getParent:function(){var a=this.command.split("/");if(1<a.length)return this._store.getSync(a.slice(0,a.length-1).join("/"))},getParentCommand:function(){var a=this.command.split("/");if(1<a.length)return a.slice(0,a.length-1).join("/")},getSegments:function(a){return a.split("/")},getRoot:function(){return this.command.split("/")[0]},getItemsAtBranch:function(b,c){return(new f(c)).getChildren(a.pluck(b,"command"),!1)},getChildren:function(){var a=
this;return function(b){var c=[];_.each(b,function(b){c.push(a._store.getSync(b))});return c}(this.getItemsAtBranch(this._store.getAll(),this.command))},_onWidgetCreated:function(a){a.widget.addSource&&this.addReference(a.widget,{properties:{value:!0}},!0)}})});
define("xide/model/Path",["xide/utils","dcl/dcl"],function(c,m){var g=m(null,{declaredClass:"xide.model.Path",constructor:function(c,f,a){c=c||".";"string"==typeof c?(this.path=c,this.getSegments()):(this.segments=c,this.hasLeading=null!==f?f:!1,this.hasTrailing=null!==a?f:!1)},endsWith:function(k){var f=c.clone(this.segments);for(k=(new g(k)).getSegments();0<k.length&&0<f.length;)if(k.pop()!=f.pop())return!1;return!0},getExtension:function(){this.extension||(this.extension=this.path.substr(this.path.lastIndexOf(".")+
1));return this.extension},segment:function(c){var f=this.getSegments();return f.length<c?null:f[c]},getChildren:function(c,f){function a(a){a="string"!==typeof a?a.toString():a;a!==e&&-1==b.indexOf(a)&&b.push(a)}var b=[],d=this,e=this.toString();_.each(c,function(b){b=new g(b);if(b.startsWith(d))if(f)a(b.toString());else{var c=b.relativeTo(e);c&&(c=c.getSegments(),1==c.length?a(b):1<c.length&&(b=b.getParentPath(),1==b.relativeTo(e).getSegments().length&&a(b.toString())))}});return b},getSegments:function(){if(!this.segments){var c=
this.path;this.segments=c.split("/");"/"==c.charAt(0)&&(this.hasLeading=!0);"/"==c.charAt(c.length-1)&&(this.hasTrailing=!0,this.segments.pop());this._canonicalize()}return this.segments},isAbsolute:function(){return this.hasLeading},getParentPath:function(){if(!this._parentPath){var k=c.clone(this.segments);k.pop();this._parentPath=new g(k,this.hasLeading)}return c.clone(this._parentPath)},_clone:function(){return new g(c.clone(this.segments),this.hasLeading,this.hasTrailing)},append:function(c){c=
c||"";"string"==typeof c&&(c=new g(c));if(c.isAbsolute())return c;var f=this.segments,a=c.getSegments(),f=f.concat(a);c=new g(f,this.hasLeading,c.hasTrailing);".."!=a[0]&&"."!=a[0]||c._canonicalize();return c},toString:function(){var c=[];this.hasLeading&&c.push("/");for(var f=0;f<this.segments.length;f++)0<f&&c.push("/"),c.push(this.segments[f]);this.hasTrailing&&c.push("/");return c.join("")},removeRelative:function(){var c=this.getSegments();return 0<c.length&&"."==c[1]?this.removeFirstSegments(1):
this},relativeTo:function(c,f){"string"==typeof c&&(c=new g(c));var a=this.segments;if(this.isAbsolute())return this;var b=c.getSegments();c=this.matchingFirstSegments(c);b=b.length;f&&--b;f=b-c;if(0==f+a.length-c)return g.EMPTY;for(var b=[],d=0;d<f;d++)b.push("..");for(d=c;d<a.length;d++)b.push(a[d]);return new g(b,!1,this.hasTrailing)},startsWith:function(c){var f=this.matchingFirstSegments(c);return c._length()==f},_length:function(){return this.segments.length},matchingFirstSegments:function(c){var f=
this.segments;c=c.getSegments();for(var a=Math.min(f.length,c.length),b=0,d=0;d<a&&f[d]==c[d];d++)b++;return b},removeFirstSegments:function(c){return new g(this.segments.slice(c,this.segments.length),this.hasLeading,this.hasTrailing)},removeMatchingLastSegments:function(c){c=this.matchingFirstSegments(c);return this.removeLastSegments(c)},removeMatchingFirstSegments:function(c){c=this.matchingFirstSegments(c);return this._clone().removeFirstSegments(c)},removeLastSegments:function(c){c||(c=1);return new g(this.segments.slice(0,
this.segments.length-c),this.hasLeading,this.hasTrailing)},lastSegment:function(){return this.segments[this.segments.length-1]},firstSegment:function(c){return this.segments[c||0]},equals:function(c){if(this.segments.length!=c.segments.length)return!1;for(var f=0;f<this.segments.length;f++)if(c.segments[f]!=this.segments[f])return!1;return!0},_canonicalize:function(){for(var c,f=this.segments,a=0;a<f.length;a++)if("."==f[a]||".."==f[a]){c=!0;break}if(c){c=[];for(a=0;a<f.length;a++)".."==f[a]?0==c.length?
this.hasLeading||c.push(f[a]):".."==c[c.length-1]?c.push(".."):c.pop():"."==f[a]&&1!=this.segments.length||c.push(f[a]);c.length!=f.length&&(this.segments=c)}}});g.EMPTY=new g("");return g});
define("xide/editor/Registry",["dcl/dcl","xdojo/declare","xide/factory","xide/types","xide/data/Memory"],function(c,m,g,k,f){var a,b;a=c(null,{declaredClass:"xide.editor.Registry",delegate:null,editors:null,_started:!1,startup:function(){this.subscribe(k.EVENTS.REGISTER_EDITOR,function(b){a.onRegisterEditor(b)})}});a.editors=[];var d=a.editors;a.getStore=function(){b||(b=new f({idProperty:"name"}));return b};a.getExtension=function(a){return null!=a?a.substr((~-a.lastIndexOf(".")>>>0)+2):""};a._hasEditor=
function(b,c){return _.find(a.editors,{name:b,extensions:c})};a.unregisterEditor=function(b){var c=a.getStore(),d=c._find({name:b});_.each(d,function(a){c.removeSync(a.name);_.each(d,function(b){b&&b.name===a.name&&d.remove(b)})})};a.onRegisterEditor=function(b){var c=a.getStore(),e=c._find({name:b.name});0<e.length&&_.each(e,function(b){c.removeSync(b.name);a.unregisterEditor(b.name)});c.putSync(b);a._hasEditor(b.name,b.extensions)||d.push(b)};a.getDefaultEditor=function(b){b=a.getEditors(b);if(!b)return null;
for(var c=0;c<b.length;c++){var d=b[c];if(!0===d.isDefault)return d}return null};a.getEditor=function(a){return _.find(d,{name:a})};a.getEditors=function(b){if(!b)return d;b=a.getExtension(b.path);if(null!=b&&0==b.length)return null;b=b.toLowerCase();var c=[];if(!a.editors)return null;for(var e=a.getStore()._find({defaultEditor:!0}),f=0;f<d.length;f++){var g=d[f];if(g)if(-1!=g.extensions.indexOf("|"))for(var k=g.extensions.split("|"),m=0;m<k.length;m++)k[m]===b&&c.push(g);else g.extensions===b&&c.push(g)}1==
e.length&&c.push(e[0]);return 0<c.length?c:null};return a});
define("xide/manager/SettingsManager","dcl/dcl xide/manager/ServerActionBase xide/utils xide/manager/ManagerBase xide/data/Memory dojo/Deferred".split(" "),function(c,m,g,k,f,a){return c([k,m],{declaredClass:"xide.manager.SettingsManager",serviceClass:"XApp_Store",settingsStore:null,settingsDataAll:null,section:"settings",store:null,has:function(a,c,e,f,g){},getSetting:function(a){return(a=this.getStore().query({id:a}))&&a[0]?a[0].value:null},getStore:function(){return this.settingsStore},_createStore:function(a){return new f({data:a,
idProperty:"id"})},onSettingsReceived:function(a){(this.settingsDataAll=a)?this.settingsStore=this._createStore(a[""+this.section]):this._createStore([])},replace:function(a,c,e,f,g){this.serviceObject[this.serviceClass].set(this.store,a||".",c,e,f).addCallback(function(a){g&&g(a)})},read:function(a,c,e,f){return this.runDeferred(null,"get",[a,c,e]).then(function(a){f&&f(a)}.bind(this))},update:function(a,c,e,f,g){return this.runDeferred(null,"update",[a||this.section,c,e,f,g])},write:function(a,
c,e,f,l,k){try{return g.queryStoreEx(this.settingsStore,{id:f.id},!0,!0)?this.update(a,c,{id:f.id},f.data,l,k):this.callMethodEx(this.serviceClass,"set",[a||this.section,c,e,f,l],k,!1)}catch(p){logError(p,"update")}},write2:function(a,c,e,f,l,k){try{var b=g.queryStoreEx(this.settingsStore,e,!0,!0);return b?(g.mixin(b,f),this.update(a,c,e,f,l,k)):this.callMethodEx(this.serviceClass,"set",[a||this.section,c,e,f,l],k,!1)}catch(r){logError(r,"update")}},initStore:function(){var b=new a,c=this;this.serviceObject.__init.then(function(){c.read(c.section,
".",null,c.onSettingsReceived.bind(c));b.resolve()});return b},init:function(){var b=new a;b.resolve();return b}})});
define("xide/manager/NotificationManager",["dcl/dcl","xide/types","xide/utils","xide/manager/ManagerBase","xide/encoding/MD5"],function(c,m,g,k,f){return c([k],{declaredClass:"xide.manager.NotificationManager",onError:function(a){var b="";a&&a&&a.error&&a.error.message?b=a.error.message:a&&_.isString(a)?b=a:a&&_.isString(a.message)&&(b=a.message);var c={message:b,type:"error",duration:500,showCloseButton:!0};-1!==b.indexOf("Stack trace")&&(c.message=b.substr(0,b.indexOf("Stack trace")),c.duration=
4E3);a.messageArgs&&g.mixin(c,a.messageArgs);this.postMessage(c)},_lastMessageTime:null,_lastMessageHash:null,onStatus:function(a){var b="";null==a.did&&(a.did=!0,a&&a&&a.message?b=a.message:a&&_.isString(a)&&(b=a),"Ok!"!=b&&(b={message:b,type:"success",duration:500,showCloseButton:!0},g.mixin(b,a.messageArgs),this.postMessage(b)))},postMessage:function(a){var b=f(JSON.stringify(a),1),c=this;if(this._lastMessageHash===b)setTimeout(function(){c._lastMessageHash=null},2E3);else return this._lastMessageHash=
b,this._lastMessageTime&&clearTimeout(this._lastMessageTime),this._lastMessageTime||(this._lastMessageTime=setTimeout(function(){c._lastMessageHash=null;delete c._lastMessageTime;c._lastMessageTime=null},1E3)),Messenger().post(a)},init:function(){$.globalMessenger&&"undefined"!==typeof Messenger?(this.subscribe(m.EVENTS.STATUS,this.onStatus),this.subscribe(m.EVENTS.ERROR,this.onError),$.globalMessenger({theme:"flat",extraClasses:"messenger-fixed messenger-on-bottom messenger-on-right"}),Messenger.options=
{theme:"flat",extraClasses:"messenger-fixed messenger-on-bottom messenger-on-right"}):this.postMessage=function(){}}})});
define("xide/manager/WindowManager","dcl/dcl xide/utils xide/types xide/manager/ManagerBase xide/editor/Registry xide/registry xdojo/has xide/lodash dojo/has!xace?xace/views/Editor".split(" "),function(c,m,g,k,f,a,b,d,e){function h(a,b,c){b.addActionEmitter(a);!1!==c&&b.setActionEmitter(a)}function l(a){var b=a.getPanels();if(a._lastSelected)for(var c=0;c<b.length;c++){var d=b[c];if(d==a._lastSelected&&(d=d.getFrame()))return d}}return c(k,{declaredClass:"xide.manager.WindowManager",actionReceivers:null,
getActions:function(){var a=[],b=this;a.push(this.ctx.createAction("Next","View/Next","fa-cube",["alt num_add"],"Home","View","global",function(a){},function(){var a=b.ctx.mainView.getDocker(),c=l(a);if(c){var d=c._curTab,e=c.panel(d),c=c.panel(d+1);if(e||c)(c||e).select(),(c||e).resize(),a.resize()}},{addPermission:!0,show:!0},null,null,[],window,this));a.push(this.ctx.createAction("Prev","View/Prev","fa-cube",["alt num_subtract"],"Home","View","global",function(a){},function(){var a=b.ctx.mainView.getDocker(),
c=l(a);if(c){var d=c._curTab,e=c.panel(d),c=c.panel(d-1);if(e||c)(c||e).select(),(c||e).resize(),a.resize()}},{addPermission:!0,show:!0},null,null,[],window,this));return a},init:function(){this.ctx.addActions(this.getActions());this.actionReceivers=[]},addActionReceiver:function(a){-1==this.actionReceivers.indexOf(a)&&(this.actionReceivers.push(a),a._on("destroy",function(){this.actionReceivers.remove(a)},this))},registerView:function(a,b){var c=this.getToolbar(),e=this.getMainMenu();this.publish(g.EVENTS.ON_OPEN_VIEW,
{view:a,menu:e,toolbar:c,src:this});c&&h(a,c,b);e&&h(a,e,b);d.each(this.actionReceivers,function(c){c&&h(a,c,b)});return!0},clearView:function(a,b){b=this.getToolbar();var c=this.getMainMenu();this.getBreadcrumb();b&&b.setActionEmitter(a);c&&c.setActionEmitter(a);return!0},getBreadcrumb:function(){var a=this.ctx.mainView;return a&&a.getBreadcrumb?a.getBreadcrumb():null},getToolbar:function(){return this.ctx.mainView.getToolbar()},getMainMenu:function(){return this.ctx.mainView.mainMenu},createTab:function(a,
b,c){var d=this.getContext().getMainView().getDocker();return d.addTab(null,{title:a,target:c?c._parent:d.getDefaultPanel(),icon:b||"fa-code"})},getDefaultPanel:function(){return this.getContext().getMainView().getDocker().getDefaultPanel()},createDefaultTab:function(a,b){return this.getContext().getMainView().getDocker().addTab(null,{title:a,icon:b})},openItem:function(c,f,h,g){if(!c||!c.getPath)return console.error("invalid item!"),null;if(!c||c.getPath().match(/^(.*\.(?!(zip|tar|gz|bzip2)$))?[^.]*$/i)){var l=
this,k=this.ctx,n=f||a.byId(this.appendTo),p=k.getMainView().getDocker(),r=m.toString(c.name),n=d.isFunction(f)?f({title:r,icon:"fa-code",location:null,tabOrientation:null}):p.addTab(null,{title:r,target:f?f._parent:null,icon:"fa-code"});if(b("debug")&&!n)console.error("have no attachment parent!");else return f={dataItem:c,item:c,filePath:c.path,config:this.config,delegate:this,parentContainer:n,store:this.store,style:"padding:0px;height:inherit;height:width;",iconClass:"fa-code",autoSelect:!0,ctx:k,
storeDelegate:{getContent:function(a){l.ctx.getFileManager().getContent(c.mount,c.path,a)},saveContent:function(a,b,d){l.ctx.getFileManager().setContent(c.mount,c.path,a,b)}},title:r,closable:!0,fileName:c.path},m.mixin(f,h),f=m.addWidget(e,f,this,n,!0,null,null,g),n.resize(),f.resize(),!1!==g&&n.selectChild&&n.selectChild(f),p.resize(),h&&h.register&&this.registerView(f,g),f}}})});
define("xide/min","xide/utils xide/utils/StringUtils xide/utils/HTMLUtils xide/utils/WidgetUtils xide/types xide/types/Types xide/factory xide/factory/Objects xide/factory/Events xide/lodash".split(" "),function(){Array.prototype.remove||(Array.prototype.remove=function(){for(var c,m=arguments,g=m.length,k;g&&this.length;){c=m[--g];if(null==this.indexOf)break;for(;-1!=(k=this.indexOf(c));)this.splice(k,1)}return this})});
define("xide/debug",["xdojo/declare","dojo/has","xdojo/has!debug?xide/serverDebug"],function(c,m,g){c=c("xide.debug",null,{});if(m("debug")){window.xappServerDebug=function(a){g&&g.logError(a)};var k=function(a){a=a.map(function(a){return a.toString()}).join("\n");console.log(a)},f=function(a){console.log(a.message)};window.onerror=function(a,b,c,e,h){StackTrace.fromError(h).then(k)["catch"](f)};window.logError?console.log("logError already created"):window.logError=function(a,b){console.error((b||
"")+" :: "+a.message+" stack:\n",a);StackTrace.fromError(a).then(k)["catch"](f)}}else window.onerror=function(a,b,c,e,f){console.error(a,f)},window.logError=function(a,b){console.error((b||"")+" :: "+a.message+" stack:\n",a)};return c});
define("xide/serverDebug",["xdojo/declare","xdojo/has"],function(c,m){c=c("xide.serverDebug",null,{});var g={group:1,groupEnd:1,groupCollapsed:1,warn:1,error:1,info:1,table:1,log:1};c.logError=function(c){c=JSON.parse(atob(c));var f={},a,b;for(b in c.columns)a=c.columns[b],f[a]=b;b=c.rows;var d=b.length;for(a=0;a<d;a++){var e=b[a],h=e[f.backtrace],l=e[f.label],k=e[f.log],e=e[f.type]||"log";null!==h&&console.log("%c"+h,"color: #888; font-weight: bold;");h=!1;-1===c.columns.indexOf("label")&&(h=!0);
h||(h=l&&"string"===typeof l,k=[k],h&&k.unshift(l));for(var l=[],m,r,q=0;q<k.length;q++)h=k[q],m=l[l.length-1],h&&"object"===typeof h&&h.___class_name&&(r="%c"+h.___class_name,"string"===typeof m?l[l.length-1]=m+" "+r:l.push(r),l.push("color: #0563ad; font-weight: bold;"),delete k[q].___class_name),l.push(h);e in g||(e="log");console[e].apply(console,l)}};return c});
define("xide/model/Component","dcl/dcl dojo/Deferred dojo/has require xide/model/Base xide/types xide/mixins/EventedMixin".split(" "),function(c,m,g,k,f,a,b){a.COMPONENT_FLAGS={LOAD:1,RUN:1};return c([f.dcl,b.dcl],{declaredClass:"xide/model/Component",_loaded:!1,ctx:null,owner:{reloadComponent:function(){}},beanType:null,packages:null,resources:[],getDependencies:function(){return[]},hasEditors:function(){return[]},getLabel:function(){return"Have no label"},load:function(a){var b=new m,c=this;a=a||
this.getLabel();k(this.getDependencies(),function(){c._loaded=!0;a&&g.add(a,function(){return!0});b.resolve()});return b.promise},run:function(){return!1},onModuleReloaded:function(){this.owner.reloadComponent(this)},isLoaded:function(){return this._loaded}})});
define("xide/factory/Events","xide/factory dojo/_base/connect dojo/_base/lang dojo/on dojo/has xide/lodash".split(" "),function(c,m,g,k,f){var a={click:null,dblclick:null,mousedown:null,mouseup:null,mouseover:null,mousemove:null,mouseout:null,keypress:null,keydown:null,keyup:null,focus:null,blur:null,change:null};c.publish=function(a,c,e,f){c=c?_.isString(c)?{message:c}:c:{};e=a;var b=m.publish,d=[];_.isArray(a)||(e=[a]);a=0;for(var h=e.length;a<h;a++){var g=e[a];if(!f||f(g))d=b(g,c)}return d};c.subscribe=
function(b,c,e,h){if(f("debug")&&!b)return null;var d=b,n=m.subscribe,p=[];_.isArray(b)||(d=[b]);b=0;for(var r=d.length;b<r;b++)if(d[b]&&(!h||h(u))){var q=d[b],t=_.isString(q),u=t?q:q.key,q=t?c:q.handler,t=u in a;null!=e?(q=null!=q?q:e[u],t=t?k(e,u,g.hitch(e,q)):n(u,g.hitch(e,q)),t.handler=g.hitch(e,q)):(t=m.subscribe(u,q),t.handler=q);t.type=u;p.push(t)}return p};return c});
define("xide/factory/Objects",["dcl/dcl","xide/utils","xide/factory","xdojo/declare"],function(c,m,g,k){g.createInstance=function(f,a,b){var d={};m.mixin(d,a);a=f;if(_.isString(f)&&(a=dojo.getObject(a)||c.getObject(a),!a))return console.error("no such class : "+f),null;b&&(a=k(b,a.prototype));d.id||(d.id=(a.declaredClass||"no_class_").replace(/\//g,"_")+m.createUUID());f=new a(d);f.ctrArgs=d;return f};return g});
define("xblox/model/html/SetState","dcl/dcl xblox/model/Block xide/utils xide/types xide/mixins/EventedMixin xblox/model/Referenced dojo/dom-attr dojo/dom-style dojo/_base/Color xide/registry".split(" "),function(c,m,g,k,f,a,b,d,e,h){var l={declaredClass:"xblox.model.html.SetState",name:"Set State",reference:"",references:null,description:"Switches to a state",value:"",mode:1,sharable:!1,solve:function(a,b){var c=this.value;b=b||{};b.flags=k.CIFLAG.DONT_PARSE;a=this.resolveReference(this.deserialize(this.reference),
b);this.override&&this.override.variables&&(c=g.replace(c,null,this.override.variables,{begin:"{",end:"}"}));a&&a.length&&_.each(a,function(a){(a=h.byId(a.id)||a)&&a.setState&&a.setState(c)});this.onSuccess(this,b);this.onDidRun()},toText:function(){var a=this.deserialize(this.reference),a=this.getBlockIcon()+" "+this.name+" :: on "+a.reference+" to"||"  to ";this.value&&(a+=" "+this.value);return a},getFields:function(){var a=this.getDefaultFields(!1),b={group:"General",dst:"reference",value:this.reference};
a.push(g.createCI("State",k.ECIType.STRING,this.value,{group:"General",dst:"value",value:this.value,intermediateChanges:!1}));a.push(g.createCI("Target",k.ECIType.WIDGET_REFERENCE,this.reference,b));return a},getBlockIcon:function(){return'<span class="fa-paint-brush"></span>'},getPropValue:function(a,b){for(var c in a)if(c===b)return a[c];return null},updateObject:function(a,c,f){if(!a)return!1;f=f||1;null!=a.domNode&&(a=a.domNode);var h=b.get(a,"style");";"===h&&(h="");""===h&&(h=null!=a.lastStyle?
a.lastStyle:c);";"===h&&(h=c);switch(f){case 1:var h=this._toObject(h),l=c.split(";");for(c=0;c<l.length;c++)f=l[c].split(":"),2==f.length&&(h[f[0]]=f[1]);var l=[],k;for(k in h)l.push(k+":"+h[k]);$(a).attr("style",l.join(";"));break;case 2:h=_.uniq((h+";"+c).split(";")).join(";");b.set(a,"style",h);break;case 3:b.set(a,"style",g.replaceAll(c,"",h));break;case 4:case 5:k=new RegExp(/(\D*)(-?)(\d+)(\D*)/);c=this._toObject(c);f={};var m=$(a);if(c)for(l in c)f[l]=this._getStyle(l,a,m);for(l in c){var n=
""+l.trim();if(null!=f[n]){var p=c[l],r=f[l],m=-1!=p.indexOf("#"),A=-1!=p.indexOf("rgb"),z=-1!=p.indexOf("rgba");if(m||A||z){var E=dojo.colorFromString(p);dojo.colorFromString(p);var C=dojo.colorFromString(r),D=new e;_.each(["r","g","b","a"],function(a){D[a]=Math.min(C[a]+E[a],"a"==a?1:255)});n="";m?n=D.toHex():A?n=D.toCss(!1):z&&(n=D.toCss(!0));d.set(a,l,n)}else(m=k.exec(f[n]))&&3<=m.length&&parseInt(m[3])}}l=this._toObject(h);if(!l)return!1}},activate:function(){this._destroy()},deactivate:function(){this._destroy()}};
c=c([m,f.dcl,a.dcl],l);c.Impl=l;return c});
define("dojo/_base/Color",["./kernel","./lang","./array","./config"],function(c,m,g,k){var f=c.Color=function(a){a&&this.setColor(a)};f.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:k.transparentColor||[0,0,0,0]};m.extend(f,{r:255,g:255,b:255,a:1,_set:function(a,
b,c,e){this.r=a;this.g=b;this.b=c;this.a=e},setColor:function(a){m.isString(a)?f.fromString(a,this):m.isArray(a)?f.fromArray(a,this):(this._set(a.r,a.g,a.b,a.a),a instanceof f||this.sanitize());return this},sanitize:function(){return this},toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+g.map(["r","g","b"],function(a){a=this[a].toString(16);return 2>a.length?"0"+a:a},this).join("")},toCss:function(a){var b=this.r+", "+
this.g+", "+this.b;return(a?"rgba("+b+", "+this.a:"rgb("+b)+")"},toString:function(){return this.toCss(!0)}});f.blendColors=c.blendColors=function(a,b,c,e){var d=e||new f;g.forEach(["r","g","b","a"],function(e){d[e]=a[e]+(b[e]-a[e])*c;"a"!=e&&(d[e]=Math.round(d[e]))});return d.sanitize()};f.fromRgb=c.colorFromRgb=function(a,b){return(a=a.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/))&&f.fromArray(a[1].split(/\s*,\s*/),b)};f.fromHex=c.colorFromHex=function(a,b){var c=b||new f,e=4==a.length?4:8,h=
(1<<e)-1;a=Number("0x"+a.substr(1));if(isNaN(a))return null;g.forEach(["b","g","r"],function(b){var d=a&h;a>>=e;c[b]=4==e?17*d:d});c.a=1;return c};f.fromArray=c.colorFromArray=function(a,b){b=b||new f;b._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));isNaN(b.a)&&(b.a=1);return b.sanitize()};f.fromString=c.colorFromString=function(a,b){var c=f.named[a];return c&&f.fromArray(c,b)||f.fromRgb(a,b)||f.fromHex(a,b)};return f});
define("xblox/StyleState","dcl/dcl delite/register delite/CustomElement xide/factory/Events xide/utils/StringUtils xide/types/Types xblox/_State".split(" "),function(c,m,g,k,f,a,b){c=c(b,{declaredClass:"xblox/StyleState",_targetReference:null,name:"Default",_widget:null,_toObject:function(a){if(!a)return{};var b={};a=a.split(";");for(var c=0;c<a.length;c++){var d=a[c];if(d&&0!=d.length&&d.split){var f=d.split(":");f&&f.length&&(f=d.substring(0,d.indexOf(":")),d=d.substring(d.indexOf(":")+1,d.length),
b[f]=d)}}return b},_toStyleString:function(a){var b=[],c;for(c in a)b.push(c+":"+a[c]);return b.join(";")+";"},onChanged:function(){this.applyTo(this._widget)},applyTo:function(a){$(a).removeClass($(a).data("_lastCSSState"));$(a).removeClass($(a).data("_lastCSSClass"));if(a&&a._attached){this._widget=a;var b=this._toObject($(a).attr("style")),c=this._toObject($(this).attr("style")),b=f.mixin(b,c);$(a).attr("style",this._toStyleString(b))}}});return m("d-xstate-style",[HTMLElement,g,c])});
define("xblox/_State","dojo/_base/lang dojo/on dcl/dcl delite/register delite/CustomElement xide/factory/Events xide/utils/StringUtils xide/types/Types xblox/model/Referenced xide/mixins/EventedMixin xide/mixins/ReloadMixin xwire/Binding xwire/EventSource xwire/WidgetTarget".split(" "),function(c,m,g,k,f,a,b,d,e,h,l,n,p,r){return g([h.dcl,e.dcl],{declaredClass:"xblox/_State",script:"",bidirectional:!1,_targetBlock:null,_targetReference:null,_complete:!1,enabled:!0,stop:!1,_events:[],context:null,
name:"Default",isState:!0,_isState:function(){return!0},reset:function(){},getChildren:function(){return[]},destroy:function(){this.onDestroy&&this.onDestroy();this.reset()},run:function(a,b){},onReady:function(){},getEnclosingWidget:function(a){if(a){do if(1===a.nodeType&&a.render)return a;while(a=a.parentNode)}return null},initWithReference:function(a){1===a.nodeType&&(this._targetReference=a)},_setupTargetReference:function(){for(var a=0,b=this,c=null;2>a&&!c;)b&&(b=b.parentNode,(c=this.getEnclosingWidget(b,
"widgetId"))||(c=this.getEnclosingWidget(b,"widgetid"))),a++;c?(this.initWithReference(c),c._attached&&c.stateReady&&c.stateReady(this)):this.domNode&&this.domNode.parentNode?this.initWithReference(this.domNode.parentNode):this.parentNode&&this.initWithReference(this.parentNode)},onAppReady:function(a){this._setupTargetReference();a&&a.context&&(this.context=a.context)},detachedCallback:function(){this._appContext&&this.destroy()},applyTo:function(a){},createdCallback:function(){this._targetReference||
(this._setupTargetReference(),this._targetReference&&this._targetReference.stateReady&&this._targetReference.stateReady(this))},attachedCallback:function(){this._started||(this.onAppReady(),this.subscribe(d.EVENTS.ON_APP_READY),this._started=!0)}})});
define("xblox/CSSState","dcl/dcl delite/register delite/CustomElement xblox/_State xide/utils xdojo/has".split(" "),function(c,m,g,k,f,a){var b=[],d,e,h,l=/([^A-Za-z0-9_\u00A0-\uFFFF-])/g;a.add("dom-contains",function(a,b,c){return!!c.contains});a={_lastState:null,declaredClass:"xblox/CSSState",cssClass:"",addCssRule:function(a,c){d||(d=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(d),d=d.sheet||d.styleSheet,e=d.deleteRule?"deleteRule":"removeRule",h=d.cssRules?
"cssRules":"rules");var f=b.length;b[f]=(d.cssRules||d.rules).length;d.addRule?d.addRule(a,c):d.insertRule(a+"{"+c+"}",b[f]);return{get:function(a){return d[h][b[f]].style[a]},set:function(a,c){"undefined"!==typeof b[f]&&(d[h][b[f]].style[a]=c)},remove:function(){var a=b[f],c,h;if(void 0!==a)for(d[e](a),b[f]=void 0,c=f+1,h=b.length;c<h;c++)b[c]>a&&b[c]--},sheet:d}},escapeCssIdentifier:function(a,b){return"string"===typeof a?a.replace(l,b||"\\$1"):a},detachedCallback:function(){this._styles&&_.each(this._styles,
function(a){a.remove()});delete this._styles},applyTo:function(a,b){this._lastState&&this._lastState.remove();delete this._lastStateName;this._lastStateName=b;if(this._attached){var c=this.cssClass,d=a.id||f.createUUID(),e=a.tagName.replace(/\./g,"_")+"_"+d,d=""+this.innerHTML,d=d.replace(".style",""),d=d.replace(/<(?:.|\n)*?>/gm,""),d=d.replace("{",""),d=d.replace("}",""),d=d.replace(/(\r\n|\n|\r|\t)/gm,""),e=e+("_state_"+b);$(a).removeClass($(a).data("_lastCSSState"));$(a).removeClass($(a).data("_lastCSSClass"));
$(a).removeClass(c);c?($(a).addClass(c),$(a).data("_lastCSSClass",c)):($(a).addClass(e),$(a).data("_lastCSSState",e),a="."+this.escapeCssIdentifier(e),this._styles||(this._styles=[]),a=this.addCssRule(a,d),this._styles.push(a))}}};c=c([k],a);c.Impl=a;return m("d-xstate-css",[HTMLElement,g,c])});
define("xblox/mainr","xblox/component xblox/embedded xblox/model/Block xblox/model/logic/CaseBlock xblox/model/functions/CallBlock xblox/model/code/CallMethod xblox/model/code/RunScript xblox/model/code/RunBlock xblox/model/loops/ForBlock xblox/model/loops/WhileBlock xblox/model/variables/VariableAssignmentBlock xblox/model/logic/IfBlock xblox/model/logic/ElseIfBlock xblox/model/logic/SwitchBlock xblox/model/variables/VariableSwitch xblox/model/events/OnEvent xblox/model/events/OnKey xblox/model/logging/Log xblox/model/html/SetStyle xblox/model/html/SetCSS xblox/model/html/SetState xblox/manager/BlockManager xblox/factory/Blocks xblox/model/Referenced xblox/types/Types xblox/RunScript xblox/CSSState xblox/StyleState".split(" "),function(){});
define("xblox/model/html/SetCSS","dojo/_base/declare xblox/model/Block xide/utils xide/types xide/mixins/EventedMixin xblox/model/Targeted".split(" "),function(c,m,g,k,f,a){return c("xblox.model.html.SetCSS",[m,f,a],{name:"Set CSS",file:"",reference:"",references:null,description:"Sets HTML Node CSS",solve:function(a,c){this.onSuccess(this,c)},toText:function(){var a=this.getBlockIcon()+" "+this.name+" :: ";this.event&&(a+=this.event);return a},getFields:function(){try{var a=this.inherited(arguments)||
this.getDefaultFields();a.push(g.createCI("File",k.ECIType.FILE,this.file,{group:"General",dst:"file",value:this.file,intermediateChanges:!1,acceptFolders:!1,acceptFiles:!0,encodeFilePath:!1,buildFullPath:!0,filePickerOptions:{dialogTitle:"Select CSS File",filePickerMixin:{beanContextName:"CSSFilePicker",persistent:!1,globalPanelMixin:{allowLayoutCookies:!1}},configMixin:{beanContextName:"CSSFilePicker",LAYOUT_PRESET:k.LAYOUT_PRESET.SINGLE,PANEL_OPTIONS:{ALLOW_MAIN_MENU:!1}},defaultStoreOptions:{fields:1663,
includeList:"css",excludeList:"*"},startPath:this.file}}));a.push(g.createCI("Target",k.ECIType.WIDGET_REFERENCE,this.reference,{group:"General",dst:"reference",value:this.reference}))}catch(d){}return a},getBlockIcon:function(){return'<span class="fa-paint-brush"></span>'},onReferenceChanged:function(a){this._destroy();this.reference=a},onChangeField:function(a,c,e){if("reference"==a)this.onReferenceChanged(c,e);this.inherited(arguments)},activate:function(){this._destroy()},deactivate:function(){this._destroy()},
_destroy:function(){}})});define("xblox/model/Targeted",["dojo/_base/declare","./Referenced"],function(c,m){return c("xblox.model.Targeted",[m],{})});
define("xblox/model/html/SetStyle","dcl/dcl xblox/model/Block xide/utils xide/types xide/mixins/EventedMixin xblox/model/Referenced dojo/dom-attr dojo/dom-style dojo/_base/Color xide/registry".split(" "),function(c,m,g,k,f,a,b,d,e,h){f={declaredClass:"xblox.model.html.SetStyle",name:"Set Style",reference:"",references:null,description:"Sets HTML Node Style Attribute",value:"",mode:1,sharable:!0,solve:function(a,b){a=this.value;b=b||{};var c=b.override||this.override||{};c.variables&&(a=g.replace(a,
null,c.variables,{begin:"{",end:"}"}));c.args&&null!==c.args[0]&&(a=g.replace(a,null,{value:c.args[0]},{begin:"{",end:"}"}));this.updateObjects(null,a,this.mode,b);this.onSuccess(this,b);this.onDidRun()},toText:function(){var a=this.deserialize(this.reference),a=this.getBlockIcon()+" "+this.name+" :: on "+a.reference+" to"||"  to ";this.value&&(a+=" "+this.value);return a},getFields:function(){var a=this.inherited(arguments)||this.getDefaultFields();a.push(g.createCI("Value",k.ECIType.DOM_PROPERTIES,
this.value,{group:"General",dst:"value",value:this.value,intermediateChanges:!1}));a.push(g.createCI("Mode",k.ECIType.ENUMERATION,this.mode,{group:"General",options:[g.createOption("Set",1),g.createOption("Add",2),g.createOption("Remove",3),g.createOption("Increase",4),g.createOption("Decrease",5)],dst:"mode"}));var b={group:"General",dst:"reference",value:this.reference};this.scope&&(this.scope.global&&(b.window=this.scope.global,b.allowHTMLNodes=!0,b.allowWidgets=!1),this.scope.document&&(b.document=
this.scope.document));a.push(g.createCI("Target",k.ECIType.WIDGET_REFERENCE,this.reference,b));return a},getBlockIcon:function(){return'<span class="fa-paint-brush"></span>'},updateEventSelector:function(a,b){if(a&&a.length){a=[{label:"onclick",value:"onclick"},{label:"ondblclick",value:"ondblclick"},{label:"onmousedown",value:"onmousedown"},{label:"onmouseup",value:"onmouseup"},{label:"onmouseover",value:"onmouseover"},{label:"onmousemove",value:"onmousemove"},{label:"onmouseout",value:"onmouseout"},
{label:"onkeypress",value:"onkeypress"},{label:"onkeydown",value:"onkeydown"},{label:"onkeyup",value:"onkeyup"},{label:"onfocus",value:"onfocus"},{label:"onblur",value:"onblur"},{label:"onchange",value:"onchange"}];for(var c=0;c<a.length;c++){var d=a[c];if(d.value===this.event){d.selected=!0;break}}}else a=this.scope.getEventsAsOptions(this.event);for(c=0;c<b.length;c++)if(d=b[c],d.widget&&"Event"===d.widget.title){b=d._widget;b.nativeWidget.set("options",a);b.nativeWidget.reset();b.nativeWidget.set("value",
this.event);this.publish(k.EVENTS.RESIZE,{});break}},onReferenceChanged:function(a,b,c){this.reference=a;this.references=this.resolveReference(this.deserialize(a),c);this.updateObjects(this.references,this.value,null,c)},getPropValue:function(a,b){for(var c in a)if(c===b)return a[c];return null},_getStyle:function(a,b,c){switch(a){case "height":return c.outerHeight();case "width":return c.outerWidth();case "color":return c.css("color");case "border-color":return c.css("border-color")||"rgba(0,0,0,0)"}return null},
updateObject:function(a,c,f,k){if(!a)return!1;f=f||1;(k=a.id?h.byId(a.id):null)&&(a=k);null!=a.domNode&&(a=a.domNode);k=b.get(a,"style");";"===k&&(k="");""===k&&(k=null!=a.lastStyle?a.lastStyle:c);";"===k&&(k=c);switch(f){case 1:var l=this._toObject(k);c=c.split(";");for(k=0;k<c.length;k++)f=c[k].split(":"),2==f.length&&(l[f[0]]=f[1]);k=[];for(var m in l)k.push(m+":"+l[m]);$(a).attr("style",k.join(";"));break;case 2:c=_.uniq((k+";"+c).split(";")).join(";");b.set(a,"style",c);break;case 3:b.set(a,
"style",g.replaceAll(c,"",k));break;case 4:case 5:m=new RegExp(/(\D*)(-?)(\d+)(\D*)/);f=this._toObject(c);var n={},p=$(a);if(f)for(l in f)k=this._getStyle(l,a,p),n[l]=k;p={};for(l in f){var r=""+l.trim();if(null!=n[r]){var w=f[l],y=n[l],A=-1!=w.indexOf("#"),z=-1!=w.indexOf("rgb"),E=-1!=w.indexOf("rgba");if(A||z||E){var C=dojo.colorFromString(w),r=dojo.colorFromString(w),D=dojo.colorFromString(y),F=new e;_.each(["r","g","b","a"],function(a){F[a]=Math.min(D[a]+C[a],"a"==a?1:255)});console.log("color computed "+
D.toRgba()+" color requested: "+r.toRgba()+" | multiplicator color = "+C.toRgba()+" is then = "+F.toRgba());y="";A?y=F.toHex():z?y=F.toCss(!1):E&&(y=F.toCss(!0));p[l]=y;d.set(a,l,y)}else(A=m.exec(n[r]))&&3<=A.length&&parseInt(A[3])}}k=this._toObject(k);this._toObject(c);if(!k)return!1;for(l in k)r=""+l.trim();this._toStyleString(p)}},onDomStyleChanged:function(a,b,c,d){if(a=a||this.resolveReference(this.deserialize(this.reference),d))for(var e=0;e<a.length;e++){var f=a[e];f&&f.id&&-1!=f.id.indexOf("davinci")||
this.updateObject(f,b,c,d)}},updateObjects:function(a,b,c,d){a=a||this.resolveReference(this.deserialize(this.reference),d);this.onDomStyleChanged(a,b,c,d)},onChangeField:function(a,b,c){this._destroy();"mode"==a&&b!==this.mode&&(this.mode=b);"value"==a&&b!==this.value&&(this.onDomStyleChanged(null,b,this.mode),this.value=b);if("reference"==a)this.onReferenceChanged(b,c);this.inherited(arguments)},activate:function(){this._destroy()},deactivate:function(){this._destroy()},_destroy:function(){},_changeValue:function(a,
b){if(!a)return"";a=a.split(" ");for(var c="",d=0;d<a.length;d++){0<d&&(c+=" ");var e=a[d].match(/([-\d\.]+)([a-zA-Z%]*)/);if(e)if(1==e.length)c+=e[0];else for(var f=1;f<e.length;f++)c=isNaN(e[f])||""==e[f]?c+e[f]:c+(parseFloat(e[f])+b);else c+=a[d]}return c},_toObject:function(a){if(!a)return{};var b={};a=a.split(";");for(var c=0;c<a.length;c++){var d=a[c];if(d&&0!=d.length&&d.split){var e=d.split(":");e&&e.length&&(e=d.substring(0,d.indexOf(":")),d=d.substring(d.indexOf(":")+1,d.length),b[e]=d)}}return b},
_toStyleString:function(a){var b=[],c;for(c in a)b.push(c+":"+a[c]);return b.join(";")+";"}};c=c([m,a.dcl],f);c.Impl=f;return c});
define("xblox/embedded","dojo/_base/declare xide/types xblox/types/Types xide/factory xide/utils xide/mixins/ReloadMixin xide/mixins/EventedMixin xblox/model/logic/CaseBlock xblox/model/Block xblox/model/functions/CallBlock xblox/model/code/CallMethod xblox/model/code/RunScript xblox/model/code/RunBlock xblox/model/loops/ForBlock xblox/model/loops/WhileBlock xblox/model/variables/VariableAssignmentBlock xblox/model/logic/IfBlock xblox/model/logic/ElseIfBlock xblox/model/logic/SwitchBlock xblox/model/variables/VariableSwitch xblox/model/events/OnEvent xblox/model/events/OnKey xblox/model/logging/Log xblox/model/html/SetStyle xblox/model/html/SetCSS xblox/model/html/SetStyle xblox/manager/BlockManager xblox/factory/Blocks xdojo/has!xblox-ui?xblox/model/Block_UI".split(" "),function(){Array.prototype.remove||
(Array.prototype.remove=function(){for(var c,m=arguments,g=m.length,k;g&&this.length;){c=m[--g];if(null==this.indexOf)break;for(;-1!=(k=this.indexOf(c));)this.splice(k,1)}return this});Array.prototype.swap||(Array.prototype.swap=function(c,m){var g=this[c];this[c]=this[m];this[m]=g;return this});"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(c){return this.substring(0,c.length)===c});"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(c){return this.substring(this.length-
c.length,this.length)===c});Function.prototype.bind||(Function.prototype.bind=Function.prototype.bind||function(c){return dojo.hitch(c,this)})});
define("xblox/component",["dcl/dcl","xdojo/has","xide/model/Component"],function(c,m,g){return c(g,{beanType:"BLOCK",_load:function(){},hasEditors:function(){return["xblox"]},getDependencies:function(){return m("xblox-ui")?"xide/xide xblox/types/Types xblox/manager/BlockManager xblox/manager/BlockManagerUI xblox/embedded_ui xblox/views/BlockGridPalette xide/widgets/ExpressionJavaScript xide/widgets/Expression xide/widgets/RichTextWidget xide/widgets/ExpressionEditor xide/widgets/WidgetReference".split(" "):["xide/xide",
"xblox/types/Types","xblox/manager/BlockManager","xblox/embedded"]},getLabel:function(){return"xblox"},getBeanType:function(){return this.beanType}})});
define("xapp/manager/Application",["dcl/dcl","dojo/Deferred","xide/types","xide/utils","xide/manager/ManagerBase"],function(c,m,g,k,f){c=c([f],{declaredClass:"xapp/manager/Application",delegate:null,settings:null,constructor:function(a){k.mixin(this,a);this.id=k.createUUID()},runBlox:function(a,b,c,e){a=k.parse_url(a);this.ctx.getBlockManager().load(a.scheme,a.host).then(function(a){if(a=a.getBlockById(b))return a.context=c,e&&(a.override=e),a.solve(a.scope)},function(a){})},onReloaded:function(){console.log("on reloaded",
arguments)},run:function(a){this.settings=a},loadScript:function(a){},publishVariables:function(){var a=this.ctx.getDeviceManager();if(a){var a=a.deviceInstances,b;for(b in a){var c=a[b];if(c.options&&c.blockScope){var e=c.blockScope.getVariables({group:g.BLOCK_GROUPS.CF_DRIVER_BASIC_VARIABLES});for(b=0;b<e.length;b++)this.publish(g.EVENTS.ON_DRIVER_VARIABLE_CHANGED,{item:e[b],scope:c.blockScope,owner:this,save:!1,source:g.MESSAGE_SOURCE.DEVICE,publishMQTT:!1})}}}},onReady:function(){console.log("   Checkpoint 5.3 managers ready");
this.publish(g.EVENTS.ON_APP_READY,{context:this.ctx,application:this,delegate:this.delegate})},onXBloxReady:function(){var a=require,b=this;console.log("   Checkpoint 5.2 xblox component ready");a(["xblox/embedded","xblox/manager/BlockManager"],function(a,c){console.log("   Checkpoint 5.2 setup xblox");b.delegate&&b.delegate.ctx?(a=b.delegate.ctx,a.nodeServiceManager&&(b.ctx.nodeServiceManager=a.nodeServiceManager),a.getBlockManager()&&(b.ctx.blockManager=a.getBlockManager()),a.getDriverManager()&&
(b.ctx.driverManager=a.getDriverManager(),b.ctx.deviceManager=a.getDeviceManager()),b.onReady()):(a=new c,a.ctx=b.ctx,b.ctx.blockManager=a);b.onReady()})},start:function(a){this.initReload&&this.initReload();console.log("xapp/Application::start ",a);var b=new m,c=this;this.delegate=a.delegate;console.log("Checkpoint 5 xapp/manager/Application->start, load xblox");try{this.ctx.pluginManager.loadComponent("xblox").then(function(){console.log("   Checkpoint 5.1 xblox component loaded");b.resolve(c.ctx);
c.onXBloxReady()},function(a){console.error("error loading xblox - component "+a,a)})}catch(e){console.error("error loading xblox "+e,e),b.reject(e)}window.xapp=this;return b}});c.getApp=function(){return window.xapp};return c});
define("xapp/manager/Context","dcl/dcl xide/manager/ContextBase xide/manager/PluginManager xapp/manager/Application xide/manager/ResourceManager xide/mixins/EventedMixin xide/types xide/utils ./_WidgetPickerMixin xide/manager/Reloadable xcf/types/Types xdojo/has dojo/Deferred".split(" "),function(c,m,g,k,f,a,b,d,e,h,l,n,p){var r=n("xcf-ui"),q=null,t=new (c([a.dcl],{}))({});c=c([m,h,e],{declaredClass:"xapp/manager/Context",settings:null,application:null,blockManager:null,getUserDirectory:function(){var a=
this.getResourceManager();return a?a.getVariable("USER_DIRECTORY")||{}:null},getResourceManager:function(){return this.resourceManager},getMount:function(a){var b=this.getResourceManager();return(b=b?b.getVariable("VFS_CONFIG")||{}:null)&&b[a]?b[a]:null},getBlock:function(a){return this.getDeviceManager().getBlock(a)},getVariable:function(a,c,d){c=ctx.getDeviceManager();var e=c.getDeviceById(a),f=null;if(!e)return null;(a=e.driver)&&a.blockScope&&(a=a.blockScope);!a&&e&&(c=c.getMetaValue(e,b.DEVICE_PROPERTY.CF_DEVICE_DRIVER),
a=ctx.getBlockManager().getScope(c),f=a.getVariableById(c+"/"+d));return f},wireNode:function(c,e,f,h){var g=this,l=null,k=null;c.__setup||(c.__setup={});if(!c.__setup[f.id]){c.__setup[f.id]=!0;if(h&&e===b.EVENTS.ON_DRIVER_VARIABLE_CHANGED){var m=h.params[2];this.getBlock(m);l=function(a){a=a.item;var b=g.getBlock(m);return b&&a&&b.id===a.id||a.id===m?!1:!0};k=function(a,b){a.override={variables:{value:b.item.value}}}}if(c)if(f)if(e)if(_.isString(e)){var n=function(a,b,c,d){"load"===a&&d.__didRunLoad||
("load"===a&&(d.__didRunLoad=!0),g.delegate&&g.delegate.isDesignMode&&g.delegate.isDesignMode()||l&&l(b)||(console.log("run ! "+a+" for block "+c.name+":"+c.id),c._destroyed?console.error("run failed block invalid, block has been removed"):c.enabled&&c&&d&&(c.context=d,c._targetReference=d,k&&k(c,b),c.solve(c.scope,{highlight:!0,args:[b]}))))};c.subscribe||d.mixin(c,a.prototype);var p=c.domNode||c,r=e,q=c.declaredClass||c.startup,t=null!=c.on&&null!=c["on"+d.capitalize(r)];h=null;var u=null!=p.render&&
null!=p.on;if(q&&c.baseClass&&-1!=c.baseClass.indexOf("dijitContentPane")||null!=c.render||null!=c.on)q=!1;p&&(u||t&&q?(p=c,u?d.isSystemEvent(e)?h=p.subscribe(e,function(a){n(e,a,f,c)}.bind(this),c):(d.isNativeEvent(e)&&(e=e.replace("on","")),h=p.on(e,function(a){var b=a.target.value;"checked"in a.target&&(b=a.target.checked);n(e,b,f,c)}.bind(this))):(r="on"+d.capitalize(r),c[r]=function(a,b){!0!==p.ignore&&n(e,a)})):h=d.isSystemEvent(e)?c.subscribe(e,function(a){n(e,a,f,c)}.bind(this),c):c.__on(p,
e,function(a){n(e,a,f,c)}),h?(c.addHandle&&c.addHandle(e,h),f._widgetHandles||(f._widgetHandles=[]),f._widgetHandles.push(h)):console.error("wire widget: have no handle",c))}else console.error("event not string ",e);else console.error("have no event");else console.error("have no block for event "+e);else console.error("have no widget for event "+e)}},wireWidget:function(a,b,c,d,e,f){a=a.getBlocks({group:e});for(c=0;c<a.length;c++)this.wireNode(b,d,a[c],f)},wireScope:function(a){for(var c=a.allGroups(),
e=this,f=e.delegate||{},h=[],g=function(a){var b=null,c=null;a=a.split("__");var e=[];1==a.length&&(b=a[0],c="body",r&&(editorContext.rootWidget.domNode.runExpression=editorContext.global.runExpression));if(2==a.length){var f;-1!==a[1].indexOf("://")?(b=a[0],c="body",f=a[1]):(b=a[1],c=a[0]);f&&(e=d.parse_url(f),e=d.urlArgs(e.host),e=[e.device.value,e.driver.value,f])}3==a.length&&(b=a[1],c=a[0],f=a[2],e=d.parse_url(f),e=d.urlArgs(e.host),e=[e.device.value,e.driver.value,f]);5==a.length&&(b=a[1],c=
a[0],e=[a[2],a[3],a[4]]);return b&&c?(a=document.getElementById(c),a||"body"!==c||(a=document.body),{event:b,widgetId:c,widget:a,params:e}):null},l=function(a){a._on(b.EVENTS.ON_ITEM_REMOVED,function(b){try{if(a._widgetHandles){var c=a._widgetHandles;for(b=0;b<c.length;b++)c[b].remove&&c[b].remove();delete a._widgetHandles}}catch(G){console.error("troubble!"+G,G)}},this)},k=0;k<c.length;k++){var m=c[k],n=g(m);n&&n.widget?this.wireWidget(a,n.widget,n.widget.domNode||n.widget,n.event,m,n):console.error("cant resolve group "+
m);m=a.getBlocks({group:m});if(r)for(var p=0;p<m.length;p++)l(m[p]);n.widget&&-1==h.indexOf(n.widget)&&h.push(n.widget)}for(k=0;k<h.length;k++){c=h[k];if(c.__didEmitLoad)return;console.log("emit load",c);c.__didEmitLoad=!0;if("BODY"===c.nodeName)$(c.nodeName).trigger("load");else if(c.emit)try{c.emit("load",c)}catch(H){console.error("firing load",H)}}r&&a._on(b.EVENTS.ON_ITEM_ADDED,function(a){var b=g(a.item.group);if(b&&b.widget){var c=f.getEditorContext?f.getEditorContext():null;e.wireNode(b.widget.domNode||
b.widget,b.event,a.item,c,b);l(a.item)}})},onBlockFilesLoaded:function(a){if(!this.isVE()){console.log("xapp:onSceneBlocksLoaded, wire scope!",a);for(var b=0;b<a.length;b++){var c=a[b];try{this.wireScope(c)}catch(w){logError(w,"onBlockFilesLoaded")}}}},loadXBloxFiles:function(a){function b(){c.getBlockManager().loadFiles(a).then(function(a){console.log("   Checkpoint 8.1. xapp/manager/context->xblox files loaded");c.onBlockFilesLoaded(a)})}var c=this;a=[];if(0==a.length){var e=this.settings.item;
if(e){var f=d.replaceAll("/","",e.mount),h=d.getFileExtension(e.path),e=e.path.replace("."+h,".xblox");a.push({mount:f,path:e});h={blocks:[],variables:[]};this.getFileManager().serviceObject?this.getFileManager().mkfile(f,e,JSON.stringify(h,null,2)).then(function(){b()}):b()}}},_appModule:null,loadAppModule:function(a){var b=new p;if(!a)return b.resolve(),b;var c=a.path.replace("./","").replace(".dhtml",""),d=a.mount.replace("/","")+"/"+c,e=require,d=d.split(" ").join("%20");e.toUrl(a.mount.replace("/",
"")+"/"+c);console.log("load default app.js "+d);try{e.undef&&e.undef(d)}catch(A){console.warn("error unloading app module "+d,A)}try{e([d],function(a){b.resolve(a);e.config({urlArgs:null})})}catch(A){console.error("error loading module ",A),b.resolve()}return this._appModule=b},onReady:function(a){console.log("Checkpoint 8. xapp/manager->onReady");a?this.settings=a:a=this.settings;var b=this.settings.xbloxScripts||[];0===b.length&&a.item&&b.push({path:a.item.path.replace(".dhtml",".xblox").replace(".html",
".xblox"),mount:a.item.mount});this.loadXBloxFiles(b);var c=this;console.info("-app ready",this);this.isVE()?(this.application.onReady(),this.application.publishVariables()):this.loadAppModule(a.item).then(function(){c.application.onReady();console.log("app module loaded from ");setTimeout(function(){c.publish("onContextReady",c);c.publish("DevicesConnected")},1500)})},isVE:function(){return this.delegate},init:function(a){function c(){require("xfile/manager/FileManager xide/manager/ResourceManager xnode/manager/NodeServiceManager xcf/manager/DriverManager xcf/manager/DeviceManager xcf/manager/BlockManager xcf/model/ModelBase xcf/model/Command xcf/model/Variable xcf/factory/Blocks".split(" "),
function(b,c,f,h,g,l){console.log("Checkpoint 7.0 xapp/Context::init");e.doMixins(e.mixins);e.blockManager=e.createManager(l);e.blockManager.init();e.fileManager=e.createManager(b,a.xFileConfig,{serviceUrl:a.rpcUrl,singleton:!0});e.fileManager.init();e.resourceManager=e.createManager(c,a.xFileConfig,{serviceUrl:a.rpcUrl,singleton:!0});e.driverManager=e.createManager(h,null,{serviceUrl:a.rpcUrl,singleton:!0});e.driverManager.init();try{e.driverManager.ls("system_drivers").then(function(){e.driverManager.ls("user_drivers").then(function(){console.log("Checkpoint 7.1 drivers loaded");
e.deviceManager=e.createManager(g,null,{serviceUrl:a.rpcUrl,singleton:!0});e.deviceManager.init();e.deviceManager.ls("system_devices").then(function(){e.deviceManager.ls("user_devices").then(function(){console.log("Checkpoint 7.1.1 devices loaded");e.onReady()})});e.resourceManager.init();var b=a.NODE_SERVICES;if(b){var c=d.parse_url(location.href);b[0].host=c.host;b[0].info&&(b[0].info.host="http://"+c.host)}e.nodeServiceManager=e.createManager(f,null,{serviceUrl:a.rpcUrl,singleton:!0,services:a.NODE_SERVICES});
e.nodeServiceManager.init()})}),t.publish("onContextReady",e)}catch(D){logError(D)}})}(this.settings=a)&&a.mixins&&this.doMixins(a.mixins);console.log("Checkpoint 7. xapp/manager->init(settings)",a);var e=this;this.subscribe(b.EVENTS.ON_DEVICE_DRIVER_INSTANCE_READY,function(a){e._timer&&(clearTimeout(e._timer),delete e._timer);if(a=a.instance)e["__instance_variables_"+a.id]=!0,e.timer=setTimeout(function(){e.publish(b.EVENTS.ON_APP_READY,{context:e});e.application.publishVariables()},10)});n("debug")&&
this.loadXIDE();this.isVE()?c():this.loadAppModule(a.item).then(function(){c()})},mergeFunctions:function(a,b){for(var c in b){var d=b[c];_.isFunction(b[c])&&(console.log("override "+c),a[c]=d)}},onModuleUpdated:function(a){var b=dojo.getObject(a.moduleClass);b&&b.prototype&&this.mergeFunctions(b.prototype,a.moduleProto)},getApplication:function(){return this.application},getBlockManager:function(){return this.blockManager},getFileManager:function(){return this.fileManager},getDriverManager:function(){return this.driverManager},
getDeviceManager:function(){return this.deviceManager},getNodeServiceManager:function(){return this.nodeServiceManager},initManagers:function(){this.pluginManager.init();this.application.init()},constructManagers:function(a){this.pluginManager=this.createManager(g);this.application=this.createManager(k);q=this;a&&(this.settings=a,a.delegate&&(this.delegate=a.delegate));this.isVE()&&a.item&&this.loadAppModule(a.item)},initVe:function(){this.notifier=t}});c.getInstance=function(){return q};c.notifier=
t;return c});
define("xapp/manager/_WidgetPickerMixin","dcl/dcl dojo/_base/declare dojo/dom-class dojo/dom-construct xide/utils xide/registry".split(" "),function(c,m,g,k,f,a){var b=!1,d=!1,e={},h=null,l,n,p,r,q,t,u,v,x,w,y={fbOutlineT:"fbHorizontalLine",fbOutlineL:"fbVerticalLine",fbOutlineB:"fbHorizontalLine",fbOutlineR:"fbVerticalLine"},A={fbHorizontalLine:"background: #00d706;height: 2px;",fbVerticalLine:"background: #00d706;width: 2px;"};return c(null,{declaredClass:"xide.widgets._WidgetPickerMixin",_inspectFrame:null,
_isInspecting:!1,_lastInspecting:0,inspectorMask:{},shouldShowOutline:function(a){},getWindowSize:function(){var a=0,b=0,c;"number"==typeof this.window.innerWidth?(a=this.window.innerWidth,b=this.window.innerHeight):(c=this.document.documentElement)&&(c.clientHeight||c.clientWidth)?(a=c.clientWidth,b=c.clientHeight):(c=this.document.body)&&(c.clientHeight||c.clientWidth)&&(a=c.clientWidth,b=c.clientHeight);return{width:a,height:b}},addEvent:function(a,b,c,d){a.addEventListener?a.addEventListener(b,
c,d):a.attachEvent("on"+b,c)},removeEvent:function(a,b,c,d){try{a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent("on"+b,c)}catch(F){}},getWindowScrollSize:function(){var a=0,b=0,c;(c=this.document.documentElement)&&(c.scrollHeight||c.scrollWidth)&&(a=c.scrollWidth,b=c.scrollHeight);(c=this.document.body)&&(c.scrollHeight||c.scrollWidth)&&(c.scrollWidth>a||c.scrollHeight>b)&&(a=c.scrollWidth,b=c.scrollHeight);return{width:a,height:b}},getElementFromPoint:function(a,b){return this.document.elementFromPoint(a,
b)},getWindowScrollPosition:function(){var a=0,b=0,c;"number"==typeof this.window.pageYOffset?(a=this.window.pageYOffset,b=this.window.pageXOffset):(c=this.document.body)&&(c.scrollTop||c.scrollLeft)?(a=c.scrollTop,b=c.scrollLeft):(c=this.document.documentElement)&&(c.scrollTop||c.scrollLeft)&&(a=c.scrollTop,b=c.scrollLeft);return{top:a,left:b}},getElementPosition:function(a){var b=0,c=0;do b+=a.offsetLeft,c+=a.offsetTop;while(a=a.offsetParent);return{left:b,top:c}},getElementBox:function(a){var b=
{};if(a.getBoundingClientRect){a=a.getBoundingClientRect();var c=this.getWindowScrollPosition();b.top=Math.round(a.top-0+c.top);b.left=Math.round(a.left-0+c.left);b.height=Math.round(a.bottom-a.top);b.width=Math.round(a.right-a.left)}else c=this.getElementPosition(a),b.top=c.top,b.left=c.left,b.height=a.offsetHeight,b.width=a.offsetWidth;return b},hideBoxModel:function(){d&&(h.appendChild(l),d=!1)},hideOutline:function(){if(b){for(var a in y)h.appendChild(e[a]);b=!1}},showOutline:function(){if(!b){d&&
this.hideBoxModel();for(var a in y)this.document.getElementsByTagName("body")[0].appendChild(e[a]);b=!0}},getCSSAutoMarginBox:function(a){var b=this.document.createElement("div");b.style.cssText="margin:0; padding:1px; border: 0; visibility: hidden;";a=a.cloneNode(!1);var c=this.document.createTextNode("&nbsp;");a.appendChild(c);b.appendChild(a);this.document.body.appendChild(b);var c=a.offsetTop-b.offsetTop-1,d=b.offsetHeight-a.offsetHeight-2-c,e=a.offsetLeft-b.offsetLeft-1;a=b.offsetWidth-a.offsetWidth-
2-e;this.document.body.removeChild(b);return{top:c+0,left:e,bottom:d-0,right:a}},getMeasurementInPixels:function(a,b){if(!a)return null;var c=this.getMeasurement(a,b),d=c.value,c=c.unit;if("px"==c)return d;if("pt"==c)return this.pointsToPixels(b,d);if("em"==c)return this.emToPixels(a,d);if("%"==c)return this.percentToPixels(a,d);if("ex"==c)return this.exToPixels(a,d)},getMeasurementBox:function(a,b){var c,d,e=[],f="border"==b?["TopWidth","LeftWidth","BottomWidth","RightWidth"]:["Top","Left","Bottom",
"Right"];for(d=0;c=f[d];d++)e[d]=this.getMeasurementInPixels(a,b+c);return{top:e[0],left:e[1],bottom:e[2],right:e[3]}},drawBoxModel:function(a){console.log("-draw");if(a&&a.parentNode){var b=this.getElementBox(a),c=this.getWindowSize(),e=this.getWindowScrollPosition();if(!(b.top>e.top+c.height-0||b.left>e.left+c.width||e.top>b.top+b.height||e.left>b.left+b.width)){var c=b.top,e=b.left,f=b.height,b=b.width,h=Firebug.browser.getMeasurementBox(a,"margin"),g=Firebug.browser.getMeasurementBox(a,"padding");
a=Firebug.browser.getMeasurementBox(a,"border");n.top=c-h.top+"px";n.left=e-h.left+"px";n.height=f+h.top+h.bottom+"px";n.width=b+h.left+h.right+"px";t.top=h.top+"px";t.left=h.left+"px";t.height=f+"px";t.width=b+"px";v.top=h.top+a.top+"px";v.left=h.left+a.left+"px";v.height=f-a.top-a.bottom+"px";v.width=b-a.left-a.right+"px";w.top=h.top+a.top+g.top+"px";w.left=h.left+a.left+g.left+"px";w.height=f-a.top-g.top-g.bottom-a.bottom+"px";w.width=b-a.left-g.left-g.right-a.right+"px";d||this.showBoxModel()}}},
drawOutline:function(a){console.log("-draw outline");var c=this.getWindowSize(),d=this.getWindowScrollSize(),f=this.getWindowScrollPosition(),h=this.getElementBox(a);a=h.top;var g=h.left,l=h.height,h=h.width,k=f.left+c.width-g-h-(d.height>c.height?17:0),c=f.top+c.height-a-l-(d.width>c.width?17:0),d=0<c?2:1,f=e.fbOutlineT.style;f.top=a-2+"px";f.left=g+"px";f.height="2px";f.width=h+"px";f=e.fbOutlineL.style;f.top=a-2+"px";f.left=g-2+"px";f.height=l+2*d+"px";f.width="2px";f=e.fbOutlineB.style;0<c?(f.top=
a+l+"px",f.left=g+"px",f.width=h+"px"):(f.top="-4px",f.left="-4px",f.width="2px");f=e.fbOutlineR.style;0<k?(f.top=a-2+"px",f.left=g+h+"px",f.height=l+2*d+"px",f.width=(2>k?k:2)+"px"):(f.top="-4px",f.left="-4px",f.height="2px",f.width="2px");b||this.showOutline()},onInspecting:function(a){if(30<(new Date).getTime()-this._lastInspecting){this._inspectFrame.style.display="none";a=this.getElementFromPoint(a.clientX,a.clientY);this._inspectFrame.style.display="block";var b=a.id;if(!(b&&/^fbOutline\w$/.test(b)||
"FirebugUI"==b)){for(;1!=a.nodeType;)a=a.parentNode;if("body"!=a.nodeName.toLowerCase()){if(this.isPickable)if(this.isPickable(a))this.drawOutline(a);else return;else this.drawOutline(a);this._lastInspecting=(new Date).getTime()}}}},destroyInspectorFrame:function(){this._inspectFrame&&(this.document.getElementsByTagName("body")[0].removeChild(this._inspectFrame),this._inspectFrame=null)},stopInspecting:function(){this._isInspecting=!1;b&&this.hideOutline();this.removeEvent(this._inspectFrame,"mousemove",
this.onInspecting);this.removeEvent(this._inspectFrame,"mousedown",this.onInspectingClick);this.destroyInspectorFrame()},onInspectingClick:function(a){this._inspectFrame.style.display="none";a=this.getElementFromPoint(a.clientX,a.clientY);this._inspectFrame.style.display="block";var b=a.id;if(!(b&&/^fbOutline\w$/.test(b)||"FirebugUI"==b)){for(;1!=a.nodeType;)a=a.parentNode;if(this.onNodePicked)this.onNodePicked(a);this.stopInspecting();this._destroy()}},_destroy:function(){l.parentNode.removeChild(l);
for(var a in y){var b=e[a];b.parentNode.removeChild(b)}h=null},_createInspectorFrame:function(){this._inspectFrame=k.create("div",{});this._inspectFrame.style.cssText="margin:0; padding:0; border:0; position:absolute; overflow:hidden; display:block;z-index: 2147483550; top:0; left:0;";this.document.getElementsByTagName("body")[0].appendChild(this._inspectFrame);var a=this.getWindowScrollSize(),b=this;this._inspectFrame.style.width=a.width+"px";this._inspectFrame.style.height=a.height+"px";this.addEvent(this._inspectFrame,
"mousemove",function(a){b.onInspecting(a)});this.addEvent(this._inspectFrame,"mousedown",function(a){b.onInspectingClick(a)})},initInspector:function(){h=document.createDocumentFragment();l=k.create("div");l.id="fbBoxModel";l.firebugIgnore=!0;n=l.style;n.cssText="margin:0; padding:0; border:0; position:absolute; overflow:hidden; display:block;z-index: 2147483500;opacity:0.8;";p=k.create("div");p.id="fbBoxMargin";r=p.style;r.cssText="margin:0; padding:0; border:0; position:absolute; overflow:hidden; display:block;z-index: 2147483500;background: #EDFF64; height:100%; width:100%;";
l.appendChild(p);q=k.create("div");q.id="fbBoxBorder";t=q.style;t.cssText="margin:0; padding:0; border:0; position:absolute; overflow:hidden; display:block;z-index: 2147483500;background: #666;";l.appendChild(q);u=k.create("div");u.id="fbBoxPadding";v=u.style;v.cssText="margin:0; padding:0; border:0; position:absolute; overflow:hidden; display:block;z-index: 2147483500;background: SlateBlue;";l.appendChild(u);x=k.create("div");x.id="fbBoxContent";w=x.style;w.cssText="margin:0; padding:0; border:0; position:absolute; overflow:hidden; display:block;z-index: 2147483500;background: SkyBlue;";
l.appendChild(x);h.appendChild(l);for(var a in y){var b=e[a]=k.create("div");b.id=a;b.firebugIgnore=!0;b.style.cssText="margin:0; padding:0; border:0; position:absolute; overflow:hidden; display:block;z-index: 2147483500;"+A[y[a]];h.appendChild(b)}},isPickable:function(b){if(this.allowWidgets){var c=a.getEnclosingWidget(b);if(c){if(-1<this.skipWidgetClasses.indexOf(c.declaredClass))return!1;if(b.id&&b.id==c.id)return!0}}else if(this.allowHTMLNodes)return!0;return!1},startInspecting:function(){this._isInspecting=
!0;this.window=window;this.document=document;this.initInspector();this._createInspectorFrame()},_pick:function(){try{this.startInspecting()}catch(z){console.error("inspector crash!")}}})});
define("dojo/dom-class",["./_base/lang","./_base/array","./dom"],function(c,m,g){function k(c){if("string"==typeof c||c instanceof String){if(c&&!a.test(c))return b[0]=c,b;c=c.split(a);c.length&&!c[0]&&c.shift();c.length&&!c[c.length-1]&&c.pop();return c}return c?m.filter(c,function(a){return a}):[]}var f,a=/\s+/,b=[""],d={};return f={contains:function(a,b){return 0<=(" "+g.byId(a).className+" ").indexOf(" "+b+" ")},add:function(a,b){if(a){a=g.byId(a);b=k(b);var c=a.className,d,c=c?" "+c+" ":" ";
d=c.length;for(var e=0,f=b.length,h;e<f;++e)(h=b[e])&&0>c.indexOf(" "+h+" ")&&(c+=h+" ");d<c.length&&(a.className=c.substr(1,c.length-2))}},remove:function(a,b){if(a=g.byId(a)){var d;if(void 0!==b){b=k(b);d=" "+a.className+" ";for(var e=0,f=b.length;e<f;++e)d=d.replace(" "+b[e]+" "," ");d=c.trim(d)}else d="";a.className!=d&&(a.className=d)}else console.error("dom class remove failed")},replace:function(a,b,c){a=g.byId(a);d.className=a.className;f.remove(d,c);f.add(d,b);a.className!==d.className&&
(a.className=d.className)},toggle:function(a,b,c){a=g.byId(a);if(void 0===c){b=k(b);for(var d=0,e=b.length,h;d<e;++d)h=b[d],f[f.contains(a,h)?"remove":"add"](a,h)}else f[c?"add":"remove"](a,b);return c}}});
define("xide/manager/ContextBase","dcl/dcl xide/factory xide/types xide/utils xide/mixins/EventedMixin dojo/_base/kernel dojo/_base/lang".split(" "),function(c,m,g,k,f,a,b){f=c(f.dcl,{declaredClass:"xide.manager.ContextBase",language:"en",managers:[],mixins:null,_getModuleDojo:function(a){return b.getObject(k.replaceAll("/",".",a))||b.getObject(a)},_getModuleDcl:function(a){return c.getObject?c.getObject(a)||c.getObject(k.replaceAll("/",".",a)):null},getModule:function(a){return this._getModuleDojo(a)||
this._getModuleDcl(a)},setModule:function(a,e){if(this._getModuleDojo(a))return b.setObject(k.replaceAll("/",".",a),e);if(this._getModuleDcl(a))return c.setObject(k.replaceAll("/",".",a),e)},createManager:function(b,e,f){try{this.managers||(this.managers=[]);var d={ctx:this,config:e||this.config};k.mixin(d,f);if(_.isString(b)&&this.namespace){var h=null,h=-1==b.indexOf(".")?this.namespace+b:""+b;b=a.getObject(h)&&c.getObject(h)?h:this.defaultNamespace+b}else _.isObject(b);var p=m.createInstance(b,
d);if(p)return this.managers.push(p),m.publish(g.EVENTS.ON_CREATED_MANAGER,{instance:p,className:b,ctx:this,config:e||this.config}),p}catch(r){console.error("error creating manager "+r,arguments)}},constructManagers:function(){},initManagers:function(){},doMixins:function(a){this.mixins=a||this.mixins;for(var b=0;b<a.length;b++){var c=a[b],d=this.getModule(c.declaredClass);c.declaredClass===this.declaredClass&&(d=this);d&&k.mixin(d.prototype,c.mixin)}}});c.chainAfter(f,"constructManagers");c.chainAfter(f,
"initManagers");return f});
define("xfile/types",["xide/utils","xide/types","xide/types/Types","xaction/types"],function(c,m){m.registerCustomMimeIconExtension=function(c,f){m.customMimeIcons[c]=f};var g=m.ACTION;m.DEFAULT_FILE_GRID_PERMISSIONS=[g.EDIT,g.COPY,g.CLOSE,g.MOVE,g.RENAME,g.DOWNLOAD,g.RELOAD,g.DELETE,g.NEW_FILE,g.NEW_DIRECTORY,g.CLIPBOARD,g.LAYOUT,g.COLUMNS,g.SELECTION,g.PREVIEW,g.OPEN_IN,g.GO_UP,g.SEARCH,g.OPEN_IN_TAB,g.TOOLBAR,g.STATUSBAR,g.UPLOAD,g.SIZE_STATS,g.CONSOLE,g.HEADER,"File/Compress","File/New",g.CONTEXT_MENU,
g.SOURCE,"File/OpenInOS"];m.FIELDS={SHOW_ISDIR:1602,SHOW_OWNER:1604,SHOW_MIME:1608,SHOW_SIZE:1616,SHOW_PERMISSIONS:1632,SHOW_TIME:1633,SHOW_FOLDER_SIZE:1634,SHOW_FOLDER_HIDDEN:1635,SHOW_TYPE:1636,SHOW_MEDIA_INFO:1637};m.FILE_PANEL_LAYOUT={TREE:1,LIST:2,THUMB:3,PREVIEW:4,COVER:5,SPLIT_VERTICAL:6,SPLIT_HORIZONTAL:7,IMAGE_GRID:8};m.LAYOUT_PRESET={DUAL:1,SINGLE:2,BROWSER:3,PREVIEW:4,GALLERY:5,EDITOR:6};m.PANEL_OPTIONS={ALLOW_NEW_TABS:!0,ALLOW_MULTI_TAB:!1,ALLOW_INFO_VIEW:!0,ALLOW_LOG_VIEW:!0,ALLOW_CONTEXT_MENU:!0,
ALLOW_LAYOUT_SELECTOR:!0,ALLOW_SOURCE_SELECTOR:!0,ALLOW_COLUMN_RESIZE:!0,ALLOW_COLUMN_REORDER:!0,ALLOW_COLUMN_HIDE:!0,ALLOW_ACTION_TOOLBAR:!0,ALLOW_MAIN_MENU:!0};m.FILE_PANEL_OPTIONS_LEFT={LAYOUT:2,AUTO_OPEN:!0};m.FILE_PANEL_OPTIONS_MAIN={LAYOUT:3,AUTO_OPEN:!0};m.FILE_PANEL_OPTIONS_RIGHT={LAYOUT:3,AUTO_OPEN:!0};m.FILE_GRID_COLUMNS={NAME:"name",SIZE:"size",MODIFIED:"modified"};m.ACTION_TOOLBAR_MODE={SELF:"self"};c.mixin(m.ITEM_TYPE,{FILE:"BTFILE"});c.mixin(m.EVENTS,{STORE_CHANGED:"onStoreChange",BEFORE_STORE_CHANGE:"onBeforeStoreChange",
STORE_REFRESHED:"onStoreRefreshed",ON_FILE_STORE_READY:"onFileStoreReady",ON_DID_OPEN_ITEM:"onDidOpenItem",ON_SHOW_PANEL:"onShowPanel",ITEM_SELECTED:"onItemSelected",ERROR:"fileOperationError",STATUS:"fileOperationStatus",IMAGE_LOADED:"imageLoaded",IMAGE_ERROR:"imageError",RESIZE:"resize",ON_UPLOAD_BEGIN:"onUploadBegin",ON_UPLOAD_PROGRESS:"onUploadProgress",ON_UPLOAD_FINISH:"onUploadFinish",ON_UPLOAD_FAILED:"onUploadFailed",ON_CLIPBOARD_COPY:"onClipboardCopy",ON_CLIPBOARD_PASTE:"onClipboardPaste",
ON_CLIPBOARD_CUT:"onClipboardCut",ON_CONTEXT_MENU_OPEN:"onContextMenuOpen",ON_PLUGIN_LOADED:"onPluginLoaded",ON_PLUGIN_READY:"onPluginReady",ON_MAIN_VIEW_READY:"onMainViewReady",ON_FILE_CONTENT_CHANGED:"onFileContentChanged",ON_PANEL_CLOSED:"onPanelClosed",ON_PANEL_CREATED:"onPanelCreated",ON_COPY_BEGIN:"onCopyBegin",ON_COPY_END:"onCopyEnd",ON_DOWNLOAD_TO_BEGIN:"onDownloadToBegin",ON_DOWNLOAD_TO_END:"onDownloadToEnd",ON_DELETE_BEGIN:"onDeleteBegin",ON_DELETE_END:"onDeleteEnd",ON_MOVE_BEGIN:"onMoveBegin",
ON_MOVE_END:"onMoveEnd",ON_COMPRESS_BEGIN:"onCompressBegin",ON_COMPRESS_END:"onCompressEnd",ON_SOURCE_MENU_OPEN:"onSourceMenuOpen",ON_MOUNT_DATA_READY:"onMountDataReady",ON_XFILE_READY:"onXFileReady",ON_CHANGE_PERSPECTIVE:"onChangePerspective",ON_FILE_PROPERTIES_RENDERED:"onFilePropertiesRendered"});m.SELECTION_MODE={SINGLE:"single",MULTI:"multiple",EXTENDED:"extended"};m.OPERATION={COPY:"copy",MOVE:"move",RENAME:"rename",DELETE:"delete",OPEN:"open",EDIT:"edit",DOWNLOAD:"download",DOWNLOAD_TO:"downloadTo",
INFO:"info",COMPRESS:"compress",RELOAD:"reload",PREVIEW:"preview",INSERT_IMAGE:"insertImage",COPY_PASTE:"copypaste",DND:"dnd",OPTIONS:"options",NEW_FILE:"mkfile",NEW_DIRECTORY:"mkdir",GET_CONTENT:"get",SET_CONTENT:"set",FIND:"find",CUSTOM:"custom",PERMA_LINK:"permaLink",ADD_MOUNT:"ADD_MOUNT",REMOVE_MOUNT:"REMOVE_MOUNT",EDIT_MOUNT:"EDIT_MOUNT",PERSPECTIVE:"PERSPECTIVE",EXTRACT:"extract"};m.OPERATION_INT={NONE:0,EDIT:1,COPY:2,MOVE:3,INFO:4,DOWNLOAD:5,COMPRESS:6,DELETE:7,RENAME:8,DND:9,COPY_PASTE:10,
OPEN:11,RELOAD:12,PREVIEW:13,INSERT_IMAGE:15,NEW_FILE:16,NEW_DIRECTORY:17,UPLOAD:18,READ:19,WRITE:20,PLUGINS:21,CUSTOM:22,FIND:23,PERMA_LINK:24,ADD_MOUNT:25,REMOVE_MOUNT:26,EDIT_MOUNT:27,PERSPECTIVE:28,CLIPBOARD_COPY:29,CLIPBOARD_CUT:30,CLIPBOARD_PASTE:31,EXTRACT:32};m.EResolveMode={SKIP:0,OVERWRITE:1,IF_NEWER:2,IF_SIZE_DIFFERS:3,APPEND:4,THROW:5,ABORT:6};m.EResolve={ALWAYS:0,THIS:1};m.EError={NONE:"None",EXISTS:"EEXIST",PERMISSION:"EACCES",NOEXISTS:"ENOENT",ISDIR:"EISDIR"};return m});
define("xide/utils/CSSUtils",["xide/utils","xide/types"],function(c,m){c.findStyle=function(c,k){c=(new CSSParser).parse(".foo{"+c+"}",!1,!0).cssRules[0].declarations;return(k=_.find(c,{property:k}))?k.valueText:""};c.getBackgroundUrl=function(g){if(g=c.findStyle(g,"background-image"))try{return g.match(/\((.*?)\)/)[1].replace(/('|")/g,"")}catch(k){}return null};return c});
define("xide/utils/ObjectUtils",["xide/utils","require","dojo/Deferred","xide/lodash"],function(c,m,g,k){function f(a){var b=parseInt(a,10);return b.toString()===a?b:a}function a(b,c,d,e){k.isNumber(c)&&(c=[c]);if(k.isEmpty(c))return b;if(k.isString(c))return a(b,c.split(".").map(f),d,e);var h=c[0];if(1===c.length)return c=b[h],void 0!==c&&e||(b[h]=d),c;void 0===b[h]&&(k.isNumber(c[1])?b[h]=[]:b[h]={});return a(b[h],c.slice(1),d,e)}function b(a,c){k.isNumber(c)&&(c=[c]);if(!k.isEmpty(a)){if(k.isEmpty(c))return a;
if(k.isString(c))return b(a,c.split("."));var d=f(c[0]),e=a[d];if(1===c.length)void 0!==e&&(k.isArray(a)?a.splice(d,1):delete a[d]);else if(void 0!==a[d])return b(a[d],c.slice(1));return a}}"use strict";c.delegate=function(){function a(){}return function(b,c){a.prototype=b;b=new a;a.prototype=null;c&&lang._mixin(b,c);return b}}();c.debounce=function(a,b,c,d,e,f,g){var h=a[b+"_debounced"];h||(h=a[b+"_debounced"]=k.debounce(c,d,e));!0!==f||a[b+"_debouncedFirst"]||(a[b+"_debouncedFirst"]=!0,c.apply(a,
g));return h()};c.pluck=function(a,b){return k.map(a,b)};c.download=function(a,b){var c=document.createElement("a");b=k.isString(b)?b:JSON.stringify(b,null,2);c.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(b));c.setAttribute("download",a);c.style.display="none";document.body.appendChild(c);c.click();document.body.removeChild(c)};c.hasObject=function(a){var b=null;try{b=m(a)}catch(n){console.error("error in utils.hasObject ",n)}return b};c.toUrl=function(a){m({cacheBust:null,
waitSeconds:5});return m.toUrl(a)};c.getObject=function(a,b){var d=null;if(c.isString(a)){try{d=m(a)}catch(r){}try{if(!d){var e=new g,d=m([a],function(a){e.resolve(a)});return e.promise}}catch(r){}return d}return c.isObject(a)?a:null!==d?d:b};c.toArray=function(a){var b=[],c;for(c in a)b.push({name:c,value:a[c]});return b};c.toObject=function(a,b){if(!a)return{};if(!1!==b)return b.object(b.map(a,b.values));if(c.isObject(a)&&a[0])return a[0];b={};for(var d=0;d<a.length;++d)b[d]=a[d];return b};c.byString=
function(a,b,c){b=b.replace(/\[(\w+)\]/g,".$1");b=b.replace(/^\./,"");for(b=b.split(".");b.length;)if(c=b.shift(),c in a)a=a[c];else return;return a};var d=Object.prototype.hasOwnProperty,e={has:function(a,b){if(k.isEmpty(a))return!1;k.isNumber(b)?b=[b]:k.isString(b)&&(b=b.split("."));if(k.isEmpty(b)||0===b.length)return!1;for(var c=0;c<b.length;c++){var e=b[c];if((k.isObject(a)||k.isArray(a))&&d.call(a,e))a=a[e];else return!1}return!0},ensureExists:function(b,c,d){return a(b,c,d,!0)},set:function(b,
c,d,e){return a(b,c,d,e)},insert:function(a,b,c,d){var f=e.get(a,b);d=~~d;k.isArray(f)||(f=[],e.set(a,b,f));f.splice(d,0,c)},empty:function(a,b){if(k.isEmpty(b))return a;if(!k.isEmpty(a)){var c,f;if(!(c=e.get(a,b)))return a;if(k.isString(c))return e.set(a,b,"");if(k.isBoolean(c))return e.set(a,b,!1);if(k.isNumber(c))return e.set(a,b,0);if(k.isArray(c))c.length=0;else if(k.isObject(c))for(f in c)d.call(c,f)&&delete c[f];else return e.set(a,b,null)}},push:function(a,b){var c=e.get(a,b);k.isArray(c)||
(c=[],e.set(a,b,c));c.push.apply(c,Array.prototype.slice.call(arguments,2))},coalesce:function(a,b,c){for(var d,f=0,h=b.length;f<h;f++)if(void 0!==(d=e.get(a,b[f])))return d;return c},get:function(a,b,c){k.isNumber(b)&&(b=[b]);if(k.isEmpty(b))return a;if(k.isEmpty(a)&&a&&null===a.innerHTML)return c;if(k.isString(b))return e.get(a,b.split("."),c);var d=f(b[0]);if(1===b.length){if(a&&void 0===a[d])return c;if(a)return a[d]}return a?e.get(a[d],b.slice(1),c):c},del:function(a,c){return b(a,c)}};c.getAt=
function(a,b,c){return e.get(a,b,c)};c.setAt=function(a,b,c){return e.set(a,b,c)};c.hasAt=function(a,b){return e.has(a,b)};c.ensureAt=function(a,b,c){return e.ensureExists(a,b,c)};c.deleteAt=function(a,b){return e.del(a,b)};c.merge=function(a,b){for(var d in b)"object"!=typeof a[d]?a[d]=b[d]:"object"==typeof b[d]&&(a[d]=c.merge(a[d],b[d]));return a};c.clone=function(a){if(!a||"object"!=typeof a||c.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());
if(a instanceof RegExp)return new RegExp(a);var b,d,e;if(c.isArray(a))for(b=[],d=0,e=a.length;d<e;++d)d in a&&b.push(c.clone(a[d]));else b=a.constructor?new a.constructor:{};return c._mixin(b,a,c.clone)};c._mixin=function(a,b,c){var d,e,f={};for(d in b)e=b[d],d in a&&(a[d]===e||d in f&&f[d]===e)||(a[d]=c?c(e):e);return a};c.mixin=function(a,b){if(b){a||(a={});for(var d=arguments.length,e=1;e<d;e++)c._mixin(a,arguments[e])}return a};c.cloneKeys=function(a,b){var c={},d;for(d in a)if(!0!==b||d in a)c[d]=
a[d];return c};c.isArray=function(a){return k.isArray(a)};c.isObject=function(a){return k.isObject(a)};c.isString=function(a){return k.isString(a)};c.isNumber=function(a){return k.isNumber(a)};c.isFunction=function(a){return k.isFunction(a)};return c});
define("xide/utils/CIUtils",["xide/utils","xide/types","xide/factory","dojo/has","xide/lodash"],function(c,m,g,k,f){c.toOptions=function(a){a=c.flattenCIS(a);for(var b=[],d=0;d<a.length;d++){var e=a[d];b.push({name:c.toString(e.name),value:c.getCIValue(e),type:c.toInt(e.type),enumType:c.toString(e.enumType),visible:c.toBoolean(e.visible),active:c.toBoolean(e.active),changed:c.toBoolean(e.changed),group:c.toString(e.group),user:c.toObject(e.user),dst:c.toString(e.dst),id:c.toString(e.id),params:c.toString(e.params)})}return b};
if(k("xideve")||k("xblox-ui"))c.getEventsAsOptions=function(a){var b=[{label:"Select Event",value:""}],c;for(c in m.EVENTS)b.push({label:m.EVENTS[c],value:m.EVENTS[c]});b=b.concat([{label:"onclick",value:"onclick"},{label:"ondblclick",value:"dblclick"},{label:"onmousedown",value:"mousedown"},{label:"onmouseup",value:"mouseup"},{label:"onmouseover",value:"mouseover"},{label:"onmousemove",value:"mousemove"},{label:"onmouseout",value:"mouseout"},{label:"onkeypress",value:"keypress"},{label:"onkeydown",
value:"keydown"},{label:"onkeyup",value:"keyup"},{label:"onfocus",value:"focus"},{label:"onblur",value:"blur"},{label:"On Load",value:"Load"}]);for(c=0;c<b.length;c++){var e=b[c];if(e.value===a){e.selected=!0;break}}return b};c.flattenCIS=function(a){for(var b=[],d=[],e=0;e<a.length;e++){var f=a[e],g=c.toInt(f.type);g>m.ECIType.END&&(g=m.resolveType(g))&&(c.mixin(b,g),d.push(f))}0<b.length&&(a=a.concat(b));if(d)for(e in d)a.remove(d[e]);return a};c.arrayContains=function(a,b){for(var c=0;c<a.length;c++)if(a[c]===
b)return!0;return!1};c.setStoreCIValueByField=function(a,b,d){null==a[b]&&(a[b]=[]);a[b][0]=c.getStringValue(d);return a};c.createOption=function(a,b,d){return c.mixin({label:a,value:null!=b?b:a},d)};c.createCI=function(a,b,d,e,f){a={dataRef:null,dataSource:null,name:a,group:-1,id:a,title:a,type:b,uid:-1,value:null!=d?d:-1,visible:!0,enumType:-1,"class":"cmx.types.ConfigurableInformation"};c.mixin(a,e);f&&f.publish&&g.publish(f.publish,{CI:a,owner:f.owner},f.owner);return a};c.createCIAsArray=function(a,
b,c,e){return{chainType:[c?c:0],dataRef:[null],dataSource:[null],params:[],name:[a],group:[-1],id:[a],title:[a],type:[b],uid:[-1],value:[e?e:-1],visible:[!0],enumType:[-1],parentId:[-1],"class":["cmx.types.ConfigurableInformation"]}};c.hasValue=function(a){return a.value&&null!=a.value[0]&&0<a.value[0].length&&"0"!=a.value[0]&&"undefined"!=a.value[0]&&"Unset"!=a.value[0]};c.hasValueAndDataRef=function(a){return a.value&&null!=a.value[0]&&0<a.value[0].length&&"0"!=a.value[0]&&"undefined"!=a.value[0]&&
"Unset"!=a.value[0]&&a.dataRef&&null!=a.dataRef[0]&&0<a.dataRef[0].length&&"0"!=a.dataRef[0]&&"undefined"!=a.dataRef[0]};c.getInputCIByName=function(a,b){if(!a||!b)return null;var d=a.inputs;d||(d=a);if(null!=d)for(a=0;a<d.length;a++){var e=d[a],f=c.getStringValue(e.name);if(null!=f&&f.toLowerCase()===b.toLowerCase())return e}return null};c.getInputCIById=function(a,b){if(!a)return null;var d=a.inputs;d||(d=a);if(null!=d)for(a=0;a<d.length;a++){var e=d[a],f=c.getStringValue(e.id);if(null!=f&&f.toLowerCase()===
b.toLowerCase())return e}return null};c.getCIByChainAndName=function(a,b,d){if(!a)return null;(b=0==b?a.inputs:1==b?a.outputs:null)||(b=a);if(null!=b)for(a=0;a<b.length;a++){var e=b[a],f=c.getStringValue(e.name);if(null!=f&&f.toLowerCase()===d.toLowerCase())return e}return null};c.getCIByUid=function(a,b){if(null!=a)for(var d=0;d<a.length;d++){var e=a[d],f=c.getStringValue(e.uid);if(null!=f&&f===b)return e}return null};c.getCIById=function(a,b,c){a=0==b?a.inputs:1==b?a.outputs:null;if(null!=a)for(b=
0;b<a.length;b++){var d=a[b];if(d.id[0]==c[0])return d}return null};c.getCIInputValueByName=function(a,b){return(a=c.getCIByChainAndName(a,0,b))?a.value:null};c.getCIValue=function(a){return c.getCIValueByField(a,"value")};c.getStringValue=function(a){return c.toString(a)};c.toString=function(a){return null!=a?f.isArray(a)?a&&1==a.length&&null==a[0]?null:""+(null!=a[0]?a[0]:a):""+a:null};c.setIntegerValue=function(a,b){null!=a&&dojo.isArray(a)&&(a[0]=b)};c.getCIValueByField=function(a,b){return null!=
a[b]?f.isArray(a[b])?a[b][0]?a[b][0]:a[b]:a[b]:null};c.setCIValueByField=function(a,b,c){if(!a)return a;null==a[b]&&(a[b]=[]);a[b]=c;return a};c.setCIValue=function(a,b,d){(a=c.getInputCIByName(a,b))&&c.setCIValueByField(a,"value",d);return a};c.getCIInputValueByNameAndField=function(a,b,d){return(a=c.getCIByChainAndName(a,0,b))?a[""+d]:null};c.getCIInputValueByNameAndFieldStr=function(a,b,d){return(a=c.getCIInputValueByNameAndField(a,b,d))?c.getStringValue(a):null};c.getCIInputValueByNameAndFieldBool=
function(a,b,d){return(a=c.getCIInputValueByNameAndField(a,b,d))?c.toBoolean(a):null};c.getCIWidgetByName=function(a,b){for(var c=0;c<a.length;c++){var e=a[c];if(e._widget&&e.name===b)return e._widget}return null};return c});
define("xide/utils/WidgetUtils",["xide/utils","xide/types","xide/registry"],function(c,m,g){c.getParentWidget=function(c,f,a){c=c.containerNode||c.domNode||c;var b=0,d=null;for(a=a||10;b<a&&!d;){if(c){c=c.parentNode;var e=g.byId(c.id)||g.getEnclosingWidget(c);e&&f&&e.declaredClass&&-1!=e.declaredClass.indexOf(f)&&(d=e)}b++}return d};c.getWidgetType=function(c){var f="";c==m.ECIType.ENUMERATION&&(f="xide.widgets.Select");c==m.ECIType.STRING&&(f="xide.widgets.TextBox");c==m.ECIType.ICON&&(f="xide.widgets.TextBox");
c==m.ECIType.REFERENCE&&(f="xide.widgets.Button");c==m.ECIType.EXPRESSION&&(f="xide.widgets.Expression");c==m.ECIType.EXPRESSION_EDITOR&&(f="xide.widgets.ExpressionEditor");c==m.ECIType.ARGUMENT&&(f="xide.widgets.ArgumentsWidget");c==m.ECIType.WIDGET_REFERENCE&&(f="xide.widgets.WidgetReference");c==m.ECIType.BLOCK_REFERENCE&&(f="xide.widgets.BlockPickerWidget");c==m.ECIType.BLOCK_SETTINGS&&(f="xide.widgets.BlockSettingsWidget");c==m.ECIType.DOM_PROPERTIES&&(f="xide.widgets.DomStyleProperties");c==
m.ECIType.FILE_EDITOR&&(f="xide.widgets.FileEditor");return f};return c});
define("xide/utils/StoreUtils",["xide/utils","xide/data/Memory","dojo/_base/kernel","xide/lodash"],function(c,m,g,k){c.removeFromStore=function(f,a,b,d,e,h,g){if(null!=a&&f){a=k.isString(a)?f.getSync(a)||a:a;d=d||f.idProperty;e=e||f.parentProperty;a&&f.removeSync(a[d],h);var l={};l[e]=a[d]?a[d]:a;!0===g&&k.isObject(a)&&c.destroy(a,!0);if(!0===b&&(a=f.query(l))&&a.length)for(l=0;l<a.length;l++)c.removeFromStore(f,a[l],b,d,e,h,g)}};c.toString=function(c){return null!=c?g.isArray(c)?c&&1==c.length&&
null==c[0]?null:""+(null!=c[0]?c[0]:c):""+c:null};c.toBoolean=function(c){var a=!1;null!=c&&(c=c[0]?c[0]:c,null!=c&&(a=!(!0!==c&&"true"!==c&&"1"!==c)));return a};c.toObject=function(c){return null!=c?c[0]?c[0]:c:null};c.toInt=function(c){if(_.isNumber(c))return c;var a=-1;null!=c&&(c=1<c.length?c:c[0]?c[0]:c,null!=c&&(a=parseInt(c,10)));return a};c.getStoreItemById=function(f,a){return c.queryStoreEx(f,{id:a},null,null)};c.getAppDataElementByIdAndType=function(f,a,b){return c.queryStore(f,{uid:a,
type:b},null,null)};c.getElementsByType=function(f,a){return c.queryStoreEx(f,{type:a})};c.queryStoreEx=function(f,a,b,d){if(!f)return console.error("utils.queryStoreEx: store = null"),null;if(f instanceof m)return f=c.queryMemoryStoreEx(f,a),d&&f&&f[0]?f[0]:f;var e=null;f.query&&(e=f.query(a));return!0===b&&e&&0===e.length?null:!0===d&&e&&1==e.length?e[0]:e};c.queryStore=function(f,a,b){return(f=c.queryStoreEx(f,a,null,null))&&1==f.length?f[0]:!0===b&&f&&0===f.length?null:f};c.queryMemoryStoreEx=
function(c,a){var b=[];c.query(a).forEach(function(a){b.push(a)});return b};c.queryMemoryStoreSingle=function(f,a){f=c.queryMemoryStoreEx(f,a);return 1==f.length?f[0]:f};return c});
define("xide/utils/HTMLUtils","xide/utils xide/types dcl/dcl xdojo/declare dojo/dom-construct dojo/has dojo/dom-class dojo/_base/window xide/lodash xide/$".split(" "),function(c,m,g,k,f,a,b,d,e,h){c.getDoc=function(){return d.doc};c.empty=function(a){if(a.getChildren&&a.removeChild){var b=a.getChildren();e.each(b,function(b){a.removeChild(b)})}(b=a.containerNode||a.domNode||e.isElement(a)?a:null)&&f.empty(b)};c.findEmptyNode=function(a,b){if(!a||null==a.children||null==a.children.length)return null;
var d=a.children;null!==b&&(d=c.find(b,a,!1));for(var e in d)if(a=d[e],""===a.innerHTML)return a;return null};c.create=function(a,b,c){var e=d.doc;c&&(e=c.ownerDocument);"string"==typeof a&&(a=e.createElement(a));b&&h(a).attr(b);c&&h(c).append(a);return a};c.isDescendant=function(a,b){for(b=b.parentNode;null!==b;){if(b==a)return!0;b=b.parentNode}return!1};c.find=function(a,b){return h(a,b)[0]};c.hasChild=function(a,b){if(a||!b&&b.getChildren)return e.find(b.getChildren(),{title:a})};c.createInstanceSync=
function(a,b,c,f,h){if(f||h)f=f||[],h&&f.push(k(a,h));f&&(f=e.isArray(f)?f:[f],f.push(a),f.reverse(),a=a.extend?k(f,{}):g(f,{}));return new a(b||{},c||d.doc.createElement("div"))};c.addWidget=function(a,h,g,k,q,t,u,v,x){var l={delegate:g};h=h||{};c.mixin(l,h);if(e.isString(a)){var n=c.getObject(a);n&&(a=n)}k=e.isString(k)?f.create(k):null==k?d.doc.createElement("div"):k;n=h.attachDirect?h.attachDirect:a&&a.prototype?a.prototype.attachDirect:!1;l._parent=k;var p=c.getNode(k);k&&k.finishLoading&&k.finishLoading();
if(l.attachChild&&k.addChild)return delete l.attachChild,k.addChild(a,l,q);if(k.addWidget&&!0!==l.ignoreAddChild)return k.addWidget(a,h,g,k,q,t,u,v,x);l=c.createInstanceSync(a,l,n?p:null,u,x);if(!l)return console.error("widget creation failed! ",arguments),null;if(k)n?q&&l.startup():c.addChild(k,l,q,v);else return l;t&&b.add(l.domNode,t);if(k.resize||k.startup)l._parent=k;l.utils=c;l.types=m;return l};c.addChild=function(b,d,e,f){if(b&&d)try{var h="function"===typeof b.addChild,g=h?b:c.getNode(b),
l=h?d:d.domNode||d;if(g&&l)if(b.addChild){d=-1;b.getChildren&&(d=b.getChildren().length);try{b.addChild(l,d,null!==f?f:e)}catch(v){logError(v,"add child failed for some reason!"+v)}}else l.nodeType?(g.appendChild(l),!0===e&&d.startup&&d.startup()):logError("child is not html");else a("debug")&&console.error("utils.addChild : invalid parameters :: parent or child domNode is null")}catch(v){logError(v,"addWidget : crashed : ")}else console.error("error! parent or child is invalid!")};c.templatify=function(a,
b,d,e,f,h){var g=a||"xide/widgets/TemplatedWidgetBase";a=f?k([a].concat(f)):c.getObject(g);if(!a)return null;b={templateString:b};c.mixin(b,e);e=new a(b,dojo.doc.createElement("div"));c.addChild(d,e,h);return e};c._clearProperty=function(a,b){var d=null;b&&(d=c.getObjectKeyByValue(b,a));d&&(b[d]=null)};c._destroyWidget=function(a,b,d){try{if(e.isString(a)&&(a=h(a)[0]),a)if(a.parentContainer&&a.parentContainer.removeChild&&a.domNode){if(a.destroy&&!1!==b)try{a.destroy()}catch(r){console.error("error destroying view")}a.parentContainer.removeChild(a);
d&&c._clearProperty(a,d)}else a.destroyRecursive&&a.destroyRecursive(),a.destroy&&!0!==a._destroyed&&a.destroy(),a._destroyed=!0,a.domNode||a.domNode?a.domNode&&f.destroy(a.domNode):a.ownerDocument&&f.destroy(a),c._clearProperty(a,d)}catch(r){logError(r,"error in destroying widget "+r)}};c.destroy=function(a,b,d){if(a)if(e.isArray(a))for(var f=0;f<a.length;f++){var h=a[f],g=null;d&&(g=c.getObjectKeyByValue(d,h));c._destroyWidget(h,b);g&&(d[g]=null)}else c._destroyWidget(a,b,d)};c.getNode=function(a){return a?
a.containerNode||a.domNode||a:a};c.getHeight=function(a){e.isArray(a)||(a=[a]);var b=0;e.each(a,function(a){b+=h(c.getNode(a)).outerHeight()});return b};c.resizeTo=function(a,b,d,e,f,g){b=c.getNode(b);a=c.getNode(a);!0===d&&(d=h(b).height(),g&&null!==g.h&&(d+=g.h),h(a).css("height",d+"px"+(!0===f?"!important":"")));!0===e&&(b=h(b).width(),h(a).css("width",b+"px"+(!0===f?"!important":"")))};return c});define("xide/$",[],function(){if("undefined"!==typeof $)return $});
define("xide/utils/HexUtils",["xide/utils","xide/types","dojo/json","xide/lodash"],function(c,m,g,k){function f(a){var c="";a=parseInt(a,16);65535>=a?c+=String.fromCharCode(a):1114111>=a?(a-=65536,c+=String.fromCharCode(55296|a>>10)+String.fromCharCode(56320|a&1023)):c+="hex2Char error: Code point out of range: "+b(a);return c}function a(a){var c="";65535>=a?c+=String.fromCharCode(a):1114111>=a?(a-=65536,c+=String.fromCharCode(55296|a>>10)+String.fromCharCode(56320|a&1023)):c+="dec2char error: Code point out of range: "+
b(a);return c}function b(a){return(a+0).toString(16).toUpperCase()}function d(a){return y[a>>4&15]+y[a&15]}function e(a){return a=a.replace(/0x([A-Fa-f0-9]{1,4})(\s)?/g,function(a,b){f(b);return f(b)})}function h(a){a=a.replace(/[Uu]\+10([A-Fa-f0-9]{4})/g,function(a,b){return f("10"+b)});return a=a.replace(/[Uu]\+([A-Fa-f0-9]{1,5})/g,function(a,b){return f(b)})}function l(a){return a=a.replace(/&#x([A-Fa-f0-9]{1,6});/g,function(a,b){return f(b)})}function n(b){return b=b.replace(/&#([0-9]{1,7});/g,
function(b,c){return a(c)})}function p(a){return a=a.replace(/0x([A-Fa-f0-9]{1,6})/g,function(a,b){return f(b)})}function r(a,b){b?(a=a.replace(/\\([A-Fa-f0-9]{1,6})(\s)?/g,function(a,b){return f(b)}),a=a.replace(/\\/g,"")):a=a.replace(/\\([A-Fa-f0-9]{2,6})(\s)?/g,function(a,b){return f(b)});return a}function q(a,b){a=a.replace(/\\u\{([A-Fa-f0-9]{1,})\}/g,function(a,b){return f(b)});a=a.replace(/\\U([A-Fa-f0-9]{8})/g,function(a,b){return f(b)});a=a.replace(/\\u([A-Fa-f0-9]{4})/g,function(a,b){return f(b)});
b&&(a=a.replace(/\\b/g,"\b"),a=a.replace(/\\t/g,"\t"),a=a.replace(/\\n/g,"\n"),a=a.replace(/\\v/g,"\v"),a=a.replace(/\\f/g,"\f"),a=a.replace(/\\r/g,"\r"),a=a.replace(/\\\'/g,"'"),a=a.replace(/\\\"/g,'"'),a=a.replace(/\\\\/g,"\\"));return a}function t(c){return c=c.replace(/((%[A-Fa-f0-9]{2})+)/g,function(c,d){c="";var e=0,f=0;d=d.split("%");for(var h=1;h<d.length;h++){var g=parseInt(d[h],16);switch(e){case 0:0<=g&&127>=g?c+=a(g):192<=g&&223>=g?(e=1,f=g&31):224<=g&&239>=g?(e=2,f=g&15):240<=g&&247>=
g?(e=3,f=g&7):c+="convertpEsc2Char: error "+b(g)+"! ";break;case 1:if(128>g||191<g)c+="convertpEsc2Char: error "+b(g)+"! ";e--;c+=a(f<<6|g-128);f=0;break;case 2:case 3:if(128>g||191<g)c+="convertpEsc2Char: error "+b(g)+"! ";f=f<<6|g-128;e--}}return c})}function u(a){var b={};return a=a.replace(/&([A-Za-z0-9]+);/g,function(a,c){return c in b?b[c]:a})}function v(b,c){"hex"==c?b=b.replace(/(\b[A-Fa-f0-9]{2,6}\b)/g,function(a,b){return f(b)}):"dec"==c?b=b.replace(/(\b[0-9]+\b)/g,function(b,c){return a(c)}):
"utf8"==c?b=b.replace(/(( [A-Fa-f0-9]{2})+)/g,function(a,b){return x(b)}):"utf16"==c&&(b=b.replace(/(( [A-Fa-f0-9]{1,6})+)/g,function(a,b){return w(b)}));return b}function x(c){var d="",e=0,f=0;c=c.replace(/^\s+/,"");c=c.replace(/\s+$/,"");if(0==c.length)return"";c=c.replace(/\s+/g," ");c=c.split(" ");for(var h=0;h<c.length;h++){var g=parseInt(c[h],16);switch(e){case 0:0<=g&&127>=g?d+=a(g):192<=g&&223>=g?(e=1,f=g&31):224<=g&&239>=g?(e=2,f=g&15):240<=g&&247>=g?(e=3,f=g&7):d+="convertUTF82Char: error1 "+
b(g)+"! ";break;case 1:if(128>g||191<g)d+="convertUTF82Char: error2 "+b(g)+"! ";e--;d+=a(f<<6|g-128);f=0;break;case 2:case 3:if(128>g||191<g)d+="convertUTF82Char: error3 "+b(g)+"! ";f=f<<6|g-128;e--}}return d.replace(/ $/,"")}function w(c){var d=0,e="";c=c.replace(/^\s+/,"");c=c.replace(/\s+$/,"");if(0==c.length)return null;c=c.replace(/\s+/g," ");c=c.split(" ");for(var f=0;f<c.length;f++){var h=parseInt(c[f],16);if(0>h||65535<h)e+="!Error in convertUTF162Char: unexpected value, b="+b(h)+"!";if(0!=
d)if(56320<=h&&57343>=h){e+=a(65536+(d-55296<<10)+(h-56320));d=0;continue}else e+="Error in convertUTF162Char: low surrogate expected, b="+b(h)+"!",d=0;55296<=h&&56319>=h?d=h:e+=a(h)}return e}var y="0123456789ABCDEF".split("");c.dec2hex4=function(a){return y[a>>12&15]+y[a>>8&15]+y[a>>4&15]+y[a&15]};c.dec2hex=b;c.dec2char=a;c.dec2hex2=d;c.convertUTF82Char=x;c.convertUTF162Char=w;c.convertUnicode2Char=h;c.convertCharStr2pEsc=function(a){var c="",e;e=0;for(var f="",h=0;h<a.length;h++){var g=a.charCodeAt(h);
if(0>g||65535<g)f+="Error in convertChar2CP: byte out of range "+b(g)+"!";if(0!=e)if(56320<=g&&57343>=g){f+=b(65536+(e-55296<<10)+(g-56320))+" ";e=0;continue}else f+="Error in convertChar2CP: surrogate out of range "+b(e)+"!",e=0;55296<=g&&56319>=g?e=g:f+=b(g)+" "}e=f.substring(0,f.length-1);if(0==a.length)return"";a=e.split(" ");for(e=0;e<a.length;e++)f=parseInt(a[e],16),c=32==f?c+"%20":65<=f&&90>=f?c+String.fromCharCode(f):97<=f&&122>=f?c+String.fromCharCode(f):48<=f&&57>=f?c+String.fromCharCode(f):
45==f||46==f||95==f||126==f?c+String.fromCharCode(f):127>=f?c+("%"+d(f)):2047>=f?c+("%"+d(192|f>>6&31)+"%"+d(128|f&63)):65535>=f?c+("%"+d(224|f>>12&15)+"%"+d(128|f>>6&63)+"%"+d(128|f&63)):1114111>=f?c+("%"+d(240|f>>18&7)+"%"+d(128|f>>12&63)+"%"+d(128|f>>6&63)+"%"+d(128|f&63)):c+("!Error "+b(f)+"!");return c};c.convertAllEscapes=function(a,b){a=h(a);a=e(a);a=p(a);a=l(a);a=n(a);a=q(a,!1);a=r(a,!1);a=t(a);a=u(a);return a=v(a,b)};var A="0123456789abcdef".split("");c.to_hex=function(a){for(var b="",c=
!0,d=32;0<d;){var d=d-4,e=a>>d&15;c&&0==e||(c=!1,b+=A[e])}return"0x"+(""==b?"0":b)};c.replaceHex=function(a){return k.isString(a)?a.replace(/x([0-9A-Fa-f]{2})/gmi,function(a,b){return String.fromCharCode(parseInt(b,16))}):a};var z=function(a,b){for(a=a.toString(16).toUpperCase();a.length<b;)a="0"+a;return a};c.stringToHex=function(a){for(var b="",c=0,d=a.length,e;c<d;c+=1)e=a.charCodeAt(c),b+=z(e.toString(16),2)+" ";return b};c.stringToBufferStr=function(a){for(var b=0,c=a.length,d,e=[];b<c;b+=1)d=
a.charCodeAt(b),e.push(d);return e.join(",")};c.stringToBuffer=function(a){for(var b=0,c=a.length,d,e=[];b<c;b+=1)d=a.charCodeAt(b),e.push(d);return e};c.bufferToHexString=function(a){a=-1!==a.indexOf(",")?a.split(","):[a];for(var b=[],d=0;d<a.length;d++)b.push(c.dec2hex2(a[d]));return b.join(" ")};c.bufferFromDecString=function(a){a=-1!==a.indexOf(",")?a.split(","):[a];for(var b=0;b<a.length;b++)a[b]=parseInt(a[b],10);return a};c.stringFromDecString=function(a){a=c.bufferFromDecString(a);for(var b=
"",d=0;d<a.length;d++)b+=String.fromCharCode(a[d]);return b};c.stringToHex2=function(a){for(var b="",c=0,d=a.length,e;c<d;c+=1)e=a.charCodeAt(c),b+=z(e.toString(16),2)+" ";return b};c.hexToString=function(a){a=a.split(" ");for(var b="",c=0,d=a.length,e;c<d;c+=1)e=String.fromCharCode(parseInt(a[c],16)),b+=e;return b};c.prettyHex=function(a){var b=Math.ceil(a.length/16),c=a.length%16||16,d=a.length.toString(16).length;6>d&&(d=6);for(var e="Offset";e.length<d;)e+=" ";var e="\u001b[36m"+e+"  ",f;for(f=
0;16>f;f++)e+=" "+z(f,2);e+="\u001b[0m\n";a.length&&(e+="\n");var h=0,g,k;for(f=0;f<b;f++){e+="\u001b[36m"+z(h,d)+"\u001b[0m  ";g=f===b-1?c:16;k=16-g;var l;for(l=0;l<g;l++)e+=" "+z(a[h],2),h++;for(l=0;l<k;l++)e+="   ";h-=g;e+="   ";for(l=0;l<g;l++)k=a[h],e+=31<k&&127>k||159<k?String.fromCharCode(k):".",h++;e+="\n"}return e};c.hexEncode=function(a,b){var c,d,e="";for(d=0;d<a.length;d++)c=a.charCodeAt(d).toString(16),e+=((null!==b?b:"000")+c).slice(-4);return e};c.markHex=function(a,b,d,e){b=b||"";
d=d||"";var f=""+a;a=/[^\x20-\x7E]/gim;a.exec(f);f.match(a);f.replace(a,function(a,e){e=c.hexEncode(a,"$");2==e.length&&(e=e.replace("$","$0"));e=e.toUpperCase();f=f.replace(a,b+e+d)});return f};return c});
define("xide/utils/StringUtils",["xide/utils","xide/types","dojo/json","xide/lodash"],function(c,m,g,k){function f(a,b){var c=[],e=[];null==b&&(b=function(a,b){return c[0]===b?"[Circular ~]":"[Circular ~."+e.slice(0,c.indexOf(b)).join(".")+"]"});return function(d,f){if(0<c.length){var h=c.indexOf(this);~h?c.splice(h+1):c.push(this);~h?e.splice(h,Infinity,d):e.push(d);~c.indexOf(f)&&(f=b.call(this,d,f))}else c.push(f);return null==a?f:a.call(this,d,f)}}c.stringify=function(a){return JSON.stringify(a,
f(),2)};c.round=function(a,b,c){if("number"!==typeof a||isNaN(a)||Infinity===a||-Infinity===a)return"";b="undefined"===typeof b?3:parseInt(b,10)||0;var d=Math.pow(10,b);a=(Math.round(a*d)/d).toFixed(b);c||(a=""+ +a);return a};c.humanFileSize=function(a,b){var c=b?1E3:1024;if(Math.abs(a)<c)return a+" B";b=b?"kB MB GB TB PB EB ZB YB".split(" "):"KiB MiB GiB TiB PiB EiB ZiB YiB".split(" ");var e=-1;do a/=c,++e;while(Math.abs(a)>=c&&e<b.length-1);return a.toFixed(1)+" "+b[e]};"function"!=typeof String.prototype.startsWith&&
(String.prototype.startsWith=function(a){return 0===this.indexOf(a)});"function"!=typeof String.prototype.endsWith&&(String.prototype.endsWith=function(a){return this.substring(this.length-a.length,this.length)===a});c.isNativeEvent=function(a){var b={onclick:null,ondblclick:null,onmousedown:null,onmouseup:null,onmouseover:null,onmousemove:null,onmouseout:null,onkeypress:null,onkeydown:null,onkeyup:null,onfocus:null,onblur:null,onchange:null};if(a in b)return!0;b={click:null,dblclick:null,mousedown:null,
mouseup:null,mouseover:null,mousemove:null,mouseout:null,keypress:null,keydown:null,keyup:null,focus:null,blur:null,change:null};return a in b};c.isSystemEvent=function(a){for(var b in m.EVENTS)if(m.EVENTS[b]===a)return!0;return!1};c.contains=function(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return c;return-1};c.getObjectKeyByValue=function(a,b){if(a&&b)for(var c in a)if(a.hasOwnProperty(c)&&a[c]===b)return c;return null};c.removeURLParameter=function(a,b){var c=a.split("?");if(2<=c.length){a=
encodeURIComponent(b)+"=";b=c[1].split(/[&;]/g);for(var e=b.length;0<e--;)-1!==b[e].lastIndexOf(a,0)&&b.splice(e,1);a=c[0]+"?"+b.join("&")}return a};c.replaceUrlParam=function(a,b,c){if(-1==a.indexOf(b))return a+=(0<a.indexOf("?")?"&":"?")+b+"="+c;var d=a.replace(new RegExp("("+b+"=).*?(&|$)"),"$1"+c+"$2");d==a&&(d=d+(0<d.indexOf("?")?"&":"?")+b+"="+c);return d};c.buildPath=function(a,b,d){a=c.replaceAll("/","",a);b=(""+b).replace("./","/").replace(/^\/|\/$/g,"");b=a+"://"+b;return!0===d?encodeURIComponent(b):
b};c.isImage=function(a){return null!=a.toLowerCase().match(/\.(jpeg|jpg|gif|png)$/)};c.hasFlag3=function(a,b){return 1<<b&a?!0:!1};c.hasFlag=function(a,b){return 1<<b&a?!0:!1};c.disableFlag=function(a,b){return a&~(1<<b)};c.cleanUrl=function(a){a&&(a=a.replace("//","/"),a=a.replace("./","/"),a=a.replace("http:/","http://"),a=a.replace("./","/"),a=a.replace("////","/"),a=a.replace("///","/"));return a};c.getJson=function(a,b,c){try{return k.isString(a)?g.parse(a,!1):!0===b?null:a}catch(e){!1!==c&&
console.error("error parsing json data "+a+" error = "+e)}return null};c.fromJson=function(a){if(!k.isString(a))return a;var b=null,c=!1;try{b=eval("("+a+")",{})}catch(e){c=!0}if(c){a=a.substring(a.indexOf("{"),a.lastIndexOf("}")+1);try{b=eval("("+a+")",{})}catch(e){throw Error(a);}}return b};c.replaceAll=function(a,b,c){return c?c.split(a).join(b):""};c.isValidString=function(a){return null!=a&&null!=a.length&&0<a.length&&"undefined"!=a};c.substituteString=function(a,b){return a.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,
function(a,c){return b[c]})};c.findOcurrences=function(a,b){var d=c.escapeRegExp(b.begin);b=c.escapeRegExp(b.end);return a.match(new RegExp(d+"([^"+b+"]*)"+b,"g"))};c.escapeRegExp=function(a){for(var b="[ ] ( ) { } * + . | ||".split(" "),c=0;c<b.length;c++)a=a.replace(b[c],"\\"+b[c]);return a};c.multipleReplace=function(a,b){var c=[],e;for(e in b)c[c.length]=e;return a.replace(new RegExp(c.join("\\b|\\b"),"g"),function(a){return b[a]||b["\\"+a]})};c.replace=function(a,b,d,e){if(!a)return"";if(d&&
k.isObject(d)||k.isArray(d)){if(e){b=c.findOcurrences(a,e);var f=c.replaceAll;if(b)for(var g=0,m=b.length;g<m;g++){var p=b[g],r=f(e.begin,"",p),r=f(e.end,"",r);a=f(p,d[r],a)}}else return c.multipleReplace(a,d);return a}return c.replaceAll(b,d,a)};c.capitalize=function(a){return a.substring(0,1).toUpperCase()+a.substring(1)};c.vsprintf=function(a,b){return c.sprintf.apply(this,[a].concat(b))};c.sprintf=function(){var a=arguments,b=0,c=function(a,b,c,d){c||(c=" ");b=a.length>=b?"":Array(1+b-a.length>>>
0).join(c);return d?a+b:b+a},e=function(a,b,d,e,f,h){var g=e-a.length;0<g&&(a=d||!f?c(a,e,h,d):a.slice(0,b.length)+c("",g,"0",!0)+a.slice(b.length));return a},f=function(a,b,d,f,h,g,k){a>>>=0;d=d&&a&&{2:"0b",8:"0",16:"0x"}[b]||"";a=d+c(a.toString(b),g||0,"0",!1);return e(a,d,f,h,k)};return a[b++].replace(/%%|%(\d+\$)?([-+\'#0 ]*)(\*\d+\$|\*|\d+)?(\.(\*\d+\$|\*|\d+))?([scboxXuideEfFgG])/g,function(d,h,g,k,m,t,u){var l,n;if("%%"===d)return"%";var p=!1;n="";var q=m=!1;l=" ";for(var r=g.length,z=0;g&&
z<r;z++)switch(g.charAt(z)){case " ":n=" ";break;case "+":n="+";break;case "-":p=!0;break;case "'":l=g.charAt(z+1);break;case "0":m=!0;break;case "#":q=!0}k=k?"*"===k?+a[b++]:"*"==k.charAt(0)?+a[k.slice(1,-1)]:+k:0;0>k&&(k=-k,p=!0);if(!isFinite(k))throw Error("sprintf: (minimum-)width must be finite");t=t?"*"===t?+a[b++]:"*"==t.charAt(0)?+a[t.slice(1,-1)]:+t:-1<"fFeE".indexOf(u)?6:"d"===u?0:void 0;h=h?a[h.slice(0,-1)]:a[b++];switch(u){case "s":return u=String(h),null!=t&&(u=u.slice(0,t)),e(u,"",p,
k,m,l);case "c":return u=String.fromCharCode(+h),null!=t&&(u=u.slice(0,t)),e(u,"",p,k,m,void 0);case "b":return f(h,2,q,p,k,t,m);case "o":return f(h,8,q,p,k,t,m);case "x":return f(h,16,q,p,k,t,m);case "X":return f(h,16,q,p,k,t,m).toUpperCase();case "u":return f(h,10,q,p,k,t,m);case "i":case "d":return l=+h||0,l=Math.round(l-l%1),d=0>l?"-":n,h=d+c(String(Math.abs(l)),t,"0",!1),e(h,d,p,k,m);case "e":case "E":case "f":case "F":case "g":case "G":return l=+h,d=0>l?"-":n,n=["toExponential","toFixed","toPrecision"]["efg".indexOf(u.toLowerCase())],
u=["toString","toUpperCase"]["eEfFgG".indexOf(u)%2],h=d+Math.abs(l)[n](t),e(h,d,p,k,m)[u]();default:return d}})};c.cleanString=function(a){return a?a=a.replace(/[\r]/g,"").replace(/[\b]/g,"").replace(/[\f]/g,"").replace(/[\n]/g,"").replace(/\\/g,""):null};c.normalizePath=function(a){if(!a)return null;a=c.cleanString(a);a=a.replace("./","");return a=a.replace(/([^:]\/)\/+/g,"$1")};m.PATH_PARTS={DIRNAME:1,BASENAME:2,EXTENSION:4,FILENAME:8,PATHINFO_ALL:0};c.basename=function(a,b){var c=a.charAt(a.length-
1);if("/"===c||"\\"===c)a=a.slice(0,-1);a=a.replace(/^.*[\/\\]/g,"");"string"===typeof b&&a.substr(a.length-b.length)==b&&(a=a.substr(0,a.length-b.length));return a};c.pathinfo=function(a,b){var d="",e="",f="",g=0,k={},m=0,r=0,q=m=!1,t=!1;if(!a)return!1;b||(b="PATHINFO_ALL");var u={PATHINFO_DIRNAME:1,PATHINFO_BASENAME:2,PATHINFO_EXTENSION:4,PATHINFO_FILENAME:8,PATHINFO_ALL:0};for(f in u)u.hasOwnProperty(f)&&(u.PATHINFO_ALL|=u[f]);if("number"!==typeof b){b=[].concat(b);for(r=0;r<b.length;r++)u[b[r]]&&
(g|=u[b[r]]);b=g}f=function(a){a+="";var b=a.lastIndexOf(".")+1;return b?b!==a.length?a.substr(b):"":!1};b&u.PATHINFO_DIRNAME&&(g=a.replace(/\\/g,"/").replace(/\/[^\/]*\/?$/,""),k.dirname=g===a?".":g);b&u.PATHINFO_BASENAME&&(!1===m&&(m=c.basename(a)),k.basename=m);b&u.PATHINFO_EXTENSION&&(!1===m&&(m=c.basename(a)),!1===q&&(q=f(m)),!1!==q&&(k.extension=q));b&u.PATHINFO_FILENAME&&(!1===m&&(m=c.basename(a)),!1===q&&(q=f(m)),!1===t&&(t=m.slice(0,m.length-(q?q.length+1:!1===q?0:1))),k.filename=t);m=0;
for(d in k)k.hasOwnProperty(d)&&(m++,e=d);return 1===m?k[e]:k};c.parse_url=function(a,b){var c="source scheme authority userInfo user pass host port relative path directory file query fragment".split(" "),e=this.php_js&&this.php_js.ini||{},f=e["phpjs.parse_url.mode"]&&e["phpjs.parse_url.mode"].local_value||"php",g={php:/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,
loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},g=g[f].exec(a),k={};for(a=14;a--;)g[a]&&(k[c[a]]=g[a]);if(b)return k[b.replace("PHP_URL_","").toLowerCase()];if("php"!==f){var m=e["phpjs.parse_url.queryKey"]&&e["phpjs.parse_url.queryKey"].local_value||"queryKey",g=/(?:^|&)([^&=]*)=?([^&]*)/g;k[m]={};b=k[c[12]]||"";b.replace(g,function(a,b,c){b&&(k[m][b]=
c)})}delete k.source;return k};c.getMimeTable=function(){return{}};c.getMimeTable2=function(){return{mid:"fa-file-audio-o",txt:"fa-file-text-o",sql:"fa-cube",js:"fa-cube",gif:"fa-file-picture-o",jpg:"fa-file-picture-o",html:"fa-cube",htm:"fa-cube",rar:"fa-file-zip-o",gz:"fa-file-zip-o",tgz:"fa-file-zip-o",z:"fa-file-zip-o",ra:"fa-file-movie-o",ram:"fa-file-movie-o",rm:"fa-file-movie-o",pl:"source_pl.png",zip:"fa-file-zip-o",wav:"fa-file-audio-o",php:"fa-cube",php3:"fa-cube",phtml:"fa-cube",exe:"fa-file-o",
bmp:"fa-file-picture-o",png:"fa-file-picture-o",css:"fa-cube",mp3:"fa-file-audio-o",m4a:"fa-file-audio-o",aac:"fa-file-audio-o",xls:"fa-file-excel-o",xlsx:"fa-file-excel-o",ods:"fa-file-excel-o",sxc:"fa-file-excel-o",csv:"fa-file-excel-o",tsv:"fa-file-excel-o",doc:"fa-file-word-o",docx:"fa-file-word-o",odt:"fa-file-word-o",swx:"fa-file-word-o",rtf:"fa-file-word-o",md:"fa-file-word-o",ppt:"fa-file-powerpoint-o",pps:"fa-file-powerpoint-o",odp:"fa-file-powerpoint-o",sxi:"fa-file-powerpoint-o",pdf:"fa-file-pdf-o",
mov:"fa-file-movie-o",avi:"fa-file-movie-o",mpg:"fa-file-movie-o",mpeg:"fa-file-movie-o",mp4:"fa-file-movie-o",m4v:"fa-file-movie-o",ogv:"fa-file-movie-o",webm:"fa-file-movie-o",wmv:"fa-file-movie-o",swf:"fa-file-movie-o",flv:"fa-file-movie-o",tiff:"fa-file-picture-o",tif:"fa-file-picture-o",svg:"fa-file-picture-o",psd:"fa-file-picture-o",ers:"horo.png"}};c.getIconTable=function(){return{}};c.urlDecode=function(a,b){if(!a||!a.length)return{};var c={};a=a.split("&");for(var e,f,g=0,k=a.length;g<k;g++)e=
a[g].split("="),f=decodeURIComponent(e[0]),e=decodeURIComponent(e[1]),null!=e&&"true"===e?e=!0:"false"===e&&(e=!1),!0!==b?"undefined"==typeof c[f]?c[f]=e:("string"==typeof c[f]&&(c[f]=[c[f]]),c[f].push(e)):c[f]=e;return c};c.getUrlArgs=function(a){var b={};if(a&&(-1!=a.indexOf("?")||-1!=a.indexOf("&"))){a=(a.substr(a.indexOf("?")+1)||location.search.substring(1)).split("&");for(var c=0;c<a.length;c++){var e=a[c].indexOf("="),f=a[c].substring(0,e),e=a[c].substring(e+1),e=decodeURIComponent(e);b[f]=
e}}return b};c.urlArgs=function(a){a=c.getUrlArgs(a);var b={},d;for(d in a){var e=a[d],f=c.findOcurrences(e,{begin:"|",end:"|"}),g=null;if(f&&f.length)for(var e=e.replace(f[0],""),f=f[0].substr(1,f[0].length-2).split(","),g={},k=0;k<f.length;k++){var m=f[k].split(":");g[m[0]]=m[1]}e&&e.length&&(b[d]={value:e,options:g})}return b};c.getIcon=function(a){if(!a)return"txt2.png";if(a=c.getFileExtension(a)){var b=c.getMimeTable();if(null!=b[a])return b[a]}return"txt2.png"};c.getIconClass=function(a){if(!a)return"fa-file-o";
a=c.getFileExtension(a);if(m.customMimeIcons[a])return m.customMimeIcons[a];if(a){var b=c.getMimeTable2();if(null!=b[a])return b[a]}return"fa-file-o"};c.getFileExtension=function(a){if(!a||""==a)return"";a=c.getBaseName(a).split(".");return 1<a.length?a[a.length-1].toLowerCase():""};c.createUUID=function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()};c.getBaseName=function(a){if(null==a)return null;var b="/";
-1!==a.indexOf("\\")&&(b="\\");return a.substr(a.lastIndexOf(b)+1,a.length)};c.basename=function(a,b){var c=a.charAt(a.length-1);if("/"===c||"\\"===c)a=a.slice(0,-1);a=a.replace(/^.*[\/\\]/g,"");"string"===typeof b&&a.substr(a.length-b.length)===b&&(a=a.substr(0,a.length-b.length));return a};c.pathinfo=function(a,b){var d=c.basename,e="",f="",g="",k=0,m={},r=0,q=0,t=r=!1,u=!1;if(!a)return!1;b||(b="PATHINFO_ALL");var v={PATHINFO_DIRNAME:1,PATHINFO_BASENAME:2,PATHINFO_EXTENSION:4,PATHINFO_FILENAME:8,
PATHINFO_ALL:0};for(g in v)v.hasOwnProperty(g)&&(v.PATHINFO_ALL|=v[g]);if("number"!==typeof b){b=[].concat(b);for(q=0;q<b.length;q++)v[b[q]]&&(k|=v[b[q]]);b=k}g=function(a){a+="";var b=a.lastIndexOf(".")+1;return b?b!==a.length?a.substr(b):"":!1};b&v.PATHINFO_DIRNAME&&(k=a.replace(/\\/g,"/").replace(/\/[^\/]*\/?$/,""),m.dirname=k===a?".":k);b&v.PATHINFO_BASENAME&&(!1===r&&(r=d(a)),m.basename=r);b&v.PATHINFO_EXTENSION&&(!1===r&&(r=d(a)),!1===t&&(t=g(r)),!1!==t&&(m.extension=t));b&v.PATHINFO_FILENAME&&
(!1===r&&(r=d(a)),!1===t&&(t=g(r)),!1===u&&(u=r.slice(0,r.length-(t?t.length+1:!1===t?0:1))),m.filename=u);r=0;for(e in m)m.hasOwnProperty(e)&&(r++,f=e);return 1===r?m[f]:m};c.strip_tags=function(a,b){b=(((b||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return a.replace(/\x3c!--[\s\S]*?--\x3e|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,function(a,c){return-1<b.indexOf("<"+c.toLowerCase()+">")?a:""})};return c});
define("xaction/types",["xide/types","dojo/_base/lang"],function(c,m){m.mixin(c.EVENTS,{ON_ACTION_CHANGE_CONTEXT:"onChangeActionContext",ON_ACTION_CONTEXT_CHANGED:"onActionContextChanged",REGISTER_ACTION:"registerAction",SET_ITEM_ACTIONS:"onSetItemsActions",ON_CLIPBOARD_COPY:"onClipboardCopy",ON_CLIPBOARD_PASTE:"onClipboardPaste",ON_CLIPBOARD_CUT:"onClipboardCut",ON_RENDER_ACTIONS:"onRenderActions",ON_DID_ACTION:"onDidAction",ON_AFTER_ACTION:"onAfterAction"});c.ACTION={LAYOUT:"View/Layout",COLUMNS:"View/Columns",
SELECTION:"File/Select",CLIPBOARD:"Edit/Clipboard",UNDO:"Edit/Undo",REDO:"Edit/Redo",CLIPBOARD_COPY:"Edit/Clipboard/Copy",CLIPBOARD_PASTE:"Edit/Clipboard/Paste",CLIPBOARD_CUT:"Edit/Clipboard/Cut",COPY:"File/Copy",MOVE:"File/Move",RENAME:"File/Rename",DELETE:"File/Delete",OPEN:"File/Open",EDIT:"File/Edit",SAVE:"File/Save",SEARCH:"File/Search",TOOLBAR:"View/Show/Toolbar",STATUSBAR:"View/Show/Statusbar",BREADCRUMB:"View/Show/Breadcrumb",HEADER:"View/Show/Header",DOWNLOAD:"File/Download",DOWNLOAD_TO:"File/downloadTo",
INFO:"File/Info",COMPRESS:"File/Compress",RELOAD:"File/Reload",UPLOAD:"File/Upload",PREVIEW:"File/Preview",OPEN_IN:"File/Open In",INSERT_IMAGE:"insertImage",COPY_PASTE:"copypaste",DND:"dnd",OPTIONS:"options",NEW_FILE:"File/New/New File",NEW_DIRECTORY:"File/New/New Folder",GET_CONTENT:"get",SET_CONTENT:"set",FIND:"File/Find",CUSTOM:"custom",PERMA_LINK:"permaLink",ADD_MOUNT:"ADD_MOUNT",REMOVE_MOUNT:"REMOVE_MOUNT",EDIT_MOUNT:"EDIT_MOUNT",PERSPECTIVE:"PERSPECTIVE",RUN:"File/Run",GO_UP:"Navigation/Go Up",
STOP:"File/Stop",CLOSE:"View/Close",FULLSCREEN:"View/Fullscreen",OPEN_IN_TAB:"File/OpenInNewTab",SOURCE:"Navigation/Source",RIBBON:"View/Show/Ribbon",MAIN_MENU:"View/Show/MainMenu",NAVIGATION:"View/Show/Navigation",BASH_CONSOLE:"File/Console/Bash",JS_CONSOLE:"File/Console/JS",PHP_CONSOLE:"File/Console/PHP",CONSOLE:"File/Console/PHP",SIZE_STATS:"View/Show/SizeStats",WELCOME:"Window/Welcome",CONTEXT_MENU:"File/ContextMenu"};c.ACTION_TYPE={MULTI_TOGGLE:"multiToggle",SINGLE_TOGGLE:"singleToggle"};c.ACTION_ICON=
{CLIPBOARD_COPY:"fa-copy",CLIPBOARD_PASTE:"fa-paste",UPLOAD:"fa-upload",RENAME:"el-icon-edit",DELETE:"text-danger fa-remove",RELOAD:"fa-refresh",EDIT:"fa-pencil",SAVE:"fa-floppy-o",SEARCH:"fa-search",NEW_DIRECTORY:"fa-magic",NEW_FILE:"fa-magic",RUN:"text-success el-icon-play",COMPRESS:"fa-file-archive-o",EXTRACT:"fa-folder-open",DOWNLOAD:"fa-download",GO_UP:"fa-level-up",TOOLBAR:"fa-bars",STATUSBAR:"fa-terminal",PREVIEW:"fa-eye",MAXIMIZE:"fa-arrows-alt",UNDO:"fa-undo",REDO:"fa-repeat"};return c});
define("xide/utils",["dcl/dcl"],function(c){return c(null,{declaredClass:"xide.utils"})});
define("xide/types/Types",["dojo/_base/lang","xide/types","dojo/_base/json","dojo/_base/kernel","xide/utils"],function(c,m,g,k,f){null==m.customTypes&&(m.customTypes={});null==m.customEnumerations&&(m.customEnumerations={});null==m.widgetMappings&&(m.widgetMappings={});null==m.customMimeIcons&&(m.customMimeIcons={});null==m.CICallbacks&&(m.CICallbacks={});m.resolveType=function(a){return m.customTypes[a]?m.customTypes[a]:null};m.registerType=function(a,b){m.customTypes[a]=b};m.registerWidgetMapping=
function(a,b){m.widgetMappings[a]=b};m.registerEnumeration=function(a,b){m.customEnumerations[a]=b};m.resolveEnumeration=function(a){return m.customEnumerations[a]?m.customEnumerations[a]:null};m.resolveWidgetMapping=function(a){return m.widgetMappings[a]?m.widgetMappings[a]:null};m.registerCICallbacks=function(a,b){m.CICallbacks[a]||(m.CICallbacks[a]={});f.mixin(m.CICallbacks[a],b);return null};m.getCICallbacks=function(a){return m.CICallbacks[a]?m.CICallbacks[a]:null};m.GRID_FEATURE={KEYBOARD_NAVIGATION:"KEYBOARD_NAVIGATION",
KEYBOARD_SELECT:"KEYBOARD_SELECT",SELECTION:"SELECTION",ACTIONS:"ACTIONS",CONTEXT_MENU:"CONTEXT_MENU"};m.VIEW_FEATURE={KEYBOARD_NAVIGATION:"KEYBOARD_NAVIGATION",KEYBOARD_SELECT:"KEYBOARD_SELECT",SELECTION:"SELECTION",ACTIONS:"ACTIONS",CONTEXT_MENU:"CONTEXT_MENU"};m.KEYBOARD_PROFILE={DEFAULT:{prevent_default:!0,prevent_repeat:!1},PASS_THROUGH:{prevent_default:!1,prevent_repeat:!1},SEQUENCE:{prevent_default:!0,is_sequence:!0,prevent_repeat:!0}};m.CI_STATE={NONE:0,PENDING:1,PROCESSING:2,FAILED:4,SUCCESSED:8,
PROCESSED:16,DEQUEUED:32,SOLVED:64,END:128};m.CIFLAG={NONE:0,BASE_64:1,USE_FUNCTION:2,REPLACE_VARIABLES:4,REPLACE_VARIABLES_EVALUATED:8,ESCAPE:16,REPLACE_BLOCK_CALLS:32,REMOVE_DELIMTTERS:64,ESCAPE_SPECIAL_CHARS:128,USE_REGEX:256,USE_FILTREX:512,CASCADE:1024,EXPRESSION:2048,DONT_PARSE:4096,TO_HEX:8192,REPLACE_HEX:16384,WAIT:32768,DONT_ESCAPE:65536,END:131072};m.CI_CORDER={};m.ECIType={BOOL:0,BOX:1,COLOUR:2,ENUMERATION:3,FILE:4,FLAGS:5,FLOAT:6,INTEGER:7,MATRIX:8,OBJECT:9,REFERENCE:10,QUATERNION:11,
RECTANGLE:12,STRING:13,VECTOR:14,VECTOR2D:15,VECTOR4D:16,ICON:17,IMAGE:18,BANNER:19,LOGO:20,STRUCTURE:21,BANNER2:22,ICON_SET:23,SCRIPT:24,EXPRESSION:25,RICHTEXT:26,ARGUMENT:27,JSON_DATA:28,EXPRESSION_EDITOR:29,WIDGET_REFERENCE:30,DOM_PROPERTIES:31,BLOCK_REFERENCE:32,BLOCK_SETTINGS:33,FILE_EDITOR:34,END:35,UNKNOWN:-1};m.ITEM_TYPE={FILE:"BTFILE",WIDGET:"WIDGET",BLOCK:"BLOCK",TEXT:"TEXT",EXPRESSION:"EXPRESSION"};m.EXPRESSION_PARSER||(m.EXPRESSION_PARSER={});m.COMPONENT_NAMES={XIDEVE:"xideve",XNODE:"xnode",
XBLOX:"xblox",XFILE:"xfile",XACE:"xace",XEXPRESSION:"xexpression",XCONSOLE:"xconsole",XTRACK:"xtrack"};m.WIDGET_REFERENCE_MODE={BY_ID:"byid",BY_CLASS:"byclass",BY_CSS:"bycss",BY_EXPRESSION:"expression"};m.VIEW_SPLIT_MODE={DESIGN:1,SOURCE:2,SPLIT_VERTICAL:6,SPLIT_HORIZONTAL:7};m.RESOURCE_VARIABLES={ACE:"ACE",APP_URL:"APP_URL",SITE_URL:"SITE_URL"};m.EVENTS={ERROR:"onError",STATUS:"onStatus",ON_CREATED_MANAGER:"onCreatedManager",ON_ITEM_SELECTED:"onItemSelected",ON_ITEM_REMOVED:"onItemRemoved",ON_ITEM_CLOSED:"onItemClosed",
ON_ITEM_ADDED:"onItemAdded",ON_ITEM_MODIFIED:"onItemModified",ON_NODE_SERVICE_STORE_READY:"onNodeServiceStoreReady",ON_FILE_STORE_READY:"onFileStoreReady",ON_CONTEXT_MENU_OPEN:"onContextMenuOpen",ON_CI_UPDATE:"onCIUpdate",ON_WIDGET_READY:"onWidgetReady",ON_CREATED_WIDGET:"onWidgetCreated",RESIZE:"onResize",ON_MODULE_RELOADED:"onModuleReloaded",ON_MODULE_UPDATED:"onModuleUpdated",ON_DID_OPEN_ITEM:"onDidOpenItem",ON_DID_RENDER_COLLECTION:"onDidRenderCollection",ON_PLUGIN_LOADED:"onPluginLoaded",ON_PLUGIN_READY:"onPluginReady",
ALL_PLUGINS_READY:"onAllPluginsReady",ON_CREATE_EDITOR_BEGIN:"onCreateEditorBegin",ON_CREATE_EDITOR_END:"onCreateEditorEnd",REGISTER_EDITOR:"registerEditor",ON_EXPRESSION_EDITOR_ADD_FUNCTIONS:"onExpressionEditorAddFunctions",ON_ACE_READY:"onACEReady",ON_UNSAVED_CONTENT:"onUnSavedContent",ON_FILE_CHANGED:"fileChanged",ON_FILE_DELETED:"fileDeleted",IMAGE_LOADED:"imageLoaded",IMAGE_ERROR:"imageError",UPLOAD_BEGIN:"uploadBegin",UPLOAD_PROGRESS:"uploadProgress",UPLOAD_FINISH:"uploadFinish",UPLOAD_FAILED:"uploadFailed",
ON_FILE_CONTENT_CHANGED:"onFileContentChanged",ON_COPY_BEGIN:"onCopyBegin",ON_COPY_END:"onCopyEnd",ON_DELETE_BEGIN:"onDeleteBegin",ON_DELETE_END:"onDeleteEnd",ON_MOVE_BEGIN:"onMoveBegin",ON_MOVE_END:"onMoveEnd",ON_CHANGED_CONTENT:"onChangedContent",ON_COMPRESS_BEGIN:"onCompressBegin",ON_COMPRESS_END:"onCompressEnd",ON_COMPONENT_READY:"onComponentReady",ON_ALL_COMPONENTS_LOADED:"onAllComponentsLoaded",ON_APP_READY:"onAppReady",ON_CREATE_STORE:"onCreateStore",ON_STORE_CREATED:"onStoreCreated",ON_STORE_CHANGED:"onStoreChanged",
ON_STATUS_MESSAGE:"onStatusMessage",SAVE_LAYOUT:"layoutSave",RESTORE_LAYOUT:"layoutRestore",ON_SHOW_PANEL:"onShowPanel",ON_PANEL_CLOSED:"onPanelClosed",ON_PANEL_CREATED:"onPanelCreated",ON_MAIN_VIEW_READY:"onMainViewReady",ON_MAIN_MENU_READY:"onMainMenuReady",ON_MAIN_MENU_OPEN:"onMainMenuOpen",ON_VIEW_REMOVED:"onViewRemoved",ON_VIEW_SHOW:"onViewShow",ON_VIEW_HIDE:"onViewHide",ON_VIEW_ADDED:"onViewAdded",ON_OPEN_VIEW:"onOpenView",ON_VIEW_MAXIMIZE_START:"onViewMaximizeStart",ON_VIEW_MAXIMIZE_END:"onViewMaximizeEnd",
ON_CONTAINER_ADDED:"onContainerAdded",ON_CONTAINER_REMOVED:"onContainerRemoved",ON_REMOVE_CONTAINER:"onRemoveContainer",ON_CONTAINER_REPLACED:"onContainerReplaced",ON_CONTAINER_SPLIT:"onContainerSplit",ON_RENDER_WELCOME_GRID_GROUP:"onRenderWelcomeGridGroup",ON_DND_SOURCE_OVER:"/dnd/source/over",ON_DND_START:"/dnd/start",ON_DND_DROP_BEFORE:"/dnd/drop/before",ON_DND_DROP:"/dnd/drop",ON_DND_CANCEL:"/dnd/cancel"};m.DIALOG_SIZE={SIZE_NORMAL:"size-normal",SIZE_SMALL:"size-small",SIZE_WIDE:"size-wide",SIZE_LARGE:"size-large"};
m.DIALOG_TYPE={DEFAULT:"type-default",INFO:"type-info",PRIMARY:"type-primary",SUCCESS:"type-success",WARNING:"type-warning",DANGER:"type-danger"};c.mixin(m,{LAYOUT_RIGHT_CENTER_BOTTOM:"LAYOUT_RIGHT_CENTER_BOTTOM",LAYOUT_CENTER_BOTTOM:"LAYOUT_CENTER_BOTTOM",LAYOUT_CENTER_RIGHT:"LAYOUT_CENTER_RIGHT",LAYOUT_LEFT_CENTER_RIGHT:"LAYOUT_LEFT_CENTER_RIGHT",LAYOUT_LEFT_CENTER_RIGHT_BOTTOM:"LAYOUT_LEFT_CENTER_RIGHT_BOTTOM"});k.fromJson=function(a,b){var c=null,e=!1;b=!0;try{c=eval("("+a+")")}catch(h){e=!0}if(e){e=
a.substring(a.indexOf("{"),a.lastIndexOf("}")+1);try{e&&(c=eval("("+e+")"))}catch(h){!1!==b&&console.error("error in json parsing! "+a);if(-1!==a.indexOf("error"))return{jsonrpc:"2.0",result:{error:{code:1,message:a,data:null}},id:0};throw Error(a);}}return c};return m});define("xide/types",["dcl/dcl"],function(c){c=new c(null,{declaredClass:"xide/types"});c.test=22;return c});
define("dstore/Filter",["dojo/_base/declare"],function(c){function m(c){return function(){var f=this.constructor,a=new f;a.type=c;a.args=Array.prototype.slice.call(arguments);return this.type?m("and").call(f.prototype,this,a):a}}function g(c){return function(){for(var f=this.constructor,a=[],b=0;b<arguments.length;b++){var d=arguments[b];a.push(d instanceof f?d:new f(d))}f=new f;f.type=c;f.args=a;this.type===c?f.args=this.args.concat(a):this.type?a.unshift(this):1===a.length&&(f.type=a[0].type,f.args=
a[0].args.slice());return f}}c=c(null,{constructor:function(c){var f=typeof c;switch(f){case "object":var f=this,a;for(a in c)var b=c[a],f=b instanceof this.constructor?f[b.type](a,b.args[0]):b&&b.test?f.match(a,b):f.eq(a,b);this.type=f.type;this.args=f.args;break;case "function":case "string":this.type=f,this.args=[c]}},and:g("and"),or:g("or"),eq:m("eq"),ne:m("ne"),lt:m("lt"),lte:m("lte"),gt:m("gt"),gte:m("gte"),contains:m("contains"),"in":m("in"),match:m("match")});c.filterCreator=m;c.logicalOperatorCreator=
g;return c});define("dstore/mainr","dstore/Memory dstore/Promised dstore/QueryMethod dstore/QueryResults dstore/SimpleQuery dstore/Store dstore/Tree dstore/Filter dstore/Trackable".split(" "),function(){});
(function(c){"undefined"!=typeof define?define("dcl/mini",[],c):"undefined"!=typeof module?module.exports=c():dcl=c()})(function(){function c(a,e){var d=[0],f,m,p,r,q,t,u,v,x=0,w;if(a)if(a instanceof Array){q={};u=a.slice(0).reverse();for(v=u.length-1;0<=v;--v)if(m=u[v],m._uniqueId=m._uniqueId||k++,f=m._meta){t=f.bases;for(x=t.length-1;0<x;--x)w=t[x]._uniqueId,q[w]=(q[w]||0)+1;u[v]=t.slice(0)}else u[v]=[m];f={};a:for(;u.length;){for(v=0;v<u.length;++v)if(t=u[v],m=t[0],w=m._uniqueId,!q[w]){f[w]||(d.push(m),
f[w]=1);t.shift();t.length?--q[t[0]._uniqueId]:u.splice(v,1);continue a}c._error("cycle",e,u)}a=a[0];x=d.length-((r=a._meta)&&a===d[d.length-(x=r.bases.length)]?x:1)-1}else a._uniqueId=a._uniqueId||k++,d=d.concat((r=a._meta)?r.bases:a);f=a?c.delegate(a.prototype):{};for(t=a&&(r=a._meta)?c.delegate(r.weaver):{constructor:2};0<x;--x)if(m=d[x],r=m._meta,c.mix(f,r&&r.ownProps||m.prototype),r)for(w in u=r.weaver)t[w]=(+t[w]||0)|u[w];for(w in e)g(r=e[w])?t[w]=+t[w]||0:f[w]=r;r={bases:d,ownProps:e,weaver:t,
chains:{}};d[0]={_meta:r,prototype:f};a=f;m=r.weaver;q=r.bases;t=r.chains;for(p in m)a[p]=c._stub(m[p],q,p,t);p=f.constructor;p._meta=r;p.prototype=f;d[0]=p;d=c._postprocess(p);e.declaredClass&&!b[e.declaredClass]&&(b[e.declaredClass]=d);return d}function m(a){this.around=a}function g(a){return a&&a.spr instanceof m}var k=0,f={},a,b={};(a=function(a,b){for(var c in b)a[c]=b[c]})(c,{mix:a,delegate:function(a){return Object.create(a)},allKeys:function(a){var b=[],c;for(c in a)b.push(c);return b},Super:m,
superCall:function(a){return c._makeSuper(a)},_makeSuper:function(a,b){var c=function(){};c.spr=new (b||m)(a);return c},_postprocess:function(a){return a},_error:function(a){throw Error("dcl: "+a);},_instantiate:function(a,b,c){b=a.spr.around(b);b.ctr=a.ctr;return b},_extractChain:function(a,b,h){for(var d=a.length-1,e=[],k,m,q="around"==h;k=a[d];--d)if((m=k._meta)?(m=m.ownProps).hasOwnProperty(b)&&(g(m=m[b])?q?m.spr.around:m=m.spr[h]:q):q&&(m="constructor"==b?k:k.prototype[b])&&m!==f[b])"function"==
typeof m?(m.ctr=k,e.push(m)):c._error("wrong super",k,b);return e},_stubChain:function(a){var b=a.length,c;return b?1==b?(c=a[0],function(){c.apply(this,arguments)}):function(){for(var c=0;c<b;++c)a[c].apply(this,arguments)}:0},_stubSuper:function(a,b){for(var d=0,e,k=f[b];e=a[d];++d)k=g(e)?a[d]=c._instantiate(e,k,b):e;return"constructor"!=b?k:function(){k.apply(this,arguments)}},_stubChainSuper:function(a,b,f){for(var d=0,e,h,k=0;e=a[d];++d)g(e)&&(h=d-k,a[d]=c._instantiate(e,h?1==h?a[k]:b(a.slice(k,
d)):0,f),k=d);return(h=d-k)?1==h&&"constructor"!=f?a[k]:b(k?a.slice(k):a):0},_stub:function(a,b,f,g){b=g[f]=c._extractChain(b,f,"around");return(a?c._stubChainSuper(b,c._stubChain,f):c._stubSuper(b,f))||function(){}}});c.getObject=function(a){return b[a]};c.setObject=function(a,c){return b[a]=c};return c});
(function(c){"undefined"!=typeof define?define("dcl/advise",[],c):"undefined"!=typeof module?module.exports=c():advise=c()})(function(){function c(c,a){this.next_before=this.prev_before=this.next_after=this.prev_after=this.next_around=this.prev_around=this;this.instance=c;this.name=a}function m(c){var a=function(){var a,d,e=arguments,f;for(a=c.prev_before;a!==c;a=a.prev_before)a.before.apply(this,e);try{c.prev_around!==c&&(d=c.prev_around.around.apply(this,e))}catch(l){d=l,f=!0}for(a=c.next_after;a!==
c;a=a.next_after)a.after.call(this,e,d);if(f)throw d;return d};a.adviceNode=c;return a}function g(f,a,b){var d=f[a],e;d&&d.adviceNode&&d.adviceNode instanceof c?e=d.adviceNode:(e=new c(f,a),d&&d.advices?(d=d.advices,e.add(d.before,d.after,d.around)):e.add(0,0,d),f[a]=m(e));"function"==typeof b&&(b=b(a,f));return e.add(b.before,b.after,0,b.around)}var k=c.prototype={add:function(f,a,b,d){var e=new c(this.instance,this.name);e.parent=this;e.before=f;this._add("before",e);e.after=a;this._add("after",
e);e.around=b;this._add("around",e,d);if(e.original=d)e.around=g._instantiate(d,e.prev_around.around,this);return e},_add:function(c,a,b){if(a[c]||b)b="next_"+c,c="prev_"+c,(a[c]=this[c])[b]=(a[b]=this)[c]=a},remove:function(c){this._remove("before",c);this._remove("after",c);this._remove("around",c)},_remove:function(c,a){var b="next_"+c;c="prev_"+c;a[b][c]=a[c];a[c][b]=a[b]},destroy:function(){var c=this.prev_around.around,a=this.next_around,b=this.parent;this.remove(this);if(a!==this)for(;a!==
b;c=a.around,a=a.next_around)a.original&&(a.around=g._instantiate(a.original,c,this));this.instance=0}};k.unadvise=k.destroy;g.before=function(c,a,b){return g(c,a,{before:b})};g.after=function(c,a,b){return g(c,a,{after:b})};g.around=function(c,a,b){return g(c,a,{around:b})};g.Node=c;g._instantiate=function(c,a,b){return c(a)};return g});
(function(c){"undefined"!=typeof define?define("dcl/dcl",["./mini"],c):"undefined"!=typeof module?module.exports=c(require("./mini")):dcl=c(dcl)})(function(c){function m(){}function g(a,b,c){var d=a||m,f=b||m,g=c||m,k=function(){var a,b;d.apply(this,arguments);try{a=g.apply(this,arguments)}catch(q){a=q,b=!0}f.call(this,arguments,a);if(b)throw a;return a};k.advices={before:a,after:b,around:c};return k}function k(a){return function(b,d){var e=b._meta,f;e&&((f=+e.weaver[d]||0)&&f!=a&&c._error("set chaining",
d,b,a,f),e.weaver[d]=a)}}var f=c(c.Super,{constructor:function(){this.before=this.around.before;this.after=this.around.after;this.around=this.around.around}});c.mix(c,{Advice:f,advise:function(a){return c._makeSuper(a,f)},before:function(a){return c.advise({before:a})},after:function(a){return c.advise({after:a})},around:c.superCall,chainBefore:k(1),chainAfter:k(2),isInstanceOf:function(a,b){if(a instanceof b)return!0;a=a.constructor._meta;var c;if(a)for(a=a.bases,c=a.length-1;0<=c;--c)if(a[c]===
b)return!0;return!1},_stub:function(a,b,d,e){e=e[d]=c._extractChain(b,d,"around");var f=c._extractChain(b,d,"before").reverse();b=c._extractChain(b,d,"after");e=a?c._stubChainSuper(e,1==a?function(a){return c._stubChain(a.reverse())}:c._stubChain,d):c._stubSuper(e,d);return f.length||b.length?g(c._stubChain(f),c._stubChain(b),e):e||function(){}}});return c});define("xdojo/has",["requirejs-dplugins/has"],function(c){return c});define("xdojo/declare",["dojo/_base/declare"],function(c){return c});
define("dojo/node",["dojo/_base/kernel","dojo/has","require","dojo/noob"],function(c,m,g,k){var f=c.global.require&&c.global.require.nodeRequire,a=(c="undefined"!==typeof window?window:null)&&c.process&&"renderer"===c.process.type,b=f?f("module"):null;f||(a&&c&&c.nodeRequire?(f=c.nodeRequire,b=f("module")):m("debug")&&console.warn("Cannot get Electron/Node.js require, will noob to empty module dojo/noob"));return{load:function(a,c,h){b&&b._findPath&&b._nodeModulePaths&&(c=b._findPath(a,b._nodeModulePaths(c.toUrl("."))),
!1!==c&&(a=c));if(a&&"undefined"!==typeof global&&global.moduleCache&&global.moduleCache[a])return global.moduleCache[a];if(!b)return h(k);c=define;var d;define=void 0;try{d=f(a)}finally{define=c}h(d)},normalize:function(a,c){"."===a.charAt(0)&&(a=g.toUrl(c("./"+a)));b||(a=c("dojo/noob"));return a}}});define("dojo/noob",[],function(){});
define("dojo/has",["require","module"],function(c,m){var g=c.has||function(){};if(!g("dojo-has-api")){c="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document;var k=this,f=c&&document,a=f&&f.createElement("DiV"),b=m.config&&m.config()||{},g=function(c){return"function"==typeof b[c]?b[c]=b[c](k,f,a):b[c]};g.cache=b;g.add=function(a,c,f,k){("undefined"==typeof b[a]||k)&&(b[a]=c);return f&&g(a)};g.add("host-browser",
c);g.add("dom",c);g.add("dojo-dom-ready-api",1);g.add("dojo-sniff",1)}g("host-browser")&&(g.add("dom-addeventlistener",!!document.addEventListener),g.add("touch","ontouchstart"in document||0<window.navigator.msMaxTouchPoints),g.add("device-width",screen.availWidth||innerWidth),m=document.createElement("form"),g.add("dom-attributes-explicit",0==m.attributes.length),g.add("dom-attributes-specified-flag",0<m.attributes.length&&40>m.attributes.length));g.clearElement=function(a){a.innerHTML="";return a};
g.normalize=function(a,b){var c=a.match(/[\?:]|[^:\?]*/g),d=0,e=function(a){var b=c[d++];if(":"==b)return 0;if("?"==c[d++]){if(!a&&g(b))return e();e(!0);return e(a)}return b||0};return(a=e())&&b(a)};g.load=function(a,b,c){a?b([a],c):c()};return g});
define("dojo/Deferred",["./has","./_base/lang","./errors/CancelError","./promise/Promise","./has!config-deferredInstrumentation?./promise/instrumentation"],function(c,m,g,k,f){var a=Object.freeze||function(){},b=function(a,b,e,f,h){c("config-deferredInstrumentation")&&2===b&&l.instrumentRejected&&0===a.length&&l.instrumentRejected(e,!1,f,h);for(h=0;h<a.length;h++)d(a[h],b,e,f)},d=function(a,b,d,f){var g=a[b],k=a.deferred;if(g)try{var m=g(d);if(0===b)"undefined"!==typeof m&&h(k,b,m);else{if(m&&"function"===
typeof m.then){a.cancel=m.cancel;m.then(e(k,1),e(k,2),e(k,0));return}h(k,1,m)}}catch(x){"undefined"!==typeof logError?logError(x):console.error("error! ",x),h(k,2,x)}else h(k,b,d);c("config-deferredInstrumentation")&&2===b&&l.instrumentRejected&&l.instrumentRejected(d,!!g,f,k.promise)},e=function(a,b){return function(c){h(a,b,c)}},h=function(a,b,c){if(!a.isCanceled())switch(b){case 0:a.progress(c);break;case 1:a.resolve(c);break;case 2:a.reject(c)}},l=function(e){var f=this.promise=new k,h=this,m,
n,u,v=!1,x=[];c("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(h,l),Error.captureStackTrace(f,l));this.isResolved=f.isResolved=function(){return 1===m};this.isRejected=f.isRejected=function(){return 2===m};this.isFulfilled=f.isFulfilled=function(){return!!m};this.isCanceled=f.isCanceled=function(){return v};this.progress=function(a,c){if(m){if(!0===c)throw Error("This deferred has already been fulfilled.");return f}b(x,0,a,null,h);return f};this.resolve=function(a,
c){if(m){if(!0===c)throw Error("This deferred has already been fulfilled.");return f}b(x,m=1,n=a,null,h);x=null;return f};var w=this.reject=function(a,d){if(m){if(!0===d)throw Error("This deferred has already been fulfilled.");return f}c("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(u={},w);b(x,m=2,n=a,u,h);x=null;return f};this.then=f.then=function(a,b,c){var e=[c,a,b];e.cancel=f.cancel;e.deferred=new l(function(a){return e.cancel&&e.cancel(a)});m&&!x?d(e,m,
n,u):x.push(e);return e.deferred.promise};this.cancel=f.cancel=function(a,b){if(!m){e&&(b=e(a),a="undefined"===typeof b?a:b);v=!0;if(!m)return"undefined"===typeof a&&(a=new g),w(a),a;if(2===m&&n===a)return a}else if(!0===b)throw Error("This deferred has already been fulfilled.");};a(f)};l.prototype.toString=function(){return"[object Deferred]"};f&&f(l);return l});
define("dojo/_base/declare",["./kernel","../has","./lang"],function(c,m,g){function k(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function f(a,b,c){var d,e,f,h,g,l,m,n=this._inherited=this._inherited||{};"string"==typeof a&&(d=a,a=b,b=c);c=0;h=a.callee;(d=d||h.nom)||k("can't deduce a name to call inherited()",this.declaredClass);g=this.constructor._meta;f=g.bases;m=n.p;if("constructor"!=d){if(n.c!==h&&(m=0,l=f[0],g=l._meta,g.hidden[d]!==h)){(e=g.chains)&&"string"==typeof e[d]&&k("calling chained method with inherited: "+
d,this.declaredClass);do if(g=l._meta,e=l.prototype,g&&(e[d]===h&&e.hasOwnProperty(d)||g.hidden[d]===h))break;while(l=f[++m]);m=l?m:-1}if(l=f[++m])if(e=l.prototype,l._meta&&e.hasOwnProperty(d))c=e[d];else{h=w[d];do if(e=l.prototype,(c=e[d])&&(l._meta?e.hasOwnProperty(d):c!==h))break;while(l=f[++m])}c=l&&c||w[d]}else{if(n.c!==h&&(m=0,(g=f[0]._meta)&&g.ctor!==h)){for((e=g.chains)&&"manual"===e.constructor||k("calling chained constructor with inherited",this.declaredClass);(l=f[++m])&&(!(g=l._meta)||
g.ctor!==h););m=l?m:-1}for(;(l=f[++m])&&!(c=(g=l._meta)?g.ctor:l););c=l&&c}n.c=c;n.p=m;if(c)return!0===b?c:c.apply(this,b||a)}function a(a,b){return"string"==typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function b(a,b,c){var d=this.getInherited(a,b);if(d)return d.apply(this,c||b||a)}function d(a){for(var b=this.constructor._meta.bases,c=0,d=b.length;c<d;++c)if(b[c]===a)return!0;return this instanceof a}function e(a,b){for(var c in b)"constructor"!=c&&b.hasOwnProperty(c)&&(a[c]=b[c]);if(m("bug-for-in-skips-shadowed"))for(var d=
g._extraNames,e=d.length;e;)c=d[--e],"constructor"!=c&&b.hasOwnProperty(c)&&(a[c]=b[c])}function h(a){v.safeMixin(this.prototype,a);return this}function l(a,b){return v([this].concat(a),b||{})}function n(a,b){return function(){var c=arguments,d=c,e=c[0],f,h;h=a.length;var g;if(!(this instanceof c.callee))return u(c);if(b&&(e&&e.preamble||this.preamble))for(g=Array(a.length),g[0]=c,f=0;;){(e=c[0])&&(e=e.preamble)&&(c=e.apply(this,c)||c);e=a[f].prototype;(e=e.hasOwnProperty("preamble")&&e.preamble)&&
(c=e.apply(this,c)||c);if(++f==h)break;g[f]=c}for(f=h-1;0<=f;--f)e=a[f],(e=(h=e._meta)?h.ctor:e)&&e.apply(this,g?g[f]:c);(e=this.postscript)&&e.apply(this,d)}}function p(a,b){return function(){var c=arguments,d=c,e=c[0];if(!(this instanceof c.callee))return u(c);b&&(e&&(e=e.preamble)&&(d=e.apply(this,d)||d),(e=this.preamble)&&e.apply(this,d));a&&a.apply(this,c);(e=this.postscript)&&e.apply(this,c)}}function r(a){return function(){var b=arguments,c=0,d,e;if(!(this instanceof b.callee))return u(b);
for(;d=a[c];++c)if(d=(e=d._meta)?e.ctor:d){d.apply(this,b);break}(d=this.postscript)&&d.apply(this,b)}}function q(a,b,c){return function(){var d,e,f=0,h=1;c&&(f=b.length-1,h=-1);for(;d=b[f];f+=h)e=d._meta,(d=(e?e.hidden:d.prototype)[a])&&d.apply(this,arguments)}}function t(a){A.prototype=a.prototype;a=new A;A.prototype=null;return a}function u(a){var b=a.callee,c=t(b);b.apply(c,a);return c}function v(b,c,m){"string"!=typeof b&&(m=c,c=b,b="");m=m||{};var u,A,C,D,F,B,J,O=1,P=c;if("[object Array]"==
y.call(c)){O=b;A=[];C=[{cls:0,refs:[]}];D={};B=1;for(var T=c.length,S=0,Q,M,K,R;S<T;++S){(Q=c[S])?"[object Function]"!=y.call(Q)&&k("mixin #"+S+" is not a callable constructor.",O):k("mixin #"+S+" is unknown. Did you use dojo.require to pull it in?",O);M=Q._meta?Q._meta.bases:[Q];K=0;for(Q=M.length-1;0<=Q;--Q)R=M[Q].prototype,R.hasOwnProperty("declaredClass")||(R.declaredClass="uniqName_"+z++),R=R.declaredClass,D.hasOwnProperty(R)||(D[R]={count:0,refs:[],cls:M[Q]},++B),R=D[R],K&&K!==R&&(R.refs.push(K),
++K.count),K=R;++K.count;C[0].refs.push(K)}for(;C.length;){K=C.pop();A.push(K.cls);for(--B;u=K.refs,1==u.length;){K=u[0];if(!K||--K.count){K=0;break}A.push(K.cls);--B}if(K)for(S=0,T=u.length;S<T;++S)K=u[S],--K.count||C.push(K)}B&&k("can't build consistent linearization",O);Q=c[0];A[0]=Q?Q._meta&&Q===A[A.length-Q._meta.bases.length]?Q._meta.bases.length:1:0;B=A;C=B[0];O=B.length-C;c=B[O]}else B=[0],c?"[object Function]"==y.call(c)?(C=c._meta,B=B.concat(C?C.bases:c)):k("base class is not a callable constructor.",
b):null!==c&&k("unknown base class. Did you use dojo.require to pull it in?",b);if(c)for(A=O-1;;--A){u=t(c);if(!A)break;C=B[A];(C._meta?e:x)(u,C.prototype);D=new Function;D.superclass=c;D.prototype=u;c=u.constructor=D}else u={};v.safeMixin(u,m);C=m.constructor;C!==w.constructor&&(C.nom="constructor",u.constructor=C);for(A=O-1;A;--A)(C=B[A]._meta)&&C.chains&&(J=x(J||{},C.chains));u["-chains-"]&&(J=x(J||{},u["-chains-"]));C=!J||!J.hasOwnProperty("constructor");B[0]=D=J&&"manual"===J.constructor?r(B):
1==B.length?p(m.constructor,C):n(B,C);D._meta={bases:B,hidden:m,chains:J,parents:P,ctor:m.constructor};D.superclass=c&&c.prototype;D.extend=h;D.createSubclass=l;D.prototype=u;u.constructor=D;u.getInherited=a;u.isInstanceOf=d;u.inherited=E;u.__inherited=f;b&&(u.declaredClass=b,g.setObject(b,D));if(J)for(F in J)u[F]&&"string"==typeof J[F]&&"constructor"!=F&&(C=u[F]=q(F,B,"after"===J[F]),C.nom=F);return D}var x=g.mixin,w=Object.prototype,y=w.toString,A=new Function,z=0,E=c.config.isDebug?b:f;c.safeMixin=
v.safeMixin=function(a,b){var c,d;for(c in b)d=b[c],d===w[c]&&c in w||"constructor"==c||("[object Function]"==y.call(d)&&(d.nom=c),a[c]=d);if(m("bug-for-in-skips-shadowed"))for(var e=g._extraNames,f=e.length;f;)c=e[--f],d=b[c],d===w[c]&&c in w||"constructor"==c||("[object Function]"==y.call(d)&&(d.nom=c),a[c]=d);return a};return c.declare=v});
define("dojo/_base/lang",["./kernel","../has","../sniff"],function(c,m){m.add("bug-for-in-skips-shadowed",function(){for(var a in{toString:1})return 0;return 1});var g=m("bug-for-in-skips-shadowed")?"hasOwnProperty valueOf isPrototypeOf propertyIsEnumerable toLocaleString toString constructor".split(" "):[],k=g.length,f=function(a,b,d){var e,f=0,h=c.global;if(!d)if(a.length){e=a[f++];try{d=c.scopeMap[e]&&c.scopeMap[e][1]}catch(t){}d=d||(e in h?h[e]:b?h[e]={}:void 0)}else return h;for(;d&&(e=a[f++]);)d=
e in d?d[e]:b?d[e]={}:void 0;return d},a=Object.prototype.toString,b=function(a,c,b){return(b||[]).concat(Array.prototype.slice.call(a,c||0))},d=/\{([^\}]+)\}/g,e={_extraNames:g,_mixin:function(a,c,b){var d,e,f,h={};for(d in c)e=c[d],d in a&&(a[d]===e||d in h&&h[d]===e)||(a[d]=b?b(e):e);if(m("bug-for-in-skips-shadowed")&&c)for(f=0;f<k;++f)d=g[f],e=c[d],d in a&&(a[d]===e||d in h&&h[d]===e)||(a[d]=b?b(e):e);return a},mixin:function(a,c){a||(a={});for(var b=1,d=arguments.length;b<d;b++)e._mixin(a,arguments[b]);
return a},setObject:function(a,c,b){var d=a.split(".");a=d.pop();return(b=f(d,!0,b))&&a?b[a]=c:void 0},getObject:function(a,c,b){return f(a.split("."),c,b)},exists:function(a,c){return void 0!==e.getObject(a,!1,c)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:function(a){return a&&(a instanceof Array||"array"==typeof a)},isFunction:function(c){return"[object Function]"===a.call(c)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||e.isArray(a)||
e.isFunction(a))},isArrayLike:function(a){return a&&void 0!==a&&!e.isString(a)&&!e.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(e.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!e.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))},extend:function(a,c){for(var b=1,d=arguments.length;b<d;b++)e._mixin(a.prototype,arguments[b]);return a},_hitchArgs:function(a,b){var d=e._toArray(arguments,2),f=e.isString(b);return function(){var g=e._toArray(arguments),h=f?(a||
c.global)[b]:b;return h&&h.apply(a||this,d.concat(g))}},hitch:function(a,b){if(2<arguments.length)return e._hitchArgs.apply(c,arguments);b||(b=a,a=null);if(e.isString(b)){a=a||c.global;if(!a[b])throw['lang.hitch: scope["',b,'"] is null (scope="',a,'")'].join("");return function(){return a[b].apply(a,arguments||[])}}return a?function(){return b.apply(a,arguments||[])}:b},delegate:function(){function a(){}return function(b,c){a.prototype=b;b=new a;a.prototype=null;c&&e._mixin(b,c);return b}}(),_toArray:m("ie")?
function(){function a(a,b,c){c=c||[];for(b=b||0;b<a.length;b++)c.push(a[b]);return c}return function(c){return(c.item?a:b).apply(this,arguments)}}():b,partial:function(a){return e.hitch.apply(c,[null].concat(e._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||e.isFunction(a))return a;if(a.nodeType&&"cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return new RegExp(a);var b,c,d;if(e.isArray(a))for(b=[],c=0,d=a.length;c<
d;++c)c in a&&b.push(e.clone(a[c]));else b=a.constructor?new a.constructor:{};return e._mixin(b,a,e.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,b,c){return a.replace(c||d,e.isFunction(b)?b:function(a,c){return e.getObject(c,!1,b)})}};m("extend-dojo")&&e.mixin(c,e);return e});
define("dojo/_base/kernel",["../has","./config","require","module"],function(c,m,g,k){var f,a={},b={},d={config:m,global:this,dijit:a,dojox:b},a={dojo:["dojo",d],dijit:["dijit",a],dojox:["dojox",b]};k=g.map&&g.map[k.id.match(/[^\/]+/)[0]];for(f in k)a[f]?a[f][0]=k[f]:a[f]=[k[f],{}];for(f in a)k=a[f],k[1]._scopeName=k[0],m.noGlobals||(this[k[0]]=k[1]);d.scopeMap=a;d.baseUrl=d.config.baseUrl=g.baseUrl;d.isAsync=!c("dojo-loader")||g.async;d.locale=m.locale;k="$Rev$".match(/[0-9a-f]{7,}/);d.version={major:1,
minor:9,patch:2,flag:"-pre",revision:k?k[0]:NaN,toString:function(){var a=d.version;return a.major+"."+a.minor+"."+a.patch+a.flag+" ("+a.revision+")"}};c.add("extend-dojo",1);Function("d","d.eval = function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(d);c("host-rhino")?d.exit=function(a){quit(a)}:d.exit=function(){};c.add("dojo-guarantee-console",1);if(c("dojo-guarantee-console")){"undefined"!=typeof console||(console={});var a="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" "),
e;for(k=0;e=a[k++];)console[e]||function(){var a=e+"";console[a]="log"in console?function(){var b=Array.apply({},arguments);b.unshift(a+":");console.log(b.join(" "))}:function(){};console[a]._fake=!0}()}c.add("dojo-debug-messages",!!m.isDebug);d.deprecated=d.experimental=function(){};c("dojo-debug-messages")&&(d.deprecated=function(a,b,c){a="DEPRECATED: "+a;b&&(a+=" "+b);c&&(a+=" -- will be removed in version: "+c);console.warn(a)},d.experimental=function(a,b){a="EXPERIMENTAL: "+a+" -- APIs subject to change without notice.";
b&&(a+=" "+b);console.warn(a)});c.add("dojo-modulePaths",1);if(c("dojo-modulePaths")&&m.modulePaths){d.deprecated("dojo.modulePaths","use paths configuration");k={};for(f in m.modulePaths)k[f.replace(/\./g,"/")]=m.modulePaths[f];g({paths:k})}c.add("dojo-moduleUrl",1);c("dojo-moduleUrl")&&(d.moduleUrl=function(a,b){d.deprecated("dojo.moduleUrl()","use require.toUrl","2.0");var c=null;a&&(c=g.toUrl(a.replace(/\./g,"/")+(b?"/"+b:"")+"/*.*").replace(/\/\*\.\*/,"")+(b?"":"/"));return c});d._hasResource=
{};return d});
define("delite/register","module dcl/advise dcl/dcl decor/schedule requirejs-domready/domReady ./features".split(" "),function(c,m,g,k,f,a){function b(b){!/-/.test(b)||b in w||a("builder")||console.warn("register.createElement(): undefined tag '"+b+"', did you forget requires='...' in your template?");var c=w[b]?w[b].extends:null;if(a("document-register-element"))return c?u.createElement(c,b):u.createElement(b);var d=u.createElement(c||b);c&&d.setAttribute("is",b);e(d);return d}function d(a){var b={};
do{for(var c=Object.getOwnPropertyNames(a),d=0,e;e=c[d];d++)b[e]||(b[e]=Object.getOwnPropertyDescriptor(a,e));a=Object.getPrototypeOf(a)}while(!/HTML[a-zA-Z]*Element/.test(a.constructor.toString()));return b}function e(b,c){if(!a("document-register-element")){var d=w[b.getAttribute("is")||b.nodeName.toLowerCase()];d&&(b._upgraded||(a("dom-proto-set")?b.__proto__=d.prototype:Object.defineProperties(b,d.props),b._upgraded=!0,b.createdCallback&&b.createdCallback()),c&&!b._attached&&b.attachedCallback())}}
function h(c,e,f,g){f=g.prototype;var h=w[c]={constructor:g,prototype:f};e&&(h.extends=e);a("document-register-element")?u.registerElement(c,h):a("dom-proto-set")||(h.props=d(f));f=function(a){var d=b(c),e;for(e in a||{})"style"===e?d.style.cssText=a.style:"class"!==e&&"className"!==e||!d.setClassComponent?d[e]=a[e]:d.setClassComponent("user",a[e]);d.deliver&&d.deliver();return d};f.tag=c;f._ctor=g;e=e?e+"[is='"+c+"']":c;x.push(e);v&&!a("document-register-element")&&(z&&z.disconnect(),p(u,e),r());
return f}function l(a){return a&&a._ctor||a}function n(a,b,c){b=(b instanceof Array?b:b?[b]:[]).map(l);if(a in w)throw new TypeError("A widget is already registered with tag '"+a+"'.");var d=b[0];d.prototype&&d.prototype._baseElement&&(d=d.prototype._baseElement);var e;if(d!==HTMLElement&&(e=A.filter(function(a){return y[a]===d})[0],!e))throw new TypeError(a+": must have HTMLElement in prototype chain");c=g(b,c||{});b=c.prototype;b._ctor=c;b._baseElement=d;b._tag=a;b._extends=e;m.around(b,"attachedCallback",
function(a){return function(){this._attached||(a&&a.apply(this,arguments),this._attached=!0)}});m.around(b,"detachedCallback",function(a){return function(){this._attached&&(a&&a.apply(this,arguments),this._attached=!1)}});b.introspect&&(c._propsToObserve=b.getProps(),b.introspect(c._propsToObserve),c.introspected=!0);return h(a,e,d,c)}function p(b,c){if(!a("document-register-element")&&(c=c||x.join(", "))){var d=0;for(c=(b||u).querySelectorAll(c);b=c[d++];)e(b,!0)}}function r(){a("document-register-element")||
(z||(z=a("MutationObserver")?new MutationObserver(q):{takeRecords:function(){var a=this._mutations;this._mutations=[];this._timer&&(this._timer.remove(),this._timer=null);return a},observe:function(){this._mutations=[];this._listener=function(a){if(1===a.target.nodeType){var b={};b["DOMNodeInserted"===a.type?"addedNodes":"removedNodes"]=[a.target];this._mutations.push(b)}this._timer||(this._timer=k(function(){this._timer=null;q(this.takeRecords())}.bind(this)))}.bind(this);u.body.addEventListener("DOMNodeInserted",
this._listener);u.body.addEventListener("DOMNodeRemoved",this._listener)},disconnect:function(){u.body.removeEventListener("DOMNodeInserted",this._listener);u.body.removeEventListener("DOMNodeRemoved",this._listener)}}),z.observe(u.body,{childList:!0,subtree:!0}))}function q(b){if(!a("document-register-element")&&x.length){z&&z.disconnect();var c=a("MutationObserver")||"root"===a("DOMNodeInserted");b.forEach(function(a){for(var b,d=0;b=a.addedNodes&&a.addedNodes[d++];)1===b.nodeType&&b.ownerDocument.body.contains(b)&&
(e(b,!0),c&&p(b));var f;for(b=0;f=a.removedNodes&&a.removedNodes[b++];)if(1===f.nodeType){f._upgraded&&f.detachedCallback();for(var d=0,g=f.querySelectorAll(x.join(", "));f=g[d++];)f._upgraded&&f.detachedCallback()}});r()}}function t(){a("document-register-element")||(v?q(z.takeRecords()):(p(),v=!0,r()))}var u=a("builder")?require.nodeRequire("jsdom").jsdom(""):document,v;g.mix=function(a,b){for(var c in b)try{a[c]=b[c]}catch(F){Object.defineProperty(a,c,{configurable:!0,writable:!0,enumerable:!0,
value:b[c]})}};var x=[],w={},y="undefined"!==typeof HTMLElement&&{a:HTMLAnchorElement,base:HTMLBaseElement,br:HTMLBRElement,button:HTMLButtonElement,canvas:HTMLCanvasElement,div:HTMLDivElement,dl:HTMLDListElement,directory:HTMLDirectoryElement,fieldset:HTMLFieldSetElement,font:HTMLFontElement,form:HTMLFormElement,head:HTMLHeadElement,h1:HTMLHeadingElement,html:HTMLHtmlElement,hr:HTMLHRElement,iframe:HTMLIFrameElement,img:HTMLImageElement,input:HTMLInputElement,label:HTMLLabelElement,legend:HTMLLegendElement,
li:HTMLLIElement,link:HTMLLinkElement,map:HTMLMapElement,menu:HTMLMenuElement,meta:HTMLMetaElement,ins:HTMLModElement,object:HTMLObjectElement,ol:HTMLOListElement,optgroup:HTMLOptGroupElement,option:HTMLOptionElement,p:HTMLParagraphElement,param:HTMLParamElement,pre:HTMLPreElement,quote:HTMLQuoteElement,script:HTMLScriptElement,select:HTMLSelectElement,style:HTMLStyleElement,table:HTMLTableElement,caption:HTMLTableCaptionElement,col:HTMLTableColElement,tr:HTMLTableRowElement,tbody:HTMLTableSectionElement,
textarea:HTMLTextAreaElement,title:HTMLTitleElement,ul:HTMLUListElement,video:HTMLVideoElement},A=y&&Object.keys(y),z;!a("document-register-element")&&u&&f(function(){if(!a("dom-template"))for(var b,c=0,d=u.querySelectorAll("template");b=d[c++];)if(!b.content)for(var e,f=b.content=u.createDocumentFragment();e=b.firstChild;)f.appendChild(e);t()});n.upgrade=e;n.createElement=b;n.parse=p;n.deliver=t;n.dcl=g;n.after=g.after;n.before=g.before;n.around=g.around;n.superCall=g.superCall;return n});
define("delite/Container",["dcl/dcl","./Widget"],function(c,m){return c(m,{containerNode:void 0,render:c.advise({before:function(){for(var c=this._srcDom=this.ownerDocument.createDocumentFragment(),k=this.containerNode||this;k.firstChild;)c.appendChild(k.firstChild)},after:function(){this.containerNode||(this.containerNode=this);this.containerNode.appendChild(this._srcDom)}}),appendChild:c.superCall(function(c){return function(g){if(this.rendered){var f=c.call(this.containerNode,g);this.onAddChild(g);
return f}return c.call(this,g)}}),insertBefore:c.superCall(function(c){return function(g,f){return this.rendered?(f=c.call(this.containerNode,g,f),this.onAddChild(g),f):c.call(this,g,f)}}),onAddChild:function(c){this.attached&&c.attachedCallback&&c.attachedCallback();this.emit("delite-add-child",{bubbles:!1,cancelable:!1,child:c})},addChild:function(c,k){var f=this.containerNode;f.insertBefore(c,f.children[k]||null)},removeChild:function(c){"number"===typeof c&&(c=this.getChildren()[c]);c&&c.parentNode&&
HTMLElement.prototype.removeChild.call(c.parentNode,c);this.emit("delite-remove-child",{bubbles:!1,cancelable:!1,child:c})},getChildren:function(){return Array.prototype.slice.call(this.containerNode.children)},hasChildren:function(){return 0<this.getChildren().length},getIndexOfChild:function(c){return this.getChildren().indexOf(c)}})});
define("xblox/RunScript","dojo/_base/lang dojo/on dcl/dcl delite/register delite/CustomElement xide/factory/Events xide/utils/StringUtils xide/types/Types xblox/model/Referenced xide/mixins/EventedMixin xide/mixins/ReloadMixin xwire/Binding xwire/EventSource xwire/WidgetTarget".split(" "),function(c,m,g,k,f,a,b,d,e,h,l,n,p,r,q){c={declaredClass:"xblox/RunScript",targetevent:"",sourceevent:"",sourceeventvaluepath:"",sourceeventnamepath:"",targetproperty:"",targetvariable:"",targetfilter:"",script:"",
bidirectional:!1,blockGroup:"",block:"",_targetBlock:null,_targetReference:null,_appContext:null,_complete:!1,enabled:!0,stop:!1,_events:[],context:null,accept:"",transform:"",mode:0,_2wayHandle:null,binding:null,reset:function(){this._destroyHandles();this._2wayHandle&&this._2wayHandle.remove();this.binding&&this.binding.destroy();delete this.binding;this._targetReference=this._appContext=null},onSettingsChanged:function(){this.reset();if(this.enabled)this.onAppReady(null)},getChildren:function(){return[]},
destroy:function(){this.onDestroy&&this.onDestroy();this.reset();delete this.binding;delete this.context},run:function(a,b){if(this.enabled){a={};if(this.context&&this.context.delegate){if(this.context.delegate.isDesignMode&&this.context.delegate.isDesignMode())return;this.context.delegate.getBlockSettings&&(a=this.context.delegate.getBlockSettings())}var c=this._targetBlock,d=this._targetReference;c&&d&&(c.context=d,c._targetReference=d,this.targetvariable&&this.targetvariable.length&&null!=b&&(c.override=
{variables:{}},c.override.variables[this.targetvariable]=b),c.solve(c.scope,a))}},onReady:function(){this._targetReference||this._setupTargetReference();this._targetReference&&!0===this.bidirectional&&this.sourceevent&&this.sourceevent.length&&!this.binding&&this._setup2WayBinding();if(!this._complete){this._targetReference||console.error("have no target reference");this._targetBlock||console.error("have no target block");if(this._targetReference&&this._targetBlock){if(this.targetevent){this._complete=
!0;b.mixin(this._targetReference,h.prototype);var a=this._targetReference.domNode||this._targetReference,c=this.targetevent,d=this._targetReference.declaredClass||this._targetReference.startup,e=null!=this._targetReference.on&&null!=this._targetReference["on"+b.capitalize(c)],f=null,g=null!=a.render&&null!=a.on,k=this;if(d&&this._targetReference.baseClass&&-1!=this._targetReference.baseClass.indexOf("dijitContentPane")||null!=this._targetReference.render||null!=this._targetReference.on)d=!1;a?(g||
e&&d?(a=this._targetReference,g?f=a.on(this.targetevent,function(a){this.stop&&(a.preventDefault(),a.stopImmediatePropagation());this.run(this.targetevent,a.currentTarget.value)}.bind(this)):(c="on"+b.capitalize(c),this._targetReference[c]=function(b,c){!0!==a.ignore&&k.run(k.targetevent,b)})):f=m(a,this.targetevent,function(a){this.run(this.targetevent)}.bind(this)),f&&this._events.push(f)):console.error("have no target to wire")}}else console.error("invalid params, abort",this);this.binding&&this.binding.start()}},
resolveBlock:function(a){var b=this._appContext.getDeviceManager();if(-1!==a.indexOf("://")&&b&&(a=b.getBlock(this.block)))return a},_setBlock:function(a){if((a=a||window.appContext)&&a.getBlockManager){this._appContext=a;var c=a.getBlockManager();a=a.getDeviceManager();var d=this;if(c){var e=this.block?this.block:this.getAttribute("block");if(e&&0<e.length){var f=b.parse_url(e);-1!==e.indexOf("://")?a&&(c=a.getBlock(e))&&(d._targetBlock=c,d.onReady()):c.load(f.scheme,f.host).then(function(a){if(a=
a.getBlockById(d.blockid))d._targetBlock=a,d.onReady()})}else if(this.scopeid)if(c=c.hasScope(d.scopeid))if(a=c.getBlockById(d.blockid))d._targetBlock=a,d.onReady();else{if(a=c.getVariableById(d.blockid))d._targetBlock=a,d.onReady()}else console.error("have no scope!")}}},initWithReference:function(a){1===a.nodeType&&(this._targetReference=a,this._setBlock(null))},resolveFilter:function(a,b,c){this._targetBlock&&(b=this._targetBlock.scope.expressionModel.parseVariable(this._targetBlock.scope,{value:a},
"",!1,!1,c,[b]));return b},_setup1WayBinding:function(){this._2wayHandle&&this._2wayHandle.remove();if(this._targetBlock){var a=new p({trigger:this.sourceevent,path:this.sourceeventvaluepath,filters:[{path:this.sourceeventnamepath,value:this._targetBlock.name}]}),b=new r({path:this.targetproperty,object:this._targetReference,targetFilter:this.targetfilter,delegate:this});this._findbyTagAndName("D-SCRIPT","accept");this._findbyTagAndName("D-SCRIPT","transform");this.binding=a=new n({source:a,target:b,
accept:this._findbyTagAndName("D-SCRIPT","accept"),transform:this._findbyTagAndName("D-SCRIPT","transform")});a.start()}else console.error("invalid params for one way binding")},_findbyTagAndName:function(a,b){a=$(this).find(a);for(var c=0;c<a.length;c++){var d=a[c];if($(d).attr("name")===b)return d}return null},_setup2WayBinding:function(){if(!this.binding){this._2wayHandle&&this._2wayHandle.remove();var a=new p({trigger:this.sourceevent,path:this.sourceeventvaluepath,filters:[{path:this.sourceeventnamepath,
value:this.targetvariable}]}),b=new r({path:"value",object:this._targetReference});this.binding=new n({source:a,target:b});this.binding.start()}},getEnclosingWidget:function(a){if(a){do if(1===a.nodeType&&a.render)return a;while(a=a.parentNode)}return null},_setupTargetReference:function(){for(var a=0,b=this,c=null;2>a&&!c;)b&&(b=b.parentNode,(c=this.getEnclosingWidget(b,"widgetId"))||(c=this.getEnclosingWidget(b,"widgetid"))),a++;c?this.initWithReference(c):this.domNode&&this.domNode.parentNode?
this.initWithReference(this.domNode.parentNode):this.parentNode&&this.initWithReference(this.parentNode)},onAppReady:function(a){this._targetReference||this._setupTargetReference();this._targetBlock||this._setBlock(a?a.context:null);this.mode=!0===this.bidirectional?0:1;if(0===this.mode){if(this._targetBlock&&this._targetReference&&!0===this.bidirectional&&this.sourceevent&&this.sourceevent.length&&this._setup2WayBinding(),this._targetReference&&this._targetBlock)this.onReady()}else 1===this.mode&&
this._targetBlock&&this._targetReference&&this.sourceevent&&this.sourceevent.length&&this.targetproperty&&this.targetproperty.length&&(this._setup1WayBinding(),this.binding&&this.binding.start());a&&a.context&&(this.context=a.context)},detachedCallback:function(){this._appContext&&this.destroy()},createdCallback:function(){},attachedCallback:function(){this._started||(this.initReload(),this.subscribe(d.EVENTS.ON_APP_READY),this._started=!0)},detachCallback:function(){},render:function(){},postRender:function(){},
startup:function(){this.inherited(arguments);this.onAppReady();this.initReload();this.subscribe(d.EVENTS.ON_APP_READY)}};g=g([h.dcl,l.dcl,e.dcl],c);g.Impl=c;return k("d-xscript",[HTMLElement,f,g])});define("delite/handlebars!deliteful/Button/Button.html",["delite/handlebars"],function(c){return c.compile('<template attach-point="focusNode" aria-label="{{label}}">\n\t<span attach-point="iconNode" class="d-icon {{this.iconClass || \'d-hidden\'}}" aria-hidden="true"></span><span attach-point="labelNode" d-shown="{{showLabel}}">{{label}}</span>\n</template>')});
define("deliteful/Button","dcl/dcl requirejs-dplugins/has delite/register delite/Widget requirejs-dplugins/has!bidi?./Button/bidi/Button delite/handlebars!./Button/Button.html delite/theme!./Button/themes/{{theme}}/Button.css".split(" "),function(c,m,g,k,f,a){c=c(k,{label:"",iconClass:"",baseClass:"d-button",showLabel:!0,template:a,createdCallback:function(){this.label||(this.label=this.textContent.trim(),this.innerHTML="")},refreshRendering:function(a){!("label"in a||"showLabel"in a)||this.title&&
this.title!==("label"in a?a.label:this.label)||(this.title=this.showLabel?"":this.label)}});m=g("d-button",m("bidi")?[HTMLButtonElement,c,f]:[HTMLButtonElement,c]);m.Impl=c;return m});
define("deliteful/Button/bidi/Button",["dcl/dcl","dpointer/events"],function(c){return c(null,{refreshRendering:function(c){if("textDir"in c||"label"in c)this.labelNode.textContent=this.applyTextDirection(this.label);this.title&&"textDir"in c&&(this.title=this.applyTextDirection(this.title))},postRender:function(){this.on("pointerover",this._pointerOverHandler.bind(this))},_pointerOverHandler:function(){this.title&&(this.title=this.applyTextDirection(this.title))}})});
